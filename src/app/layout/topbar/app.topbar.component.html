<div class="layout-topbar">
    <div class="logo-toggle-container">
        <button
            #menubutton
            class="p-link layout-menu-button layout-topbar-button"
            (click)="layoutService.onMenuToggle()"
        >
            <i class="pi pi-bars"></i>
        </button>
        <a class="layout-topbar-logo" routerLink="">
            <img
                src="assets/layout/images/{{
                    layoutService.config().colorScheme === 'light'
                        ? 'logo-dark'
                        : 'logo-white'
                }}.svg"
                alt="logo"
            />
            <span>2B</span>
        </a>
    </div>
    <button
        #topbarmenubutton
        class="p-link layout-topbar-menu-button layout-topbar-button"
        (click)="layoutService.showProfileSidebar()"
    >
        <i class="pi pi-ellipsis-v"></i>
    </button>

    <button
        (click)="signOut()"
        pButton
        pRipple
        type="button"
        label="Logout"
        class="flex gap-2 py-3 px-5 pi pi-sign-out p-ripple p-button-outlined"
    ></button>

    <div
        #topbarmenu
        class="layout-topbar-menu"
        [ngClass]="{
            'layout-topbar-menu-mobile-active':
                layoutService.state.profileSidebarVisible
        }"
    >
        <button class="p-link layout-topbar-button">
            <i class="pi pi-calendar"></i>
            <span>Calendar</span>
        </button>
        <button class="p-link layout-topbar-button">
            <i class="pi pi-user"></i>
            <span>Profile</span>
        </button>
        <button
            class="p-link layout-topbar-button"
            [routerLink]="'/documentation'"
        >
            <i class="pi pi-cog"></i>
            <span>Settings</span>
        </button>
        <div class="col-3">
            <div class="checkbox-wrapper-54">
                <label class="switch">
                    <input
                        type="checkbox"
                        (click)="changeThemeFun()"
                        [(ngModel)]="themeSelected"
                    />
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>
    <div class="card flex justify-content-center">
        <div class="lang-container card flex justify-content-center">
            <p-dropdown
                [options]="countries"
                [(ngModel)]="selectedCountry"
                optionLabel="name"
                (onChange)="changeLang($event)"
                [showClear]="false"
            >
                <ng-template pTemplate="selectedItem">
                    <div
                        class="flex align-items-center gap-2"
                        *ngIf="selectedCountry"
                    >
                        <img
                            src="assets/demo/images/flag/flag_placeholder.png"
                            [class]="
                                'flag flag-' +
                                selectedCountry.code.toLowerCase()
                            "
                            style="width: 18px"
                        />
                        <div>{{ selectedCountry.name }}</div>
                    </div>
                </ng-template>
                <ng-template let-country pTemplate="item">
                    <div class="flex align-items-center gap-2">
                        <img
                            src="assets/demo/images/flag/flag_placeholder.png"
                            [class]="'flag flag-' + country.code.toLowerCase()"
                            style="width: 18px"
                        />
                        <div>{{ country.name }}</div>
                    </div>
                </ng-template>
            </p-dropdown>
        </div>
    </div>
</div>
