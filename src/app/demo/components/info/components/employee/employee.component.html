<p-toast />
<pre-loading *ngIf="loading"></pre-loading>

<form [formGroup]="registerForm">
    <div class="grid">
        <div class="col-12">
            <div class="card">
                <h5>{{ "Add New Employee" | translate }}</h5>
                <div class="p-fluid p-formgrid grid">
                    <div class="field col-12 md:col-12">
                        <p-fileUpload (onSelect)="onSelect($event)" (onUpload)="onUpload($event)" formControlName="File"
                            [multiple]="false" [chooseLabel]="'Insert Personal Image' | translate" accept="image/*"
                            maxFileSize="1000000">
                            <ng-template pTemplate="content">
                                <ul *ngIf="uploadedFiles.length">
                                    <li *ngFor="let file of uploadedFiles">
                                        {{ file.name }} - {{ file.size }} bytes
                                    </li>
                                </ul>
                            </ng-template>
                        </p-fileUpload>
                    </div>

                    <div class="field col-12 md:col-4 required-field">
                        <label for="NameAr">{{ "Full Name with Arabic" | translate }}
                            <app-required-field></app-required-field> </label>
                        <input pInputText formControlName="NameAr" id="NameAr"
                            [placeholder]="'Enter Arabic Name' | translate" />

                    </div>

                    <div class="field col-12 md:col-4 required-field">
                        <label for="EnglishName">{{ "Full Name with English" | translate }}
                            <app-required-field></app-required-field> </label>
                        <input pInputText formControlName="EnglishName" id="EnglishName" type="text"
                            [placeholder]="'Enter English Name' | translate" />
                    </div>

                    <div class="field col-12 md:col-4 required-field">
                        <label for="NationalId">{{ "National Id" | translate }}
                            <app-required-field></app-required-field> </label>
                        <input pInputText formControlName="NationalId" id="NationalId" type="text"
                            [placeholder]="'Enter National Id' | translate" />
                    </div>

                    <div class="field col-12 md:col-8 required-field">
                        <label for="Address">{{ "Address" | translate }}
                            <app-required-field></app-required-field></label>
                        <input pInputTextarea formControlName="Address" id="Address" rows="4"
                            [placeholder]="'Enter Address' | translate" />
                    </div>

                    <div class="field col-12 md:col-4 required-field">
                        <label for="GovernmentId">{{ "Government" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-dropdown formControlName="GovernmentId" [options]="dropdownItemsGovernment"
                            optionLabel="name" optionValue="id" [filter]="true" [showClear]="true" [filterBy]="'name'"
                            [placeholder]="'Select Government' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Phone">{{ "Phone" | translate }} <app-required-field></app-required-field></label>
                        <input pInputText formControlName="Phone" id="Phone" rows="4"
                            [placeholder]="'Select Phone' | translate" />
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Email">{{ "Email" | translate }} <app-required-field></app-required-field></label>
                        <input pInputText formControlName="Email" id="Email" rows="4"
                            [placeholder]="'Select Email' | translate" />
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="BirthDate">{{ "BirthDate" | translate }} <app-required-field></app-required-field>
                        </label>
                        <p-calendar [showIcon]="true" [iconDisplay]="'input'" formControlName="BirthDate"
                            inputId="BirthDate" [placeholder]="'Select BirthDate' | translate"></p-calendar>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="Religion">{{ "Religion" | translate }} </label>
                        <p-dropdown formControlName="Religion" [options]="dropdownItemsReligin" optionLabel="name"
                            optionValue="id" [placeholder]="'Select Religion' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="MaritalStatus">{{ "Marital Status" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-dropdown formControlName="MaritalStatus" [options]="dropdownItemsMaritalStatus"
                            optionLabel="name" optionValue="id" [filter]="true" [showClear]="true" [filterBy]="'name'"
                            [placeholder]="'Select Marital Status' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="BloodTypes">{{ "Blood Types" | translate }}</label>
                        <p-dropdown formControlName="BloodTypes" [options]="dropdownItemsBloodTypes" [filter]="true"
                            [showClear]="true" [filterBy]="'name'" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Blood Types' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Gender">{{ "Gender" | translate }} <app-required-field></app-required-field></label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="Gender"
                            [options]="dropdownItemsGender" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Gender' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Qualification">{{ "Qualification" | translate }}
                            <app-required-field></app-required-field> </label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'"
                            formControlName="QualificationId" [options]="dropdownItemsQualification" optionLabel="name"
                            optionValue="id" [placeholder]="'Select Qualification' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="AttendanceConfiguration">{{ "Attendance Configuration" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'"
                            formControlName="AttendanceConfigurationId" [options]="dropdownItemsAttendanceConfiguration"
                            optionLabel="name" optionValue="id"
                            [placeholder]="'Select Attendance Configuration' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Job">{{ "Job" | translate }} <app-required-field></app-required-field></label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="JobId"
                            [options]="dropdownItemsJob" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Job' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="DepartmentId">{{ "Department" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'"
                            formControlName="DepartmentId" [options]="dropdownItemsDepartment" optionLabel="name"
                            optionValue="id" [placeholder]="'Select Department' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="PartationId">{{ "Partition" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="PartationId"
                            [options]="dropdownItemsPartition" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Partition' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="Shift">{{ "Shift" | translate }} <app-required-field></app-required-field> </label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="ShiftId"
                            [options]="dropdownItemsShift" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Shift' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="Bank">{{ "Bank" | translate }}</label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="BankId"
                            [options]="dropdownItemsBank" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Bank' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="Grade">{{ "Grade" | translate }}</label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="GradeId"
                            [options]="dropdownItemsGrade" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Grade' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="JobNatureId">{{ "Job Nature" | translate }}</label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'" formControlName="JobNatureId"
                            [options]="dropdownItemsJobNature" optionLabel="name" optionValue="id"
                            [placeholder]="'Select Job Nature' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 flex gap-3 align-items-center">
                        <p-inputSwitch formControlName="IsInsured" />
                        <label for="IsInsured">{{ "Is Insured" | translate }}</label>
                    </div>

                    <div class="field col-12 md:col-3 flex gap-3 align-items-center">
                        <p-inputSwitch formControlName="Ismanger" />
                        <label for="Ismanger">{{ "Is Manager" | translate }}</label>
                    </div>

                    <div class="field col-12 md:col-3 flex gap-3 align-items-center">
                        <p-inputSwitch formControlName="StaticShift" />
                        <label for="IsStaticShift">{{ "Is Static Shift" | translate }}</label>
                    </div>

                    <div class="field col-12 md:col-3 flex gap-3 align-items-center">
                        <p-inputSwitch formControlName="StaticVacation" />
                        <label for="IsStaticVacation">{{ "Is Static Vacation" | translate }}</label>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="MachineCode">{{ "Machine Code" | translate }}</label>
                        <input formControlName="MachineCode" pInputText id="MachineCode" type="text"
                            [placeholder]="'Select Machine Code' | translate" />
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="RecuritmentSourceId">{{ "Recuritment Source" | translate }}</label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'"
                            formControlName="RecuritmentSourceId" [options]="dropdownItemsRecuritmentSource"
                            optionLabel="name" optionValue="id"
                            [placeholder]="'Select Recuritment Source' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="ContractTypeId">{{ "Contract Type" | translate }}</label>
                        <p-dropdown [filter]="true" [showClear]="true" [filterBy]="'name'"
                            formControlName="ContractTypeId" [options]="dropdownItemsContractType" optionLabel="name"
                            optionValue="id" [placeholder]="'Select Contract Type' | translate"></p-dropdown>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="JoiningDate">{{ "Join In Date" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-calendar formControlName="JoiningDate" [iconDisplay]="'input'" [showIcon]="true"
                            inputId="JoiningDate" [placeholder]="'Join In Date' | translate"></p-calendar>
                    </div>

                    <div class="field col-12 md:col-3 required-field">
                        <label for="HiringDate">{{ "Contract Start Date" | translate }}
                            <app-required-field></app-required-field></label>
                        <p-calendar formControlName="HiringDate" [iconDisplay]="'input'" [showIcon]="true"
                            inputId="HiringDate" [placeholder]="'Contract Start Date' | translate"></p-calendar>
                    </div>

                    <div class="field col-12 md:col-3">
                        <label for="ResignationDate">{{ "Contract End Date" | translate }}</label>
                        <p-calendar formControlName="ResignationDate" [iconDisplay]="'input'" [showIcon]="true"
                            inputId="ResignationDate" [placeholder]="'Contract End Date' | translate"></p-calendar>
                    </div>

                    <div class="field col-12 md:col-6">
                        <label for="Discription">{{ "Description" | translate }}</label>
                        <input formControlName="Discription" pInputTextarea id="Discription" rows="4"
                            [placeholder]="'Enter Description' | translate" />
                    </div>

                    <div class="field">
                        <input type="hidden" formControlName="DeleteImage" />
                    </div>

                    <div class="field col-12 md:col-2 py-5">
                        <button (click)="registerSubmit(registerForm)" [disabled]="!registerForm.valid" type="submit"
                            pButton value="Register" class="flex justify-content-center">
                            {{ "Register" | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>