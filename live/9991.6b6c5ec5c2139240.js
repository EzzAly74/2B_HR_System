"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[9991],{7204:(rn,De,x)=>{x.d(De,{j:()=>i});var m=x(8109);let i=(()=>{class u{transform(T){return["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"][T]}static#e=this.\u0275fac=function(y){return new(y||u)};static#t=this.\u0275pipe=m.Yjl({name:"dayName",type:u,pure:!0,standalone:!0})}return u})()},1106:(rn,De,x)=>{x.d(De,{R:()=>Gt});var m=x(553),i=x(6814),u=x(6223),q=x(5219),T=x(3999),y=x(6997),R=x(9397),e=x(7398),v=x(6107),D=x(9432),c=x(8109),P=x(4175),f=x(9862);let k=(()=>{class J extends P.P{constructor(Z){super(Z)}getEnum(Z){return this.http.get(`${this.baseurl}/Enums/${Z}/?culture=${this.culture}`)}getDropdownField(Z){return this.http.get(`${this.baseurl}/${Z}/getDropDown/?culture=${this.culture}`)}updateEmployeeImage(Z){return this.http.post(`${this.baseurl}/Employee/UpdatEmployeeImage`,Z)}static#e=this.\u0275fac=function(M){return new(M||J)(c.LFG(f.eN))};static#t=this.\u0275prov=c.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();var g=x(258),F=x(8372),w=x(4509),L=x(4480),N=x(3722),I=x(707),O=x(3530),ae=x(4104),U=x(3714),Ft=x(3965),Lt=x(1230),Jt=x(6760),Ut=x(5609),St=x(3904);const kt=["dt"],Ot=["manageItems"];function pe(J,E){1&J&&c._UZ(0,"pre-loading")}function Et(J,E){1&J&&(c._uU(0),c.ALo(1,"translate")),2&J&&c.hij(" ",c.lcZ(1,1,E.$implicit.name)," ")}function Rt(J,E){if(1&J&&(c._uU(0),c.ALo(1,"translate"),c.ALo(2,"translate")),2&J){const Z=E.$implicit;c.hij(" ",Z?c.lcZ(1,1,Z.name):c.lcZ(2,3,"Select Action")," ")}}function Qt(J,E){1&J&&(c.TgZ(0,"div",88)(1,"div",12),c._UZ(2,"router-outlet"),c.qZA()())}function jt(J,E){if(1&J){const Z=c.EpF();c.TgZ(0,"div",89)(1,"div",90),c._UZ(2,"img",91),c.qZA(),c.TgZ(3,"button",92),c.NdJ("click",function(){c.CHM(Z);const _=c.oxw();return c.KtG(_.showUploadImgDialg())}),c.qZA(),c.TgZ(4,"button",93),c.NdJ("click",function(_){c.CHM(Z);const A=c.oxw();return c.KtG(A.confirmDeleteImage(_))}),c.qZA()()}if(2&J){const Z=c.oxw();c.xp6(2),c.Q6J("src",Z.imageUrl,c.LSH)}}function Vt(J,E){if(1&J){const Z=c.EpF();c.TgZ(0,"div",89)(1,"div",94),c.O4$(),c.TgZ(2,"svg",95),c._UZ(3,"path",96)(4,"circle",97),c.qZA()(),c.kcU(),c.TgZ(5,"button",98),c.NdJ("click",function(){c.CHM(Z);const _=c.oxw();return c.KtG(_.showUploadImgDialg())}),c.qZA()()}}function Ie(J,E){if(1&J){const Z=c.EpF();c.TgZ(0,"div",99)(1,"p-fileUpload",100,101),c.NdJ("onSelect",function(_){c.CHM(Z);const A=c.MAs(2),b=c.oxw();return c.KtG(b.onFileSelect(_,A))}),c.ALo(3,"translate"),c.qZA()()}2&J&&(c.xp6(1),c.Q6J("chooseLabel",c.lcZ(3,2,"Import File"))("auto",!0))}function Kt(J,E){if(1&J){const Z=c.EpF();c.TgZ(0,"button",102),c.NdJ("click",function(){c.CHM(Z);const _=c.oxw();return c.KtG(_.hideDialog())}),c.ALo(1,"translate"),c.qZA(),c.TgZ(2,"button",103),c.NdJ("click",function(){c.CHM(Z);const _=c.oxw();return c.KtG(_.updateImage())}),c.ALo(3,"translate"),c.qZA()}2&J&&(c.Q6J("label",c.lcZ(1,2,"Cancel")),c.xp6(2),c.Q6J("label",c.lcZ(3,4,"Save")))}const G=()=>({width:"450px"});let Gt=(()=>{class J{constructor(Z,M,_,A,b,Ht,Yt,de){this.employeeEditService=Z,this.messageService=M,this.DatePipe=_,this.router=A,this.route=b,this.activatedRoute=Ht,this.translate=Yt,this.confirmationService=de,this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedStaticShift=!1,this.selectedStaticVacation=!1,this.selectedDepartment=null,this.selectedBloodType=null,this.selectedAttendanceConfiguration=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.baseImgUrl=m.N.mediaUrl,this.editForm=new u.cw({BirthDate:new u.NI(null,u.kI.required),BloodTypes:new u.NI(null),DepartmentId:new u.NI(null,u.kI.required),Gender:new u.NI(null,u.kI.required),GovernmentId:new u.NI(null,u.kI.required),HiringDate:new u.NI(null,u.kI.required),JobId:new u.NI(null,u.kI.required),JoiningDate:new u.NI(null,u.kI.required),MaritalStatus:new u.NI(null,u.kI.required),PartationId:new u.NI(null,u.kI.required),QualificationId:new u.NI(null,u.kI.required),ShiftId:new u.NI(null,u.kI.required),ResignationDate:new u.NI(null),Ismanger:new u.NI(!1),IsInsured:new u.NI(!1),Religion:new u.NI(null),BankId:new u.NI(null),GradeId:new u.NI(null),JobNatureId:new u.NI(null),RecuritmentSourceId:new u.NI(null),ContractTypeId:new u.NI(null),Address:new u.NI(null,u.kI.required),Discription:new u.NI(null),Email:new u.NI(null),EnglishName:new u.NI(null),NameAr:new u.NI(null,u.kI.required),MachineCode:new u.NI(null),NationalId:new u.NI(null,u.kI.required),Phone:new u.NI(null,u.kI.required),StaticShift:new u.NI(!1),StaticVacation:new u.NI(!1),AttendanceConfigurationId:new u.NI(null,u.kI.required)}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="Employee",y.O.getMainLangChanges().subscribe(M=>{console.log("Main language changed to:",M),this.translate.use(M),this.employeeEditService.setCulture(M),this.Actions=[{id:1,name:"Employee Certificates",action:"EmployeeCertification"},{id:2,name:this.translate.instant("Employee Course"),action:"EmployeeCourse"},{id:3,name:this.translate.instant("Employee Covenent"),action:"EmployeeCovenant"},{id:4,name:this.translate.instant("Employee Experience"),action:"EmployeeExperience"},{id:5,name:this.translate.instant("Employee Family"),action:"EmployeeFamily"},{id:6,name:this.translate.instant("Employee File"),action:"EmployeeFile"},{id:7,name:this.translate.instant("Employee Location"),action:"EmployeeLocation"},{id:8,name:this.translate.instant("Employee Manager"),action:"EmployeeManager"},{id:9,name:this.translate.instant("Employee Salary"),action:"EmployeeSalary"},{id:10,name:this.translate.instant("Employee Uniform"),action:"EmployeeUniform"},{id:11,name:this.translate.instant("Employee Vacation Stock"),action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"}],this.employeeEditService.setEndPoint(this.endPoint),this.getDropDownsData()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownsData(),this.loading=!0,this.getData().pipe((0,R.b)(M=>{this.allData=M.data,this.patchFormValues(this.allData,Z),console.log("Data fetched:",this.allData)}),(0,e.U)(M=>({birthDate:this.DatePipe.transform(M.data.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(M.data.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(M.data.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(M.data.resignationDate,"MM/dd/yyyy")}))).subscribe({next:M=>{console.log("transformedDates"),console.log(M),this.patchFormValues(this.allData,M),this.loading=!1},error:()=>{this.loading=!1}});const Z={birthDate:this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(this.allData.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(this.allData.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy")};this.patchFormValues(this.allData,Z),this.Actions=[{id:1,name:"Employee Certificates",action:"EmployeeCertification"},{id:2,name:"Employee Course",action:"EmployeeCourse"},{id:3,name:"Employee Covenent",action:"EmployeeCovenant"},{id:4,name:"Employee Experience",action:"EmployeeExperience"},{id:5,name:"Employee Family",action:"EmployeeFamily"},{id:6,name:"Employee File",action:"EmployeeFile"},{id:7,name:"Employee Location",action:"EmployeeLocation"},{id:8,name:"Employee Manager",action:"EmployeeManager"},{id:9,name:"Employee Salary",action:"EmployeeSalary"},{id:10,name:"Employee Uniform",action:"EmployeeUniform"},{id:11,name:"Employee Vacation Stock",action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"}],console.log("this.allData"),console.log(this.allData)}getObject(Z,M){if(console.log("getObject - dropdown =>",M),M)return M.find(_=>_.id==Z)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}ngOnChanges(Z){Z.selectedAction&&(console.clear(),console.log("selectedAction changed:",this.selectedAction))}patchFormValues(Z,M){console.log("data => ",Z),Z.imageUrl&&(this.imageUrl=`${this.baseImgUrl}/${Z.imageUrl}`),this.selectedReligin=this.getObject(Z.religion,this.dropdownItemsReligin),console.log("this.selectedReligin : ",this.selectedReligin),this.selectedGovernment=this.getObject(Z.governmentId,this.dropdownItemsGovernment),console.log("this.selectedGovernment : ",this.selectedGovernment),this.selectedMaritalStatus=this.getObject(Z.maritalStatus,this.dropdownItemsMaritalStatus),console.log("this.selectedMaritalStatus : ",this.selectedMaritalStatus),this.selectedBloodType=this.getObject(Z.bloodTypes,this.dropdownItemsBloodTypes),console.log("this.selectedBloodType : ",this.selectedBloodType),this.selectedGender=this.getObject(Z.gender,this.dropdownItemsGender),console.log("this.selectedGender : ",this.selectedGender),this.selectedQualification=this.getObject(Z.qualificationId,this.dropdownItemsQualification),console.log("this.selectedQualification : ",this.selectedQualification),this.selectedAttendanceConfiguration=this.getObject(Z.attendanceConfigurationId,this.dropdownItemsAttendanceConfiguration),console.log("this.selectedAttendanceConfiguration : ",this.selectedAttendanceConfiguration),this.selectedJob=this.getObject(Z.jobId,this.dropdownItemsJob),console.log("this.selectedJob : ",this.selectedJob),this.selectedDepartment=this.getObject(Z.departmentId,this.dropdownItemsDepartment),console.log("this.selectedDepartment : ",this.selectedDepartment),this.selectedPartitions=this.getObject(Z.partationId,this.dropdownItemsPartition),console.log("this.selectedPartitions : ",this.selectedPartitions),this.selectedShift=this.getObject(Z.shiftId,this.dropdownItemsShift),console.log("this.selectedShift : ",this.selectedShift),this.selectedBank=this.getObject(Z.bankId,this.dropdownItemsBank),console.log("this.selectedBank : ",this.selectedBank),this.selectedGrade=this.getObject(Z.gradeId,this.dropdownItemsGrade),console.log("this.selectedGrade : ",this.selectedGrade),this.selectedjobNature=this.getObject(Z.jobNatureId,this.dropdownItemsJobNature),console.log("this.selectedjobNature : ",this.selectedjobNature),this.selectedIsInsured=Z.isInsured,this.selectedIsManager=Z.ismanger,this.selectedStaticShift=Z.staticShift,this.selectedStaticVacation=Z.staticVacation,this.selectedRecuritmentSource=this.getObject(Z.recuritmentSourceId,this.dropdownItemsRecuritmentSource),console.log("this.selectedRecuritmentSource : ",this.selectedRecuritmentSource),this.selectedContactType=this.getObject(Z.contractTypeId,this.dropdownItemsContractType),console.log("this.selectedContactType : ",this.selectedContactType),this.birthDate=M.birthDate,this.joiningDate=M.joiningDate,this.hiringDate=M.hiringDate,this.resignationDate=M.resignationDate,this.address=Z.address,this.nameAr=Z.nameAr,this.englishName=Z.englishName,this.discription=Z.discription,this.nationalId=Z.nationalId,this.phone=Z.phone,this.machineCode=Z.machineCode,this.email=Z.email,this.getData().subscribe({next:_=>{this.allData=_.data,this.loading=!1,this.patchFormValues(this.allData)},error:_=>{this.loading=!1}})}getDropDownEnum(Z){this.employeeEditService.getEnum(Z.enum).subscribe({next:M=>{this[Z.field]=M.data,this.loading=!1},error:M=>{this.loading=!1,console.log(`error in ${Z.field}`),console.log(M)}})}getDropDownField(Z){this.employeeEditService.getDropdownField(Z.enum).subscribe({next:M=>{this[Z.field]=M.data,this.loading=!1},error:M=>{this.loading=!1,console.log(`error in ${Z.field}`),console.log(M)}})}mapToFormData(Z){const M=new FormData;for(const _ in Z)Z.hasOwnProperty(_)&&M.append(_,Z[_]);return M}submitForm(Z){Z.patchValue({BloodTypes:this.selectedBloodType?.id,GovernmentId:this.selectedGovernment?.id,QualificationId:this.selectedQualification?.id,AttendanceConfigurationId:this.selectedAttendanceConfiguration?.id,Gender:this.selectedGender?.id,MaritalStatus:this.selectedMaritalStatus?.id,JobId:this.selectedJob?.id,JobNatureId:this.selectedjobNature?.id,DepartmentId:this.selectedDepartment?.id,PartationId:this.selectedPartitions?.id,ShiftId:this.selectedShift?.id,BankId:this.selectedBank?.id,GradeId:this.selectedGrade?.id,ContractTypeId:this.selectedContactType?.id,RecuritmentSourceId:this.selectedRecuritmentSource?.id,Religion:this.selectedReligin?.id,JoiningDate:this.DatePipe.transform(this.editForm.get("JoiningDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(this.editForm.get("BirthDate").value,"yyyy-MM-dd"),HiringDate:this.DatePipe.transform(this.editForm.get("HiringDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(this.editForm.get("ResignationDate").value,"yyyy-MM-dd")}),console.log(Z.value),this.loading=!0;const M={...Z.value,Id:this.currentId},_=this.mapToFormData(M);this.employeeEditService.Edit(_).subscribe({next:A=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(A),this.loading=!1,this.birthDate=this.DatePipe.transform(this.editForm.get("BirthDate").value,"MM/dd/yyyy"),this.selectedReligin=this.getObject(this.editForm.get("Religion").value,this.dropdownItemsReligin),this.selectedGovernment=this.getObject(this.editForm.get("GovernmentId").value,this.dropdownItemsGovernment),this.selectedMaritalStatus=this.getObject(this.editForm.get("MaritalStatus").value,this.dropdownItemsMaritalStatus),this.selectedBloodType=this.getObject(this.editForm.get("BloodTypes").value,this.dropdownItemsBloodTypes),this.selectedGender=this.getObject(this.editForm.get("Gender").value,this.dropdownItemsGender),this.selectedQualification=this.getObject(this.editForm.get("QualificationId").value,this.dropdownItemsQualification),this.selectedJob=this.getObject(this.editForm.get("JobId").value,this.dropdownItemsJob),this.selectedDepartment=this.getObject(this.editForm.get("DepartmentId").value,this.dropdownItemsDepartment),this.selectedPartitions=this.getObject(this.editForm.get("PartationId").value,this.dropdownItemsPartition),this.selectedShift=this.getObject(this.editForm.get("ShiftId").value,this.dropdownItemsShift),this.selectedBank=this.getObject(this.editForm.get("BankId").value,this.dropdownItemsBank),this.selectedGrade=this.getObject(this.editForm.get("GradeId").value,this.dropdownItemsGrade),this.selectedjobNature=this.getObject(this.editForm.get("JobNatureId").value,this.dropdownItemsJobNature),this.selectedAttendanceConfiguration=this.getObject(this.editForm.get("AttendanceConfigurationId").value,this.dropdownItemsAttendanceConfiguration),this.selectedIsInsured=this.selectedIsInsured,this.selectedIsManager=this.selectedIsManager,this.selectedStaticShift=this.selectedStaticShift,this.selectedStaticVacation=this.selectedStaticVacation,this.selectedRecuritmentSource=this.getObject(this.editForm.get("RecuritmentSourceId").value,this.dropdownItemsRecuritmentSource),this.selectedContactType=this.getObject(this.editForm.get("ContractTypeId").value,this.dropdownItemsContractType),this.joiningDate=this.DatePipe.transform(this.editForm.get("JoiningDate").value,"MM/dd/yyyy"),this.hiringDate=this.DatePipe.transform(this.editForm.get("HiringDate").value,"MM/dd/yyyy"),this.resignationDate=this.DatePipe.transform(this.editForm.get("ResignationDate").value,"MM/dd/yyyy"),this.address=this.address,this.nameAr=this.nameAr,this.englishName=this.englishName,this.discription=this.discription,this.nationalId=this.nationalId,this.phone=this.phone,this.machineCode=this.machineCode,this.email=this.email},error:A=>{console.log(A),this.loading=!1}}),console.log(Z.value)}onGovernmentChange(Z){console.log(Z)}getData(){return this.employeeEditService.GetById(this.currentId).subscribe({next:Z=>{this.allData=Z.data,this.loading=!1,this.patchFormValues(this.allData)},error:()=>{this.loading=!1}}),this.employeeEditService.GetById(this.currentId)}getDropDownsData(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),console.log("dropdownItemsGrade : ",this.dropdownItemsGrade),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"})}onSelect(Z){console.log(Z),this.file=Z.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}updateImage(){let Z={EmployeeId:this.currentId,File:this.file,DeleteImage:!!this.file},M=new FormData;for(const _ in Z)Z.hasOwnProperty(_)&&M.append(_,Z[_]);this.employeeEditService.updateEmployeeImage(M).subscribe({next:_=>{console.log(_),this.messageService.add({severity:"success",summary:"Successfull",detail:"Image Updated Sucessfully"}),this.uploadImageDialog=!1,this.file=null,this.loading=!1,this.getData().pipe((0,R.b)(A=>{this.allData=A.data,console.log("Data fetched:",this.allData),this.patchFormValues(this.allData)}),(0,e.U)(A=>({birthDate:this.DatePipe.transform(A.data.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(A.data.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(A.data.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(A.data.resignationDate,"MM/dd/yyyy")}))).subscribe(A=>{console.log("transformedDates"),console.log(A),this.patchFormValues(this.allData,A)})},error:_=>{console.log(_),this.loading=!1}})}confirmDeleteImage(Z){this.confirmationService.confirm({target:Z.target,message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{let M={EmployeeId:this.currentId,DeleteImage:!0},_=new FormData;for(const A in M)M.hasOwnProperty(A)&&_.append(A,M[A]);this.employeeEditService.updateEmployeeImage(_).subscribe({next:A=>{console.log(A),this.uploadImageDialog=!1,this.imageUrl=""},error:A=>{console.log(A)}})}})}static#e=this.\u0275fac=function(M){return new(M||J)(c.Y36(k),c.Y36(q.ez),c.Y36(i.uU),c.Y36(g.F0),c.Y36(g.gz),c.Y36(g.gz),c.Y36(T.sK),c.Y36(q.YP))};static#t=this.\u0275cmp=c.Xpm({type:J,selectors:[["app-employee-edit"]],viewQuery:function(M,_){if(1&M&&(c.Gf(kt,5),c.Gf(Ot,5)),2&M){let A;c.iGM(A=c.CRH())&&(_.dt=A.first),c.iGM(A=c.CRH())&&(_.manageItems=A.first)}},inputs:{endPoint:"endPoint",selectedAction:"selectedAction"},standalone:!0,features:[c._Bn([q.ez,i.uU,T.sK,q.YP]),c.TTD,c.jDz],decls:208,vars:224,consts:[[4,"ngIf"],[1,"grid"],[1,"col-12","my-5"],[1,"card","grid","justify-content-center"],[1,"col-12","text-center"],[1,"field","col-12"],["optionLabel","name",3,"options","ngModel","showClear","onChange","ngModelChange"],["pTemplate","item"],["pTemplate","selectedItem"],["class","card my-2",4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],["class","field field-img col-12",4,"ngIf"],[1,"field","required-field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","NameAr",3,"ngModel","ngModelChange"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","EnglishName",3,"ngModel","ngModelChange"],["htmlFor","nationalId"],["pInputText","","id","nationalId","formControlName","NationalId",3,"ngModel","ngModelChange"],["htmlFor","phone"],["pInputText","","id","phone","formControlName","Phone",3,"ngModel","ngModelChange"],["htmlFor","email"],["pInputText","","id","email","formControlName","Email",3,"ngModel","ngModelChange"],["htmlFor","address"],["pInputText","","id","address","formControlName","Address",3,"ngModel","ngModelChange"],["htmlFor","government"],["optionLabel","name","formControlName","GovernmentId",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","BirthDate"],["inputId","BirthDate","formControlName","BirthDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","Religin"],["formControlName","Religion","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","maritalStatus"],["formControlName","MaritalStatus","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Blood"],["formControlName","BloodTypes","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","gender"],["formControlName","Gender","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Qualification"],["formControlName","QualificationId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Attendance Configuration"],["formControlName","AttendanceConfigurationId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Job"],["formControlName","JobId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","department"],["formControlName","DepartmentId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Partition"],["formControlName","PartationId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Shift"],["formControlName","ShiftId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Bank"],["formControlName","BankId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","Grade"],["formControlName","GradeId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","jobNature"],["formControlName","JobNatureId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],[1,"field","col-12","md:col-4","flex","gap-3","align-items-center"],["formControlName","IsInsured",3,"ngModel","ngModelChange"],["htmlFor","isInsured"],["formControlName","Ismanger",3,"ngModel","ngModelChange"],["htmlFor","ismanger"],["formControlName","StaticShift",3,"ngModel","ngModelChange"],["htmlFor","StaticShift"],["formControlName","StaticVacation",3,"ngModel","ngModelChange"],["htmlFor","StaticVacation"],["htmlFor","recuritmentSource"],["formControlName","RecuritmentSourceId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","machineCode"],["pInputText","","id","machineCode","formControlName","MachineCode",3,"ngModel","ngModelChange"],["htmlFor","ContractType"],["formControlName","ContractTypeId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","ngModelChange"],["htmlFor","JoininDate"],["inputId","JoininDate","formControlName","JoiningDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","HiringDate"],["inputId","HiringDate","formControlName","HiringDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","ResignationDate"],["inputId","ResignationDate","formControlName","ResignationDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit",3,"disabled"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[1,"card","my-2"],[1,"field","field-img","col-12"],[1,"img-container"],["alt","Employee Image",3,"src"],["pButton","","pRipple","","type","button","title","edit image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],["pButton","","pRipple","","type","button","title","delete image","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-outlined","btn-edit",3,"click"],[1,"img-container-no-image"],["width","80","height","80","viewBox","0 0 56 56","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M47.1732 45.0045C47.7628 44.8816 48.113 44.2678 47.8707 43.7164C46.5356 40.679 44.0748 38.0063 40.7839 36.0422C37.1164 33.8534 32.6227 32.667 27.9999 32.667C23.3771 32.667 18.8834 33.8534 15.2159 36.0422C11.925 38.0063 9.46423 40.679 8.12912 43.7164C7.88677 44.2678 8.23698 44.8816 8.8266 45.0045L19.839 47.2996C25.2218 48.4214 30.778 48.4214 36.1608 47.2996L47.1732 45.0045Z","fill","#C4C4C5"],["cx","28","cy","18.6667","r","11.6667","fill","#C4C4C5"],["pButton","","pRipple","","type","button","title","Add an image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(M,_){1&M&&(c._UZ(0,"p-toast"),c.YNc(1,pe,1,0,"pre-loading",0),c._UZ(2,"p-confirmDialog"),c.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"p"),c._uU(8),c.ALo(9,"translate"),c.qZA()(),c.TgZ(10,"div",5)(11,"p-dropdown",6),c.NdJ("onChange",function(){return _.changeTab()})("ngModelChange",function(b){return _.selectedAction=b}),c.YNc(12,Et,2,3,"ng-template",7)(13,Rt,3,5,"ng-template",8),c.qZA()()(),c.YNc(14,Qt,3,0,"div",9),c.qZA()(),c.TgZ(15,"p-panel",10),c.ALo(16,"translate"),c.TgZ(17,"form",11),c.NdJ("submit",function(){return _.submitForm(_.editForm)}),c.TgZ(18,"div",1)(19,"div",12)(20,"div",13)(21,"div",14),c.YNc(22,jt,5,1,"div",15)(23,Vt,6,0,"div",15),c.TgZ(24,"div",16)(25,"label",17),c._uU(26),c.ALo(27,"translate"),c._UZ(28,"app-required-field"),c.qZA(),c.TgZ(29,"input",18),c.NdJ("ngModelChange",function(b){return _.nameAr=b}),c.qZA()(),c.TgZ(30,"div",16)(31,"label",19),c._uU(32),c.ALo(33,"translate"),c._UZ(34,"app-required-field"),c.qZA(),c.TgZ(35,"input",20),c.NdJ("ngModelChange",function(b){return _.englishName=b}),c.qZA()(),c.TgZ(36,"div",16)(37,"label",21),c._uU(38),c.ALo(39,"translate"),c._UZ(40,"app-required-field"),c.qZA(),c.TgZ(41,"input",22),c.NdJ("ngModelChange",function(b){return _.nationalId=b}),c.qZA()(),c.TgZ(42,"div",16)(43,"label",23),c._uU(44),c.ALo(45,"translate"),c._UZ(46,"app-required-field"),c.qZA(),c.TgZ(47,"input",24),c.NdJ("ngModelChange",function(b){return _.phone=b}),c.qZA()(),c.TgZ(48,"div",16)(49,"label",25),c._uU(50),c.ALo(51,"translate"),c._UZ(52,"app-required-field"),c.qZA(),c.TgZ(53,"input",26),c.NdJ("ngModelChange",function(b){return _.email=b}),c.qZA()(),c.TgZ(54,"div",16)(55,"label",27),c._uU(56),c.ALo(57,"translate"),c._UZ(58,"app-required-field"),c.qZA(),c.TgZ(59,"input",28),c.NdJ("ngModelChange",function(b){return _.address=b}),c.qZA()(),c.TgZ(60,"div",16)(61,"label",29),c._uU(62),c.ALo(63,"translate"),c._UZ(64,"app-required-field"),c.qZA(),c.TgZ(65,"p-dropdown",30),c.NdJ("ngModelChange",function(b){return _.selectedGovernment=b}),c.qZA()(),c.TgZ(66,"div",16)(67,"label",31),c._uU(68),c.ALo(69,"translate"),c._UZ(70,"app-required-field"),c.qZA(),c.TgZ(71,"p-calendar",32),c.NdJ("ngModelChange",function(b){return _.birthDate=b}),c.qZA()(),c.TgZ(72,"div",33)(73,"label",34),c._uU(74),c.ALo(75,"translate"),c.qZA(),c.TgZ(76,"p-dropdown",35),c.NdJ("ngModelChange",function(b){return _.selectedReligin=b}),c.qZA()(),c.TgZ(77,"div",16)(78,"label",36),c._uU(79),c.ALo(80,"translate"),c._UZ(81,"app-required-field"),c.qZA(),c.TgZ(82,"p-dropdown",37),c.NdJ("ngModelChange",function(b){return _.selectedMaritalStatus=b}),c.qZA()(),c.TgZ(83,"div",33)(84,"label",38),c._uU(85),c.ALo(86,"translate"),c.qZA(),c.TgZ(87,"p-dropdown",39),c.NdJ("ngModelChange",function(b){return _.selectedBloodType=b}),c.qZA()(),c.TgZ(88,"div",16)(89,"label",40),c._uU(90),c.ALo(91,"translate"),c._UZ(92,"app-required-field"),c.qZA(),c.TgZ(93,"p-dropdown",41),c.NdJ("ngModelChange",function(b){return _.selectedGender=b}),c.qZA()(),c.TgZ(94,"div",33)(95,"label",42),c._uU(96),c.ALo(97,"translate"),c.qZA(),c.TgZ(98,"p-dropdown",43),c.NdJ("ngModelChange",function(b){return _.selectedQualification=b}),c.qZA()(),c.TgZ(99,"div",16)(100,"label",44),c._uU(101),c.ALo(102,"translate"),c._UZ(103,"app-required-field"),c.qZA(),c.TgZ(104,"p-dropdown",45),c.NdJ("ngModelChange",function(b){return _.selectedAttendanceConfiguration=b}),c.qZA()(),c.TgZ(105,"div",16)(106,"label",46),c._uU(107),c.ALo(108,"translate"),c._UZ(109,"app-required-field"),c.qZA(),c.TgZ(110,"p-dropdown",47),c.NdJ("ngModelChange",function(b){return _.selectedJob=b}),c.qZA()(),c.TgZ(111,"div",16)(112,"label",48),c._uU(113),c.ALo(114,"translate"),c._UZ(115,"app-required-field"),c.qZA(),c.TgZ(116,"p-dropdown",49),c.NdJ("ngModelChange",function(b){return _.selectedDepartment=b}),c.qZA()(),c.TgZ(117,"div",16)(118,"label",50),c._uU(119),c.ALo(120,"translate"),c._UZ(121,"app-required-field"),c.qZA(),c.TgZ(122,"p-dropdown",51),c.NdJ("ngModelChange",function(b){return _.selectedPartitions=b}),c.qZA()(),c.TgZ(123,"div",16)(124,"label",52),c._uU(125),c.ALo(126,"translate"),c._UZ(127,"app-required-field"),c.qZA(),c.TgZ(128,"p-dropdown",53),c.NdJ("ngModelChange",function(b){return _.selectedShift=b}),c.qZA()(),c.TgZ(129,"div",33)(130,"label",54),c._uU(131),c.ALo(132,"translate"),c.qZA(),c.TgZ(133,"p-dropdown",55),c.NdJ("ngModelChange",function(b){return _.selectedBank=b}),c.qZA()(),c.TgZ(134,"div",33)(135,"label",56),c._uU(136),c.ALo(137,"translate"),c.qZA(),c.TgZ(138,"p-dropdown",57),c.NdJ("ngModelChange",function(b){return _.selectedGrade=b}),c.qZA()(),c.TgZ(139,"div",16)(140,"label",58),c._uU(141),c.ALo(142,"translate"),c._UZ(143,"app-required-field"),c.qZA(),c.TgZ(144,"p-dropdown",59),c.NdJ("ngModelChange",function(b){return _.selectedjobNature=b}),c.qZA()(),c.TgZ(145,"div",60)(146,"p-inputSwitch",61),c.NdJ("ngModelChange",function(b){return _.selectedIsInsured=b}),c.qZA(),c.TgZ(147,"label",62),c._uU(148),c.ALo(149,"translate"),c.qZA()(),c.TgZ(150,"div",60)(151,"p-inputSwitch",63),c.NdJ("ngModelChange",function(b){return _.selectedIsManager=b}),c.qZA(),c.TgZ(152,"label",64),c._uU(153),c.ALo(154,"translate"),c.qZA()(),c.TgZ(155,"div",60)(156,"p-inputSwitch",65),c.NdJ("ngModelChange",function(b){return _.selectedStaticShift=b}),c.qZA(),c.TgZ(157,"label",66),c._uU(158),c.ALo(159,"translate"),c.qZA()(),c.TgZ(160,"div",60)(161,"p-inputSwitch",67),c.NdJ("ngModelChange",function(b){return _.selectedStaticVacation=b}),c.qZA(),c.TgZ(162,"label",68),c._uU(163),c.ALo(164,"translate"),c.qZA()(),c.TgZ(165,"div",33)(166,"label",69),c._uU(167),c.ALo(168,"translate"),c.qZA(),c.TgZ(169,"p-dropdown",70),c.NdJ("ngModelChange",function(b){return _.selectedRecuritmentSource=b}),c.qZA()(),c.TgZ(170,"div",33)(171,"label",71),c._uU(172),c.ALo(173,"translate"),c.qZA(),c.TgZ(174,"input",72),c.NdJ("ngModelChange",function(b){return _.machineCode=b}),c.qZA()(),c.TgZ(175,"div",33)(176,"label",73),c._uU(177),c.ALo(178,"translate"),c.qZA(),c.TgZ(179,"p-dropdown",74),c.NdJ("ngModelChange",function(b){return _.selectedContactType=b}),c.qZA()(),c.TgZ(180,"div",16)(181,"label",75),c._uU(182),c.ALo(183,"translate"),c._UZ(184,"app-required-field"),c.qZA(),c.TgZ(185,"p-calendar",76),c.NdJ("ngModelChange",function(b){return _.joiningDate=b}),c.qZA()(),c.TgZ(186,"div",16)(187,"label",77),c._uU(188),c.ALo(189,"translate"),c._UZ(190,"app-required-field"),c.qZA(),c.TgZ(191,"p-calendar",78),c.NdJ("ngModelChange",function(b){return _.hiringDate=b}),c.qZA()(),c.TgZ(192,"div",33)(193,"label",79),c._uU(194),c.ALo(195,"translate"),c.qZA(),c.TgZ(196,"p-calendar",80),c.NdJ("ngModelChange",function(b){return _.resignationDate=b}),c.qZA()(),c.TgZ(197,"div",81)(198,"div",82)(199,"button",83),c._UZ(200,"i",84),c.TgZ(201,"span"),c._uU(202),c.ALo(203,"translate"),c.qZA()()()()()()()()()(),c.TgZ(204,"p-dialog",85),c.NdJ("visibleChange",function(b){return _.uploadImageDialog=b}),c.ALo(205,"translate"),c.YNc(206,Ie,4,4,"ng-template",86)(207,Kt,4,6,"ng-template",87),c.qZA()),2&M&&(c.xp6(1),c.Q6J("ngIf",_.loading),c.xp6(7),c.Oqu(c.lcZ(9,153,"Choose An Action From List")),c.xp6(3),c.Q6J("options",_.Actions)("ngModel",_.selectedAction)("showClear",!0),c.xp6(3),c.Q6J("ngIf",_.selectedAction),c.xp6(1),c.Q6J("header",c.lcZ(16,155,"Edit"))("toggleable",!0)("collapsed",!1),c.xp6(2),c.Q6J("formGroup",_.editForm),c.xp6(5),c.Q6J("ngIf",_.imageUrl),c.xp6(1),c.Q6J("ngIf",!_.imageUrl),c.xp6(3),c.hij("",c.lcZ(27,157,"Arabic Name")," "),c.xp6(3),c.Q6J("ngModel",_.nameAr),c.xp6(3),c.hij("",c.lcZ(33,159,"English Name")," "),c.xp6(3),c.Q6J("ngModel",_.englishName),c.xp6(3),c.hij("",c.lcZ(39,161,"National Id")," "),c.xp6(3),c.Q6J("ngModel",_.nationalId),c.xp6(3),c.hij("",c.lcZ(45,163,"Phone")," "),c.xp6(3),c.Q6J("ngModel",_.phone),c.xp6(3),c.hij("",c.lcZ(51,165,"Email")," "),c.xp6(3),c.Q6J("ngModel",_.email),c.xp6(3),c.hij("",c.lcZ(57,167,"Address")," "),c.xp6(3),c.Q6J("ngModel",_.address),c.xp6(3),c.hij("",c.lcZ(63,169,"Government")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsGovernment)("ngModel",_.selectedGovernment),c.xp6(3),c.hij(" ",c.lcZ(69,171,"BirthDate")," "),c.xp6(3),c.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",_.birthDate),c.xp6(3),c.Oqu(c.lcZ(75,173,"Religin")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsReligin)("ngModel",_.selectedReligin),c.xp6(3),c.hij("",c.lcZ(80,175,"Martial Status")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsMaritalStatus)("ngModel",_.selectedMaritalStatus),c.xp6(3),c.Oqu(c.lcZ(86,177,"Blood Types")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsBloodTypes)("ngModel",_.selectedBloodType),c.xp6(3),c.hij("",c.lcZ(91,179,"Gender Type")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsGender)("ngModel",_.selectedGender),c.xp6(3),c.Oqu(c.lcZ(97,181,"Qualification")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsQualification)("ngModel",_.selectedQualification),c.xp6(3),c.hij("",c.lcZ(102,183,"Attendance Configuration")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsAttendanceConfiguration)("ngModel",_.selectedAttendanceConfiguration),c.xp6(3),c.hij("",c.lcZ(108,185,"Job")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsJob)("ngModel",_.selectedJob),c.xp6(3),c.hij("",c.lcZ(114,187,"Departments")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsDepartment)("ngModel",_.selectedDepartment),c.xp6(3),c.hij("",c.lcZ(120,189,"Partition")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsPartition)("ngModel",_.selectedPartitions),c.xp6(3),c.hij("",c.lcZ(126,191,"Shift")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsShift)("ngModel",_.selectedShift),c.xp6(3),c.Oqu(c.lcZ(132,193,"Bank")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsBank)("ngModel",_.selectedBank),c.xp6(3),c.Oqu(c.lcZ(137,195,"Grade")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsGrade)("ngModel",_.selectedGrade),c.xp6(3),c.hij("",c.lcZ(142,197,"job Nature")," "),c.xp6(3),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsJobNature)("ngModel",_.selectedjobNature),c.xp6(2),c.Q6J("ngModel",_.selectedIsInsured),c.xp6(2),c.Oqu(c.lcZ(149,199,"Is Insured")),c.xp6(3),c.Q6J("ngModel",_.selectedIsManager),c.xp6(2),c.hij("",c.lcZ(154,201,"Is Manager")," "),c.xp6(3),c.Q6J("ngModel",_.selectedStaticShift),c.xp6(2),c.hij("",c.lcZ(159,203,"Is Static Shift")," "),c.xp6(3),c.Q6J("ngModel",_.selectedStaticVacation),c.xp6(2),c.hij("",c.lcZ(164,205,"Is Static Vacation")," "),c.xp6(4),c.Oqu(c.lcZ(168,207,"Recuritment Source")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsRecuritmentSource)("ngModel",_.selectedRecuritmentSource),c.xp6(3),c.Oqu(c.lcZ(173,209,"Machine Code")),c.xp6(2),c.Q6J("ngModel",_.machineCode),c.xp6(3),c.Oqu(c.lcZ(178,211,"Contract Type")),c.xp6(2),c.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",_.dropdownItemsContractType)("ngModel",_.selectedContactType),c.xp6(3),c.hij("",c.lcZ(183,213,"Join In Date")," "),c.xp6(3),c.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",_.joiningDate),c.xp6(3),c.hij("",c.lcZ(189,215,"Contract Start Date")," "),c.xp6(3),c.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",_.hiringDate),c.xp6(3),c.Oqu(c.lcZ(195,217,"Contract End Date")),c.xp6(2),c.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",_.resignationDate),c.xp6(3),c.Q6J("disabled",!_.editForm.valid),c.xp6(3),c.hij(" ",c.lcZ(203,219,"Save")," "),c.xp6(2),c.Akn(c.DdM(223,G)),c.Q6J("visible",_.uploadImageDialog)("header",c.lcZ(205,221,"Update Profile Image"))("modal",!0))},dependencies:[v.l,i.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,F.N,w.M,T.X$,D.g,q.jx,L.H,N.p,I.Hq,O.V,ae.FN,U.o,Ft.Lt,Lt.s,Jt.f,g.lC,Ut.Ql,St.Q],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;margin-top:48px}.btn-filter-submit-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btn-submit[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:8px 24px}.field-id[_ngcontent-%COMP%]{opacity:.75}.btn-edit[_ngcontent-%COMP%]{gap:0!important}li[_ngcontent-%COMP%]{list-style:none}.field-img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:15px;overflow:hidden}.img-container[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center}.img-container-no-image[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;background:#eee;border:1px solid #c4c4c5}img[_ngcontent-%COMP%]{max-width:100%}  .p-dropdown{width:100%}"]})}return J})()},9991:(rn,De,x)=>{x.r(De),x.d(De,{InfoModule:()=>k1});var m=x(6814),i=x(6223),u=x(5219),q=x(6997),T=x(6107),y=x(9432),R=x(705),e=x(8109),v=x(4175),D=x(9862);let c=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var P=x(8372),f=x(3999),k=x(6340),g=x(9552),F=x(4480),w=x(707),L=x(3530),N=x(4104),I=x(3714),O=x(3965),ae=x(5609),U=x(3259);const Ft=["dt"];function Lt(l,r){1&l&&e._UZ(0,"pre-loading")}function Jt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Ut(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function St(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.changeMonth(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedYear=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.changeYear(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",24)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-inputSwitch",26),e.qZA(),e.TgZ(18,"div",19),e._UZ(19,"button",27),e.ALo(20,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,11,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("placeholder",e.lcZ(6,13,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(10,15,"Year")),e.xp6(2),e.Q6J("options",t.allYears)("ngModel",t.selectedYear)("placeholder",e.lcZ(12,17,"Select a Year")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Closed")),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(20,21,"Insert New"))}}function kt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ot(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th",33),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,9,"Id")," "),e.xp6(3),e.hij(" ",e.lcZ(6,11,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(9,13,"Year")),e.xp6(3),e.Oqu(e.lcZ(12,15,"Closed")),e.xp6(3),e.Oqu(e.lcZ(15,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,25,"Actions")))}const pe=l=>({"null-color":l});function Et(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",34),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",35)(6,"span",34),e._uU(7,"monthName"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",35)(10,"span",34),e._uU(11,"year"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td",35)(14,"span",34),e._uU(15,"Closed"),e.qZA(),e.TgZ(16,"p-inputSwitch",36),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.closed=n)}),e.qZA()(),e.TgZ(17,"td",35)(18,"span",34),e._uU(19,"creationTime"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td",35)(22,"span",34),e._uU(23,"lastModificationTime"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",35)(26,"span",34),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",35)(30,"span",34),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",37)(35,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(16,pe,!t.name)),e.xp6(3),e.hij(" ",t.monthName?t.monthName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,pe,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,pe,!t.notes)),e.xp6(3),e.Q6J("ngModel",t.closed)("disabled",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(22,pe,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,pe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,pe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,pe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Rt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",39),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",41),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",24)(14,"label",43),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-inputSwitch",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.closed=n)}),e.qZA()(),e.TgZ(18,"div",45)(19,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"button",47),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,13,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(6,15,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(10,17,"Year")),e.xp6(2),e.Q6J("options",t.allYears)("ngModel",t.product.year)("placeholder",e.lcZ(12,19,"Select a Year")),e.xp6(4),e.Oqu(e.lcZ(16,21,"Closed")),e.xp6(2),e.Q6J("ngModel",t.product.closed),e.xp6(2),e.Q6J("label",e.lcZ(20,23,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,25,"Save"))}}function Qt(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function jt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Vt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ie=()=>({width:"450px"});let Kt=(()=>{class l{constructor(t,o){this.closeMonthService=t,this.messageService=o,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.allYears=[],this.addNewForm=new i.cw({month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required]),closed:new i.NI(!1,[i.kI.required])}),this.editForm=new i.cw({month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required]),closed:new i.NI(!1,[i.kI.required]),id:new i.NI(null,[i.kI.required])})}ngOnInit(){this.endPoint="CloseMonth",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.closeMonthService.setCulture(t),this.closeMonthService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions(),this.closeMonthService.getMonths().subscribe({next:o=>{this.allMonths=o.data,console.log(this.allMonths)},error:o=>{console.log(o)}})}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){this.closeMonthService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,this.closed=o.data.closed,console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.closeMonthService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.closeMonthService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.closeMonthService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.closeMonthService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.closeMonthService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="monthName"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let a=t-3;a<=n;a++)this.allYears.push(a)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(c),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-close-month"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ft,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder","onChange"],["htmlFor","name-ar"],["formControlName","year","required","",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"field","field-closed"],["htmlFor","closed"],["formControlName","closed"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[3,"click"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModel","disabled","ngModelChange"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["formControlName","month","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["formControlName","year",3,"options","ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","closed",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Lt,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Jt,3,3,"ng-template",2)(4,Ut,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,St,21,23,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,kt,8,7,"ng-template",8)(12,Ot,28,27,"ng-template",9)(13,Et,36,30,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Rt,23,27,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Qt,6,4,"span",0),e.qZA(),e.YNc(22,jt,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Vt,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,Ie)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,Ie)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,Ie)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,Ie)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,ae.Ql,U.u],styles:[".field-closed[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var G=x(258);let Gt=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var J=x(3722),E=x(6218);const Z=["dt"];function M(l,r){1&l&&e._UZ(0,"pre-loading")}function _(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function A(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",19,20),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function b(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",23)(2,"label",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",25),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",23)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",27),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",23)(14,"label",28),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"textarea",29),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",23)(20,"label",30),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",31),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",23),e._UZ(26,"button",32),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,11,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,13,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,17,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,21,"Enter Notes Here")),e.xp6(4),e.Oqu(e.lcZ(22,23,"Department Code")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,25,"Enter departmentCode Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,27,"Insert New"))}}function Ht(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",33)(1,"h5",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",35),e._UZ(5,"i",36),e.TgZ(6,"input",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Yt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",39),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",40),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Notes")),e.xp6(3),e.Oqu(e.lcZ(12,12,"departmentCode")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const de=l=>({"null-color":l});function wn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td",42)(4,"span",43),e._uU(5,"name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",43),e._uU(9,"notes"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",43),e._uU(13,"departmentCode"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",43),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",42)(21,"span",43),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",42)(26,"span",43),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",42)(30,"span",43),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",44)(35,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(36,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(21,de,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,de,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,de,!t.departmentCode)),e.xp6(3),e.hij(" ",t.departmentCode?t.departmentCode:"Unset"," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,de,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(29,de,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(31,de,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,de,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Nn(l,r){1&l&&(e.TgZ(0,"small",59),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Mn(l,r){1&l&&(e.TgZ(0,"small",59),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}function vn(l,r){1&l&&(e.TgZ(0,"small",59),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Department Code is required.")))}const Bt=l=>({"ng-invalid ng-dirty":l});function Dn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.TgZ(1,"div",23)(2,"label",47),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,Nn,3,3,"small",49),e.qZA(),e.TgZ(7,"div",23)(8,"label",50),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,Mn,3,3,"small",49),e.qZA(),e.TgZ(13,"div",23)(14,"label",52),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.departmentCode=n)}),e.qZA(),e.YNc(18,vn,3,3,"small",49),e.qZA(),e.TgZ(19,"div",23)(20,"label",54),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"textarea",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(24,"div",56)(25,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"button",58),e.ALo(28,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(30,Bt,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,20,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(32,Bt,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,22,"Department Code")),e.xp6(2),e.Q6J("ngModel",t.product.departmentCode)("ngClass",e.VKq(34,Bt,t.submitted&&!t.product.departmentCode)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.departmentCode),e.xp6(3),e.Oqu(e.lcZ(22,24,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(26,26,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(28,28,"Save"))("disabled",t.editForm.invalid)}}function In(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Pn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Fn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const He=()=>({width:"450px"});let Ln=(()=>{class l{constructor(t,o,n){this._DepartmentService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),departmentCode:new i.NI(null),notes:new i.NI(null)}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),departmentCode:new i.NI(null),notes:new i.NI(null)})}ngOnInit(){this.endPoint="Department",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._DepartmentService.setCulture(t),this._DepartmentService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._DepartmentService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._DepartmentService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._DepartmentService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._DepartmentService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this._DepartmentService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._DepartmentService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._DepartmentService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3}),o.clear()},complete:()=>{o.clear()}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Gt),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-department"]],viewQuery:function(o,n){if(1&o&&e.Gf(Z,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["htmlFor","new-departmentCode"],["pInputTextarea","","formControlName","departmentCode","id","new-departmentCode","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","departmentCode"],["type","text","pInputText","","id","departmentCode","maxlength","50","formControlName","departmentCode","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,M,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,_,5,7,"ng-template",2)(4,A,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,b,28,29,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Ht,8,7,"ng-template",8)(12,Yt,28,24,"ng-template",9)(13,wn,37,35,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Dn,29,36,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,In,6,4,"span",0),e.qZA(),e.YNc(22,Pn,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Fn,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,He)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,He)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,He)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,He)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}return l})();const Jn=["dt"];function Un(l,r){1&l&&e._UZ(0,"pre-loading")}function Sn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function kn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",19,20),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function On(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",23)(2,"label",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",25),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",23)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",27),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",23)(14,"label",28),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"textarea",29),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",23),e._UZ(20,"button",30),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,11,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,15,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,17,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,19,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(21,21,"Insert New"))}}function En(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",33),e._UZ(5,"i",34),e.TgZ(6,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Rn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",36),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",37),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",38),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,7,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,9,"Notes")),e.xp6(3),e.Oqu(e.lcZ(12,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(15,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(18,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(21,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Actions")))}const Pe=l=>({"null-color":l});function Qn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",39),e.qZA(),e.TgZ(3,"td",40)(4,"span",41),e._uU(5,"name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",40)(8,"span",41),e._uU(9,"notes"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",40)(12,"span",41),e._uU(13,"creationTime"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",40)(17,"span",41),e._uU(18,"lastModificationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",40)(22,"span",41),e._uU(23,"creatorName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",40)(26,"span",41),e._uU(27,"lastModifierName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",42)(31,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(32,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(19,Pe,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Pe,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,Pe,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(15,13,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Pe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(20,16,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,Pe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Pe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function jn(l,r){1&l&&(e.TgZ(0,"small",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Vn(l,r){1&l&&(e.TgZ(0,"small",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const cn=l=>({"ng-invalid ng-dirty":l});function Kn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.TgZ(1,"div",23)(2,"label",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,jn,3,3,"small",47),e.qZA(),e.TgZ(7,"div",23)(8,"label",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,Vn,3,3,"small",47),e.qZA(),e.TgZ(13,"div",23)(14,"label",50),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"textarea",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(18,"div",52)(19,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"button",54),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(24,cn,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,16,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(26,cn,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,18,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(20,20,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,22,"Save"))("disabled",t.editForm.invalid)}}function Gn(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Hn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Yn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ye=()=>({width:"450px"});let $=(()=>{class l{constructor(t,o,n){this._LockupsService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),notes:new i.NI(null)}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),notes:new i.NI(null)})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LockupsService.setCulture(t),this._LockupsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._LockupsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LockupsService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._LockupsService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._LockupsService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._LockupsService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._LockupsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._LockupsService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(v.P),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-std-paginations-with-popup"]],viewQuery:function(o,n){if(1&o&&e.Gf(Jn,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Un,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Sn,5,7,"ng-template",2)(4,kn,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,On,22,23,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,En,8,7,"ng-template",8)(12,Rn,25,21,"ng-template",9)(13,Qn,33,31,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Kn,23,28,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Gn,6,4,"span",0),e.qZA(),e.YNc(22,Hn,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Yn,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,Ye)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,Ye)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,Ye)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,Ye)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}return l})(),Bn=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-bank"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Bank"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),zn=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-govenment"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Government"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),$n=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Wn=["dt"];function Xn(l,r){1&l&&e._UZ(0,"pre-loading")}function eo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function to(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",18,19),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function no(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",22)(2,"label",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",24),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",22)(8,"label",25),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",26),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",22)(14,"label",27),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",28),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",22)(20,"label",29),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",30),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",22)(26,"label",31),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"textarea",32),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",22)(32,"label",33),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",34),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",22),e._UZ(38,"button",35),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,17,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,19,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,23,"Latitude")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,25,"Enter Latitude Here")),e.xp6(4),e.Oqu(e.lcZ(22,27,"Longitude")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Enter Longitude Here")),e.xp6(4),e.Oqu(e.lcZ(28,31,"Discription")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,33,"Enter discription Here")),e.xp6(4),e.Oqu(e.lcZ(34,35,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,37,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(39,39,"Insert New"))}}function oo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",36)(1,"h5",37),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",38),e._UZ(5,"i",39),e.TgZ(6,"input",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function lo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",41),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",42),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",43),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,12,"Latitude")),e.xp6(3),e.Oqu(e.lcZ(12,14,"Longitude")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Discription")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const ue=l=>({"null-color":l});function ao(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",44),e.qZA(),e.TgZ(3,"td",45)(4,"span",46),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",45)(8,"span",46),e._uU(9,"Latitude"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",45)(12,"span",46),e._uU(13,"Longitude"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",45)(16,"span",46),e._uU(17,"Discription"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",45)(20,"span",46),e._uU(21,"Notes"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",45)(24,"span",46),e._uU(25,"creationTime"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"td",45)(29,"span",46),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td",45)(34,"span",46),e._uU(35,"creatorName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",45)(38,"span",46),e._uU(39,"lastModifierName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td")(42,"div",47)(43,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(44,"button",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(25,ue,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,ue,!t.latitude)),e.xp6(3),e.hij(" ",t.latitude?t.latitude:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ue,!t.longitude)),e.xp6(3),e.hij(" ",t.longitude?t.longitude:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ue,!t.discription)),e.xp6(3),e.hij(" ",t.discription?t.discription:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ue,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,ue,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(27,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(37,ue,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(32,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,ue,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,ue,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function io(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function so(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}function ro(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Latitude is required.")))}function co(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Longitude is required.")))}const Be=l=>({"ng-invalid ng-dirty":l});function po(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",22)(2,"label",50),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,io,3,3,"small",52),e.qZA(),e.TgZ(7,"div",22)(8,"label",53),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,so,3,3,"small",52),e.qZA(),e.TgZ(13,"div",22)(14,"label",55),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.latitude=n)}),e.qZA(),e.YNc(18,ro,3,3,"small",52),e.qZA(),e.TgZ(19,"div",22)(20,"label",57),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.longitude=n)}),e.qZA(),e.YNc(24,co,3,3,"small",52),e.qZA(),e.TgZ(25,"div",22)(26,"label",59),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"textarea",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(30,"div",22)(31,"label",61),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"textarea",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discription=n)}),e.qZA()(),e.TgZ(35,"div",63)(36,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"button",65),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,24,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(40,Be,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,26,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(42,Be,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,28,"Latitude")),e.xp6(2),e.Q6J("ngModel",t.product.latitude)("ngClass",e.VKq(44,Be,t.submitted&&!t.product.latitude)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.latitude),e.xp6(3),e.Oqu(e.lcZ(22,30,"Longitude")),e.xp6(2),e.Q6J("ngModel",t.product.longitude)("ngClass",e.VKq(46,Be,t.submitted&&!t.product.longitude)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.longitude),e.xp6(3),e.Oqu(e.lcZ(28,32,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.Oqu(e.lcZ(33,34,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription),e.xp6(2),e.Q6J("label",e.lcZ(37,36,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(39,38,"Save"))}}function uo(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function mo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function go(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ze=()=>({width:"450px"});let _o=(()=>{class l{constructor(t,o,n){this._LocationService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({engName:new i.NI(null,[i.kI.required]),latitude:new i.NI(null,[i.kI.required]),longitude:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),discription:new i.NI(null)}),this.editForm=new i.cw({engName:new i.NI(null,[i.kI.required]),latitude:new i.NI(null,[i.kI.required]),longitude:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),discription:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Location",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LocationService.setCulture(t),this._LocationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._LocationService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}editProduct(t){console.log(t.id),this._LocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LocationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this._LocationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._LocationService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this._LocationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._LocationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36($n),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-location"]],viewQuery:function(o,n){if(1&o&&e.Gf(Wn,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","latitude","id","new-latitude","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","longitude","id","new-longitude","type","text",3,"placeholder"],["htmlFor","new-discription"],["formControlName","discription","pInputTextarea","","id","new-discription","type","text",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","latitude","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","longitude"],["formControlName","longitude","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","discription"],["formControlName","discription","id","discription","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Xn,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,eo,5,7,"ng-template",2)(4,to,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,no,40,41,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,oo,8,7,"ng-template",8)(12,lo,34,30,"ng-template",9)(13,ao,45,43,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,po,40,48,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,uo,6,4,"span",0),e.qZA(),e.YNc(22,mo,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,go,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,ze)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,ze)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,ze)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,ze)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),ho=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const fo=["dt"];function Zo(l,r){1&l&&e._UZ(0,"pre-loading")}function xo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Co(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",18,19),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function bo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addnewForm))}),e.TgZ(1,"div",22)(2,"label",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",24),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",22)(8,"label",25),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",26),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",22)(14,"label",27),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",28),e.NdJ("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.changedSelected(n))})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedDepartment=n)})("onClear",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectedDepartment=null)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",22)(20,"label",29),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",30),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",22),e._UZ(26,"button",31),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addnewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,17,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,19,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,23,"Department")),e.xp6(2),e.Q6J("options",t.departmentDropDown)("ngModel",t.selectedDepartment)("placeholder",e.lcZ(18,25,"Select a Department"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(22,27,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addnewForm.invalid)("label",e.lcZ(27,31,"Insert New"))}}function Ao(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function To(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Notes")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Department")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}function yo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",41),e._uU(9,"Notes"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",41),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",41),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td")(21,"span",41),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td")(26,"span",41),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"span",41),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",42)(35,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(36,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.name,""),e.xp6(4),e.hij(" ",t.notes," "),e.xp6(4),e.hij(" ",t.departmentName," "),e.xp6(4),e.hij(" ",e.xi3(19,8,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(5),e.hij(" ",e.xi3(24,11,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(5),e.hij(" ",t.creatorName," "),e.xp6(4),e.hij(" ",t.lastModifierName," ")}}const pn=l=>({"ng-invalid ng-dirty":l});function qo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",22)(2,"label",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(6,"div",22)(7,"label",47),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",22)(12,"label",49),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p-dropdown",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEditsDepartment=n)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",22)(18,"label",51),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",53)(23,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"button",55),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(32,pn,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,20,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(34,pn,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,22,"Department")),e.xp6(2),e.Q6J("options",t.departmentDropDown)("ngModel",t.selectedEditsDepartment)("placeholder",e.lcZ(16,24,"Select a Department"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(20,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(24,28,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(26,30,"Save"))("disabled",t.editForm.invalid)}}function wo(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function No(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Mo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const $e=()=>({width:"450px"});let vo=(()=>{class l{constructor(t,o,n){this._PartitionService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.departmentDropDown=[],this.selectedDepartment=null,this.selectedDepartmentId=-1,this.addnewForm=new i.cw({departmentId:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null)}),this.editForm=new i.cw({departmentId:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Partation",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PartitionService.setCulture(t),this._PartitionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownDepartment()}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._PartitionService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),o.clear(),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})},complete:()=>{o.clear()}})}}getDartmentNameById(t){return console.log("id edited"),console.log(t),this.departmentDropDown.find(n=>n.id==t)}editProduct(t){console.log(t.id),this._PartitionService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedEditsDepartment=this.getDartmentNameById(this.product.departmentId),console.log("dept name is ",this.selectedEditsDepartment)}})}changedSelected(t){}getDropDownDepartment(){this._PartitionService.getDropDown("Department").subscribe({next:t=>{this.departmentDropDown=t.data}})}confirmDelete(t){this._PartitionService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this._PartitionService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._PartitionService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t,departmentId:this.selectedEditsDepartment.id}),console.log(o.value),this._PartitionService.Edit(o.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){console.log(this.selectedItems);const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PartitionService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ho),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-partition"]],viewQuery:function(o,n){if(1&o&&e.Gf(fo,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["for","department"],["id","department","formControlName","departmentId","optionValue","id","optionLabel","name","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","onChange","ngModelChange","onClear"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","formControlName","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","departmentEdit"],["formControlName","departmentId","optionLabel","name","id","edit_Dept","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Zo,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,xo,5,7,"ng-template",2)(4,Co,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,bo,28,33,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Ao,8,7,"ng-template",8)(12,To,28,24,"ng-template",9)(13,yo,37,14,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,qo,27,36,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,wo,6,4,"span",0),e.qZA(),e.YNc(22,No,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Mo,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,$e)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,$e)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,$e)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,$e)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Do=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-qualification"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Qualification"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Io=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Y=x(6760);const Po=["dt"];function Fo(l,r){1&l&&e._UZ(0,"pre-loading")}function Lo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Jo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",19,20),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Uo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",45),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startAttendeesTimeClick(n))}),e.qZA()}}function So(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",45),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.endAttendeesTimeClick(n))}),e.qZA()}}function ko(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"form",23),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(2,"div",24)(3,"label",25),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",26),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",24)(9,"label",27),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",28),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",24)(15,"label",29),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p-calendar",30),e.ALo(19,"translate"),e.YNc(20,Uo,1,0,"ng-template",31),e.qZA()(),e.TgZ(21,"div",24)(22,"label",32),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-calendar",33),e.ALo(26,"translate"),e.YNc(27,So,1,0,"ng-template",31),e.qZA()(),e.TgZ(28,"div",24)(29,"label",34),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._UZ(32,"input",35),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"div",24)(35,"label",36),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",37),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",24)(41,"label",38),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",39),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"div",24)(47,"label",40),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",41),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"div",24)(53,"label",42),e._uU(54),e.ALo(55,"translate"),e.qZA(),e._UZ(56,"textarea",43),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"div",24),e._UZ(59,"button",44),e.ALo(60,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(5,29,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(7,31,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(11,33,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(13,35,"Enter Arabic Name Here")),e.xp6(4),e.hij(" ",e.lcZ(17,37,"start Attendees Time")," "),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(19,39,"00:00:00")),e.xp6(5),e.hij(" ",e.lcZ(24,41,"End Attendees Time")," "),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("timeOnly",!0)("showSeconds",!0)("placeholder",e.lcZ(26,43,"00:00:00")),e.xp6(5),e.Oqu(e.lcZ(31,45,"number Of Hours")),e.xp6(2),e.Q6J("placeholder",e.lcZ(33,47,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(37,49,"check In Before The Shift Starts")),e.xp6(2),e.Q6J("placeholder",e.lcZ(39,51,"Enter Check In Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(43,53,"check Out After The Shift Ends")),e.xp6(2),e.Q6J("placeholder",e.lcZ(45,55,"Enter check Out After The Shift Ends")),e.xp6(4),e.Oqu(e.lcZ(49,57,"check Out After The Shift Starts")),e.xp6(2),e.Q6J("placeholder",e.lcZ(51,59,"Enter check Out Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(55,61,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(57,63,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(60,65,"Insert New"))("disabled",t.addNewForm.invalid)}}function Oo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",46)(1,"h5",47),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",48),e._UZ(5,"i",49),e.TgZ(6,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Eo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",51),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",52),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",53),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,15,"StartAttendeesTime")),e.xp6(3),e.Oqu(e.lcZ(12,17,"EndAttendeesTime")),e.xp6(3),e.Oqu(e.lcZ(15,19,"NumberOfHours")),e.xp6(3),e.Oqu(e.lcZ(18,21,"check In Before The Shift Starts")),e.xp6(3),e.Oqu(e.lcZ(21,23,"check Out After The Shift Ends")),e.xp6(3),e.Oqu(e.lcZ(24,25,"check Out After The Shift Starts")),e.xp6(3),e.Oqu(e.lcZ(27,27,"Notes")),e.xp6(3),e.Oqu(e.lcZ(30,29,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(33,31,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(36,33,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(39,35,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(42,37,"Actions")))}const W=l=>({"null-color":l});function Ro(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",54),e.qZA(),e.TgZ(3,"td",55)(4,"span",56),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",55)(8,"span",56),e._uU(9,"startAttendeesTime"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",55)(12,"span",56),e._uU(13,"endAttendeesTime"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",55)(16,"span",56),e._uU(17,"numberOfHours"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",55)(20,"span",56),e._uU(21,"checkInBeforeTheShiftStarts"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",55)(24,"span",56),e._uU(25,"checkOutAfterTheShiftEnds"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",55)(28,"span",56),e._uU(29,"CheckInAfterTheShiftStarts"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",55)(32,"span",56),e._uU(33,"Notes"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",55)(36,"span",56),e._uU(37,"creationTime"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",55)(40,"span",56),e._uU(41,"lastModificationTime"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",55)(44,"span",56),e._uU(45,"creatorName"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"td",55)(48,"span",56),e._uU(49,"lastModifierName"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"td")(52,"div",57)(53,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(54,"button",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(25,W,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,W,!t.startAttendeesTime)),e.xp6(3),e.hij(" ",t.startAttendeesTime?t.startAttendeesTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,W,!t.endAttendeesTime)),e.xp6(3),e.hij(" ",t.endAttendeesTime?t.endAttendeesTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,W,!t.numberOfHours)),e.xp6(3),e.hij(" ",t.numberOfHours?t.numberOfHours:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,W,!t.checkInBeforeTheShiftStarts)),e.xp6(3),e.hij(" ",t.checkInBeforeTheShiftStarts," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,W,!t.checkOutAfterTheShiftEnds)),e.xp6(3),e.hij(" ",t.checkOutAfterTheShiftEnds," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,W,!t.CheckInAfterTheShiftStarts)),e.xp6(3),e.hij(" ",t.CheckInAfterTheShiftStarts," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,W,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,W,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,W,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,W,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,W,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Qo(l,r){1&l&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function jo(l,r){1&l&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij("",e.lcZ(2,1,"English Name is required"),"."))}function Vo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",45),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.startAttendeesTimeClickEdit(n))}),e.qZA()}}function Ko(l,r){1&l&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"startAttendeesTime is required.")))}function Go(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",45),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.endAttendeesTimeClickEdit(n))}),e.qZA()}}function Ho(l,r){1&l&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"endAttendeesTime is required.")))}const dn=l=>({"ng-invalid ng-dirty":l});function Yo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",23),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",24)(2,"label",60),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,Qo,3,3,"small",62),e.qZA(),e.TgZ(7,"div",24)(8,"label",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,jo,3,3,"small",62),e.qZA(),e.TgZ(13,"div",24)(14,"label",65),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.startAttendeesTime=n)}),e.ALo(18,"translate"),e.YNc(19,Vo,1,0,"ng-template",31),e.qZA(),e.YNc(20,Ko,3,3,"small",62),e.qZA(),e.TgZ(21,"div",24)(22,"label",67),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-calendar",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.endAttendeesTime=n)}),e.ALo(26,"translate"),e.YNc(27,Go,1,0,"ng-template",31),e.qZA(),e.YNc(28,Ho,3,3,"small",62),e.qZA(),e.TgZ(29,"div",24)(30,"label",36),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.checkInBeforeTheShiftStarts=n)}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",24)(36,"label",38),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"input",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.checkOutAfterTheShiftEnds=n)}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",24)(42,"label",40),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.CheckInAfterTheShiftStarts=n)}),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",24)(48,"label",72),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.numberOfHours=n)}),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",24)(54,"label",74),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"textarea",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(58,"div",76)(59,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"button",78),e.ALo(62,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,42,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(76,dn,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,44,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(78,dn,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,46,"start Attendees Time")),e.xp6(2),e.Q6J("ngModel",t.product.startAttendeesTime)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(18,48,"00:00:00")),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.product.startAttendeesTime),e.xp6(3),e.Oqu(e.lcZ(24,50,"End Attendees Time")),e.xp6(2),e.Q6J("ngModel",t.product.endAttendeesTime)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(26,52,"00:00:00")),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.product.endAttendeesTime),e.xp6(3),e.Oqu(e.lcZ(32,54,"check In Before The Shift Starts")),e.xp6(2),e.Q6J("ngModel",t.product.checkInBeforeTheShiftStarts)("placeholder",e.lcZ(34,56,"Enter Check In Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(38,58,"check Out After The Shift Ends")),e.xp6(2),e.Q6J("ngModel",t.product.checkOutAfterTheShiftEnds)("placeholder",e.lcZ(40,60,"Enter check Out After The Shift Ends")),e.xp6(4),e.Oqu(e.lcZ(44,62,"check Out After The Shift Starts")),e.xp6(2),e.Q6J("ngModel",t.product.CheckInAfterTheShiftStarts)("placeholder",e.lcZ(46,64,"Enter check Out Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(50,66,"number Of Hours")),e.xp6(2),e.Q6J("ngModel",t.product.numberOfHours)("placeholder",e.lcZ(52,68,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(56,70,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(60,72,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(62,74,"Save"))("disabled",t.editForm.invalid)}}function Bo(l,r){}function zo(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function $o(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Wo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const zt=()=>({width:"450px"});let Xo=(()=>{class l{constructor(t,o,n,a){this._ShiftService=t,this.messageService=o,this.translate=n,this._DatePipe=a,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({checkInBeforeTheShiftStarts:new i.NI(null,[i.kI.required]),checkOutAfterTheShiftEnds:new i.NI(null,[i.kI.required]),CheckInAfterTheShiftStarts:new i.NI(null,[i.kI.required]),endAttendeesTime:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),numberOfHours:new i.NI(null,[i.kI.required]),startAttendeesTime:new i.NI(null,[i.kI.required]),notes:new i.NI(null)}),this.editForm=new i.cw({checkInBeforeTheShiftStarts:new i.NI(null,[i.kI.required]),checkOutAfterTheShiftEnds:new i.NI(null,[i.kI.required]),CheckInAfterTheShiftStarts:new i.NI(null,[i.kI.required]),endAttendeesTime:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),numberOfHours:new i.NI(null,[i.kI.required]),startAttendeesTime:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Shift",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftService.setCulture(t),this._ShiftService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"startAttendeesTime",header:"StartAttendeesTime"},{field:"endAttendeesTime",header:"EndAttendeesTime"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this._ShiftService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._ShiftService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){let o={...t.value,startAttendeesTime:this._DatePipe.transform(t.get("startAttendeesTime").value,"HH:mm:ss"),endAttendeesTime:this._DatePipe.transform(t.get("endAttendeesTime").value,"HH:mm:ss")};this._ShiftService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null,this.startAttendeesTime=null,this.endAttendeesTime=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._ShiftService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t);let n={...o.value,id:t};o.get("startAttendeesTime").touched&&(n.startAttendeesTime=this._DatePipe.transform(o.get("startAttendeesTime").value,"HH:mm:ss")),o.get("endAttendeesTime").touched&&(n.endAttendeesTime=this._DatePipe.transform(o.get("endAttendeesTime").value,"HH:mm:ss")),console.log(o),this._ShiftService.Edit(n).subscribe({next:a=>{this.hideDialog(),a.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3}),o.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:a=>{console.log(a)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._ShiftService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Io),e.Y36(u.ez),e.Y36(f.sK),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-shift"]],viewQuery:function(o,n){if(1&o&&e.Gf(Po,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:30,vars:41,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","card p-fluid",4,"ngIf"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"card","p-fluid"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["for","startAttendeesTime"],["formControlName","startAttendeesTime","inputId","startAttendeesTime",3,"iconDisplay","showIcon","showSeconds","timeOnly","placeholder"],["pTemplate","inputicon"],["for","endAttendeesTime"],["formControlName","endAttendeesTime","inputId","endAttendeesTime",3,"iconDisplay","showIcon","timeOnly","showSeconds","placeholder"],["htmlFor","numberOfHours"],["formControlName","numberOfHours","pInputText","","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","checkInBeforeTheShiftStarts"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"placeholder"],["htmlFor","checkOutAfterTheShiftEnds"],["pInputText","","formControlName","checkOutAfterTheShiftEnds","id","checkOutAfterTheShiftEnds","type","number",3,"placeholder"],["htmlFor","CheckInAfterTheShiftStarts"],["pInputText","","formControlName","CheckInAfterTheShiftStarts","id","CheckInAfterTheShiftStarts","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"pi","pi-clock","pointer-events-none","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","startAttendeesTimeEdit"],["formControlName","startAttendeesTime","id","startAttendeesTimeEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder","ngModelChange"],["for","endAttendeesTimeEdit"],["formControlName","endAttendeesTime","id","endAttendeesTimeEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder","ngModelChange"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","checkOutAfterTheShiftEnds","pInputText","","id","checkOutAfterTheShiftEnds","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","CheckInAfterTheShiftStarts","pInputText","","id","CheckInAfterTheShiftStarts","type","number",3,"ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHoursEdit"],["formControlName","numberOfHours","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Fo,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Lo,5,7,"ng-template",2)(4,Jo,5,8,"ng-template",3),e.qZA(),e.YNc(5,ko,61,67,"div",4),e.TgZ(6,"p-table",5,6),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(8,"translate"),e.YNc(9,Oo,8,7,"ng-template",7)(10,Eo,43,39,"ng-template",8)(11,Ro,55,49,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(13,"translate"),e.YNc(14,Yo,63,80,"ng-template",11)(15,Bo,0,0,"ng-template",12),e.qZA(),e.TgZ(16,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(17,"translate"),e.TgZ(18,"div",14),e._UZ(19,"i",15),e.YNc(20,zo,6,4,"span",0),e.qZA(),e.YNc(21,$o,4,6,"ng-template",12),e.qZA(),e.TgZ(22,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(23,"translate"),e.TgZ(24,"div",14),e._UZ(25,"i",15),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Wo,4,6,"ng-template",12),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Q6J("ngIf",n.showFormNew),e.xp6(1),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(8,28,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(38,zt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,30,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(39,zt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,32,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,zt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,34,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,36,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,Y.f,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  .p-calendar input{padding-left:24px}"]})}return l})();var el=x(6655),C=x(4861);let tl=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var We=x(4055);const nl=["dt"];function ol(l,r){1&l&&e._UZ(0,"pre-loading")}function ll(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function al(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function il(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-multiSelect",22),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelected())})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedShift=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-calendar",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.date=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"textarea",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.reason=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20),e._UZ(20,"button",27),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShift)("placeholder",e.lcZ(6,20,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(4),e.hij("",e.lcZ(10,22,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(12,24,"MM/DD/YYYY"))("ngModel",t.date),e.xp6(4),e.Oqu(e.lcZ(16,26,"Reason")),e.xp6(2),e.Q6J("ngModel",t.reason)("placeholder",e.lcZ(18,28,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(21,30,"Insert New"))("disabled",t.addNewForm.invalid)}}function sl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function rl(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",33),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,8,"Date")),e.xp6(3),e.Oqu(e.lcZ(8,10,"Holiday Name")),e.xp6(3),e.Oqu(e.lcZ(11,12,"Shift")),e.xp6(3),e.Oqu(e.lcZ(14,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(17,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(20,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(23,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(26,22,"Actions")))}const Te=l=>({"null-color":l});function cl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",35)(4,"span",36),e._uU(5,"Date"),e.qZA(),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",35)(9,"span",36),e._uU(10,"Reason"),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"td",35)(13,"span",36),e._uU(14,"shiftName"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"td",35)(17,"span",36),e._uU(18,"creationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",35)(22,"span",36),e._uU(23,"lastModificationTime"),e.qZA(),e._uU(24),e.ALo(25,"date"),e.qZA(),e.TgZ(26,"td",35)(27,"span",36),e._uU(28,"creatorName"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",35)(31,"span",36),e._uU(32,"lastModifierName"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td")(35,"div",37)(36,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(37,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(24,Te,!t.date)),e.xp6(3),e.hij(" ",e.xi3(7,15,t.date,"dd/MM/yyyy")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,Te,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,Te,!t.shiftName)),e.xp6(3),e.hij(" ",t.shiftName?t.shiftName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,Te,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(20,18,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Te,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(25,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,Te,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,Te,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function pl(l,r){1&l&&(e.TgZ(0,"small",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Shift is required.")))}function dl(l,r){1&l&&(e.TgZ(0,"small",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Date is required.")))}function ul(l,r){1&l&&(e.TgZ(0,"small",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Date is required.")))}const ml=l=>({"ng-invalid ng-dirty":l});function gl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",40),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",41),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedShiftEdit=n)}),e.ALo(6,"translate"),e.qZA(),e.YNc(7,pl,3,3,"small",43),e.qZA(),e.TgZ(8,"div",20)(9,"label",44),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-calendar",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.date=n)}),e.qZA(),e.YNc(13,dl,3,3,"small",43),e.qZA(),e.TgZ(14,"div",20)(15,"label",46),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.reason=n)}),e.qZA(),e.YNc(19,ul,3,3,"small",43),e.qZA(),e.TgZ(20,"div",48)(21,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"button",50),e.ALo(24,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,22,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShiftEdit)("placeholder",e.lcZ(6,24,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.id),e.xp6(3),e.Oqu(e.lcZ(11,26,"Enter Date")),e.xp6(2),e.Q6J("timezone","UTC")("iconDisplay","input")("showIcon",!0)("ngModel",t.product.date),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.date),e.xp6(3),e.Oqu(e.lcZ(17,28,"Enter Reason")),e.xp6(2),e.Q6J("ngModel",t.product.reason)("ngClass",e.VKq(34,ml,t.submitted&&!t.product.reason)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.reason),e.xp6(2),e.Q6J("label",e.lcZ(22,30,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(24,32,"Save"))("disabled",t.editForm.invalid)}}function _l(l,r){}function hl(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function fl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Zl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Xe=()=>({width:"450px"});let xl=(()=>{class l{constructor(t,o,n,a){this._PublicVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({date:new i.NI(null,[i.kI.required]),shiftIds:new i.NI([],[i.kI.required]),reason:new i.NI(null,[i.kI.required])}),this.editForm=new i.cw({date:new i.NI(null,[i.kI.required]),shiftIds:new i.NI([],[i.kI.required]),reason:new i.NI(null,[i.kI.required])})}ngOnInit(){this.endPoint="PublicVacation",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PublicVacationService.setCulture(t),this._PublicVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"date",header:"Date"},{field:"reason",header:"Reason"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.gitAllShifts()}gitAllShifts(){this._PublicVacationService.getDropDown("Shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertDate(t,o){return this.DatePipe.transform(t,o)}editProduct(t){console.log(t.id),this._PublicVacationService.GetById(t.id).subscribe({next:o=>{console.log("Shift Id => "),console.log(o.data.shiftId),this.product={...o.data},console.log("shiftDropDown =>"),console.log(this.shiftDropDown),this.selectedShiftEdit=this.shiftDropDown.find(n=>this.product.shiftIds[0]==n.id),this.product.date=this.convertDate(this.product.date,"MM/dd/yyyy"),this.productDialog=!0},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}confirmDelete(t){this._PublicVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){let o={...t.value,date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")};this._PublicVacationService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.date=null,this.reason=null,this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._PublicVacationService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){let n={...o.value,id:t,ids:[t],date:this.DatePipe.transform(o.get("date").value,"yyyy-MM-ddTHH:mm:ss"),shiftIds:[this.selectedShiftEdit.id]};console.clear(),console.log("body here "),console.log(o),this._PublicVacationService.Edit(n).subscribe({next:a=>{this.hideDialog(),a.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:a=>{console.log(a)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>("shift"==p&&console.log(s.shiftName),`"${s[p]}"`)).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PublicVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(tl),e.Y36(u.ez),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-public-vacation"]],viewQuery:function(o,n){if(1&o&&e.Gf(nl,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:32,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["for","shift"],["formControlName","shiftIds","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","showClear","filter","filterBy","onChange","ngModelChange"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","reason"],["formControlName","reason","pInputTextarea","","id","reason","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"formGroup","submit"],["for","Ids"],["formControlName","shiftIds","optionLabel","name",3,"options","ngModel","placeholder","showClear","filter","filterBy","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","date"],["formControlName","date","inputId","date",3,"timezone","iconDisplay","showIcon","ngModel","ngModelChange"],["for","reason"],["formControlName","reason","type","text","pInputText","","id","reason","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ol,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,ll,5,7,"ng-template",2)(4,al,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,il,22,32,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,sl,8,7,"ng-template",8)(12,rl,27,24,"ng-template",9)(13,cl,38,38,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,gl,25,36,"ng-template",5)(17,_l,0,0,"ng-template",11),e.qZA(),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(19,"translate"),e.TgZ(20,"div",13),e._UZ(21,"i",14),e.YNc(22,hl,6,4,"span",0),e.qZA(),e.YNc(23,fl,4,6,"ng-template",11),e.qZA(),e.TgZ(24,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(25,"translate"),e.TgZ(26,"div",13),e._UZ(27,"i",14),e.TgZ(28,"span"),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.YNc(31,Zl,4,6,"ng-template",11),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,Xe)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,Xe)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(46,Xe)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(19,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,Xe)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(25,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(30,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,Y.f,We.NU,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  .p-multiselect-clear-icon{left:2.3rem;right:unset}  .p-dialog:has(.p-calendar.p-focus:not(.p-calendar-timeonly)){overflow:hidden!important}"]})}return l})();var Fe=x(7204);let Cl=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const bl=["dt"];function Al(l,r){1&l&&e._UZ(0,"pre-loading")}function Tl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function yl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ql(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",23),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeShift())}),e.qZA()(),e.TgZ(6,"div",21)(7,"label",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedDay=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeDay())}),e.qZA()(),e.TgZ(11,"div",21),e._UZ(12,"button",26),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,11,"shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("filter",!0)("filterBy","name")("showClear",!0),e.xp6(3),e.Oqu(e.lcZ(9,13,"Day")),e.xp6(2),e.Q6J("options",t.AllDays)("ngModel",t.selectedDay)("showClear",!0),e.xp6(2),e.Q6J("disabled",t.addNewForm.invalid)}}function wl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",27)(1,"h5",28),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",29),e._UZ(5,"i",30),e.TgZ(6,"input",31),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function Nl(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",32),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,7,"Day")),e.xp6(3),e.Oqu(e.lcZ(8,9,"Shift")),e.xp6(3),e.Oqu(e.lcZ(11,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(14,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(17,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(20,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(23,19,"Actions")))}const Le=l=>({"null-color":l});function Ml(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",33),e.qZA(),e.TgZ(3,"td",34)(4,"span",35),e._uU(5,"dayName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",34)(8,"span",35),e._uU(9,"shiftName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",34)(12,"span",35),e._uU(13,"creationTime"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",34)(17,"span",35),e._uU(18,"lastModificationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",34)(22,"span",35),e._uU(23,"creatorName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",34)(26,"span",35),e._uU(27,"lastModifierName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",36)(31,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(32,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(19,Le,!t.dayName)),e.xp6(3),e.hij(" ",t.dayName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Le,!t.shiftName)),e.xp6(3),e.hij(" ",t.shiftName?t.shiftName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,Le,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(15,13,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Le,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(20,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,Le,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Le,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function vl(l,r){1&l&&(e.TgZ(0,"small",47),e._uU(1,"Shift is required."),e.qZA())}function Dl(l,r){1&l&&(e.TgZ(0,"small",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"day is required.")))}function Il(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",21)(2,"label",39),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedShiftEdit=n)}),e.qZA(),e.YNc(6,vl,2,0,"small",41),e.qZA(),e.TgZ(7,"div",21)(8,"label",42),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",43),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedDayEdit=n)}),e.qZA(),e.YNc(12,Dl,3,3,"small",41),e.qZA(),e.TgZ(13,"div",44)(14,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA(),e._UZ(15,"button",46),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShiftEdit)("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.shiftId),e.xp6(3),e.Oqu(e.lcZ(10,16,"Enter day")),e.xp6(2),e.Q6J("options",t.AllDays)("ngModel",t.selectedDayEdit)("showClear",!0),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.day),e.xp6(3),e.Q6J("disabled",t.editForm.invalid)}}function Pl(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Fl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.qZA()}}function Ll(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const et=()=>({width:"450px"});let Jl=(()=>{class l{constructor(t,o,n,a){this._ShiftVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=a,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({day:new i.NI(null,[i.kI.required]),shiftId:new i.NI(null,[i.kI.required])}),this.editForm=new i.cw({day:new i.NI(null,[i.kI.required]),shiftId:new i.NI(null,[i.kI.required]),id:new i.NI(null)})}ngOnInit(){this.endPoint="ShiftVacation",this.endPoint="ShiftVacation",this._ShiftVacationService.setEndPoint(this.endPoint),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftVacationService.setCulture(t),this._ShiftVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"dayName",header:"Day"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.AllDays=[{id:0,name:"Sunday"},{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"}],this.gitAllShifts()}gitAllShifts(){this._ShiftVacationService.getDropDown("shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this._ShiftVacationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedShiftEdit=this.shiftDropDown.find(n=>this.product.shiftId==n.id),console.log("selectedShiftEdit : ",this.selectedShiftEdit),console.log(this.product.day),console.log(this.product.day),this.selectedDayEdit=this.AllDays.find(n=>n.id==this.product.day),console.log("selectedDayEdit : ",this.selectedDayEdit)},error:o=>{console.log(o)}})}confirmDelete(t){this._ShiftVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}onChangeDay(){this.day=this.selectedDay.id}onChangeShift(){this.selectedShiftId=this.selectedShift.id}addNew(t){console.log(t),this._ShiftVacationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._ShiftVacationService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({id:t,day:this.selectedDayEdit.id,shiftId:this.selectedShiftEdit.id}),this._ShiftVacationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>("shift"==p&&console.log(s.shiftName),`"${s[p]}"`)).join(","));return a.unshift(n.join(",")),a.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Cl),e.Y36(u.ez),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-shift-vacation"]],viewQuery:function(o,n){if(1&o&&e.Gf(bl,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","shift"],["formControlName","shiftId","optionLabel","name","optionValue","id","placeholder","Select a Shift",3,"options","filter","filterBy","showClear","onChange"],["htmlFor","day"],["formControlName","day","optionLabel","name","optionValue","id","placeholder","Select a Day",3,"options","ngModel","showClear","ngModelChange","onChange"],["pButton","","label","Insert New","type","submit",1,"w-25",3,"disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","shiftId"],["formControlName","shiftId","optionLabel","name","placeholder","Select a Shift",3,"options","ngModel","showClear","filter","filterBy","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","day"],["formControlName","day","optionLabel","name","placeholder","Select a Day",3,"options","ngModel","showClear","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times","type","button",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Al,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Tl,5,7,"ng-template",2)(4,yl,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.YNc(6,ql,13,15,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(9,"translate"),e.YNc(10,wl,7,4,"ng-template",8)(11,Nl,24,21,"ng-template",9)(12,Ml,33,31,"ng-template",10),e.qZA(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(14,"translate"),e.YNc(15,Il,16,18,"ng-template",5),e.qZA(),e.TgZ(16,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(17,"translate"),e.TgZ(18,"div",13),e._UZ(19,"i",14),e.YNc(20,Pl,6,4,"span",0),e.qZA(),e.YNc(21,Fl,2,0,"ng-template",15),e.qZA(),e.TgZ(22,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(23,"translate"),e.TgZ(24,"div",13),e._UZ(25,"i",14),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Ll,2,0,"ng-template",15),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,et)),e.Q6J("visible",n.showFormNew)("modal",!0),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(9,31,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,et)),e.Q6J("visible",n.productDialog)("header",e.lcZ(14,33,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,et)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,35,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,et)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,37,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Ul=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-grade"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","grade"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Sl=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-job"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Job"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),kl=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-relative-relation"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","RelativeRelation"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Ol=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-contract-type"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","ContractType"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),El=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-job-nature"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","JobNature"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Rl=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-recuritment-source"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","RecuritmentSource"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Ql=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-document-required"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","DocumentRequired"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),jl=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-uniform-codes"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","UniformCodes"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Vl=(()=>{class l extends v.P{constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Kl=x(5167);let Gl=(()=>{class l{constructor(t,o){this.messageService=t,this._VacationSettingService=o}ngOnInit(){this._VacationSettingService.setEndPoint("VacationSetting"),this._VacationSettingService.GetAll().subscribe({next:t=>{console.log(t.data);let o=t.data;this.startVacation=o.startVacation,this.regularVacationNumber=o.regularVacationNumber,this.maxExcuesHours=o.maxExcuesHours,this.casualVacationNumber=o.casualVacationNumber,this.id=o.id},error:t=>{console.log(t)}})}onSubmit(){this._VacationSettingService.Register({startVacation:this.startVacation,regularVacationNumber:this.regularVacationNumber,maxExcuesHours:this.maxExcuesHours,casualVacationNumber:this.casualVacationNumber,id:this.id}).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3})},error:o=>{console.log(o)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(Vl))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-setting"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:34,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit"],[1,"field","col-12"],["for","startVacation"],["id","startVacation","name","startVacation","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","regularVacationNumber"],["id","regularVacationNumber","name","regularVacationNumber","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","maxExcuesHours"],["id","maxExcuesHours","name","maxExcuesHours","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","casualVacationNumber"],["id","casualVacationNumber","name","casualVacationNumber","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-inputNumber",7),e.NdJ("ngModelChange",function(s){return n.startVacation=s}),e.qZA()(),e.TgZ(13,"div",5)(14,"label",8),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-inputNumber",9),e.NdJ("ngModelChange",function(s){return n.regularVacationNumber=s}),e.qZA()(),e.TgZ(18,"div",5)(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p-inputNumber",11),e.NdJ("ngModelChange",function(s){return n.maxExcuesHours=s}),e.qZA()(),e.TgZ(23,"div",5)(24,"label",12),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"p-inputNumber",13),e.NdJ("ngModelChange",function(s){return n.casualVacationNumber=s}),e.qZA()(),e.TgZ(28,"div",5),e._UZ(29,"button",14),e.ALo(30,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,22,"Vacation Settings")),e.xp6(5),e.Oqu(e.lcZ(11,24,"Start Vacation")),e.xp6(2),e.Q6J("ngModel",n.startVacation)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(16,26,"Regular Vacation Number")),e.xp6(2),e.Q6J("ngModel",n.regularVacationNumber)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(21,28,"Max Excues Hours")),e.xp6(2),e.Q6J("ngModel",n.maxExcuesHours)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(26,30,"Casual Vacation Number")),e.xp6(2),e.Q6J("ngModel",n.casualVacationNumber)("showButtons",!0)("min",0)("max",100),e.xp6(2),e.Q6J("label",e.lcZ(30,32,"Update Setting")))},dependencies:[T.l,i._Y,i.JJ,i.JL,i.On,i.F,f.X$,y.g,F.H,w.Hq,N.FN,Kl.Rn]})}return l})(),Hl=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-covenant-category"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","CovenantCategory"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),Yl=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Bl=["dt"];function zl(l,r){1&l&&e._UZ(0,"pre-loading")}function $l(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Wl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Xl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeCovenantCategory())})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantCategory=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.newNameEn=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.newNameAr=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"textarea",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.newNotes=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20),e._UZ(26,"button",29),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Covenant Category")),e.xp6(2),e.Q6J("options",t.CovenantCategoryDropDown)("ngModel",t.selectedCovenantCategory)("placeholder",e.lcZ(6,20,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.xp6(4),e.hij("",e.lcZ(10,22,"Name English")," "),e.xp6(2),e.Q6J("ngModel",t.newNameEn)("placeholder",e.lcZ(12,24,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(16,26,"Name Arabic")," "),e.xp6(2),e.Q6J("ngModel",t.newNameAr)("placeholder",e.lcZ(18,28,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(22,30,"Notes")),e.xp6(2),e.Q6J("ngModel",t.newNotes)("placeholder",e.lcZ(24,32,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,34,"Insert New"))}}function ea(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function ta(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Notes")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Category")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const ye=l=>({"null-color":l});function na(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",38),e.qZA(),e.TgZ(3,"td",39)(4,"span",40),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",39)(8,"span",40),e._uU(9,"Notes"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",39)(12,"span",40),e._uU(13,"Category"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",39)(16,"span",40),e._uU(17,"CreationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",39)(21,"span",40),e._uU(22,"LastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",39)(26,"span",40),e._uU(27,"CreatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",39)(30,"span",40),e._uU(31,"LastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",41)(35,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(36,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(21,ye,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,ye,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,ye,!t.covenantCategoryName)),e.xp6(3),e.hij(" ",t.covenantCategoryName?t.covenantCategoryName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,ye,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(29,ye,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(31,ye,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ye,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const un=l=>({"ng-invalid ng-dirty":l});function oa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",44),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantCategoryOnEdit=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",46),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(12,"div",20)(13,"label",48),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",50),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",52)(23,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"button",54),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Category")),e.xp6(2),e.Q6J("options",t.CovenantCategoryDropDown)("ngModel",t.selectedCovenantCategoryOnEdit)("placeholder",e.lcZ(6,20,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(10,22,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(32,un,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(15,24,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(34,un,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(20,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(24,28,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(26,30,"Save"))("disabled",t.editForm.invalid)}}function la(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function aa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function ia(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const tt=()=>({width:"450px"});let sa=(()=>{class l{constructor(t,o,n){this._CovenantService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({covenantCategoryId:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null)}),this.editForm=new i.cw({covenantCategoryId:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Covenant",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._CovenantService.setCulture(t),this._CovenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"category",header:"Category"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown("CovenantCategory")}getDropDown(t){this._CovenantService.getDropDown(t).subscribe({next:o=>{console.log(o.data),this.CovenantCategoryDropDown=o.data},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeCovenantCategory(){this.CovenantCategoryIdSelected=this.selectedCovenantCategory.id}editProduct(t){console.log(t.id),this._CovenantService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedCovenantCategoryOnEdit=this.CovenantCategoryDropDown.find(n=>this.product.covenantCategoryId==n.id)},error:o=>{console.log(o)}})}confirmDelete(t){this._CovenantService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this._CovenantService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.CovenantCategoryIdSelected=null,this.selectedCovenantCategory=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._CovenantService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,this.selectedItemsData=this.allData},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t,covenantCategoryId:this.selectedCovenantCategoryOnEdit.id}),console.log(o.value),this._CovenantService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItemsData),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.id=`${this.endPoint}_${(new Date).getTime()}`,s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._CovenantService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Yl),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-covenant"]],viewQuery:function(o,n){if(1&o&&e.Gf(Bl,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,f.sK]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","CovenantCategory"],["id","CovenantCategory","optionLabel","name","optionValue","id","formControlName","covenantCategoryId","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","onChange","ngModelChange"],["htmlFor","name-en"],["formControlName","engName","pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["formControlName","name","pInputText","","id","name-ar","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["formControlName","notes","pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","CovenantCategory"],["autofocus","","id","CovenantCategory","optionLabel","name","formControlName","covenantCategoryId","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","ngModelChange"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,zl,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,$l,5,7,"ng-template",2)(4,Wl,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Xl,28,36,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ea,8,7,"ng-template",8)(12,ta,28,24,"ng-template",9)(13,na,37,35,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,oa,27,36,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,la,6,4,"span",0),e.qZA(),e.YNc(22,aa,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,ia,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,tt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,tt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,tt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,tt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var nt=x(553);let ra=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ca=["dt"];function pa(l,r){1&l&&e._UZ(0,"pre-loading")}function da(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ua(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ma(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.arName=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p-fileUpload",30,31),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(30),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",32),e._UZ(33,"button",33),e.ALo(34,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Arabic Name")," "),e.xp6(2),e.Q6J("ngModel",t.arName)("placeholder",e.lcZ(6,17,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,19,"English Name")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(16,23,"Notes")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,25,"Enter Notes Here")),e.xp6(4),e.hij("",e.lcZ(22,27,"Discription")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Enter Discription Here")),e.xp6(4),e.hij("",e.lcZ(28,31,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(31,33,"Import File"))("auto",!0),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(34,35,"Insert New"))}}function ga(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",35),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",36),e._UZ(5,"i",37),e.TgZ(6,"input",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function _a(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",39),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,9,"Name")),e.xp6(3),e.Oqu(e.lcZ(8,11,"Notes")),e.xp6(3),e.Oqu(e.lcZ(11,13,"Url")),e.xp6(3),e.Oqu(e.lcZ(14,15,"Description")),e.xp6(3),e.Oqu(e.lcZ(17,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(20,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(23,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(26,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(29,25,"Actions")))}const ot=l=>({"null-color":l});function ha(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",41),e._uU(9,"Notes"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",41),e._uU(13,"Url"),e.qZA(),e.TgZ(14,"a",42),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"td")(18,"span",41),e._uU(19,"Discreption"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td",43)(22,"span",41),e._uU(23,"creationTime"),e.qZA(),e._uU(24),e.ALo(25,"date"),e.qZA(),e.TgZ(26,"td",43)(27,"span",41),e._uU(28,"lastModificationTime"),e.qZA(),e._uU(29),e.ALo(30,"date"),e.qZA(),e.TgZ(31,"td",43)(32,"span",41),e._uU(33,"creatorName"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",43)(36,"span",41),e._uU(37,"lastModifierName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td")(40,"div",44)(41,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(42,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.name?t.name:""," "),e.xp6(4),e.hij(" ",t.notes?t.notes:""," "),e.xp6(4),e.Q6J("href",o.baseUrlFile.concat("/",t.url),e.LSH),e.xp6(1),e.Oqu(e.lcZ(16,14,"View")),e.xp6(5),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ot,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(25,16,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(24,ot,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(30,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,ot,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ot,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function fa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",27),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",27),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",27),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(16,"div",20)(17,"label",27),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discreption=n)}),e.qZA()(),e.TgZ(21,"div",20)(22,"label",27),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-fileUpload",51),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelectEdit(n))}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",52)(28,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"button",54),e.ALo(31,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.hij("",e.lcZ(4,14,"Arabic Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.name),e.xp6(3),e.Oqu(e.lcZ(9,16,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName),e.xp6(3),e.hij("",e.lcZ(14,18,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.hij("",e.lcZ(19,20,"Discription")," "),e.xp6(2),e.Q6J("ngModel",t.product.discreption),e.xp6(3),e.hij("",e.lcZ(24,22,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(26,24,"Choose File")),e.xp6(3),e.Q6J("label",e.lcZ(29,26,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(31,28,"Save"))("disabled",t.editForm.invalid)}}function Za(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function xa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Ca(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const lt=()=>({width:"450px"});let ba=(()=>{class l{constructor(t,o,n,a){this.companyPolicyService=t,this.messageService=o,this.DatePipe=n,this.translate=a,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({EngName:new i.NI(null,[i.kI.required]),Name:new i.NI(null,[i.kI.required]),Notes:new i.NI(null),Discreption:new i.NI(null,[i.kI.required]),File:new i.NI(null,[i.kI.required])}),this.editForm=new i.cw({EngName:new i.NI(null,[i.kI.required]),Name:new i.NI(null,[i.kI.required]),Notes:new i.NI(null),Discreption:new i.NI(null,[i.kI.required]),File:new i.NI(null),Id:new i.NI(null)})}ngOnInit(){this.endPoint="CompanyPolicy",this.baseUrlFile=nt.N.mediaUrl,this.companyPolicyService.setEndPoint(this.endPoint),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.companyPolicyService.setCulture(t),this.companyPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"url",header:"Url"},{field:"discreption",header:"Discreption"},{field:"file",header:"File"},{field:"deletFIle",header:"deletFIle"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.companyPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.currentId=o.data.id,this.product={...o.data},this.productDialog=!0,this.oldDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}changedSelectedEdit(){this.selectedShiftId=this.selectedShift.id}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDelete(t){this.companyPolicyService.DeleteRange([t]).subscribe({next:n=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){t.patchValue({File:this.fileNew});const o=new FormData;let n=t.value;console.log(t);for(const a in n)n.hasOwnProperty(a)&&o.append(a,n[a]);this.companyPolicyService.Register(o).subscribe({next:a=>{console.log(a),this.showFormNew=!1,a.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.enName=null,this.arName=null,this.notes=null,this.discreption=null}loadData(t,o,n,a,s){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.companyPolicyService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.error(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({Id:t,File:this.fileEdit??null});let n=o.value;const a=new FormData;for(const s in n)n.hasOwnProperty(s)&&a.append(s,n[s]);console.log("body here "),console.log(n),this.companyPolicyService.Edit(a).subscribe({next:s=>{this.hideDialog(),s.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>("shift"==p&&console.log(s.shiftName),`"${s[p]}"`)).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.companyPolicyService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileNew=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity())}onFileSelectEdit(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileEdit=o,console.log(this.product),this.editForm.patchValue({File:o}),this.editForm.get("File")?.updateValueAndValidity())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ra),e.Y36(u.ez),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-company-policy"]],viewQuery:function(o,n){if(1&o&&e.Gf(ca,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","arName"],["formControlName","Name","pInputText","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","enName"],["pInputText","","formControlName","EngName",3,"placeholder"],["htmlFor","notes"],["pInputText","","formControlName","Notes",3,"placeholder"],["htmlFor","date"],["pInputText","","formControlName","Discreption",3,"placeholder"],["htmlFor","upload"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],[1,"field","insertNew"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","Name","pInputText","",3,"ngModel","ngModelChange"],["formControlName","EngName","pInputText","",3,"ngModel","ngModelChange"],["formControlName","Notes","pInputText","",3,"ngModel","ngModelChange"],["formControlName","Discreption","pInputText","",3,"ngModel","ngModelChange"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,pa,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,da,5,7,"ng-template",2)(4,ua,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,ma,35,37,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ga,8,7,"ng-template",8)(12,_a,30,27,"ng-template",9)(13,ha,43,30,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,fa,32,30,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Za,6,4,"span",0),e.qZA(),e.YNc(22,xa,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Ca,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,lt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,lt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,lt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,lt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,U.u],styles:[".insertNew[_ngcontent-%COMP%]{display:flex;justify-content:end}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Aa=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ta=["dt"];function ya(l,r){1&l&&e._UZ(0,"pre-loading")}function qa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function wa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Na(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20),e._UZ(26,"button",29),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,11,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,13,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,15,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,17,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Hours Number")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,21,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(22,23,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,25,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,27,"Insert New"))}}function Ma(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function va(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"hoursNumber")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Notes")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const qe=l=>({"null-color":l});function Da(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",38),e.qZA(),e.TgZ(3,"td",39)(4,"span",40),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",39)(8,"span",40),e._uU(9,"hoursNumber"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",39)(12,"span",40),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",39)(16,"span",40),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",39)(20,"span",40),e._uU(21,"lastModificationTime"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",39)(24,"span",40),e._uU(25,"creatorName"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",39)(28,"span",40),e._uU(29,"lastModifierName"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td")(32,"div",41)(33,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(34,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(15,qe,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(17,qe,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.hoursNumber?t.hoursNumber:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(19,qe,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,qe,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,qe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,qe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,qe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ia(l,r){1&l&&(e.TgZ(0,"small",56),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const mn=l=>({"ng-invalid ng-dirty":l});function Pa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",44),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",46),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(11,Ia,3,3,"small",48),e.qZA(),e.TgZ(12,"div",20)(13,"label",49),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.hoursNumber=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",51),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(23,"div",53)(24,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"button",55),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,16,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(30,mn,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,18,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(32,mn,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(15,20,"number Of Hours")),e.xp6(2),e.Q6J("ngModel",t.product.hoursNumber)("placeholder",e.lcZ(17,22,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(21,24,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(25,26,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(27,28,"Save"))}}function Fa(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function La(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Ja(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const at=()=>({width:"450px"});let Ua=(()=>{class l{constructor(t,o,n){this.execuseTypeService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({engName:new i.NI(null,[i.kI.required]),hoursNumber:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null)}),this.editForm=new i.cw({engName:new i.NI(null,[i.kI.required]),hoursNumber:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="ExcuesType",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseTypeService.setCulture(t),this.execuseTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.execuseTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.execuseTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.execuseTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.execuseTypeService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(" body Data"),this.execuseTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Aa),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-execuse-type"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ta,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","hoursNumber","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["htmlFor","numberOfHoursEdit"],["formControlName","hoursNumber","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ya,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,qa,5,7,"ng-template",2)(4,wa,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Na,28,29,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Ma,8,7,"ng-template",8)(12,va,28,24,"ng-template",9)(13,Da,35,29,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Pa,28,34,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Fa,6,4,"span",0),e.qZA(),e.YNc(22,La,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Ja,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,at)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,at)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,at)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,at)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Sa=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var it=x(8057);const ka=["dt"];function Oa(l,r){1&l&&e._UZ(0,"pre-loading")}function Ea(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ra(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"p-fileUpload",19,20),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(3),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,4,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(4,6,"Import File"))("auto",!0)}}function Qa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",22)(2,"label",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",24),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",22)(8,"label",25),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",26),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",22)(14,"label",27),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",28),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",22)(20,"label",29),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",30),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",22)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",31),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",32)(32,"div",33)(33,"label",34),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-checkbox",35),e.qZA(),e.TgZ(37,"div",33)(38,"label",34),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"p-checkbox",36),e.qZA(),e.TgZ(42,"div",33)(43,"label",37),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"p-checkbox",38),e.qZA(),e.TgZ(47,"div",33)(48,"label",39),e._uU(49),e.ALo(50,"translate"),e.qZA(),e._UZ(51,"p-checkbox",40),e.qZA()(),e.TgZ(52,"div",22),e._UZ(53,"button",41),e.ALo(54,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,17,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,19,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,21,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,23,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,25,"Day Count")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,27,"Enter number Of Days")),e.xp6(4),e.Oqu(e.lcZ(22,29,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,31,"Enter Notes Here")),e.xp6(4),e.Oqu(e.lcZ(28,33,"Vacation Start After how many months")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,35,"Enter number of months to start vacation")),e.xp6(5),e.Oqu(e.lcZ(35,37,"Manger Approved")),e.xp6(5),e.Oqu(e.lcZ(40,39,"Hr Approved")),e.xp6(5),e.Oqu(e.lcZ(45,41,"Stock Vacation")),e.xp6(5),e.Oqu(e.lcZ(50,43,"Attachement Required")),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(54,45,"Insert New"))}}function ja(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",44),e._UZ(5,"i",45),e.TgZ(6,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Va(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",47),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",48),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",49),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,14,"dayCount")),e.xp6(3),e.Oqu(e.lcZ(12,16,"Notes")),e.xp6(3),e.Oqu(e.lcZ(15,18,"vacation starts after")),e.xp6(3),e.Oqu(e.lcZ(18,20,"managerApproved")),e.xp6(3),e.Oqu(e.lcZ(21,22,"hrApproved")),e.xp6(3),e.Oqu(e.lcZ(24,24,"stockVacation")),e.xp6(3),e.Oqu(e.lcZ(27,26,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(30,28,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(33,30,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(36,32,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(39,34,"Actions")))}const ne=l=>({"null-color":l});function Ka(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",50),e.qZA(),e.TgZ(3,"td",51)(4,"span",52),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",51)(8,"span",52),e._uU(9,"dayCount"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",51)(12,"span",52),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",51)(16,"span",52),e._uU(17,"vacationStart"),e.qZA(),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"td",51)(22,"span",52),e._uU(23,"mangerApproved"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",51)(26,"span",52),e._uU(27,"hrApproved"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",51)(30,"span",52),e._uU(31,"stockVacation"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",51)(34,"span",52),e._uU(35,"creationTime"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",51)(38,"span",52),e._uU(39,"lastModificationTime"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",51)(42,"span",52),e._uU(43,"creatorName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td",51)(46,"span",52),e._uU(47,"lastModifierName"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td")(50,"div",53)(51,"button",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(52,"button",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,ne,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ne,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ne,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ne,!t.vacationStart)),e.xp6(3),e.hij(" ",t.vacationStart>1?t.vacationStart+" "+e.lcZ(19,23,"Months"):1===t.vacationStart?" "+e.lcZ(20,25,"MONTH"):""," "),e.xp6(3),e.Q6J("ngClass",e.VKq(35,ne,!t.mangerApproved)),e.xp6(3),e.hij(" ",t.mangerApproved," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,ne,!t.hrApproved)),e.xp6(3),e.hij(" ",t.hrApproved," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,ne,!t.stockVacation)),e.xp6(3),e.hij(" ",t.stockVacation," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,ne,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,ne,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,ne,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,ne,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const gn=l=>({"ng-invalid ng-dirty":l});function Ga(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",22)(2,"label",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(6,"div",22)(7,"label",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",22)(12,"label",60),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dayCount=n)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",22)(18,"label",62),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",22)(23,"label",64),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.vacationStart=n)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",32)(29,"div",33)(30,"label",34),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"p-checkbox",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.mangerApproved=n)})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.mangerApproved=n)}),e.qZA()(),e.TgZ(34,"div",33)(35,"label",34),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p-checkbox",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.hrApproved=n)}),e.qZA()(),e.TgZ(39,"div",33)(40,"label",37),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"p-checkbox",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.stockVacation=n)}),e.qZA()(),e.TgZ(44,"div",33)(45,"label",39),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"p-checkbox",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.isAttachementRequired=n)}),e.qZA()()(),e.TgZ(49,"div",70)(50,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"button",72),e.ALo(53,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,27,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(53,gn,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,29,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(55,gn,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,31,"number Of Days")),e.xp6(2),e.Q6J("ngModel",t.product.dayCount)("placeholder",e.lcZ(16,33,"Enter number Of Days")),e.xp6(4),e.Oqu(e.lcZ(20,35,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.Oqu(e.lcZ(25,37,"number Of Months to start vacation")),e.xp6(2),e.Q6J("ngModel",t.product.vacationStart)("placeholder",e.lcZ(27,39,"Enter number Of Months to start vacation")),e.xp6(5),e.Oqu(e.lcZ(32,41,"Manger Approved")),e.xp6(2),e.Q6J("ngModel",t.product.mangerApproved)("ngModel",t.product.mangerApproved),e.xp6(3),e.Oqu(e.lcZ(37,43,"Hr Approved")),e.xp6(2),e.Q6J("ngModel",t.product.hrApproved),e.xp6(3),e.Oqu(e.lcZ(42,45,"Stock Vacation")),e.xp6(2),e.Q6J("ngModel",t.product.stockVacation),e.xp6(3),e.Oqu(e.lcZ(47,47,"Attachement Required")),e.xp6(2),e.Q6J("ngModel",t.product.isAttachementRequired),e.xp6(2),e.Q6J("label",e.lcZ(51,49,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(53,51,"Save"))("disabled",t.editForm.invalid)}}function Ha(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ya(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Ba(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const st=()=>({width:"450px"});let za=(()=>{class l{constructor(t,o,n){this.vacationTypeService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1,this.addNewForm=new i.cw({engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),dayCount:new i.NI(null,[i.kI.required]),vacationStart:new i.NI(null,[i.kI.required]),mangerApproved:new i.NI(!1,[i.kI.required]),hrApproved:new i.NI(!1,[i.kI.required]),stockVacation:new i.NI(!1,[i.kI.required]),isAttachementRequired:new i.NI(!1,[i.kI.required])}),this.editForm=new i.cw({engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),notes:new i.NI(null),dayCount:new i.NI(null,[i.kI.required]),vacationStart:new i.NI(null,[i.kI.required]),mangerApproved:new i.NI(!1,[i.kI.required]),hrApproved:new i.NI(!1,[i.kI.required]),stockVacation:new i.NI(!1,[i.kI.required]),isAttachementRequired:new i.NI(!1,[i.kI.required]),id:new i.NI(null)})}ngOnInit(){this.endPoint="VacationType",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationTypeService.setCulture(t),this.vacationTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.vacationTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.vacationTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this.vacationTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.dayCount=null,this.newVacationStart=null,this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.vacationTypeService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.vacationTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.success,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this.vacationTypeService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Sa),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-type"]],viewQuery:function(o,n){if(1&o&&e.Gf(ka,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","DayCount"],["pInputText","","formControlName","dayCount","id","DayCount","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pInputText","","formControlName","vacationStart","id","new-notes","type","number",3,"placeholder"],[1,"fields-aprrove"],[1,"field","field-approve"],["for","mangerApproved"],["formControlName","mangerApproved","binary","true"],["formControlName","hrApproved","binary","true"],["for","stockVacation"],["formControlName","stockVacation","binary","true"],["for","isAttachementRequired"],["formControlName","isAttachementRequired","binary","true"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["htmlFor","numberOfDaysEdit"],["pInputText","","formControlName","dayCount","id","numberOfDaysEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["htmlFor","numberOfMonthsEdit"],["formControlName","vacationStart","pInputText","","id","numberOfMonthsEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","mangerApproved","binary","true",3,"ngModel","ngModelChange"],["formControlName","hrApproved","binary","true",3,"ngModel","ngModelChange"],["formControlName","stockVacation","binary","true",3,"ngModel","ngModelChange"],["formControlName","isAttachementRequired","binary","true",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Oa,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Ea,5,7,"ng-template",2)(4,Ra,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Qa,55,47,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ja,8,7,"ng-template",8)(12,Va,40,36,"ng-template",9)(13,Ka,53,49,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Ga,54,57,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Ha,6,4,"span",0),e.qZA(),e.YNc(22,Ya,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Ba,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,st)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,st)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,st)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,st)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,it.XZ,U.u],styles:[".field-approve[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-direction:row-reverse;width:50%;justify-content:start}.fields-aprrove[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:24px;flex-wrap:wrap}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.fields-aprrove[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}  .p-calendar input{padding-left:24px}"]})}return l})();var $a=x(8032),Wa=x(1106);let Xa=(()=>{class l extends v.P{constructor(t){super(t)}getEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var ei=x(4509);function ti(l,r){1&l&&e._UZ(0,"pre-loading")}function ni(l,r){if(1&l&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - ",t.size," bytes ")}}function oi(l,r){if(1&l&&(e.TgZ(0,"ul"),e.YNc(1,ni,2,2,"li",83),e.qZA()),2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.uploadedFiles)}}function li(l,r){if(1&l&&e.YNc(0,oi,2,1,"ul",0),2&l){const t=e.oxw();e.Q6J("ngIf",t.uploadedFiles.length)}}let ai=(()=>{class l{constructor(t,o,n){this._EmployeeService=t,this.messageService=o,this.DatePipe=n,this.loading=!1,this.uploadedFiles=[]}ngOnInit(){this.endPoint="Employee",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeService.setCulture(t),this._EmployeeService.setEndPoint(this.endPoint),this.getAllDropDowns()}),this.initFormGroups()}initFormGroups(){this.registerForm=new i.cw({File:new i.NI(null),NameAr:new i.NI(null,i.kI.required),EnglishName:new i.NI(null),Address:new i.NI(null,i.kI.required),Email:new i.NI(null),NationalId:new i.NI(null,i.kI.required),Phone:new i.NI(null,i.kI.required),MachineCode:new i.NI(null),Discription:new i.NI(null),BloodTypes:new i.NI(null),GovernmentId:new i.NI(null,i.kI.required),QualificationId:new i.NI(null,i.kI.required),AttendanceConfigurationId:new i.NI(null,i.kI.required),Gender:new i.NI(null,i.kI.required),MaritalStatus:new i.NI(null,i.kI.required),JobId:new i.NI(null,i.kI.required),JobNatureId:new i.NI(null),DepartmentId:new i.NI(null,i.kI.required),PartationId:new i.NI(null,i.kI.required),ShiftId:new i.NI(null,i.kI.required),BankId:new i.NI(null),GradeId:new i.NI(null),ContractTypeId:new i.NI(null),RecuritmentSourceId:new i.NI(null),Religion:new i.NI(null),JoiningDate:new i.NI(null,i.kI.required),BirthDate:new i.NI(null,i.kI.required),HiringDate:new i.NI(null,i.kI.required),ResignationDate:new i.NI(null),Ismanger:new i.NI(!1),StaticShift:new i.NI(!1),StaticVacation:new i.NI(!1),IsInsured:new i.NI(!1),DeleteImage:new i.NI(!1)})}getAllDropDowns(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"})}getDropDownEnum(t){this._EmployeeService.getEnum(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}getDropDownField(t){this._EmployeeService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}onSelect(t){console.log("event file"),this.registerForm.patchValue({File:t.currentFiles[0]}),this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}onUpload(t){for(let o of t?.files)this.uploadedFiles.push(o);this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]??"");return o}resetFields(){this.registerForm.reset()}registerSubmit(t){if(t.valid){this.loading=!0;const o={...t.value,File:t.get("File").value,DeleteImage:!!t.get("File").value,JoiningDate:this.DatePipe.transform(t.get("JoiningDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(t.get("BirthDate").value,"yyyy-MM-dd"),HiringDate:this.DatePipe.transform(t.get("HiringDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(t.get("ResignationDate").value,"yyyy-MM-dd")},n=this.mapToFormData(o);this._EmployeeService.Register(n).subscribe({next:a=>{console.log(a),a.success&&(this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3}),this.resetFields()),this.loading=!1},error:a=>{console.error(a),this.loading=!1}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Xa),e.Y36(u.ez),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee"]],standalone:!0,features:[e._Bn([u.ez,m.uU,f.sK]),e.jDz],decls:226,vars:262,consts:[[4,"ngIf"],[3,"formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","File","accept","image/*","maxFileSize","1000000",3,"multiple","chooseLabel","onSelect","onUpload"],["pTemplate","content"],[1,"field","col-12","md:col-4","required-field"],["for","NameAr"],["pInputText","","formControlName","NameAr","id","NameAr",3,"placeholder"],["for","EnglishName"],["pInputText","","formControlName","EnglishName","id","EnglishName","type","text",3,"placeholder"],["for","NationalId"],["pInputText","","formControlName","NationalId","id","NationalId","type","text",3,"placeholder"],[1,"field","col-12","md:col-8","required-field"],["for","Address"],["pInputTextarea","","formControlName","Address","id","Address","rows","4",3,"placeholder"],["for","GovernmentId"],["formControlName","GovernmentId","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],[1,"field","col-12","md:col-3","required-field"],["for","Phone"],["pInputText","","formControlName","Phone","id","Phone","rows","4",3,"placeholder"],["for","Email"],["pInputText","","formControlName","Email","id","Email","rows","4",3,"placeholder"],["for","BirthDate"],["formControlName","BirthDate","inputId","BirthDate",3,"showIcon","iconDisplay","placeholder"],[1,"field","col-12","md:col-3"],["for","Religion"],["formControlName","Religion","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","MaritalStatus"],["formControlName","MaritalStatus","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],["for","BloodTypes"],["formControlName","BloodTypes","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],["for","Gender"],["formControlName","Gender","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Qualification"],["formControlName","QualificationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","AttendanceConfiguration"],["formControlName","AttendanceConfigurationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Job"],["formControlName","JobId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","DepartmentId"],["formControlName","DepartmentId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","PartationId"],["formControlName","PartationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Shift"],["formControlName","ShiftId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Bank"],["formControlName","BankId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Grade"],["formControlName","GradeId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","JobNatureId"],["formControlName","JobNatureId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],[1,"field","col-12","md:col-3","flex","gap-3","align-items-center"],["formControlName","IsInsured"],["for","IsInsured"],["formControlName","Ismanger"],["for","Ismanger"],["formControlName","StaticShift"],["for","IsStaticShift"],["formControlName","StaticVacation"],["for","IsStaticVacation"],["for","MachineCode"],["formControlName","MachineCode","pInputText","","id","MachineCode","type","text",3,"placeholder"],["for","RecuritmentSourceId"],["formControlName","RecuritmentSourceId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","ContractTypeId"],["formControlName","ContractTypeId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","JoiningDate"],["formControlName","JoiningDate","inputId","JoiningDate",3,"iconDisplay","showIcon","placeholder"],["for","HiringDate"],["formControlName","HiringDate","inputId","HiringDate",3,"iconDisplay","showIcon","placeholder"],["for","ResignationDate"],["formControlName","ResignationDate","inputId","ResignationDate",3,"iconDisplay","showIcon","placeholder"],[1,"field","col-12","md:col-6"],["for","Discription"],["formControlName","Discription","pInputTextarea","","id","Discription","rows","4",3,"placeholder"],[1,"field"],["type","hidden","formControlName","DeleteImage"],[1,"field","col-12","md:col-2","py-5"],["type","submit","pButton","","value","Register",1,"flex","justify-content-center",3,"disabled","click"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ti,1,0,"pre-loading",0),e.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"p-fileUpload",7),e.NdJ("onSelect",function(s){return n.onSelect(s)})("onUpload",function(s){return n.onUpload(s)}),e.ALo(12,"translate"),e.YNc(13,li,1,1,"ng-template",8),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e._UZ(18,"app-required-field"),e.qZA(),e._UZ(19,"input",11),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e._UZ(25,"app-required-field"),e.qZA(),e._UZ(26,"input",13),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",9)(29,"label",14),e._uU(30),e.ALo(31,"translate"),e._UZ(32,"app-required-field"),e.qZA(),e._UZ(33,"input",15),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"div",16)(36,"label",17),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"app-required-field"),e.qZA(),e._UZ(40,"input",18),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",9)(43,"label",19),e._uU(44),e.ALo(45,"translate"),e._UZ(46,"app-required-field"),e.qZA(),e._UZ(47,"p-dropdown",20),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",21)(50,"label",22),e._uU(51),e.ALo(52,"translate"),e._UZ(53,"app-required-field"),e.qZA(),e._UZ(54,"input",23),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"div",21)(57,"label",24),e._uU(58),e.ALo(59,"translate"),e._UZ(60,"app-required-field"),e.qZA(),e._UZ(61,"input",25),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"div",21)(64,"label",26),e._uU(65),e.ALo(66,"translate"),e._UZ(67,"app-required-field"),e.qZA(),e._UZ(68,"p-calendar",27),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",28)(71,"label",29),e._uU(72),e.ALo(73,"translate"),e.qZA(),e._UZ(74,"p-dropdown",30),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"div",21)(77,"label",31),e._uU(78),e.ALo(79,"translate"),e._UZ(80,"app-required-field"),e.qZA(),e._UZ(81,"p-dropdown",32),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"div",28)(84,"label",33),e._uU(85),e.ALo(86,"translate"),e.qZA(),e._UZ(87,"p-dropdown",34),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"div",21)(90,"label",35),e._uU(91),e.ALo(92,"translate"),e._UZ(93,"app-required-field"),e.qZA(),e._UZ(94,"p-dropdown",36),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"div",21)(97,"label",37),e._uU(98),e.ALo(99,"translate"),e._UZ(100,"app-required-field"),e.qZA(),e._UZ(101,"p-dropdown",38),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"div",21)(104,"label",39),e._uU(105),e.ALo(106,"translate"),e._UZ(107,"app-required-field"),e.qZA(),e._UZ(108,"p-dropdown",40),e.ALo(109,"translate"),e.qZA(),e.TgZ(110,"div",21)(111,"label",41),e._uU(112),e.ALo(113,"translate"),e._UZ(114,"app-required-field"),e.qZA(),e._UZ(115,"p-dropdown",42),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"div",21)(118,"label",43),e._uU(119),e.ALo(120,"translate"),e._UZ(121,"app-required-field"),e.qZA(),e._UZ(122,"p-dropdown",44),e.ALo(123,"translate"),e.qZA(),e.TgZ(124,"div",21)(125,"label",45),e._uU(126),e.ALo(127,"translate"),e._UZ(128,"app-required-field"),e.qZA(),e._UZ(129,"p-dropdown",46),e.ALo(130,"translate"),e.qZA(),e.TgZ(131,"div",21)(132,"label",47),e._uU(133),e.ALo(134,"translate"),e._UZ(135,"app-required-field"),e.qZA(),e._UZ(136,"p-dropdown",48),e.ALo(137,"translate"),e.qZA(),e.TgZ(138,"div",28)(139,"label",49),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"p-dropdown",50),e.ALo(143,"translate"),e.qZA(),e.TgZ(144,"div",28)(145,"label",51),e._uU(146),e.ALo(147,"translate"),e.qZA(),e._UZ(148,"p-dropdown",52),e.ALo(149,"translate"),e.qZA(),e.TgZ(150,"div",28)(151,"label",53),e._uU(152),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"p-dropdown",54),e.ALo(155,"translate"),e.qZA(),e.TgZ(156,"div",55),e._UZ(157,"p-inputSwitch",56),e.TgZ(158,"label",57),e._uU(159),e.ALo(160,"translate"),e.qZA()(),e.TgZ(161,"div",55),e._UZ(162,"p-inputSwitch",58),e.TgZ(163,"label",59),e._uU(164),e.ALo(165,"translate"),e.qZA()(),e.TgZ(166,"div",55),e._UZ(167,"p-inputSwitch",60),e.TgZ(168,"label",61),e._uU(169),e.ALo(170,"translate"),e.qZA()(),e.TgZ(171,"div",55),e._UZ(172,"p-inputSwitch",62),e.TgZ(173,"label",63),e._uU(174),e.ALo(175,"translate"),e.qZA()(),e.TgZ(176,"div",28)(177,"label",64),e._uU(178),e.ALo(179,"translate"),e.qZA(),e._UZ(180,"input",65),e.ALo(181,"translate"),e.qZA(),e.TgZ(182,"div",28)(183,"label",66),e._uU(184),e.ALo(185,"translate"),e.qZA(),e._UZ(186,"p-dropdown",67),e.ALo(187,"translate"),e.qZA(),e.TgZ(188,"div",28)(189,"label",68),e._uU(190),e.ALo(191,"translate"),e.qZA(),e._UZ(192,"p-dropdown",69),e.ALo(193,"translate"),e.qZA(),e.TgZ(194,"div",21)(195,"label",70),e._uU(196),e.ALo(197,"translate"),e._UZ(198,"app-required-field"),e.qZA(),e._UZ(199,"p-calendar",71),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"div",21)(202,"label",72),e._uU(203),e.ALo(204,"translate"),e._UZ(205,"app-required-field"),e.qZA(),e._UZ(206,"p-calendar",73),e.ALo(207,"translate"),e.qZA(),e.TgZ(208,"div",28)(209,"label",74),e._uU(210),e.ALo(211,"translate"),e.qZA(),e._UZ(212,"p-calendar",75),e.ALo(213,"translate"),e.qZA(),e.TgZ(214,"div",76)(215,"label",77),e._uU(216),e.ALo(217,"translate"),e.qZA(),e._UZ(218,"input",78),e.ALo(219,"translate"),e.qZA(),e.TgZ(220,"div",79),e._UZ(221,"input",80),e.qZA(),e.TgZ(222,"div",81)(223,"button",82),e.NdJ("click",function(){return n.registerSubmit(n.registerForm)}),e._uU(224),e.ALo(225,"translate"),e.qZA()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("formGroup",n.registerForm),e.xp6(5),e.Oqu(e.lcZ(8,136,"Add New Employee")),e.xp6(4),e.Q6J("multiple",!1)("chooseLabel",e.lcZ(12,138,"Insert Personal Image")),e.xp6(5),e.hij("",e.lcZ(17,140,"Full Name with Arabic")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(20,142,"Enter Arabic Name")),e.xp6(4),e.hij("",e.lcZ(24,144,"Full Name with English")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(27,146,"Enter English Name")),e.xp6(4),e.hij("",e.lcZ(31,148,"National Id")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(34,150,"Enter National Id")),e.xp6(4),e.hij("",e.lcZ(38,152,"Address")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(41,154,"Enter Address")),e.xp6(4),e.hij("",e.lcZ(45,156,"Government")," "),e.xp6(3),e.Q6J("options",n.dropdownItemsGovernment)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.lcZ(48,158,"Select Government")),e.xp6(4),e.hij("",e.lcZ(52,160,"Phone")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(55,162,"Select Phone")),e.xp6(4),e.hij("",e.lcZ(59,164,"Email")," "),e.xp6(3),e.Q6J("placeholder",e.lcZ(62,166,"Select Email")),e.xp6(4),e.hij("",e.lcZ(66,168,"BirthDate")," "),e.xp6(3),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(69,170,"Select BirthDate")),e.xp6(4),e.hij("",e.lcZ(73,172,"Religion")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsReligin)("placeholder",e.lcZ(75,174,"Select Religion")),e.xp6(4),e.hij("",e.lcZ(79,176,"Marital Status")," "),e.xp6(3),e.Q6J("options",n.dropdownItemsMaritalStatus)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.lcZ(82,178,"Select Marital Status")),e.xp6(4),e.Oqu(e.lcZ(86,180,"Blood Types")),e.xp6(2),e.Q6J("options",n.dropdownItemsBloodTypes)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.lcZ(88,182,"Select Blood Types")),e.xp6(4),e.hij("",e.lcZ(92,184,"Gender")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsGender)("placeholder",e.lcZ(95,186,"Select Gender")),e.xp6(4),e.hij("",e.lcZ(99,188,"Qualification")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsQualification)("placeholder",e.lcZ(102,190,"Select Qualification")),e.xp6(4),e.hij("",e.lcZ(106,192,"Attendance Configuration")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsAttendanceConfiguration)("placeholder",e.lcZ(109,194,"Select Attendance Configuration")),e.xp6(4),e.hij("",e.lcZ(113,196,"Job")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsJob)("placeholder",e.lcZ(116,198,"Select Job")),e.xp6(4),e.hij("",e.lcZ(120,200,"Department")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsDepartment)("placeholder",e.lcZ(123,202,"Select Department")),e.xp6(4),e.hij("",e.lcZ(127,204,"Partition")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsPartition)("placeholder",e.lcZ(130,206,"Select Partition")),e.xp6(4),e.hij("",e.lcZ(134,208,"Shift")," "),e.xp6(3),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsShift)("placeholder",e.lcZ(137,210,"Select Shift")),e.xp6(4),e.Oqu(e.lcZ(141,212,"Bank")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsBank)("placeholder",e.lcZ(143,214,"Select Bank")),e.xp6(4),e.Oqu(e.lcZ(147,216,"Grade")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsGrade)("placeholder",e.lcZ(149,218,"Select Grade")),e.xp6(4),e.Oqu(e.lcZ(153,220,"Job Nature")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsJobNature)("placeholder",e.lcZ(155,222,"Select Job Nature")),e.xp6(5),e.Oqu(e.lcZ(160,224,"Is Insured")),e.xp6(5),e.Oqu(e.lcZ(165,226,"Is Manager")),e.xp6(5),e.Oqu(e.lcZ(170,228,"Is Static Shift")),e.xp6(5),e.Oqu(e.lcZ(175,230,"Is Static Vacation")),e.xp6(4),e.Oqu(e.lcZ(179,232,"Machine Code")),e.xp6(2),e.Q6J("placeholder",e.lcZ(181,234,"Select Machine Code")),e.xp6(4),e.Oqu(e.lcZ(185,236,"Recuritment Source")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsRecuritmentSource)("placeholder",e.lcZ(187,238,"Select Recuritment Source")),e.xp6(4),e.Oqu(e.lcZ(191,240,"Contract Type")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsContractType)("placeholder",e.lcZ(193,242,"Select Contract Type")),e.xp6(4),e.hij("",e.lcZ(197,244,"Join In Date")," "),e.xp6(3),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(200,246,"Join In Date")),e.xp6(4),e.hij("",e.lcZ(204,248,"Contract Start Date")," "),e.xp6(3),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(207,250,"Contract Start Date")),e.xp6(4),e.Oqu(e.lcZ(211,252,"Contract End Date")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(213,254,"Contract End Date")),e.xp6(4),e.Oqu(e.lcZ(217,256,"Description")),e.xp6(2),e.Q6J("placeholder",e.lcZ(219,258,"Enter Description")),e.xp6(5),e.Q6J("disabled",!n.registerForm.valid),e.xp6(1),e.hij(" ",e.lcZ(225,260,"Register")," "))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,P.N,ei.M,f.X$,y.g,u.jx,J.p,w.Hq,N.FN,I.o,E.g,O.Lt,Y.f,ae.Ql],styles:[".field{margin-bottom:unset!important;padding:10px}  .p-fileupload .p-button{background-color:#fff!important;border:none}  .p-fluid .p-button-icon-only{border:none!important}  .p-fileupload-buttonbar .ng-star-inserted{display:none}"]})}return l})(),ii=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const si=["dt"];function ri(l,r){1&l&&e._UZ(0,"pre-loading")}function ci(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function pi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function di(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelectedUniformCode())})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedUnifromCode=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedDate=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedNotes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",20)(32,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,24,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,26,"Select Employee"))("filter",!0),e.xp6(4),e.Oqu(e.lcZ(10,28,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCode)("placeholder",e.lcZ(12,30,"Select Uniform Code"))("showClear",!0),e.xp6(4),e.hij("",e.lcZ(16,32,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(18,34,"MM/DD/YYYY"))("ngModel",t.selectedDate),e.xp6(4),e.hij("",e.lcZ(22,36,"Cost")," "),e.xp6(2),e.Q6J("ngModel",t.selectedCost)("placeholder",e.lcZ(24,38,"Enter Cost Here")),e.xp6(4),e.hij("",e.lcZ(28,40,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.selectedNotes)("placeholder",e.lcZ(30,42,"Enter notes Here")),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(33,44,"Insert New"))}}function ui(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function mi(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,10,"UniformCodeName")),e.xp6(3),e.Oqu(e.lcZ(8,12,"Employee")),e.xp6(3),e.Oqu(e.lcZ(11,14,"Date")),e.xp6(3),e.Oqu(e.lcZ(14,16,"Cost")),e.xp6(3),e.Oqu(e.lcZ(17,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(20,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(23,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(26,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(29,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(32,28,"Actions")))}const rt=l=>({"null-color":l});function gi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",38),e.qZA(),e.TgZ(3,"td")(4,"span",39),e._uU(5,"uniformCodeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",39),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",39),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"span",39),e._uU(18,"cost"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"span",39),e._uU(22,"nots"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",40)(25,"span",39),e._uU(26,"creationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",40)(30,"span",39),e._uU(31,"lastModificationTime"),e.qZA(),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td",40)(35,"span",39),e._uU(36,"creatorName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",40)(39,"span",39),e._uU(40,"lastModifierName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"div",41)(44,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(45,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.uniformCodeName?t.uniformCodeName:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",e.xi3(15,14,t.date,"yyyy-MM-dd")," "),e.xp6(5),e.hij(" ",t.cost?t.cost:""," "),e.xp6(4),e.hij(" ",t.nots?t.nots:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,rt,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(28,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,rt,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(33,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,rt,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,rt,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const _n=l=>({"ng-invalid ng-dirty":l});function _i(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",44),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",46),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-calendar",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.date=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",23),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",48),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelectedUniformCode())})("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedUnifromCodeEdit=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.nots=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",50)(32,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(35,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,28,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,30,"All Employees"))("filter",!0),e.xp6(4),e.Oqu(e.lcZ(10,32,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(12,34,"MM/DD/YYYY"))("ngModel",t.product.date)("ngClass",e.VKq(52,_n,t.submitted&&!t.product.date)),e.xp6(4),e.Oqu(e.lcZ(16,36,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCodeEdit)("placeholder",e.lcZ(18,38,"Select Uniform Code"))("showClear",!0)("filter",!0)("ngClass",e.VKq(54,_n,t.submitted&&!t.product.uniformCodeId)),e.xp6(4),e.hij("",e.lcZ(22,40,"Cost")," "),e.xp6(2),e.Q6J("ngModel",t.product.cost)("placeholder",e.lcZ(24,42,"Enter cost")),e.xp6(4),e.hij("",e.lcZ(28,44,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.product.nots)("placeholder",e.lcZ(30,46,"Enter nots Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,48,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(35,50,"Save"))("disabled",!t.editForm.valid)}}function hi(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,2,"Are you sure you want to delete")),e.xp6(3),e.Oqu(t.product.name)}}function fi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Zi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const ct=()=>({width:"450px"});let xi=(()=>{class l{constructor(t,o,n,a){this._EmployeeUniformService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeUniform",this._EmployeeUniformService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"uniformCodeName",header:"UniformCodeName"},{field:"date",header:"Date"},{field:"cost",header:"Cost"},{field:"notes",header:"notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new i.cw({employeeId:new i.NI(null,i.kI.required),uniformCodeId:new i.NI(null,i.kI.required),date:new i.NI(null,i.kI.required),cost:new i.NI(null,i.kI.required),nots:new i.NI(null)}),this.editForm=new i.cw({id:new i.NI(null,i.kI.required),employeeId:new i.NI(null,i.kI.required),uniformCodeId:new i.NI(null,i.kI.required),date:new i.NI(null,i.kI.required),cost:new i.NI(null,i.kI.required),nots:new i.NI(null)})}getDropDownEmployee(){this._EmployeeUniformService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getDropDown(){this._EmployeeUniformService.getDropDown("UniformCodes").subscribe({next:t=>{this.uniformCodesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeUniformService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.selectedUnifromCodeEdit=this.uniformCodesDropDown.find(n=>n.id==this.product.uniformCodeId),this.editForm.patchValue({id:this.product.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots})}})}confirmDelete(t){this._EmployeeUniformService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.selectedDate=this.DatePipe.transform(this.selectedDate,"yyyy-MM-dd"),this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,uniformCodeId:this.selectedUnifromCode?.id,date:this.selectedDate,cost:this.selectedCost,nots:this.selectedNotes}),this.addNewForm.valid&&this._EmployeeUniformService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this._EmployeeUniformService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,this.selectedDateEdit=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.product.date=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.editForm.patchValue({id:o.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots}),this.editForm.valid&&this._EmployeeUniformService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeUniformService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ii),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-uniform"]],viewQuery:function(o,n){if(1&o&&e.Gf(si,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["formControlName","employeeId","optionLabel","name","filterBy","name",3,"ngModel","options","placeholder","filter","ngModelChange"],["htmlFor","uniformCode"],["formControlName","uniformCodeId","optionLabel","name",3,"options","ngModel","placeholder","showClear","onChange","ngModelChange"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","cost"],["pInputText","","formControlName","cost","id","cost","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","nots"],["pInputText","","id","nots","formControlName","nots","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId","filterBy","name",3,"ngModel","options","placeholder","filter","ngModelChange","onChange"],["for","date"],["formControlName","date","inputId","icon","autofocus","",3,"showIcon","iconDisplay","placeholder","ngModel","ngClass","ngModelChange"],["optionLabel","name","formControlName","uniformCodeId","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","ngClass","onChange","ngModelChange"],["pInputText","","formControlName","nots","id","nots","type","text",3,"ngModel","placeholder","ngModelChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ri,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,ci,5,7,"ng-template",2)(4,pi,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,di,34,46,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ui,8,7,"ng-template",8)(12,mi,33,30,"ng-template",9)(13,gi,46,31,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,_i,36,56,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,hi,6,4,"span",0),e.qZA(),e.YNc(22,fi,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Zi,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,ct)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,ct)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,ct)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,ct)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,Y.f,U.u],styles:[".p-dialog{overflow:hidden}"]})}return l})(),Ci=(()=>{class l extends v.P{constructor(t){super(t)}getDropDownManager(t){return this.http.get(`${this.baseurl}/${t}/GetMangerDropDown/?culture=${this.culture}`)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const bi=["dt"];function Ai(l,r){1&l&&e._UZ(0,"pre-loading")}function Ti(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function yi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedManager=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeManager())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"button",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(15,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,16,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,18,"Select Employee"))("filter",!0)("filterBy","name"),e.xp6(4),e.Oqu(e.lcZ(10,20,"Manager")),e.xp6(2),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManager)("placeholder",e.lcZ(12,22,"Select a manager"))("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(15,24,"Insert New"))}}function wi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",26)(1,"h5",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",28),e._UZ(5,"i",29),e.TgZ(6,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ni(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",31),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,7,"Employee")),e.xp6(3),e.Oqu(e.lcZ(8,9,"Manager")),e.xp6(3),e.Oqu(e.lcZ(11,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(14,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(17,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(20,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(23,19,"Actions")))}const pt=l=>({"null-color":l});function Mi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",32),e.qZA(),e.TgZ(3,"td")(4,"span",33),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",33),e._uU(9,"mangerName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",34)(12,"span",33),e._uU(13,"creationTime"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",34)(17,"span",33),e._uU(18,"lastModificationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",34)(22,"span",33),e._uU(23,"creatorName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",34)(26,"span",33),e._uU(27,"lastModifierName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",35)(31,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(32,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.mangerName?t.mangerName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(17,pt,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,pt,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(21,pt,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,pt,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function vi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",38),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",39),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedManagerEdit=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeManagerEdit())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",41)(14,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(17,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,13,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,15,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,17,"Manager")),e.xp6(2),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManagerEdit)("placeholder",e.lcZ(12,19,"Select a manager"))("showClear",!0),e.xp6(3),e.Q6J("label",e.lcZ(15,21,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(17,23,"Save"))("disabled",!t.editForm.valid)}}function Di(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ii(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Pi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const dt=()=>({width:"450px"});let Fi=(()=>{class l{constructor(t,o,n){this._EmployeeManagerService=t,this.messageService=o,this.route=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeManager",this._EmployeeManagerService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation(),this.getDropDownEmployee(),this.initFormGroups()}getLocation(){this._EmployeeManagerService.getDropDownManager("Employee").subscribe({next:t=>{console.log(t.data),this.managerDropDown=t.data}})}getDropDownEmployee(){this._EmployeeManagerService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}initFormGroups(){this.addNewForm=new i.cw({employeeId:new i.NI(null,i.kI.required),mangerId:new i.NI(null,i.kI.required)}),this.editForm=new i.cw({id:new i.NI(null,i.kI.required),employeeId:new i.NI(null,i.kI.required),mangerId:new i.NI(null,i.kI.required)})}editProduct(t){this._EmployeeManagerService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedManagerEdit=this.managerDropDown.find(n=>n.id==this.product.mangerId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({id:this.product.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id})}})}confirmDelete(t){this._EmployeeManagerService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee?.id,mangerId:this.selectedManager?.id}),this.loading=!0,this.addNewForm.valid&&this._EmployeeManagerService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.loading=!1,this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,!1)}setFieldsNulls(){this.selectedManager=null}loadData(t,o,n,a,s,p){let d={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};d.sortType=this.sortOrder,console.log("FilteredData"),this.loading=null==p||p,console.log(d),this._EmployeeManagerService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({id:t.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),this.editForm.valid&&this._EmployeeManagerService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeManagerService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Ci),e.Y36(u.ez),e.Y36(G.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-manager"]],viewQuery:function(o,n){if(1&o&&e.Gf(bi,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","filter","filterBy","ngModelChange"],["htmlFor","manager"],["optionLabel","name","formControlName","mangerId",3,"options","ngModel","placeholder","showClear","filter","filterBy","ngModelChange","onChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange","onChange"],["optionLabel","name","formControlName","mangerId",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ai,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Ti,5,7,"ng-template",2)(4,yi,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,qi,16,26,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,wi,8,7,"ng-template",8)(12,Ni,24,21,"ng-template",9)(13,Mi,33,25,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,vi,18,25,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Di,6,4,"span",0),e.qZA(),e.YNc(22,Ii,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Pi,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,dt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,dt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,dt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,dt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,U.u],styles:[".p-dialog{height:100%;box-shadow:none;justify-content:center}"]})}return l})(),Li=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ji=["dt"];function Ui(l,r){1&l&&e._UZ(0,"pre-loading")}function Si(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ki(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",18,19),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("chooseLabel",e.lcZ(2,4,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Oi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21)(1,"div",22)(2,"label",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",22)(8,"label",25),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLocation=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeLocation())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",22)(14,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(15,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Select Employee")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,20,"Select Employee")),e.xp6(4),e.Oqu(e.lcZ(10,22,"Location")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",t.locationDropDown)("ngModel",t.selectedLocation)("placeholder",e.lcZ(12,24,"Select a Location"))("showClear",!0),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(15,26,"Insert New"))}}function Ei(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ri(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",33),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,7,"Employee")),e.xp6(3),e.Oqu(e.lcZ(8,9,"Location")),e.xp6(3),e.Oqu(e.lcZ(11,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(14,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(17,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(20,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(23,19,"Actions")))}const ut=l=>({"null-color":l});function Qi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td")(4,"span",35),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",35),e._uU(9,"locationName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",36)(12,"span",35),e._uU(13,"creationTime"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",36)(17,"span",35),e._uU(18,"lastModificationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",36)(22,"span",35),e._uU(23,"creatorName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",36)(26,"span",35),e._uU(27,"lastModifierName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",37)(31,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(32,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.locationName?t.locationName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(17,ut,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,ut,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(21,ut,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,ut,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ji(l,r){1&l&&(e.TgZ(0,"small",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"location is required.")))}function Vi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",21)(1,"div",22)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",22)(8,"label",25),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLocationEdit=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeLocationEdit())}),e.ALo(12,"translate"),e.qZA(),e.YNc(13,ji,3,3,"small",43),e.qZA(),e.TgZ(14,"div",44)(15,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(18,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,20,"Select Employee")),e.xp6(2),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,22,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,24,"Location")),e.xp6(2),e.s9C("placeholder",e.lcZ(12,26,"Select a Location")),e.Q6J("filter",!0)("showClear",!0)("filterBy","name")("options",t.locationDropDown)("ngModel",t.selectedLocationEdit)("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.locationId),e.xp6(2),e.Q6J("label",e.lcZ(16,28,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(18,30,"Save"))("disabled",!t.editForm.valid)}}function Ki(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Gi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Hi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const mt=()=>({width:"450px"});let Yi=(()=>{class l{constructor(t,o,n,a){this._EmployeeLocationService=t,this.messageService=o,this.translate=n,this.route=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeLocation",this._EmployeeLocationService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeLocationService.setCulture(t),this._EmployeeLocationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.getLocation(),this.getDropDownEmployee(),this.initFormGroups()})}initFormGroups(){this.addNewForm=new i.cw({employeeId:new i.NI(null,i.kI.required),locationId:new i.NI(null,i.kI.required)}),this.editForm=new i.cw({Id:new i.NI(null,i.kI.required),employeeId:new i.NI(null,i.kI.required),locationId:new i.NI(null,i.kI.required)})}getDropDownEmployee(){this._EmployeeLocationService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getLocation(){this._EmployeeLocationService.getDropDown("Location").subscribe({next:t=>{console.log(t.data),this.locationDropDown=t.data}})}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._EmployeeLocationService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}editProduct(t){console.log("edit works"),this._EmployeeLocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedLocationEdit=this.locationDropDown.find(n=>n.id==this.product.locationId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({Id:this.product.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.log(this.editForm.value)}})}confirmDelete(t){let o=[t];this.loading=!0,this._EmployeeLocationService.DeleteRange(o).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,locationId:this.selectedLocationId}),this.loading=!0,this.addNewForm.valid&&this._EmployeeLocationService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedLocation=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}onChangeLocation(){this.selectedLocationId=this.selectedLocation?.id}onChangeLocationEdit(){this.selectedLocationEditId=this.selectedLocationEdit?.id}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this.loading=!0,this._EmployeeLocationService.GetPage(p).subscribe({next:d=>{this.loading=!1,console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({Id:t.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.clear(),this.editForm.valid?(console.log("edited Form here =====================> ",this.editForm.value),this.loading=!0,this._EmployeeLocationService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})):console.log("Form Not Valid because body is : ",this.editForm.value)}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EmployeeLocationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Li),e.Y36(u.ez),e.Y36(f.sK),e.Y36(G.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-location"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ji,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"filter","showClear","filterBy","ngModel","options","placeholder","ngModelChange"],["htmlFor","location"],["optionLabel","name","formControlName","locationId",3,"filter","showClear","filterBy","options","ngModel","placeholder","ngModelChange","onChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"filter","showClear","filterBy","ngModel","options","placeholder","ngModelChange","onChange"],["formControlName","locationId","optionLabel","name",3,"filter","showClear","filterBy","options","ngModel","placeholder","ngModelChange","onChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ui,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Si,5,7,"ng-template",2)(4,ki,5,8,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Oi,16,28,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Ei,8,7,"ng-template",8)(12,Ri,24,21,"ng-template",9)(13,Qi,33,25,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Vi,19,32,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Ki,6,4,"span",0),e.qZA(),e.YNc(22,Gi,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Hi,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,mt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,mt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,mt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,mt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,O.Lt,U.u]})}return l})(),Bi=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const zi=["dt"];function $i(l,r){1&l&&e._UZ(0,"pre-loading")}function Wi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Xi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function es(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRelativeRelation=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectRelativeRelation(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"textarea",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.discreption=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p-fileUpload",29),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelect(n))}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",19)(32,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,25,"Select Employee"))("filter",!0)("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(10,27,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(12,29,"Enter Document Required Type")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(18,33,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discreption)("placeholder",e.lcZ(24,37,"Enter Discription Here")),e.xp6(4),e.hij("",e.lcZ(28,39,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(30,41,"Choose")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Insert New"))("disabled",!t.addNewForm.valid)}}function ts(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"label",22),e._uU(2,"RelativeRelation Type"),e.qZA(),e.TgZ(3,"p-dropdown",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRelativeRelation=n)}),e.qZA()(),e.TgZ(4,"div",19)(5,"label",24),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p-calendar",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.date=n)}),e.qZA()(),e.TgZ(9,"div",19)(10,"label",34),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.cost=n)}),e.qZA()(),e.TgZ(14,"div",19)(15,"label",26),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"textarea",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nots=n)}),e.qZA()(),e.TgZ(19,"div",19)(20,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType),e.xp6(3),e.Oqu(e.lcZ(7,10,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date),e.xp6(3),e.Oqu(e.lcZ(12,12,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost),e.xp6(3),e.Oqu(e.lcZ(17,14,"Notes")),e.xp6(2),e.Q6J("ngModel",t.nots)}}function ns(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Document Required Name")," "),e.xp6(3),e.Oqu(e.lcZ(8,12,"Employee Name")),e.xp6(3),e.Oqu(e.lcZ(11,14,"Date")),e.xp6(3),e.Oqu(e.lcZ(14,16,"Url")),e.xp6(3),e.Oqu(e.lcZ(17,18,"Discription")),e.xp6(3),e.Oqu(e.lcZ(20,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(23,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(26,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(29,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(32,28,"Actions")))}const xe=l=>({"null-color":l});function os(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",39),e.qZA(),e.TgZ(3,"td",40)(4,"span",41),e._uU(5,"documentRequiredName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",40)(8,"span",41),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",40)(12,"span",41),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td")(17,"span",41),e._uU(18,"Url"),e.qZA(),e.TgZ(19,"a",42),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"td",40)(23,"span",41),e._uU(24,"discreption"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",40)(27,"span",41),e._uU(28,"creationTime"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",40)(31,"span",41),e._uU(32,"lastModificationTime"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",40)(35,"span",41),e._uU(36,"creatorName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",40)(39,"span",41),e._uU(40,"lastModifierName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"div",43)(44,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(45,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(24,xe,!t.documentRequiredName)),e.xp6(3),e.hij(" ",t.documentRequiredName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,xe,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,xe,!t.date)),e.xp6(3),e.hij(" ",e.xi3(15,19,t.date,"dd/MM/YYYY")," "),e.xp6(5),e.Q6J("href",o.baseUrlFile.concat("/",t.url),e.LSH),e.xp6(1),e.Oqu(e.lcZ(21,22,"View")),e.xp6(2),e.Q6J("ngClass",e.VKq(30,xe,!t.discreption)),e.xp6(3),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,xe,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,xe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,xe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,xe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ls(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",46),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantEditFun(n))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRelativeRelationEdit=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRelativeRelationEditFun(n))}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.date=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discreption=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",28),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p-fileUpload",50,51),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(29),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(30,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,19,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(5,21,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(9,23,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelationEdit)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(11,25,"Enter Document Required Type")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(17,29,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discreption)("placeholder",e.lcZ(23,33,"Enter Discription Here")),e.xp6(4),e.hij(" ",e.lcZ(27,35,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(30,37,"Import File"))("auto",!0)}}function as(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function is(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function ss(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function rs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const gt=()=>({width:"450px"});let cs=(()=>{class l{constructor(t,o,n,a){this.employeeFileService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.baseUrlFile=nt.N.mediaUrl}ngOnInit(){this.endPoint="EmployeeFile",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFileService.setCulture(t),this.employeeFileService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new i.cw({DocumentRequiredId:new i.NI(null,i.kI.required),EmployeeId:new i.NI(null,i.kI.required),Date:new i.NI(null,i.kI.required),Discreption:new i.NI(null,i.kI.required),File:new i.NI(null)}),this.editForm=new i.cw({Id:new i.NI(null,i.kI.required),DocumentRequiredId:new i.NI(null,i.kI.required),EmployeeId:new i.NI(null,i.kI.required),Date:new i.NI(null,i.kI.required),Discreption:new i.NI(null,i.kI.required),File:new i.NI(null)})}editProduct(t){console.log(t.id),this.loading=!0,t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeFileService.GetById(t.id).subscribe({next:o=>{this.loading=!1,console.log(o.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(n=>n.id==o.data.documentRequiredId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==o.data.employeeId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),o.data.date=this.convertDate(o.data.date,"MM/dd/yyyy"),console.log(o.data.date),this.product={...o.data},this.productDialog=!0},error:()=>{this.loading=!1}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.loading=!0,this.employeeFileService.DeleteRange([t]).subscribe({next:()=>{this.loading=!1,this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}getDropDownEmployee(){this.employeeFileService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}addNew(){if(this.addNewForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationType,EmployeeId:this.selectedEmployee.id,Date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),Discreption:this.discreption,File:this.file}),this.addNewForm.valid){const t=this.mapToFormData(this.addNewForm.value);this.loading=!0,this.employeeFileService.Register(t).subscribe({next:o=>{this.loading=!1,console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.date=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.loading=!0,this.employeeFileService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,console.log(this.selectedItems),this.loading=!1},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){if(this.submitted=!0,this.editForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationEdit.id,Id:o.id,EmployeeId:this.selectedEmployeeEdit.id,Date:this.convertDate(o.date,"yyyy-MM-ddTHH:mm:ss"),PersonName:o.personName,Discreption:o.discreption,File:this.file}),this.editForm.valid){const n=this.mapToFormData(this.editForm.value);this.loading=!0,this.employeeFileService.Edit(n).subscribe({next:()=>{this.loading=!1,this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this.employeeFileService.DeleteRange(t).subscribe({next:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getRelativeRelationTypes(){this.employeeFileService.getDropdownField("DocumentRequired").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Bi),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-file"]],viewQuery:function(o,n){if(1&o&&e.Gf(zi,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:31,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","EmployeeId","filterBy","name",3,"ngModel","options","placeholder","filter","showClear","ngModelChange"],["htmlFor","ContractType"],["optionLabel","name","formControlName","DocumentRequiredId",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","Date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Discreption","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","date"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","formControlName","File","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],["pButton","",1,"w-25",3,"label","disabled","click"],[1,"field","col-12"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModel","options","ngModelChange"],["name","date","inputId","date","placeholder","date",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModel","ngModelChange"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModel","ngModelChange"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,$i,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Wi,5,7,"ng-template",2)(4,Xi,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,es,34,45,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ts,21,16,"ng-template",5)(12,ns,33,30,"ng-template",8)(13,os,46,40,"ng-template",9),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,ls,31,39,"ng-template",5)(17,as,4,6,"ng-template",10),e.qZA(),e.TgZ(18,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(19,"translate"),e.TgZ(20,"div",12),e._UZ(21,"i",13),e.YNc(22,is,6,4,"span",0),e.qZA(),e.YNc(23,ss,4,6,"ng-template",10),e.qZA(),e.TgZ(24,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(25,"translate"),e.TgZ(26,"div",12),e._UZ(27,"i",13),e.TgZ(28,"span"),e._uU(29,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(30,rs,4,6,"ng-template",10),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,gt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,gt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(43,gt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(19,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,gt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(25,39,"Confirm Delete"))("modal",!0))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,Y.f,U.u]})}return l})(),ps=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ds=["dt"];function us(l,r){1&l&&e._UZ(0,"pre-loading")}function ms(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _s(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenant=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectCovenant(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",26),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.serialNumber=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",19)(32,"label",29),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"textarea",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.notes=n)}),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",19)(38,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(39,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,29,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(6,31,"Enter Covenant Type"))("filter",!0)("filterBy","name"),e.xp6(4),e.Oqu(e.lcZ(10,33,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("filterBy","name")("placeholder",e.lcZ(12,35,"Select Employee"))("filter",!0),e.xp6(4),e.hij("",e.lcZ(16,37,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(18,39,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,41,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(24,43,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(28,45,"serialNumber")),e.xp6(2),e.Q6J("ngModel",t.serialNumber)("placeholder",e.lcZ(30,47,"Enter serialNumber Here")),e.xp6(4),e.Oqu(e.lcZ(34,49,"Notes")),e.xp6(2),e.Q6J("ngModel",t.notes)("placeholder",e.lcZ(36,51,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(39,53,"Insert New"))}}function hs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenant=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.date=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",26),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.cost=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.serialNumber=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",29),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.notes=n)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",19)(31,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,19,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(5,21,"Enter Covenant Type")),e.xp6(4),e.hij(" ",e.lcZ(9,23,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(11,25,"Date")),e.xp6(4),e.Oqu(e.lcZ(15,27,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(17,29,"Enter Cost here")),e.xp6(4),e.Oqu(e.lcZ(21,31,"serialNumber")),e.xp6(2),e.Q6J("ngModel",t.serialNumber)("placeholder",e.lcZ(23,33,"Enter serialNumber here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Notes")),e.xp6(2),e.Q6J("ngModel",t.notes)("placeholder",e.lcZ(29,37,"Enter notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(32,39,"Insert New"))}}function fs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",39),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",40),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",41),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,13,"Employee Name")),e.xp6(3),e.Oqu(e.lcZ(12,15,"Date")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Cost")),e.xp6(3),e.Oqu(e.lcZ(18,19,"serialNumber")),e.xp6(3),e.Oqu(e.lcZ(21,21,"Notes")),e.xp6(3),e.Oqu(e.lcZ(24,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Actions")))}const ie=l=>({"null-color":l});function Zs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",42),e.qZA(),e.TgZ(3,"td",43)(4,"span",44),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",43)(8,"span",44),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"span",44),e._uU(13,"date"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",43)(16,"span",44),e._uU(17,"cost"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",43)(20,"span",44),e._uU(21,"serialNumber"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",43)(24,"span",44),e._uU(25,"notes"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",43)(28,"span",44),e._uU(29,"creationTime"),e.qZA(),e._uU(30),e.ALo(31,"date"),e.qZA(),e.TgZ(32,"td",43)(33,"span",44),e._uU(34,"lastModificationTime"),e.qZA(),e._uU(35),e.ALo(36,"date"),e.qZA(),e.TgZ(37,"td",43)(38,"span",44),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",43)(42,"span",44),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td")(46,"div",45)(47,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(48,"button",47),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,ie,!t.covenantName)),e.xp6(3),e.hij(" ",t.covenantName?t.covenantName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ie,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ie,!t.date)),e.xp6(3),e.hij(" ",t.date," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ie,!t.cost)),e.xp6(3),e.hij(" ",t.cost," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,ie,!t.serialNumber)),e.xp6(3),e.hij(" ",t.serialNumber," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,ie,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,ie,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(31,21,t.creationTime,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(41,ie,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(36,24,t.lastModificationTime,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(43,ie,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,ie,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function xs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",48),e.NdJ("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",49),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"p-dropdown",50),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",26),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.serialNumber=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",19)(32,"label",29),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"textarea",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",52)(38,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(41,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,26,"Covenant Type")),e.xp6(2),e.Q6J("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(6,28,"Enter Covenant Type"))("filter",!0)("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(10,30,"Select Employee")),e.xp6(2),e.Q6J("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(12,32,"All Employees"))("filter",!0),e.xp6(4),e.hij("",e.lcZ(16,34,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(18,36,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,38,"Cost")),e.xp6(2),e.Q6J("ngModel",t.product.cost)("placeholder",e.lcZ(24,40,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(28,42,"serialNumber")),e.xp6(2),e.Q6J("ngModel",t.product.serialNumber)("placeholder",e.lcZ(30,44,"Enter serialNumber here")),e.xp6(4),e.Oqu(e.lcZ(34,46,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(36,48,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(39,50,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(41,52,"Save"))}}function Cs(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function bs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function As(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const _t=()=>({width:"450px"});let Ts=(()=>{class l{constructor(t,o,n,a){this.employeeConvenantService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCovenant",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeConvenantService.setCulture(t),this.employeeConvenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getCovenantTypes(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new i.cw({covenantId:new i.NI("",i.kI.required),employeeId:new i.NI("",i.kI.required),date:new i.NI("",i.kI.required),cost:new i.NI("",i.kI.required),serialNumber:new i.NI("",i.kI.required),notes:new i.NI("")}),this.editForm=new i.cw({id:new i.NI("",i.kI.required),covenantId:new i.NI("",i.kI.required),employeeId:new i.NI("",i.kI.required),date:new i.NI("",i.kI.required),cost:new i.NI("",i.kI.required),serialNumber:new i.NI("",i.kI.required),notes:new i.NI("")})}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.loading=!0,this.employeeConvenantService.GetById(t.id).subscribe({next:o=>{this.loading=!1,console.log("edit here data"),console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedCovenantEdit=this.dropdownItemsCovenantType.find(n=>n.id==this.product.covenantId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),console.log("selectedCovenantEdit => "),console.log(this.selectedCovenantEdit),console.log("dropdownItemsEmployee => "),console.log(this.dropdownItemsEmployee),this.product.date=this.convertDate(this.product.date,"MM/dd/yyyy"),console.log(this.product.date)},error:()=>{this.loading=!1}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.loading=!0,this.employeeConvenantService.DeleteRange([t]).subscribe({next:()=>{this.loading=!1,this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}addNew(){this.addNewForm.patchValue({covenantId:this.selectedCovenant?.id,employeeId:this.selectedCovenant?.id}),this.addNewForm.valid&&this.employeeConvenantService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.addNewForm.clearValidators(),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedCovenantType=null,this.date=null,this.cost=null,this.notes=null,this.selectedCovenant=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}loadData(t,o,n,a,s){let p={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s};p.SortType=this.sortOrder,this.loading=!0;let d=this.mapToFormData(p);this.employeeConvenantService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({id:t.id}),console.clear(),console.log(this.editForm.value),this.editForm.valid&&this.employeeConvenantService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.employeeConvenantService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getCovenantTypes(){this.employeeConvenantService.getDropdownField("Covenant").subscribe({next:t=>{console.log(t),this.dropdownItemsCovenantType=t.data,console.log(this.dropdownItemsCovenantType)}})}getDropDownEmployee(){this.employeeConvenantService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}selectCovenant(t){console.log(t),this.selectedCovenantType=t.value.id,this.selectedCovenant=t.value}selectedCovenantEditFun(t){this.selectedCovenantEdit=t.value}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ps),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-covenant"]],viewQuery:function(o,n){if(1&o&&e.Gf(ds,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","ContractType"],["formControlName","covenantId","optionLabel","name",3,"ngModel","options","placeholder","filter","filterBy","ngModelChange","onChange"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","filterBy","placeholder","filter","ngModelChange"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","formControlName","cost","id","Cost","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputText","","formControlName","serialNumber","id","serialNumber","type","number",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"field","col-12"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputText","","id","Cost","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputText","","id","serialNumber","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","covenantId","optionLabel","name","optionValue","id","filterBy","name",3,"options","placeholder","filter","showClear","onChange"],["htmlFor","Employee"],["formControlName","employeeId","optionLabel","name","optionValue","id","filterPlaceholder","Search...",3,"options","placeholder","filter"],["pInputText","","id","serialNumberEdit","type","number",3,"ngModel","placeholder","ngModelChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,us,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,ms,5,7,"ng-template",2)(4,gs,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,_s,40,55,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,hs,33,41,"ng-template",5)(12,fs,37,33,"ng-template",8)(13,Zs,49,47,"ng-template",9),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,xs,42,54,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",11),e._UZ(20,"i",12),e.YNc(21,Cs,6,4,"span",0),e.qZA(),e.YNc(22,bs,4,6,"ng-template",13),e.qZA(),e.TgZ(23,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",11),e._UZ(26,"i",12),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,As,4,6,"ng-template",13),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,_t)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,_t)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,_t)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,_t)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,Y.f,U.u]})}return l})(),ys=(()=>{class l extends v.P{constructor(t){super(t)}updateUserLocked(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateUserLocked`,t)}assignRoles(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/assignroles/${t}`,o)}changePassword(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/changepassword/${t}`,o)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const qs=["dt"];function ws(l,r){1&l&&e._UZ(0,"pre-loading")}function Ns(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ms(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",25)(1,"h5",26),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",27),e._UZ(5,"i",28),e.TgZ(6,"input",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function vs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",30),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",31),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Employee Name")," "),e.xp6(3),e.Oqu(e.lcZ(8,12,"Username")),e.xp6(3),e.Oqu(e.lcZ(11,14,"Email")),e.xp6(3),e.Oqu(e.lcZ(14,16,"Roles")),e.xp6(3),e.Oqu(e.lcZ(17,18,"Locked")),e.xp6(3),e.Oqu(e.lcZ(20,20,"Change Password")),e.xp6(3),e.Oqu(e.lcZ(23,22,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(26,24,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(29,26,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(32,28,"lastModifierName")))}function Ds(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}const me=l=>({"null-color":l});function Is(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",32),e.qZA(),e.TgZ(3,"td",33)(4,"span",34),e._uU(5,"employeeNameAr"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",33)(8,"span",34),e._uU(9,"UserName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",33)(12,"span",34),e._uU(13,"Email"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",33)(16,"span",34),e._uU(17,"Roles"),e.qZA(),e.TgZ(18,"div",35)(19,"div",36),e.YNc(20,Ds,2,1,"span",37),e.qZA(),e.TgZ(21,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA()()(),e.TgZ(22,"td",33)(23,"span",34),e._uU(24,"Locked"),e.qZA(),e.TgZ(25,"div",39)(26,"p-inputSwitch",40),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.isLocked=n)}),e.qZA(),e.TgZ(27,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProductLock(a))}),e.qZA()()(),e.TgZ(28,"td")(29,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.changePassword(a.id))}),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"td",33)(33,"span",34),e._uU(34,"creationTime"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",33)(37,"span",34),e._uU(38,"lastModificationTime"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",33)(41,"span",34),e._uU(42,"creatorName"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",33)(45,"span",34),e._uU(46,"lastModifierName"),e.qZA(),e._uU(47),e.qZA()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(23,me,!t.employeeNameAr)),e.xp6(3),e.hij(" ",t.employeeNameAr?t.employeeNameAr:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,me,!t.userName)),e.xp6(3),e.hij(" ",t.userName?t.userName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,me,!t.email)),e.xp6(3),e.hij(" ",t.email?t.email:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,me,!t.roles)),e.xp6(5),e.Q6J("ngForOf",t.roles),e.xp6(2),e.Q6J("ngClass",e.VKq(31,me,!t.isLocked)),e.xp6(4),e.Q6J("ngModel",t.isLocked)("disabled",!0),e.xp6(4),e.hij(" ",e.lcZ(31,21,"Change Password")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(33,me,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,me,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,me,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,me,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ps(l,r){if(1&l&&(e.TgZ(0,"div",49)(1,"span",50),e._uU(2),e.qZA()()),2&l){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function Fs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",42)(1,"div",15)(2,"label",43),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-multiSelect",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedMulti=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectMultiItems(n))}),e.YNc(6,Ps,3,1,"ng-template",45),e.qZA()(),e.TgZ(7,"div",46)(8,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveRoles(n.product.id))}),e.ALo(11,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.rolesForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"Roles")),e.xp6(2),e.Q6J("ngModel",t.selectedMulti)("options",t.rolesDropdown),e.xp6(3),e.Q6J("label",e.lcZ(9,9,"Cancel")),e.xp6(2),e.Q6J("disabled",!t.rolesForm.valid||!t.rolesForm.get("roles").touched)("label",e.lcZ(11,11,"Save"))}}function Ls(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function Js(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.qZA()}}function Us(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}function Ss(l,r){1&l&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Password is required.")))}function ks(l,r){1&l&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Password must be at least 5 characters."),""))}function Os(l,r){if(1&l&&(e.TgZ(0,"div",53),e.YNc(1,Ss,3,3,"small",0)(2,ks,3,3,"small",0),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.changePassForm.get("password").errors.required),e.xp6(1),e.Q6J("ngIf",t.changePassForm.get("password").errors.minlength)}}function Es(l,r){1&l&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Confirmation password is required.")))}function Rs(l,r){1&l&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Confirmation password must be at least 5 characters."),""))}function Qs(l,r){if(1&l&&(e.TgZ(0,"div",53),e.YNc(1,Es,3,3,"small",0)(2,Rs,3,3,"small",0),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.changePassForm.get("rePassword").errors.required),e.xp6(1),e.Q6J("ngIf",t.changePassForm.get("rePassword").errors.minlength)}}function js(l,r){1&l&&(e.TgZ(0,"div",53)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Passwords do not match.")))}function Vs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",54)(1,"div",55)(2,"label",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",57)(6,"p-inputSwitch",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.locked=n)}),e.qZA()()(),e.TgZ(7,"div",46)(8,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialogLock())}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveLock(n.product.id))}),e.ALo(11,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.lockForm),e.xp6(3),e.Oqu(e.lcZ(4,6,"Locked")),e.xp6(3),e.Q6J("ngModel",t.locked),e.xp6(2),e.Q6J("label",e.lcZ(9,8,"Cancel")),e.xp6(2),e.Q6J("disabled",!t.lockForm.valid)("label",e.lcZ(11,10,"Save"))}}const je=()=>({width:"450px"}),Ks=l=>{const r=l.get("password")?.value,t=l.get("rePassword")?.value;return r!==t?{passwordMismatch:!0}:null};let Gs=(()=>{class l{constructor(t,o){this.usersService=t,this.messageService=o,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.productLockDialog=!1,this.changePassDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.locked=!1,this.allYears=[],this.lockForm=new i.cw({locked:new i.NI(!1,i.kI.required)}),this.rolesForm=new i.cw({roles:new i.NI(this.rolesDropdown,i.kI.required)}),this.changePassForm=new i.cw({password:new i.NI(null,[i.kI.required,i.kI.minLength(5)]),rePassword:new i.NI(null,[i.kI.required,i.kI.minLength(5)])},{validators:Ks})}ngOnInit(){this.endPoint="UsersApp",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.usersService.setCulture(t),this.usersService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions(),this.getRolesDropdown(),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]})}editProduct(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedMulti=this.product.roles},error:o=>{console.log(o)}}),console.log(t.id)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.locked=!1}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.usersService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let a=t-3;a<=n;a++)this.allYears.push(a)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}changePassword(t){this.changePassDialog=!0,console.log(t),this.userId=t}getRolesDropdown(){this.usersService.getDropdownField("Roles").subscribe({next:t=>{this.rolesDropdown=t.data,console.log("rolesDropdown =>"),console.log(this.rolesDropdown)},error:t=>{console.log(t)}})}selectMultiItems(t){console.log(t),console.log(this.selectedMulti),this.selectedMulti=t.value}saveRoles(t){console.clear(),console.log(t),console.log(this.selectedMulti);let o=[];this.selectedMulti.forEach(n=>{o.push(n.id)}),console.log(o),this.usersService.assignRoles(t,o).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Role assigned successfully",life:3e3}),this.productDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n),this.productDialog=!1}}),o=[]}editProductLock(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.productLockDialog=!0,this.product={...o.data},this.locked=this.product.isLocked},error:o=>{console.log(o)}}),console.log(t.id)}saveLock(t){this.usersService.updateUserLocked({isLocked:this.locked,userId:t}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Lock Updated Successfully",life:3e3}),this.productLockDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}submitChangePassForm(t,o){console.log(t),"VALID"==o.status&&this.usersService.changePassword(t,o.value).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"You Changed Password Successfully",life:3e3}),this.changePassDialog=!1},error:n=>{console.log(n)}})}hideDialogPassword(){this.changePassDialog=!1}hideDialogLock(){this.productLockDialog=!1}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ys),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-users"]],viewQuery:function(o,n){if(1&o&&e.Gf(qs,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:50,vars:70,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[3,"formGroup","submit"],[1,"field"],["for","password"],["pInputText","","type","password","formControlName","password",3,"placeholder"],["class","error",4,"ngIf"],["for","rePassword"],["pInputText","","type","password","formControlName","rePassword",3,"placeholder"],[1,"actions"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"table-data-container"],[1,"roles-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","p-button-secondary",3,"click"],[1,"lock-container"],[3,"ngModel","disabled","ngModelChange"],["pButton","","pRipple","",1,"p-button-outlined","p-button-secondary","changePassBtn",3,"click"],[1,"rolesForm",3,"formGroup"],["for","roles"],["formControlName","roles","placeholder","Select Roles","optionLabel","name","display","chip",1,"multiselect-custom",3,"ngModel","options","ngModelChange","onChange"],["pTemplate","item"],[1,"btns"],["type","button","pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["type","submit","pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"disabled","label","click"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"error"],[3,"formGroup"],[1,"field","locked-container"],["for","locked"],[1,"field","field-locked"],["id","locked","formControlName","locked",3,"ngModel","ngModelChange"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ws,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Ns,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-table",3,4),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(6,"translate"),e.YNc(7,Ms,8,7,"ng-template",5)(8,vs,33,30,"ng-template",6)(9,Is,48,41,"ng-template",7),e.qZA(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(11,"translate"),e.YNc(12,Fs,12,13,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.TgZ(14,"div",11),e._UZ(15,"i",12),e.YNc(16,Ls,5,1,"span",0),e.qZA(),e.YNc(17,Js,2,0,"ng-template",13),e.qZA(),e.TgZ(18,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(19,"div",11),e._UZ(20,"i",12),e.TgZ(21,"span"),e._uU(22,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(23,Us,2,0,"ng-template",13),e.qZA(),e.TgZ(24,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.changePassDialog=s}),e.ALo(25,"translate"),e.TgZ(26,"form",14),e.NdJ("submit",function(){return n.submitChangePassForm(n.userId,n.changePassForm)}),e.TgZ(27,"div",15)(28,"label",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",17),e.ALo(32,"translate"),e.YNc(33,Os,3,2,"div",18),e.qZA(),e.TgZ(34,"div",15)(35,"label",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",20),e.ALo(39,"translate"),e.YNc(40,Qs,3,2,"div",18),e.qZA(),e.YNc(41,js,4,3,"div",18),e.TgZ(42,"div",21)(43,"button",22),e.NdJ("click",function(){return n.hideDialogPassword()}),e.ALo(44,"translate"),e.qZA(),e._UZ(45,"button",23),e.ALo(46,"translate"),e.qZA()()(),e.TgZ(47,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.productLockDialog=s}),e.ALo(48,"translate"),e.YNc(49,Vs,12,12,"ng-template",9),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(6,45,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(65,je)),e.Q6J("visible",n.productDialog)("header",e.lcZ(11,47,"User Roles"))("modal",!0),e.xp6(3),e.Akn(e.DdM(66,je)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(67,je)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(6),e.Akn(e.DdM(68,je)),e.Q6J("visible",n.changePassDialog)("header",e.lcZ(25,49,"User Password"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.changePassForm),e.xp6(3),e.Oqu(e.lcZ(30,51,"Password")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,53,"Enter New Password")),e.xp6(2),e.Q6J("ngIf",n.changePassForm.get("password").invalid&&(n.changePassForm.get("password").touched||n.changePassForm.get("password").dirty)),e.xp6(3),e.Oqu(e.lcZ(37,55,"Confirm Password")),e.xp6(2),e.Q6J("placeholder",e.lcZ(39,57,"Confirm New Password")),e.xp6(2),e.Q6J("ngIf",n.changePassForm.get("rePassword").invalid&&(n.changePassForm.get("rePassword").touched||n.changePassForm.get("rePassword").dirty)),e.xp6(1),e.Q6J("ngIf",(null==n.changePassForm.errors?null:n.changePassForm.errors.passwordMismatch)&&(n.changePassForm.touched||n.changePassForm.dirty)),e.xp6(2),e.Q6J("label",e.lcZ(44,59,"Cancel")),e.xp6(2),e.Q6J("disabled",!n.changePassForm.valid)("label",e.lcZ(46,61,"Save")),e.xp6(2),e.Akn(e.DdM(69,je)),e.Q6J("visible",n.productLockDialog)("header",e.lcZ(48,63,"User Lock"))("modal",!0))},dependencies:[T.l,m.mk,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,We.NU,ae.Ql,U.u],styles:[".roles-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.roles-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;border:1px solid #ecb100;border-radius:8px;-webkit-user-select:none;user-select:none}.p-button[_ngcontent-%COMP%]{gap:0!important}.table-data-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;justify-content:center}.changePassBtn[_ngcontent-%COMP%]{min-width:max-content}.lock-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}.locked-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.field-locked[_ngcontent-%COMP%]{margin-bottom:0}.actions[_ngcontent-%COMP%]{display:flex;width:200px;margin-top:2rem;align-items:center}  .error{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  div[role=dialog]{box-shadow:none}  div[role=dialog]:has(.rolesForm){height:50%}"]})}return l})(),Hs=(()=>{class l extends v.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMissionTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getMissionType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}addExternalMissonRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}deleteExternalMissonById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var X=x(1230);const Ys=["dt"];function Bs(l,r){1&l&&e._UZ(0,"pre-loading")}function zs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",49)(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function $s(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ws(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",53)(1,"h5",54),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",55),e._UZ(5,"i",56),e.TgZ(6,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Xs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",58),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",59),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",60),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,13,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(12,15,"Date From")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Date To")),e.xp6(3),e.Oqu(e.lcZ(18,19,"Misson Type")),e.xp6(3),e.Oqu(e.lcZ(21,21,"Response")),e.xp6(3),e.Oqu(e.lcZ(24,23,"Location")),e.xp6(3),e.Oqu(e.lcZ(27,25,"change status")),e.xp6(3),e.Oqu(e.lcZ(30,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Actions")))}const we=l=>({"null-color":l}),er=(l,r,t,o)=>({"pending-missionType":l,"accepted-missionType":r,"rejected-missionType":t,"complete-missionType":o}),tr=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function nr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",61),e.qZA(),e.TgZ(3,"td",62)(4,"span",63),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",64)(8,"span",63),e._uU(9,"dayCount"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",62)(12,"span",63),e._uU(13,"fromDay"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",62)(17,"span",63),e._uU(18,"toDay"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",62)(22,"span"),e._uU(23),e.qZA()(),e.TgZ(24,"td",62)(25,"span"),e._uU(26),e.qZA()(),e.TgZ(27,"td",62)(28,"span",63),e._uU(29,"location"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td")(32,"div",65)(33,"button",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.changeStatus(a))}),e.ALo(34,"translate"),e.qZA()()(),e.TgZ(35,"td",62)(36,"span",63),e._uU(37,"creatorName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",62)(40,"span",63),e._uU(41,"lastModifierName"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td")(44,"div",65)(45,"button",67),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(30,we,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,we,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,we,!t.fromDay)),e.xp6(3),e.hij(" ",e.xi3(15,22,t.fromDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(36,we,!t.toDay)),e.xp6(3),e.hij(" ",e.xi3(20,25,t.toDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.l5B(38,er,0==(null==t?null:t.missionType),1==(null==t?null:t.missionType),2==(null==t?null:t.missionType),3==(null==t?null:t.missionType))),e.xp6(2),e.hij(" ",t.missionTypeName," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(43,tr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,we,!t.location)),e.xp6(3),e.hij(" ",t.location?t.location:""," "),e.xp6(3),e.Q6J("label",e.lcZ(34,28,"Change Status"))("disabled",0!==(null==t?null:t.requestType)),e.xp6(2),e.Q6J("ngClass",e.VKq(49,we,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,we,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("disabled",0!==t.requestType)}}function or(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",68),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveStatus(n.changeStatusForm,n.product))}),e.TgZ(1,"div",69)(2,"label",70),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedStatus=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.print(n.changeStatusForm))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",69)(8,"div",72),e._UZ(9,"button",73),e.ALo(10,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.changeStatusForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"All Status")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,9,"Select Status")),e.Q6J("options",t.all_Status_DropDown)("ngModel",t.selectedStatus),e.xp6(4),e.s9C("label",e.lcZ(10,11,"Save")),e.Q6J("disabled",t.changeStatusForm.invalid)}}function lr(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function ar(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function ir(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ht=()=>({width:"450px"}),sr=l=>{const r=l.get("fromDay")?.value,t=l.get("toDay")?.value;return r&&!t||!r&&t?{dateRangeIncomplete:!0}:null};let rr=(()=>{class l{constructor(t,o,n,a,s){this.externalMissonService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.translate=s,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new i.cw({EmployeeId:new i.NI(null),MangerId:new i.NI(null),DateFrom:new i.NI(null),DateTo:new i.NI(null),RequestType:new i.NI(null)}),this.changeStatusForm=new i.cw({Status:new i.NI(null,i.kI.required)}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),reason:new i.NI(null,[i.kI.required]),fromDay:new i.NI(null,[i.kI.required]),toDay:new i.NI(null,[i.kI.required]),missionType:new i.NI(null,[i.kI.required]),location:new i.NI(null,[i.kI.required])},{validators:sr})}ngOnInit(){this.endPoint="ExternalMissionRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.externalMissonService.setCulture(t),this.externalMissonService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}]}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDowns(){this.externalMissonService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getMissionTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsMissionTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeStatus(t){this.externalMissonService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?this.externalMissonService.deleteExternalMissonById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"External Misson Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,missionType:this.newMissonTypeId?.id??null,fromDay:this.DatePipe.transform(t.get("fromDay")?.value??null,"yyyy-MM-dd"),toDay:this.DatePipe.transform(t.get("toDay")?.value??null,"yyyy-MM-dd")}),"VALID"==t.status&&this.externalMissonService.addExternalMissonRequest(t.value).subscribe({next:o=>{console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"External Mission Added Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]);p.sortType=this.sortOrder,this.externalMissonService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.externalMissonService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const a=this.mapToFormData(n);this.externalMissonService.changeStatus(a).subscribe({next:s=>{s.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(t.value);const p={...Object.fromEntries(Object.entries(o).filter(([Q,V])=>null!==V)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t);const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]),"VALID"==t.status&&this.externalMissonService.GetPage(d).subscribe({next:Q=>{this.allData=Q.data,console.log(Q.data)},error:Q=>{console.log(Q)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Hs),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-external-misson"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ys,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:111,vars:139,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","RequestType"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"options","ngModel","placeholder","ngModelChange"],["optionLabel","name","formControlName","missionType",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","fromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","toDay",3,"showIcon","iconDisplay","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","location",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text","formControlName","reason",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"disabled","click"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"options","ngModel","placeholder","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Bs,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-dropdown",9),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"p-calendar",12),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-calendar",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"p-dropdown",16),e.NdJ("ngModelChange",function(s){return n.selectedManager=s}),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p-dropdown",18),e.NdJ("ngModelChange",function(s){return n.selectedRequstType=s}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._UZ(42,"i",22),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()()()(),e.TgZ(46,"p-toolbar",23),e.YNc(47,zs,5,7,"ng-template",24)(48,$s,2,4,"ng-template",25),e.qZA(),e.TgZ(49,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(50,"translate"),e.TgZ(51,"form",27),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(52,"div",20)(53,"label",28),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"p-dropdown",29),e.NdJ("ngModelChange",function(s){return n.newEmplyeeId=s}),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",20)(59,"label",28),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"p-dropdown",30),e.NdJ("ngModelChange",function(s){return n.newMissonTypeId=s}),e.ALo(63,"translate"),e.qZA()(),e.TgZ(64,"div",20)(65,"label",31),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"p-calendar",32),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",20)(71,"label",31),e._uU(72),e.ALo(73,"translate"),e.qZA(),e._UZ(74,"p-calendar",33),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"div",20)(77,"label",34),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"input",35),e.NdJ("ngModelChange",function(s){return n.location=s}),e.ALo(81,"translate"),e.qZA()(),e.TgZ(82,"div",20)(83,"label",36),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"textarea",37),e.NdJ("ngModelChange",function(s){return n.reason=s}),e.ALo(87,"translate"),e.qZA()(),e.TgZ(88,"div",20),e._UZ(89,"button",38),e.ALo(90,"translate"),e.qZA()()(),e.TgZ(91,"p-table",39,40),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(93,"translate"),e.YNc(94,Ws,8,7,"ng-template",41)(95,Xs,37,33,"ng-template",42)(96,nr,46,53,"ng-template",43),e.qZA(),e.TgZ(97,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(98,"translate"),e.YNc(99,or,11,13,"ng-template",44),e.qZA(),e.TgZ(100,"p-dialog",45),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.TgZ(101,"div",46),e._UZ(102,"i",47),e.YNc(103,lr,5,1,"span",0),e.qZA(),e.YNc(104,ar,2,0,"ng-template",48),e.qZA(),e.TgZ(105,"p-dialog",45),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(106,"div",46),e._UZ(107,"i",47),e.TgZ(108,"span"),e._uU(109,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(110,ir,2,0,"ng-template",48),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,79,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,81,"Employee")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(14,83,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(18,85,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(20,87,"From")),e.xp6(4),e.hij(" ",e.lcZ(24,89,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(26,91,"To")),e.xp6(4),e.Oqu(e.lcZ(30,93,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(32,95,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(36,97,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(38,99,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(45,101,"Filter")," "),e.xp6(5),e.Akn(e.DdM(135,ht)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(50,103,"Add New"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(55,105,"Employee Name")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(57,107,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(61,109,"Mission Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsMissionTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(63,111,"Enter Mission Type Here")),e.xp6(4),e.hij("",e.lcZ(67,113,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(69,115,"From")),e.xp6(4),e.hij("",e.lcZ(73,117,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(75,119,"To")),e.xp6(4),e.Oqu(e.lcZ(79,121,"Location")),e.xp6(2),e.Q6J("ngModel",n.location)("placeholder",e.lcZ(81,123,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(85,125,"Reason")),e.xp6(2),e.Q6J("ngModel",n.reason)("placeholder",e.lcZ(87,127,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(90,129,"Insert New"))("disabled",n.addNewForm.invalid),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(93,131,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(136,ht)),e.Q6J("visible",n.productDialog)("header",e.lcZ(98,133,"Status"))("modal",!0),e.xp6(3),e.Akn(e.DdM(137,ht)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(138,ht)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,X.s,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#e2e6eb;border-radius:8px;display:flex;justify-content:center;align-items:center}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#dcfadc;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#d2fcdc;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),cr=(()=>{class l extends v.P{constructor(t){super(t)}addVacationRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Add`,t)}deleteVacationRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const pr=["dt"],dr=["fileUpload"];function ur(l,r){1&l&&e._UZ(0,"pre-loading")}function mr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function gr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _r(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",55)(1,"h5",56),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",57),e._UZ(5,"i",58),e.TgZ(6,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function hr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",60),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",61),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",62),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,14,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(12,16,"Date From")),e.xp6(3),e.Oqu(e.lcZ(15,18,"Date To")),e.xp6(3),e.Oqu(e.lcZ(18,20,"Vacation Type")),e.xp6(3),e.Oqu(e.lcZ(21,22,"Response")),e.xp6(3),e.Oqu(e.lcZ(24,24,"Reason")),e.xp6(3),e.Oqu(e.lcZ(27,26,"File")),e.xp6(3),e.Oqu(e.lcZ(30,28,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,30,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,32,"change status")),e.xp6(3),e.Oqu(e.lcZ(39,34,"Actions")))}function fr(l,r){if(1&l&&(e.TgZ(0,"a",72),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("href",o.baseUrlFile.concat("/",t.fileUrl),e.LSH),e.xp6(1),e.Oqu(e.lcZ(2,2,"View"))}}const ge=l=>({"null-color":l}),Zr=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function xr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",63),e.qZA(),e.TgZ(3,"td",64)(4,"span",65),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",66)(8,"span",65),e._uU(9,"dayCount"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",64)(12,"span",65),e._uU(13,"fromDay"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",64)(17,"span",65),e._uU(18,"toDay"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",67)(22,"span",65),e._uU(23,"vacationTypeName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",64)(26,"span"),e._uU(27),e.qZA()(),e.TgZ(28,"td",64)(29,"span",65),e._uU(30,"reason"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",64)(33,"span",65),e._uU(34,"fileUrl"),e.qZA(),e.YNc(35,fr,3,4,"a",68),e.qZA(),e.TgZ(36,"td",64)(37,"span",65),e._uU(38,"creatorName"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",64)(41,"span",65),e._uU(42,"lastModifierName"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td")(45,"div",69)(46,"button",70),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.changeStatus(a))}),e.ALo(47,"translate"),e.qZA()()(),e.TgZ(48,"td")(49,"div",69)(50,"button",71),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ge,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ge,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,ge,!t.fromDay)),e.xp6(3),e.hij(" ",e.xi3(15,23,t.fromDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(37,ge,!t.toDay)),e.xp6(3),e.hij(" ",e.xi3(20,26,t.toDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,ge,!t.vacationTypeName)),e.xp6(3),e.hij(" ",t.vacationTypeName," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(41,Zr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.Oqu(t.requestTypeValue),e.xp6(1),e.Q6J("ngClass",e.VKq(45,ge,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,ge,!t.fileUrl)),e.xp6(3),e.Q6J("ngIf",t.fileUrl),e.xp6(1),e.Q6J("ngClass",e.VKq(49,ge,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,ge,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("label",e.lcZ(47,29,"Change Status"))("disabled",0!==(null==t?null:t.requestType))}}function Cr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",73),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveStatus(n.changeStatusForm,n.product))}),e.TgZ(1,"div",74)(2,"label",75),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",76),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedStatus=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.print(n.changeStatusForm))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",74)(8,"div",77),e._UZ(9,"button",78),e.ALo(10,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.changeStatusForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"All Status")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,9,"Select Status")),e.Q6J("options",t.all_Status_DropDown)("ngModel",t.selectedStatus),e.xp6(4),e.s9C("label",e.lcZ(10,11,"Save")),e.Q6J("disabled",t.changeStatusForm.invalid)}}function br(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function Ar(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function Tr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ft=()=>({width:"450px"}),yr=l=>{const r=l.get("FromDay")?.value,t=l.get("ToDay")?.value;return r&&!t||!r&&t?{dateRangeIncomplete:!0}:null};let qr=(()=>{class l{constructor(t,o,n,a,s){this.vacationRequestService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.translate=s,this.baseUrlFile=nt.N.mediaUrl,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new i.cw({EmployeeId:new i.NI(null),MangerId:new i.NI(null),DateFrom:new i.NI(null),DateTo:new i.NI(null),VacationTypeId:new i.NI(null),RequestType:new i.NI(null)}),this.changeStatusForm=new i.cw({RequestType:new i.NI(null,i.kI.required)}),this.addNewForm=new i.cw({EmployeeId:new i.NI(null,[i.kI.required]),FromDay:new i.NI(null,[i.kI.required]),ToDay:new i.NI(null,[i.kI.required]),VacationTypeId:new i.NI(null,[i.kI.required]),Reason:new i.NI(null,[i.kI.required]),File:new i.NI(null)},{validators:yr})}ngOnInit(){this.endPoint="VacationRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationRequestService.setCulture(t),this.vacationRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}]}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const a=this.mapToFormData(n);this.vacationRequestService.changeStatus(a).subscribe({next:s=>{s.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}changeStatus(t){this.vacationRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}getDropDowns(){this.vacationRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getDropdownField("VacationType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.vacationRequestService.deleteVacationRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Vacation Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({EmployeeId:this.newEmplyeeId?.id??null,VacationTypeId:this.newMissonTypeId?.id??null,File:this.file??null,FromDay:this.DatePipe.transform(t.get("FromDay")?.value??null,"yyyy-MM-dd"),ToDay:this.DatePipe.transform(t.get("ToDay")?.value??null,"yyyy-MM-dd")}),console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);"VALID"==t.status&&this.vacationRequestService.addVacationRequest(o).subscribe({next:n=>{console.log(n.data),n.success&&(this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Vacation Request Sent Successfully",life:3e3}),t.reset(),this.fileUpload.clear(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]);p.sortType=this.sortOrder,this.vacationRequestService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1,console.log(this.selectedItems)},error:h=>{console.log(h),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")};console.log(o);const p={...Object.fromEntries(Object.entries(o).filter(([Q,V])=>null!==V)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(p);const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]),"VALID"==t.status&&this.vacationRequestService.GetPage(d).subscribe({next:Q=>{this.allData=Q.data,console.log(Q.data)},error:Q=>{console.log(Q)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.file=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity()),console.log(o)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(cr),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-request"]],viewQuery:function(o,n){if(1&o&&(e.Gf(pr,5),e.Gf(dr,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first),e.iGM(a=e.CRH())&&(n.fileUpload=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:116,vars:146,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","VacationTypeId","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["optionValue","id","formControlName","MangerId","optionLabel","name",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visible","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","EmployeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","FromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","ToDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","VacationTypeId",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","Reason",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","formControlName","File",3,"onSelect"],["fileUpload",""],["pButton","","type","submit",1,"w-25",3,"disabled","label"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],["class","text-white bg-blue-500 border-none","pButton","","pRipple","",3,"href",4,"ngIf"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","RequestType","showClear","true",3,"options","ngModel","placeholder","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ur,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-dropdown",9),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"p-dropdown",12),e.NdJ("ngModelChange",function(s){return n.selectedVacationType=s}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-calendar",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"p-calendar",16),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p-dropdown",18),e.NdJ("ngModelChange",function(s){return n.selectedManager=s}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",10)(40,"label",11),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"p-dropdown",19),e.NdJ("ngModelChange",function(s){return n.selectedRequstType=s}),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",20)(46,"div",21)(47,"button",22),e._UZ(48,"i",23),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"translate"),e.qZA()()()()()()()()()(),e.TgZ(52,"p-toolbar",24),e.YNc(53,mr,3,3,"ng-template",25)(54,gr,2,4,"ng-template",26),e.qZA(),e.TgZ(55,"p-dialog",27),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.TgZ(56,"form",28),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(57,"div",21)(58,"label",29),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"p-dropdown",30),e.NdJ("ngModelChange",function(s){return n.newEmplyeeId=s}),e.ALo(62,"translate"),e.qZA()(),e.TgZ(63,"div",21)(64,"label",31),e._uU(65),e.ALo(66,"translate"),e.qZA(),e._UZ(67,"p-calendar",32),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"div",21)(70,"label",31),e._uU(71),e.ALo(72,"translate"),e.qZA(),e._UZ(73,"p-calendar",33),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"div",21)(76,"label",29),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"p-dropdown",34),e.NdJ("ngModelChange",function(s){return n.newMissonTypeId=s}),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",21)(82,"label",35),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"input",36),e.NdJ("ngModelChange",function(s){return n.location=s}),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"div",21)(88,"label",37),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"p-fileUpload",38,39),e.NdJ("onSelect",function(s){return n.onFileSelect(s)}),e.qZA()(),e.TgZ(93,"div",21),e._UZ(94,"button",40),e.ALo(95,"translate"),e.qZA()()(),e.TgZ(96,"p-table",41,42),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(98,"translate"),e.YNc(99,_r,8,7,"ng-template",43)(100,hr,40,36,"ng-template",44)(101,xr,51,53,"ng-template",45),e.qZA(),e.TgZ(102,"p-dialog",46),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(103,"translate"),e.YNc(104,Cr,11,13,"ng-template",47),e.qZA(),e.TgZ(105,"p-dialog",48),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.TgZ(106,"div",49),e._UZ(107,"i",50),e.YNc(108,br,5,1,"span",0),e.qZA(),e.YNc(109,Ar,2,0,"ng-template",51),e.qZA(),e.TgZ(110,"p-dialog",48),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(111,"div",49),e._UZ(112,"i",50),e.TgZ(113,"span"),e._uU(114,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(115,Tr,2,0,"ng-template",51),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,86,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,88,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(14,90,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(18,92,"Vacation Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.selectedVacationType)("placeholder",e.lcZ(20,94,"Enter Vacation Type Here")),e.xp6(4),e.hij(" ",e.lcZ(24,96,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(26,98,"From")),e.xp6(4),e.hij(" ",e.lcZ(30,100,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(32,102,"To")),e.xp6(4),e.Oqu(e.lcZ(36,104,"Manager")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(38,106,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(42,108,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(44,110,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(51,112,"Filter")," "),e.xp6(5),e.Akn(e.DdM(142,ft)),e.Q6J("visible",n.showFormNew)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(60,114,"Employee Name")," "),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(62,116,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(66,118,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(68,120,"From")),e.xp6(4),e.hij("",e.lcZ(72,122,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(74,124,"To")),e.xp6(4),e.hij("",e.lcZ(78,126,"Vacation Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(80,128,"Enter Vacation Type Here")),e.xp6(4),e.Oqu(e.lcZ(84,130,"Reason")),e.xp6(2),e.Q6J("ngModel",n.location)("placeholder",e.lcZ(86,132,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(90,134,"Attach File")),e.xp6(5),e.Q6J("disabled",n.addNewForm.invalid)("label",e.lcZ(95,136,"Insert New")),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(98,138,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(143,ft)),e.Q6J("visible",n.productDialog)("header",e.lcZ(103,140,"Status"))("modal",!0),e.xp6(3),e.Akn(e.DdM(144,ft)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(145,ft)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),wr=(()=>{class l extends v.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}addExecuseRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}deleteExecuseRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Nr=["dt"];function Mr(l,r){1&l&&e._UZ(0,"pre-loading")}function vr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",49)(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function Dr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ir(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",52),e.NdJ("click",function(n){const s=e.CHM(t).clickCallBack;return e.KtG(s(n))}),e.qZA()}}function Pr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",53)(1,"h5",54),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",55),e._UZ(5,"i",56),e.TgZ(6,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Fr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",58),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",59),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",60),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,15,"Day")),e.xp6(3),e.Oqu(e.lcZ(12,17,"Start Time")),e.xp6(3),e.Oqu(e.lcZ(15,19,"End Time")),e.xp6(3),e.Oqu(e.lcZ(18,21,"Execuse Type")),e.xp6(3),e.Oqu(e.lcZ(21,23,"Count Hours")),e.xp6(3),e.Oqu(e.lcZ(24,25,"Response")),e.xp6(3),e.Oqu(e.lcZ(27,27,"Reason")),e.xp6(3),e.Oqu(e.lcZ(30,29,"Notes")),e.xp6(3),e.Oqu(e.lcZ(33,31,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(36,33,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(39,35,"change status")),e.xp6(3),e.Oqu(e.lcZ(42,37,"Actions")))}const se=l=>({"null-color":l}),Lr=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function Jr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",61),e.qZA(),e.TgZ(3,"td",62)(4,"span",63),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",64)(8,"span",63),e._uU(9,"dateOfDay"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",62)(12,"span",63),e._uU(13,"startTime"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",62)(16,"span",63),e._uU(17,"endTime"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",62)(20,"span",63),e._uU(21,"excuesTypeName"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",62)(24,"span",63),e._uU(25,"countHours"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",62)(28,"span"),e._uU(29),e.qZA()(),e.TgZ(30,"td",62)(31,"span",63),e._uU(32,"reason"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",62)(35,"span",63),e._uU(36,"notes"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",62)(39,"span",63),e._uU(40,"creatorName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",62)(43,"span",63),e._uU(44,"lastModifierName"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td")(47,"div",65)(48,"button",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.changeStatus(a))}),e.ALo(49,"translate"),e.qZA()()(),e.TgZ(50,"td")(51,"div",65)(52,"button",67),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,se,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,se,!t.dateOfDay)),e.xp6(3),e.hij(" ",t.dateOfDay?t.dateOfDay:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,se,!t.startTime)),e.xp6(3),e.hij(" ",o.transformTime(t.startTime)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,se,!t.endTime)),e.xp6(3),e.hij(" ",o.transformTime(t.endTime)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,se,!t.excuesTypeName)),e.xp6(3),e.hij(" ",t.excuesTypeName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,se,!t.countHours)),e.xp6(3),e.hij(" ",t.countHours," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(39,Lr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.Oqu(t.requestTypeValue),e.xp6(1),e.Q6J("ngClass",e.VKq(43,se,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,se,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,se,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,se,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("label",e.lcZ(49,25,"Change Status"))("disabled",0!==(null==t?null:t.requestType))}}function Ur(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",68),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveStatus(n.changeStatusForm,n.product))}),e.TgZ(1,"div",69)(2,"label",70),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedStatus=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.print(n.changeStatusForm))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",69)(8,"div",72),e._UZ(9,"button",73),e.ALo(10,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.changeStatusForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"All Status")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,9,"Select Status")),e.Q6J("options",t.all_Status_DropDown)("ngModel",t.selectedStatus),e.xp6(4),e.s9C("label",e.lcZ(10,11,"Save")),e.Q6J("disabled",t.changeStatusForm.invalid)}}function Sr(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function kr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function Or(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Zt=()=>({width:"450px"});let Er=(()=>{class l{constructor(t,o,n,a,s){this.execuseRequestService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.translate=s,this.baseUrlFile=nt.N.mediaUrl,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.reason="",this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new i.cw({EmployeeId:new i.NI(null),MangerId:new i.NI(null),DateFrom:new i.NI(null),DateTo:new i.NI(null),RequestType:new i.NI(null)}),this.changeStatusForm=new i.cw({Status:new i.NI(null,i.kI.required)}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),dateOfDay:new i.NI(null,[i.kI.required]),excuesTypeId:new i.NI(null,[i.kI.required]),startTime:new i.NI(null,[i.kI.required]),reason:new i.NI(null,[i.kI.required])})}ngOnInit(){this.endPoint="ExcuesRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseRequestService.setCulture(t),this.execuseRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}]}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const a=this.mapToFormData(n);this.execuseRequestService.changeStatus(a).subscribe({next:s=>{s.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}getDropDowns(){this.execuseRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getDropdownField("ExcuesType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeStatus(t){this.execuseRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.execuseRequestService.deleteExecuseRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Execuse Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,excuesTypeId:this.newMissonTypeId?.id??null,dateOfDay:this.DatePipe.transform(t.get("dateOfDay")?.value??null,"yyyy-MM-dd"),startTime:t.get("startTime")?.value.toLocaleTimeString("en-US",{hour12:!1})}),console.log(t),"VALID"==t.status&&this.execuseRequestService.addExecuseRequest(t.value).subscribe({next:o=>{o.success&&(console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}),t.patchValue({startTime:null,reason:null})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]);p.sortType=this.sortOrder,this.execuseRequestService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(o),console.log(t.value);const p={...Object.fromEntries(Object.entries(o).filter(([Q,V])=>null!==V)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(p);const d=new FormData;for(const h in p)p.hasOwnProperty(h)&&d.append(h,p[h]),"VALID"==t.status&&this.execuseRequestService.GetPage(d).subscribe({next:Q=>{this.allData=Q.data,console.log(Q.data)},error:Q=>{console.log(Q)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}transformTime(t){if(!t)return null;const[o,n,a]=t.split(":"),[s,p]=a.split("."),d=new Date;return d.setHours(+o),d.setMinutes(+n),d.setSeconds(+s),d.setMilliseconds(p?+p.slice(0,3):0),this.DatePipe.transform(d,"h:mm:ss a")}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(wr),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-execuse-request"]],viewQuery:function(o,n){if(1&o&&e.Gf(Nr,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:105,vars:136,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"showClear","filter","filterBy","options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"iconDisplay","showIcon","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"iconDisplay","showIcon","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","RequestType"],["formControlName","RequestType","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","dateOfDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","excuesTypeId",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["inputId","templatedisplay","placeholder","00:00","formControlName","startTime",1,"timeInput",3,"iconDisplay","showIcon","timeOnly"],["pTemplate","inputicon"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","reason",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"pi","pi-clock","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"options","ngModel","placeholder","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Mr,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-dropdown",9),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"p-calendar",12),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-calendar",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"p-dropdown",16),e.NdJ("ngModelChange",function(s){return n.selectedManager=s}),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p-dropdown",18),e.NdJ("ngModelChange",function(s){return n.selectedRequstType=s}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._UZ(42,"i",22),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()()()(),e.TgZ(46,"p-toolbar",23),e.YNc(47,vr,3,3,"ng-template",24)(48,Dr,2,4,"ng-template",25),e.qZA(),e.TgZ(49,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(50,"translate"),e.TgZ(51,"form",27),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(52,"div",20)(53,"label",28),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"p-dropdown",29),e.NdJ("ngModelChange",function(s){return n.newEmplyeeId=s}),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",20)(59,"label",30),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"p-calendar",31),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",20)(65,"label",28),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"p-dropdown",32),e.NdJ("ngModelChange",function(s){return n.newMissonTypeId=s}),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",20)(71,"label",33),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"p-calendar",34),e.YNc(75,Ir,1,0,"ng-template",35),e.qZA()(),e.TgZ(76,"div",20)(77,"label",36),e._uU(78),e.ALo(79,"translate"),e.qZA(),e._UZ(80,"input",37),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"div",20),e._UZ(83,"button",38),e.ALo(84,"translate"),e.qZA()()(),e.TgZ(85,"p-table",39,40),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(87,"translate"),e.YNc(88,Pr,8,7,"ng-template",41)(89,Fr,43,39,"ng-template",42)(90,Jr,53,51,"ng-template",43),e.qZA(),e.TgZ(91,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(92,"translate"),e.YNc(93,Ur,11,13,"ng-template",44),e.qZA(),e.TgZ(94,"p-dialog",45),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.TgZ(95,"div",46),e._UZ(96,"i",47),e.YNc(97,Sr,5,1,"span",0),e.qZA(),e.YNc(98,kr,2,0,"ng-template",48),e.qZA(),e.TgZ(99,"p-dialog",45),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(100,"div",46),e._UZ(101,"i",47),e.TgZ(102,"span"),e._uU(103,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(104,Or,2,0,"ng-template",48),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,82,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,84,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(14,86,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(18,88,"From"),""),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(20,90,"From")),e.xp6(4),e.hij(" ",e.lcZ(24,92,"To"),""),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(26,94,"To")),e.xp6(4),e.Oqu(e.lcZ(30,96,"Manager")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(32,98,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(36,100,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(38,102,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(45,104,"Filter")," "),e.xp6(5),e.Akn(e.DdM(132,Zt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(50,106,"Add New"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(55,108,"Employee Name")," "),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(57,110,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(61,112,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(63,114,"MM/DD/YYYY")),e.xp6(4),e.hij("",e.lcZ(67,116,"Execuse Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(69,118,"Enter Execuse Type Here")),e.xp6(4),e.Oqu(e.lcZ(73,120,"Start Time")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("timeOnly",!0),e.xp6(4),e.Oqu(e.lcZ(79,122,"Reason")),e.xp6(2),e.Q6J("placeholder",e.lcZ(81,124,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(84,126,"Insert New"))("disabled",n.addNewForm.invalid),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(87,128,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(133,Zt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(92,130,"Status"))("modal",!0),e.xp6(3),e.Akn(e.DdM(134,Zt)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(135,Zt)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),hn=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Rr=["dt"];function Qr(l,r){1&l&&e._UZ(0,"pre-loading")}function jr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Vr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Kr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"label",41),e._uU(3),e.qZA(),e._UZ(4,"input",42),e.TgZ(5,"button",43),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.removeRequirement(a))}),e.qZA()()()}if(2&l){const t=r.index;e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("for","requirement-"+t),e.xp6(1),e.hij("Requirement ",t+1,":"),e.xp6(1),e.Q6J("id","requirement-"+t)}}function Gr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"span",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showFormNew=!1)}),e.qZA()(),e.TgZ(5,"form",23),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.jobForm))}),e.TgZ(6,"div",24)(7,"label",25),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",26),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",24)(13,"label",27),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",28),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",29)(19,"label",30),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"p-inputSwitch",31),e.qZA(),e.TgZ(23,"div",24)(24,"label",32),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"p-calendar",33),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",34),e.YNc(30,Kr,6,4,"div",35),e.qZA(),e.TgZ(31,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addRequirement())}),e.qZA(),e.TgZ(32,"div",24)(33,"label",37),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"textarea",38),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",24),e._UZ(39,"button",39),e.ALo(40,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,18,"Add New")),e.xp6(3),e.Q6J("formGroup",t.jobForm),e.xp6(3),e.hij("",e.lcZ(9,20,"Name Of Job")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(11,22,"Enter Name Of Job Here")),e.xp6(4),e.hij("",e.lcZ(15,24,"Job Description")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(17,26,"Enter Description Here")),e.xp6(4),e.hij("",e.lcZ(21,28,"Status")," "),e.xp6(5),e.Oqu(e.lcZ(26,30,"Date")),e.xp6(2),e.Q6J("showTime",!0)("showSeconds",!0)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(28,32,"MM/DD/YYYY")),e.xp6(3),e.Q6J("ngForOf",t.jobRequirements.controls),e.xp6(4),e.Oqu(e.lcZ(35,34,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(37,36,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(40,38,"Insert New"))("disabled",t.jobForm.invalid)}}function Hr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",44)(1,"h5",45),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",46),e._UZ(5,"i",47),e.TgZ(6,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Yr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",49),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",50),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",51),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,7,"nameOfJob")," "),e.xp6(4),e.Oqu(e.lcZ(9,9,"Date")),e.xp6(3),e.Oqu(e.lcZ(12,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(15,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(18,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(21,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Actions")))}const Je=l=>({"null-color":l});function Br(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editJob(a))}),e.TgZ(1,"td")(2,"p-tableCheckbox",53),e.NdJ("click",function(n){return n.stopPropagation()}),e.qZA()(),e.TgZ(3,"td",54)(4,"span",55),e._uU(5,"nameOfJob"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",54)(8,"span",55),e._uU(9,"date"),e.qZA(),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",54)(13,"span",55),e._uU(14,"creationTime"),e.qZA(),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td",54)(18,"span",55),e._uU(19,"lastModificationTime"),e.qZA(),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td",54)(23,"span",55),e._uU(24,"creatorName"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",54)(27,"span",55),e._uU(28,"lastModifierName"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td")(31,"div",56)(32,"button",57),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.deleteProduct(s,n))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(22,Je,!t.nameOfJob)),e.xp6(3),e.hij(" ",t.nameOfJob?t.nameOfJob:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,Je,!t.date)),e.xp6(3),e.hij(" ",e.xi3(11,13,t.date,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,Je,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(16,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(28,Je,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(21,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(30,Je,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,Je,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function zr(l,r){1&l&&(e.TgZ(0,"small",69),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const $r=l=>({"ng-invalid ng-dirty":l});function Wr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",24)(1,"label",58),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.nameOfJob=n)}),e.qZA(),e.YNc(5,zr,3,3,"small",60),e.qZA(),e.TgZ(6,"div",24)(7,"label",61),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.DateEdit=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",24)(13,"label",63),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"textarea",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.description=n)}),e.qZA()(),e.TgZ(17,"div",24)(18,"label",65),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.requirment=n)}),e.qZA()(),e.TgZ(22,"div",24)(23,"label",67),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"textarea",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Name Of Job")),e.xp6(2),e.Q6J("ngModel",t.product.nameOfJob)("ngClass",e.VKq(28,$r,t.submitted&&!t.product.nameOfJob)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.nameOfJob),e.xp6(3),e.Oqu(e.lcZ(9,18,"Date")),e.xp6(2),e.Q6J("ngModel",t.DateEdit)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("placeholder",e.lcZ(11,20,"MM/DD/YYYY")),e.xp6(4),e.Oqu(e.lcZ(15,22,"Description")),e.xp6(2),e.Q6J("ngModel",t.product.description),e.xp6(3),e.Oqu(e.lcZ(20,24,"Requirment")),e.xp6(2),e.Q6J("ngModel",t.product.requirment),e.xp6(3),e.Oqu(e.lcZ(25,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)}}function Xr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function ec(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function tc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function nc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const xt=()=>({width:"450px"});let oc=(()=>{class l{constructor(t,o,n,a,s,p,d){this._InternalJobService=t,this.messageService=o,this.DatePipe=n,this.fb=a,this.translate=s,this.datePipe=p,this.router=d,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="InternalJob",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._InternalJobService.setCulture(t),this._InternalJobService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"nameOfJob",header:"NameOfJob"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.jobForm=this.fb.group({nameOfJob:new i.NI(null,i.kI.required),description:new i.NI(null,i.kI.required),status:new i.NI(!1,i.kI.required),notes:new i.NI(null),date:new i.NI(null,i.kI.required),jobRequirements:this.fb.array([this.createRequirement()])})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._InternalJobService.GetById(t.id).subscribe({next:o=>{this.product={...o.data},this.productDialog=!0,console.log(o.data),this.DateEdit=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}confirmDelete(t){this._InternalJobService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){t.patchValue({date:this.datePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss"),status:t.get("status").value?1:0}),console.log(t),this._InternalJobService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.nameOfJob=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._InternalJobService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.product.date=this.DatePipe.transform(this.DateEdit,"yyyy-MM-ddTHH:mm:ss"),this._InternalJobService.Edit({id:o.id,nameOfJob:o.nameOfJob,notes:o.notes,description:o.description,requirment:o.requirment,date:o.date}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:a=>{console.log(a)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._InternalJobService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="nameOfJob"}createRequirement(){return this.fb.group({requirement:new i.NI(null,[i.kI.required])})}addRequirement(){this.jobForm.get("jobRequirements").push(this.createRequirement())}removeRequirement(t){this.jobForm.get("jobRequirements").removeAt(t)}get jobRequirements(){return this.jobForm.get("jobRequirements")}editJob(t){t.id&&this.router.navigate(["/info/InternalJobs/edit",t.id])}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(hn),e.Y36(u.ez),e.Y36(m.uU),e.Y36(i.qu),e.Y36(f.sK),e.Y36(m.uU),e.Y36(G.F0))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-internal-jobs"]],viewQuery:function(o,n){if(1&o&&e.Gf(Rr,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:30,vars:42,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"custom-header","flex","justify-content-between","align-items-center"],[1,"text"],["type","button","pButton","","icon","pi pi-times",1,"p-button-text","p-button-sm",3,"click"],[3,"formGroup","submit"],[1,"field"],["htmlFor","nameOfJob"],["pInputText","","id","nameOfJob","formControlName","nameOfJob","type","text",3,"placeholder"],["htmlFor","description"],["pInputText","","id","description","formControlName","description","type","text",3,"placeholder"],[1,"field","field-switch"],["htmlFor","status"],["id","status","formControlName","status"],["htmlFor","newDate"],["formControlName","date","inputId","newDate",3,"showTime","showSeconds","iconDisplay","showIcon","placeholder"],["formArrayName","jobRequirements",1,"requirements-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button","p-button-text","p-button-success","w-fit",3,"click"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"field",3,"formGroupName"],[3,"for"],["pInputText","","formControlName","requirement","placeholder","Enter Requirement",3,"id"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button","p-button-text","p-button-danger","w-fit",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","nameOfJob"],[1,"tableRow",3,"click"],[3,"value","click"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations","justify-content-center"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","nameOfJob"],["type","text","pInputText","","id","nameOfJob","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","DateEdit"],["inputId","DateEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","placeholder","ngModelChange"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","requirment"],["id","requirment","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Qr,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,jr,5,7,"ng-template",2)(4,Vr,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.YNc(6,Gr,41,40,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(9,"translate"),e.YNc(10,Hr,8,7,"ng-template",8)(11,Yr,25,21,"ng-template",9)(12,Br,33,34,"ng-template",10),e.qZA(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.YNc(14,Wr,27,30,"ng-template",5)(15,Xr,4,6,"ng-template",12),e.qZA(),e.TgZ(16,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(17,"translate"),e.TgZ(18,"div",14),e._UZ(19,"i",15),e.YNc(20,ec,6,4,"span",0),e.qZA(),e.YNc(21,tc,4,6,"ng-template",12),e.qZA(),e.TgZ(22,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(23,"translate"),e.TgZ(24,"div",14),e._UZ(25,"i",15),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,nc,4,6,"ng-template",12),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(38,xt)),e.Q6J("visible",n.showFormNew)("modal",!0),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(9,30,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(39,xt)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(40,xt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,32,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(41,xt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,34,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,36,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,i.x0,i.CE,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,Y.f,ae.Ql,U.u],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.requirements-container[_ngcontent-%COMP%]{max-height:150px;overflow:auto}.requirements-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:8px}.tableRow[_ngcontent-%COMP%]{cursor:pointer}  .p-dialog .p-dialog-header{display:none}  .p-dialog .custom-header{padding:20px 0}  .p-dialog .custom-header span.text{font-weight:600;font-size:1.25rem}  .p-dialog .custom-header button{width:2rem;height:2rem;color:#6c757d;border:0 none;background:transparent;border-radius:50%;transition:background-color .2s,color .2s,box-shadow .2s;margin-right:.5rem}"]})}return l})(),fn=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const lc=["dt"];function ac(l,r){1&l&&e._UZ(0,"pre-loading")}function ic(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New Attendance Configuration")),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function sc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}2&l&&e.Q6J("label",e.lcZ(1,1,"Export"))}function rc(l,r){1&l&&(e._uU(0),e.ALo(1,"translate")),2&l&&e.hij(" ",e.lcZ(1,1,r.$implicit.name)," ")}function cc(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Excuse Calculation Types")," ")}}function pc(l,r){1&l&&(e._uU(0),e.ALo(1,"translate")),2&l&&e.hij(" ",e.lcZ(1,1,r.$implicit.name)," ")}function dc(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Early Leave Calculation Type")," ")}}function uc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",56)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",22)(6,"label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"div",22)(11,"label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",58),e.qZA(),e.TgZ(15,"div",22)(16,"label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",59),e.qZA(),e.TgZ(20,"div",22)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",60),e.qZA(),e.TgZ(25,"div",22)(26,"label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",61),e.qZA(),e.TgZ(30,"div",22)(31,"label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",62),e.qZA(),e.TgZ(35,"div",22)(36,"label"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",63),e.qZA(),e.TgZ(40,"div",22)(41,"label"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",64),e.qZA(),e.TgZ(45,"div",22)(46,"label"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",65),e.qZA(),e.TgZ(50,"div",25),e._UZ(51,"p-checkbox",66),e.TgZ(52,"label",67),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div",25),e._UZ(56,"p-checkbox",68),e.TgZ(57,"label",69),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",25),e._UZ(61,"p-checkbox",70),e.TgZ(62,"label",71),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"button",72),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.removeLateSetting(a))}),e.ALo(66,"translate"),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.lnq("",e.lcZ(3,17,"Late Settings")," ",e.lcZ(4,19,"LIST")," [",t+1,"] : "),e.xp6(5),e.hij("",e.lcZ(8,21,"Deduction From Minutes"),":"),e.xp6(5),e.hij("",e.lcZ(13,23,"Deduction To Minutes"),":"),e.xp6(5),e.hij("",e.lcZ(18,25,"Deduction Factor"),":"),e.xp6(5),e.hij("",e.lcZ(23,27,"Deduction Time In Minutes"),":"),e.xp6(5),e.hij("",e.lcZ(28,29,"First Penalty In Days"),":"),e.xp6(5),e.hij("",e.lcZ(33,31,"Second Penalty In Days"),":"),e.xp6(5),e.hij("",e.lcZ(38,33,"Third Penalty In Days"),":"),e.xp6(5),e.hij("",e.lcZ(43,35,"Fourth Penalty In Days"),":"),e.xp6(5),e.hij("",e.lcZ(48,37,"Deduction In Money"),":"),e.xp6(6),e.Oqu(e.lcZ(54,39,"Deduct The Latency")),e.xp6(5),e.Oqu(e.lcZ(59,41,"Is Deducted From Total Excuses")),e.xp6(5),e.Oqu(e.lcZ(64,43,"Is Performed Only One Time")),e.xp6(2),e.Q6J("label",e.lcZ(66,45,"Remove"))}}function mc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"h5"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",21),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.attendanceForm))}),e.TgZ(5,"div",22)(6,"label"),e._uU(7),e.ALo(8,"translate"),e._UZ(9,"input",23),e.qZA()(),e.TgZ(10,"div",22)(11,"label"),e._uU(12),e.ALo(13,"translate"),e._UZ(14,"input",24),e.qZA()(),e.TgZ(15,"div",25),e._UZ(16,"p-checkbox",26),e.TgZ(17,"label",27),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",22)(21,"label"),e._uU(22),e.ALo(23,"translate"),e._UZ(24,"input",28),e.qZA()(),e.TgZ(25,"div",22)(26,"label"),e._uU(27),e.ALo(28,"translate"),e._UZ(29,"input",29),e.qZA()(),e.TgZ(30,"div",22)(31,"label"),e._uU(32),e.ALo(33,"translate"),e._UZ(34,"input",30),e.qZA()(),e.TgZ(35,"div",22)(36,"label"),e._uU(37),e.ALo(38,"translate"),e._UZ(39,"input",31),e.qZA()(),e.TgZ(40,"div",22)(41,"label"),e._uU(42),e.ALo(43,"translate"),e._UZ(44,"input",32),e.qZA()(),e.TgZ(45,"div",25),e._UZ(46,"p-checkbox",33),e.TgZ(47,"label",34),e._uU(48),e.ALo(49,"translate"),e.qZA()(),e.TgZ(50,"div",25),e._UZ(51,"p-checkbox",35),e.TgZ(52,"label",36),e._uU(53),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div",22)(56,"label",37),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"p-dropdown",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedExecuseCalculationType=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedExecuseCalculationTypeFun(n))}),e.YNc(60,rc,2,3,"ng-template",39)(61,cc,3,5,"ng-template",40),e.qZA()(),e.TgZ(62,"div",22)(63,"label",41),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEarlyLeaveCalculationType=n)})("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEarlyLeaveCalculationTypeFun(n))}),e.YNc(67,pc,2,3,"ng-template",39)(68,dc,3,5,"ng-template",40),e.qZA()(),e.TgZ(69,"div",22)(70,"label"),e._uU(71),e.ALo(72,"translate"),e.qZA(),e._UZ(73,"input",43),e.qZA(),e.TgZ(74,"div",22)(75,"label"),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._UZ(78,"input",44),e.qZA(),e.TgZ(79,"div",22)(80,"label"),e._uU(81),e.ALo(82,"translate"),e.qZA(),e._UZ(83,"input",45),e.qZA(),e.TgZ(84,"div",22)(85,"label"),e._uU(86),e.ALo(87,"translate"),e.qZA(),e._UZ(88,"input",46),e.qZA(),e.TgZ(89,"div",22)(90,"label"),e._uU(91),e.ALo(92,"translate"),e.qZA(),e._UZ(93,"input",47),e.qZA(),e.TgZ(94,"div",22)(95,"label"),e._uU(96),e.ALo(97,"translate"),e.qZA(),e._UZ(98,"input",48),e.qZA(),e.TgZ(99,"div",22)(100,"label"),e._uU(101),e.ALo(102,"translate"),e.qZA(),e._UZ(103,"input",49),e.qZA(),e.TgZ(104,"div",22)(105,"label"),e._uU(106),e.ALo(107,"translate"),e.qZA(),e._UZ(108,"input",50),e.qZA(),e.TgZ(109,"div",22)(110,"label"),e._uU(111),e.ALo(112,"translate"),e.qZA(),e._UZ(113,"input",51),e.qZA(),e.TgZ(114,"div",52),e.YNc(115,uc,67,47,"div",53),e.TgZ(116,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addLateSetting())}),e.ALo(117,"translate"),e.qZA()(),e.TgZ(118,"button",55),e._uU(119),e.ALo(120,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,33,"Add New")),e.xp6(2),e.Q6J("formGroup",t.attendanceForm),e.xp6(3),e.hij(" ",e.lcZ(8,35,"Name (Arabic)"),": "),e.xp6(5),e.hij(" ",e.lcZ(13,37,"Name (English)"),": "),e.xp6(6),e.hij("",e.lcZ(19,39,"Include Days Off Between Absent Days"),":"),e.xp6(4),e.hij(" ",e.lcZ(23,41,"First Day Penalty Deduction")," "),e.xp6(5),e.hij(" ",e.lcZ(28,43,"Second Day Penalty Deduction")," "),e.xp6(5),e.hij(" ",e.lcZ(33,45,"Third Day Penalty Deduction")," "),e.xp6(5),e.hij(" ",e.lcZ(38,47,"Fourth Day Penalty Deduction")," "),e.xp6(5),e.hij(" ",e.lcZ(43,49,"Fifth Day Penalty Deduction")," "),e.xp6(6),e.Oqu(e.lcZ(49,51,"Calculate Late Attendance In Time")),e.xp6(5),e.Oqu(e.lcZ(54,53,"Calculate Late Attendance Per Month")),e.xp6(4),e.Oqu(e.lcZ(58,55,"Excuse Calculation Type")),e.xp6(2),e.Q6J("ngModel",t.selectedExecuseCalculationType)("options",t.execuseCalculationTypes)("showClear",!0),e.xp6(5),e.Oqu(e.lcZ(65,57,"Early Leave Calculation Type")),e.xp6(2),e.Q6J("ngModel",t.selectedEarlyLeaveCalculationType)("options",t.earlyLeaveCalculationTypes)("showClear",!0),e.xp6(5),e.Oqu(e.lcZ(72,59,"Early Leave Penalty In Days For Each Hour")),e.xp6(5),e.Oqu(e.lcZ(77,61,"Max Monthly Late Minutes")),e.xp6(5),e.Oqu(e.lcZ(82,63,"Max Excuse Duration In Minutes")),e.xp6(5),e.Oqu(e.lcZ(87,65,"Max Number Of Excuses Per Month")),e.xp6(5),e.Oqu(e.lcZ(92,67,"First Missing Fingerprint")),e.xp6(5),e.Oqu(e.lcZ(97,69,"Second Missing Fingerprint")),e.xp6(5),e.Oqu(e.lcZ(102,71,"Third Missing Fingerprint")),e.xp6(5),e.Oqu(e.lcZ(107,73,"Fourth Missing Fingerprint")),e.xp6(5),e.Oqu(e.lcZ(112,75,"Fifth Missing Fingerprint")),e.xp6(4),e.Q6J("ngForOf",t.attendanceForm.get("lateSettingsList").controls),e.xp6(1),e.Q6J("label",e.lcZ(117,77,"Add Late Setting")),e.xp6(2),e.Q6J("disabled",t.attendanceForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(120,79,"Add New")," ")}}function gc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",73)(1,"h5",74),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",75),e._UZ(5,"i",76),e.TgZ(6,"input",77),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.s9C("placeholder",e.lcZ(7,5,"Search...")),e.Q6J("ngModel",t.nameFilter)}}function _c(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",78),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",79),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",80),e.qZA(),e.TgZ(7,"th",81),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",82),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,5,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,7,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,9,"Calculate Late Attendance In Time")),e.xp6(3),e.Oqu(e.lcZ(16,11,"Calculate Late Attendance Per Month")),e.xp6(3),e.Oqu(e.lcZ(19,13,"Actions")))}function hc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr",83),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",84),e.qZA(),e.TgZ(3,"td")(4,"span",85),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"span",85),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",85),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"td")(19,"span",85),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td")(24,"div",86)(25,"button",87),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.deleteProduct(s,n))}),e.ALo(26,"translate"),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(3),e.Oqu(e.lcZ(6,10,"Id")),e.xp6(2),e.hij(" ",t.id,""),e.xp6(3),e.Oqu(e.lcZ(11,12,"Name")),e.xp6(2),e.hij(" ",t.name,""),e.xp6(3),e.Oqu(e.lcZ(16,14,"Calculate Late Attendance In Time")),e.xp6(2),e.hij(" ",t.calculateLateAttendanceInTime," "),e.xp6(3),e.Oqu(e.lcZ(21,16,"Calculate Late Attendance Per Month")),e.xp6(2),e.hij(" ",t.calculateLateAttendancePerMonth," "),e.xp6(3),e.Q6J("label",e.lcZ(26,18,"Delete"))}}function fc(l,r){1&l&&(e.TgZ(0,"small",94),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Name is required.")))}const Zc=l=>({"ng-invalid ng-dirty":l});function xc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",88)(1,"label",89),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",90),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(5,fc,3,3,"small",91),e.qZA(),e.TgZ(6,"div",88)(7,"label",92),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"textarea",93),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(10,Zc,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(9,8,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)}}function Cc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",95),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",96),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.s9C("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.s9C("label",e.lcZ(3,4,"Save")))}function bc(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ac(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",95),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",96),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.s9C("label",e.lcZ(1,2,"No")),e.xp6(2),e.s9C("label",e.lcZ(3,4,"Yes")))}function Tc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",95),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",96),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.s9C("label",e.lcZ(1,2,"No")),e.xp6(2),e.s9C("label",e.lcZ(3,4,"Yes")))}const $t=()=>({width:"450px"});let yc=(()=>{class l{constructor(t,o,n,a){this.messageService=t,this.attendenceConfigurationService=o,this.fb=n,this.router=a,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.valCheck=!1}ngOnInit(){this.endPoint="AttendanceConfiguration",this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"}],q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.attendenceConfigurationService.setCulture(t),this.attendenceConfigurationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.attendanceForm=this.fb.group({includeDaysOffBetweenTwoAbsentDays:[!1,i.kI.required],nameAr:["",i.kI.required],englishName:["",i.kI.required],firstDayPenaltyDeduction:[0,i.kI.required],secondDayPenaltyDeduction:[0,i.kI.required],thirdDayPenaltyDeduction:[0,i.kI.required],fourthDayPenaltyDeduction:[0,i.kI.required],fifthAndAboveDayPenaltyDeduction:[0,i.kI.required],calculateLateAttendanceInTime:[!1,i.kI.required],calculateLateAttendancePerMonth:[!1,i.kI.required],excuseCalculationType:[null,i.kI.required],earlyLeaveCalculationType:[null,i.kI.required],earlyLeavePenalityInDaysForEachHour:[0,i.kI.required],maxMonthlyLateMinutes:[0,i.kI.required],maxExuseDurationInMinutes:[0,i.kI.required],maxNumberOfExcusesPerMonth:[0,i.kI.required],firstMissingFingerprint:[0,i.kI.required],secondMissingFingerprint:[0,i.kI.required],thirdMissingFingerprint:[0,i.kI.required],fourthMissingFingerprint:[0,i.kI.required],fifthMissingFingerprint:[0,i.kI.required],lateSettingsList:this.fb.array([this.createLateSettingGroup()])}),this.getExecuseCalculationTypesDropdown(),this.getEarlyLeaveCalculationTypeDropDown(),console.log(this.execuseCalculationTypes)}createLateSettingGroup(){return this.fb.group({deductionFromMinutes:[0,i.kI.required],deductionToMinutes:[0,i.kI.required],deductionFactor:[0,i.kI.required],deductedTimeInMinutes:[0,i.kI.required],firstPenaltyInDays:[0,i.kI.required],secondPenaltyInDays:[0,i.kI.required],thirdPenaltyInDays:[0,i.kI.required],fourthPenaltyInDays:[0,i.kI.required],deductTheLatency:[!1,i.kI.required],isDeductedFromTotalExcuses:[!1,i.kI.required],isPerformedOnlyOneTime:[!1,i.kI.required],deductionInMoney:[0,i.kI.required]})}addLateSetting(){this.attendanceForm.get("lateSettingsList").push(this.createLateSettingGroup())}removeLateSetting(t){this.attendanceForm.get("lateSettingsList").removeAt(t)}editProduct(t){this.product={...t},this.router.navigate(["/info/attendenceConfig/edit",t.id]),console.log(t)}confirmDelete(t){this.attendenceConfigurationService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log("Form Data:",t),t.valid&&(t.patchValue({excuseCalculationType:this.selectedExecuseCalculationType?.id,earlyLeaveCalculationType:this.selectedEarlyLeaveCalculationType?.id}),console.log("Form Data:",t),this.attendenceConfigurationService.Register(t.value).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Added an Item Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}))}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s="asc"){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.attendenceConfigurationService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems),console.log(s)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.attendenceConfigurationService.Edit({id:o.id,name:o.name,notes:o.notes}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.attendenceConfigurationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}getExecuseCalculationTypesDropdown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.execuseCalculationTypes=t.data}})}getEarlyLeaveCalculationTypeDropDown(){this.attendenceConfigurationService.getDropdownEnum("getEarlyLeaveCalculationType").subscribe({next:t=>{console.log(t),this.earlyLeaveCalculationTypes=t.data}})}selectedExecuseCalculationTypeFun(t){this.selectedExecuseCalculationType=t.value,this.selectedExecuseCalculationTypeId=t.value.id}selectedEarlyLeaveCalculationTypeFun(t){this.selectedEarlyLeaveCalculationType=t.value,this.selectedEarlyLeaveCalculationTypeId=t.value.id}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(fn),e.Y36(i.qu),e.Y36(G.F0))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-attendence-configuration"]],viewQuery:function(o,n){if(1&o&&e.Gf(lc,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,f.sK,m.uU]),e.jDz],decls:33,vars:50,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","card p-fluid",4,"ngIf"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"card","p-fluid"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:col-4"],["pInputText","","formControlName","nameAr","type","text"],["pInputText","","formControlName","englishName","type","text"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","ny","value","","binary","true"],["for","ny"],["formControlName","firstDayPenaltyDeduction","type","number","pInputText",""],["formControlName","secondDayPenaltyDeduction","type","number","pInputText",""],["formControlName","thirdDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fourthDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fifthAndAboveDayPenaltyDeduction","type","number","pInputText",""],["formControlName","calculateLateAttendanceInTime","inputId","calculateLateAttendanceInTime","value","","binary","true"],["for","calculateLateAttendanceInTime"],["formControlName","calculateLateAttendancePerMonth","inputId","calculateLateAttendancePerMonth","value","","binary","true"],["for","calculateLateAttendancePerMonth"],["htmlFor","Employee"],["optionLabel","name","formControlName","excuseCalculationType",1,"w-fit",3,"ngModel","options","showClear","ngModelChange","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],["htmlFor","EarlyLeaveCalculationType"],["optionLabel","name","formControlName","earlyLeaveCalculationType",1,"w-fit",3,"ngModel","options","showClear","ngModelChange","onChange"],["formControlName","earlyLeavePenalityInDaysForEachHour","type","number","pInputText",""],["formControlName","maxMonthlyLateMinutes","type","number","pInputText",""],["formControlName","maxExuseDurationInMinutes","type","number","pInputText",""],["formControlName","maxNumberOfExcusesPerMonth","type","number","pInputText",""],["formControlName","firstMissingFingerprint","type","number","pInputText",""],["formControlName","secondMissingFingerprint","type","number","pInputText",""],["formControlName","thirdMissingFingerprint","type","number","pInputText",""],["formControlName","fourthMissingFingerprint","type","number","pInputText",""],["formControlName","fifthMissingFingerprint","type","number","pInputText",""],["formArrayName","lateSettingsList",1,"lateSettingsLists"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"label","click"],["pButton","","pRipple","","type","submit",1,"w-fit",3,"disabled"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["for","isPerformedOnlyOneTime"],["pButton","","pRipple","","type","button","icon","pi pi-minus",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[1,"tableRow",3,"click"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"label","click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ac,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,ic,5,7,"ng-template",2)(4,sc,2,3,"ng-template",3),e.qZA(),e.YNc(5,mc,121,81,"div",4),e.TgZ(6,"p-table",5,6),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(8,"translate"),e.ALo(9,"translate"),e.ALo(10,"translate"),e.ALo(11,"translate"),e.YNc(12,gc,8,7,"ng-template",7)(13,_c,20,15,"ng-template",8)(14,hc,27,20,"ng-template",9),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(16,"translate"),e.YNc(17,xc,11,12,"ng-template",11)(18,Cc,4,6,"ng-template",12),e.qZA(),e.TgZ(19,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(20,"translate"),e.TgZ(21,"div",14),e._UZ(22,"i",15),e.YNc(23,bc,6,4,"span",0),e.qZA(),e.YNc(24,Ac,4,6,"ng-template",12),e.qZA(),e.TgZ(25,"p-dialog",13),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(26,"translate"),e.TgZ(27,"div",14),e._UZ(28,"i",15),e.TgZ(29,"span"),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.YNc(32,Tc,4,6,"ng-template",12),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Q6J("ngIf",n.showFormNew),e.xp6(1),e.FAE("currentPageReportTemplate","",e.lcZ(8,31,"Showing")," {first} ",e.lcZ(9,33,"to")," {last} ",e.lcZ(10,35,"of")," {totalRecords} ",e.lcZ(11,37,"entries"),""),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(9),e.Akn(e.DdM(47,$t)),e.Q6J("visible",n.productDialog)("header",e.lcZ(16,39,"Product Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(48,$t)),e.s9C("header",e.lcZ(20,41,"Confirm")),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(49,$t)),e.s9C("header",e.lcZ(26,43,"Confirm")),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(5),e.Oqu(e.lcZ(31,45,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,i.x0,i.CE,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,it.XZ,U.u],styles:[".btn-add[_ngcontent-%COMP%]{display:flex;margin-top:24px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0!important}.lateSettingsLists[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}.crud-operations[_ngcontent-%COMP%]{justify-content:center}.tableRow[_ngcontent-%COMP%]{cursor:pointer}"]})}return l})();var Zn=x(9397),xn=x(7398);const qc=["manageItems"];function wc(l,r){1&l&&e._UZ(0,"pre-loading")}function Nc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",58)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"div",9)(4,"label"),e._uU(5," Deduction From Minutes: "),e._UZ(6,"input",59),e.qZA()(),e.TgZ(7,"div",9)(8,"label"),e._uU(9," Deduction To Minutes: "),e._UZ(10,"input",60),e.qZA()(),e.TgZ(11,"div",9)(12,"label"),e._uU(13," Deduction Factor: "),e._UZ(14,"input",61),e.qZA()(),e.TgZ(15,"div",9)(16,"label"),e._uU(17," Deduction Time In Minutes: "),e._UZ(18,"input",62),e.qZA()(),e.TgZ(19,"div",9)(20,"label"),e._uU(21," First Penalty In Days: "),e._UZ(22,"input",63),e.qZA()(),e.TgZ(23,"div",9)(24,"label"),e._uU(25," Second Penalty In Days: "),e._UZ(26,"input",64),e.qZA()(),e.TgZ(27,"div",9)(28,"label"),e._uU(29," Third Penalty In Days: "),e._UZ(30,"input",65),e.qZA()(),e.TgZ(31,"div",9)(32,"label"),e._uU(33," Fourth Penalty In Days: "),e._UZ(34,"input",66),e.qZA()(),e.TgZ(35,"div",9)(36,"label"),e._uU(37," Deduction In Money: "),e._UZ(38,"input",67),e.qZA()(),e.TgZ(39,"div",17),e._UZ(40,"p-checkbox",68),e.TgZ(41,"label",69),e._uU(42," Deduct The Latency"),e.qZA()(),e.TgZ(43,"div",17),e._UZ(44,"p-checkbox",70),e.TgZ(45,"label",71),e._uU(46," Is Deducted From Total Excuses"),e.qZA()(),e.TgZ(47,"div",17),e._UZ(48,"p-checkbox",72),e.TgZ(49,"label",19),e._uU(50," Is Performed Only One Time"),e.qZA()(),e.TgZ(51,"button",73),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeLateSetting(a))}),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.hij("Late Settings ",t+1," List :")}}function Mc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",74)(1,"p-fileUpload",75,76),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(2),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(3,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("chooseLabel",e.lcZ(3,2,"Import File"))("auto",!0))}function vc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateImage())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const Dc=()=>({width:"450px"});let Ic=(()=>{class l{constructor(t,o,n,a,s,p,d,h){this.attendenceConfigurationService=t,this.messageService=o,this.DatePipe=n,this.router=a,this.route=s,this.activatedRoute=p,this.translate=d,this.fb=h,this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.editForm=new i.cw({Id:new i.NI({value:this.currentId,disabled:!0}),calculateLateAttendanceInTime:new i.NI,calculateLateAttendancePerMonth:new i.NI,includeDaysOffBetweenTwoAbsentDays:new i.NI,firstMissingFingerprint:new i.NI,secondMissingFingerprint:new i.NI,thirdMissingFingerprint:new i.NI,fourthMissingFingerprint:new i.NI,fifthMissingFingerprint:new i.NI,firstDayPenaltyDeduction:new i.NI,secondDayPenaltyDeduction:new i.NI,thirdDayPenaltyDeduction:new i.NI,fourthDayPenaltyDeduction:new i.NI,fifthAndAboveDayPenaltyDeduction:new i.NI,maxMissingFingerPrintWithoutDeduction:new i.NI,maxMonthlyLateMinutes:new i.NI,maxNumberOfExcusesPerMonth:new i.NI,maxExuseDurationInMinutes:new i.NI,lateSettingsList:this.fb.array([]),excuseCalculationType:new i.NI,nameAr:new i.NI,englishName:new i.NI}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="AttendanceConfiguration",q.O.getMainLangChanges().subscribe(o=>{console.log("Main language changed to:",o),this.translate.use(o),this.attendenceConfigurationService.setCulture(o),this.attendenceConfigurationService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDown(),this.getData().pipe((0,Zn.b)(o=>{this.allData=o.data,this.patchFormValues(this.allData),this.loading=!1,console.log("Data fetched:",this.allData)}),(0,xn.U)(o=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.joininDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.hirDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy"),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.calculateLateAttendanceInTime=t.calculateLateAttendanceInTime,this.calculateLateAttendancePerMonth=t.calculateLateAttendancePerMonth,this.includeDaysOffBetweenTwoAbsentDays=t.includeDaysOffBetweenTwoAbsentDays,this.firstMissingFingerprint=t.firstMissingFingerprint,this.secondMissingFingerprint=t.secondMissingFingerprint,this.thirdMissingFingerprint=t.thirdMissingFingerprint,this.fourthMissingFingerprint=t.fourthMissingFingerprint,this.fifthMissingFingerprint=t.fifthMissingFingerprint,this.firstDayPenaltyDeduction=t.firstDayPenaltyDeduction,this.secondDayPenaltyDeduction=t.secondDayPenaltyDeduction,this.thirdDayPenaltyDeduction=t.thirdDayPenaltyDeduction,this.fourthDayPenaltyDeduction=t.fourthDayPenaltyDeduction,this.fifthAndAboveDayPenaltyDeduction=t.fifthAndAboveDayPenaltyDeduction,this.maxMissingFingerPrintWithoutDeduction=t.maxMissingFingerPrintWithoutDeduction,this.maxMonthlyLateMinutes=t.maxMonthlyLateMinutes,this.maxNumberOfExcusesPerMonth=t.maxNumberOfExcusesPerMonth,this.maxExuseDurationInMinutes=t.maxExuseDurationInMinutes,this.patchFormData(t.lateSettingsList),this.nameAr=t.nameAr,this.englishName=t.englishName,this.selectedexcuseCalculationType=this.getObject(t.excuseCalculationType,this.dropdownItemsexcuseCalculationType)}submitForm(t){t.patchValue({excuseCalculationType:this.selectedexcuseCalculationType?.id}),this.editForm.get("Id").enable(),console.log(t.value),this.attendenceConfigurationService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(o),this.loading=!1,this.editForm.get("Id").disable()}}),console.log(t.value)}onGovernmentChange(t){console.log(t)}getData(){return this.attendenceConfigurationService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get lateSettingsList(){return this.editForm.get("lateSettingsList")}createLateSettingGroup(t){return this.fb.group({id:[t.id],attendanceConfigurationId:[t.attendanceConfigurationId],deductionFromMinutes:[t.deductionFromMinutes,i.kI.required],deductionToMinutes:[t.deductionToMinutes,i.kI.required],deductionFactor:[t.deductionFactor,i.kI.required],firstPenaltyInDays:[t.firstPenaltyInDays,i.kI.required],secondPenaltyInDays:[t.secondPenaltyInDays,i.kI.required],thirdPenaltyInDays:[t.thirdPenaltyInDays,i.kI.required],fourthPenaltyInDays:[t.fourthPenaltyInDays,i.kI.required],deductTheLatency:[t.deductTheLatency],deductedTimeInMinutes:[t.deductedTimeInMinutes,i.kI.required],isDeductedFromTotalExcuses:[t.isDeductedFromTotalExcuses],deductionInMoney:[t.deductionInMoney,i.kI.required],isPerformedOnlyOneTime:[t.isPerformedOnlyOneTime]})}patchFormData(t){this.lateSettingsList.clear(),t.forEach(o=>{this.lateSettingsList.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({deductionFromMinutes:[0,i.kI.required],deductionToMinutes:[0,i.kI.required],deductionFactor:[0,i.kI.required],deductedTimeInMinutes:[0,i.kI.required],firstPenaltyInDays:[0,i.kI.required],secondPenaltyInDays:[0,i.kI.required],thirdPenaltyInDays:[0,i.kI.required],fourthPenaltyInDays:[0,i.kI.required],deductTheLatency:[!1,i.kI.required],isDeductedFromTotalExcuses:[!1,i.kI.required],isPerformedOnlyOneTime:[!1,i.kI.required],deductionInMoney:[0,i.kI.required]})}addLateSetting(){this.editForm.get("lateSettingsList").push(this.createLateSettingGroupAdd())}getDropDown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.dropdownItemsexcuseCalculationType=t.data}})}removeLateSetting(t){this.editForm.get("lateSettingsList").removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(fn),e.Y36(u.ez),e.Y36(m.uU),e.Y36(G.F0),e.Y36(G.gz),e.Y36(G.gz),e.Y36(f.sK),e.Y36(i.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-attendence-config-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(qc,5),2&o){let a;e.iGM(a=e.CRH())&&(n.manageItems=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:123,vars:90,consts:[[4,"ngIf"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","Id",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameAr",3,"ngModel","ngModelChange"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","englishName",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","excuseCalculationType"],["formControlName","excuseCalculationType","optionLabel","name",3,"options","ngModel","ngModelChange"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","calculateLateAttendanceInTime","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["for","isPerformedOnlyOneTime"],["formControlName","calculateLateAttendancePerMonth","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["htmlFor","firstMissingFingerprint"],["pInputText","","id","firstMissingFingerprint","formControlName","firstMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["pInputText","","id","secondMissingFingerprint","formControlName","secondMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["htmlFor","thirdMissingFingerprint"],["pInputText","","id","thirdMissingFingerprint","formControlName","thirdMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["htmlFor","fourthMissingFingerprint"],["pInputText","","id","fourthMissingFingerprint","formControlName","fourthMissingFingerprint",3,"ngModel","ngModelChange"],["htmlFor","fifthMissingFingerprint"],["pInputText","","id","fifthMissingFingerprint","formControlName","fifthMissingFingerprint",3,"ngModel","ngModelChange"],["htmlFor","firstDayPenaltyDeduction"],["pInputText","","id","firstDayPenaltyDeduction","formControlName","firstDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["pInputText","","id","secondDayPenaltyDeduction","formControlName","secondDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["htmlFor","thirdDayPenaltyDeduction"],["pInputText","","id","thirdDayPenaltyDeduction","formControlName","thirdDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["htmlFor","fourthDayPenaltyDeduction"],["pInputText","","id","fourthDayPenaltyDeduction","formControlName","fourthDayPenaltyDeduction",3,"ngModel","ngModelChange"],["htmlFor","fifthAndAboveDayPenaltyDeduction"],["pInputText","","id","fifthAndAboveDayPenaltyDeduction","formControlName","fifthAndAboveDayPenaltyDeduction",3,"ngModel","ngModelChange"],["htmlFor","maxExuseDurationInMinutes"],["pInputText","","id","maxExuseDurationInMinutes","formControlName","maxExuseDurationInMinutes",3,"ngModel","ngModelChange"],["htmlFor","maxMissingFingerPrintWithoutDeduction"],["pInputText","","id","maxMissingFingerPrintWithoutDeduction","formControlName","maxMissingFingerPrintWithoutDeduction",3,"ngModel","ngModelChange"],["htmlFor","maxMonthlyLateMinutes"],["pInputText","","id","maxMonthlyLateMinutes","formControlName","maxMonthlyLateMinutes",3,"ngModel","ngModelChange"],["htmlFor","maxNumberOfExcusesPerMonth"],["pInputText","","id","maxNumberOfExcusesPerMonth","formControlName","maxNumberOfExcusesPerMonth",3,"ngModel","ngModelChange"],["formArrayName","lateSettingsList",1,"lateSettingsList","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Late Setting",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,wc,1,0,"pre-loading",0),e.TgZ(2,"form",1),e.NdJ("submit",function(){return n.submitForm(n.editForm)}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(s){return n.currentId=s}),e.qZA()(),e.TgZ(12,"div",9)(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("ngModelChange",function(s){return n.nameAr=s}),e.qZA()(),e.TgZ(17,"div",9)(18,"label",12),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",13),e.NdJ("ngModelChange",function(s){return n.englishName=s}),e.qZA()(),e.TgZ(22,"div",14)(23,"label",15),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"p-dropdown",16),e.NdJ("ngModelChange",function(s){return n.selectedexcuseCalculationType=s}),e.qZA()(),e.TgZ(27,"div",17)(28,"p-checkbox",18),e.NdJ("ngModelChange",function(s){return n.calculateLateAttendanceInTime=s}),e.qZA(),e.TgZ(29,"label",19),e._uU(30," Calculate Late Attendance In Time"),e.qZA()(),e.TgZ(31,"div",17)(32,"p-checkbox",20),e.NdJ("ngModelChange",function(s){return n.calculateLateAttendancePerMonth=s}),e.qZA(),e.TgZ(33,"label",19),e._uU(34," Calculate Late Attendance Per Month"),e.qZA()(),e.TgZ(35,"div",17)(36,"p-checkbox",21),e.NdJ("ngModelChange",function(s){return n.includeDaysOffBetweenTwoAbsentDays=s}),e.qZA(),e.TgZ(37,"label",19),e._uU(38," Include Days Off Between Two Absent Days"),e.qZA()(),e.TgZ(39,"div",9)(40,"label",22),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"input",23),e.NdJ("ngModelChange",function(s){return n.firstMissingFingerprint=s}),e.qZA()(),e.TgZ(44,"div",9)(45,"label",22),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",24),e.NdJ("ngModelChange",function(s){return n.secondMissingFingerprint=s}),e.qZA()(),e.TgZ(49,"div",9)(50,"label",25),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"input",26),e.NdJ("ngModelChange",function(s){return n.thirdMissingFingerprint=s}),e.qZA()(),e.TgZ(54,"div",9)(55,"label",27),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"input",28),e.NdJ("ngModelChange",function(s){return n.fourthMissingFingerprint=s}),e.qZA()(),e.TgZ(59,"div",9)(60,"label",29),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"input",30),e.NdJ("ngModelChange",function(s){return n.fifthMissingFingerprint=s}),e.qZA()(),e.TgZ(64,"div",9)(65,"label",31),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"input",32),e.NdJ("ngModelChange",function(s){return n.firstDayPenaltyDeduction=s}),e.qZA()(),e.TgZ(69,"div",9)(70,"label",31),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"input",33),e.NdJ("ngModelChange",function(s){return n.secondDayPenaltyDeduction=s}),e.qZA()(),e.TgZ(74,"div",9)(75,"label",34),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.TgZ(78,"input",35),e.NdJ("ngModelChange",function(s){return n.thirdDayPenaltyDeduction=s}),e.qZA()(),e.TgZ(79,"div",9)(80,"label",36),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"input",37),e.NdJ("ngModelChange",function(s){return n.fourthDayPenaltyDeduction=s}),e.qZA()(),e.TgZ(84,"div",9)(85,"label",38),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"input",39),e.NdJ("ngModelChange",function(s){return n.fifthAndAboveDayPenaltyDeduction=s}),e.qZA()(),e.TgZ(89,"div",9)(90,"label",40),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.TgZ(93,"input",41),e.NdJ("ngModelChange",function(s){return n.maxExuseDurationInMinutes=s}),e.qZA()(),e.TgZ(94,"div",9)(95,"label",42),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"input",43),e.NdJ("ngModelChange",function(s){return n.maxMissingFingerPrintWithoutDeduction=s}),e.qZA()(),e.TgZ(99,"div",9)(100,"label",44),e._uU(101),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"input",45),e.NdJ("ngModelChange",function(s){return n.maxMonthlyLateMinutes=s}),e.qZA()(),e.TgZ(104,"div",9)(105,"label",46),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"input",47),e.NdJ("ngModelChange",function(s){return n.maxNumberOfExcusesPerMonth=s}),e.qZA()(),e.TgZ(109,"div",48),e.YNc(110,Nc,52,2,"div",49),e.TgZ(111,"button",50),e.NdJ("click",function(){return n.addLateSetting()}),e.qZA()(),e.TgZ(112,"div",51)(113,"div",52)(114,"button",53),e._UZ(115,"i",54),e.TgZ(116,"span"),e._uU(117),e.ALo(118,"translate"),e.qZA()()()()()()()()(),e.TgZ(119,"p-dialog",55),e.NdJ("visibleChange",function(s){return n.uploadImageDialog=s}),e.ALo(120,"translate"),e.YNc(121,Mc,4,4,"ng-template",56)(122,vc,4,6,"ng-template",57),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("formGroup",n.editForm),e.xp6(7),e.Oqu(e.lcZ(10,49,"Id")),e.xp6(2),e.Q6J("ngModel",n.currentId),e.xp6(3),e.Oqu(e.lcZ(15,51,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",n.nameAr),e.xp6(3),e.Oqu(e.lcZ(20,53,"English Name")),e.xp6(2),e.Q6J("ngModel",n.englishName),e.xp6(3),e.Oqu(e.lcZ(25,55,"excuseCalculationType")),e.xp6(2),e.Q6J("options",n.dropdownItemsexcuseCalculationType)("ngModel",n.selectedexcuseCalculationType),e.xp6(2),e.Q6J("ngModel",n.calculateLateAttendanceInTime),e.xp6(4),e.Q6J("ngModel",n.calculateLateAttendancePerMonth),e.xp6(4),e.Q6J("ngModel",n.includeDaysOffBetweenTwoAbsentDays),e.xp6(5),e.Oqu(e.lcZ(42,57,"firstMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.firstMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(47,59,"secondMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.secondMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(52,61,"thirdMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.thirdMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(57,63,"fourthMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.fourthMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(62,65,"fifthMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.fifthMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(67,67,"firstDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.firstDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(72,69,"secondDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.secondDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(77,71,"thirdDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.thirdDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(82,73,"fourthDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.fourthDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(87,75,"fifthAndAboveDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.fifthAndAboveDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(92,77,"maxExuseDurationInMinutes")),e.xp6(2),e.Q6J("ngModel",n.maxExuseDurationInMinutes),e.xp6(3),e.Oqu(e.lcZ(97,79,"maxMissingFingerPrintWithoutDeduction")),e.xp6(2),e.Q6J("ngModel",n.maxMissingFingerPrintWithoutDeduction),e.xp6(3),e.Oqu(e.lcZ(102,81,"maxMonthlyLateMinutes")),e.xp6(2),e.Q6J("ngModel",n.maxMonthlyLateMinutes),e.xp6(3),e.Oqu(e.lcZ(107,83,"maxNumberOfExcusesPerMonth")),e.xp6(2),e.Q6J("ngModel",n.maxNumberOfExcusesPerMonth),e.xp6(2),e.Q6J("ngForOf",n.lateSettingsList.controls),e.xp6(7),e.hij(" ",e.lcZ(118,85,"Save")," "),e.xp6(2),e.Akn(e.DdM(89,Dc)),e.Q6J("visible",n.uploadImageDialog)("header",e.lcZ(120,87,"Update Profile Image"))("modal",!0))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE,P.N,f.X$,y.g,u.jx,F.H,J.p,w.Hq,L.V,N.FN,I.o,O.Lt,it.XZ],styles:[".lateSettingsList[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})}return l})(),Pc=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getEmployeeByDepartment(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeesByDepartmentId?DepartmentId=${t}&culture=${this.culture}`)}UpdateEmployeesShift(t){return this.http.get(`${this.baseurl}/Employee/UpdateEmployeesShift`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Fc(l,r){1&l&&e._UZ(0,"pre-loading")}let Lc=(()=>{class l{constructor(t,o){this._SetEmployeeShiftsService=t,this.messageService=o,this.loading=!1,this.selectedEmployeeIds=[],this.registerForm={}}ngOnInit(){this.endPoint="Employee",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._SetEmployeeShiftsService.setCulture(t),this._SetEmployeeShiftsService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this._SetEmployeeShiftsService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"})}ChangeEmployees(t){console.log(t.id),this.loading=!0,this._SetEmployeeShiftsService.getEmployeeByDepartment(t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,console.log(o),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onSelectEmployees(t){this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.id)}),console.log(this.selectedEmployeeIds)}onSelectShift(t){console.log(t),this.selectedShiftId=t.value.id,console.log(this.selectedShiftId)}registerSubmit(){this.registerForm={shiftId:this.selectedShiftId,employeeIds:this.selectedEmployeeIds},this.loading=!0,this._SetEmployeeShiftsService.UpdateEmployeesShift(this.registerForm).subscribe({next:t=>{console.log(t),this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3})},error:()=>{this.loading=!1}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Pc),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-set-employee-shifts"]],standalone:!0,features:[e._Bn([u.ez,m.uU,f.sK]),e.jDz],decls:36,vars:30,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],[1,"p-fluid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange","onChange"],["htmlFor","employee"],["optionLabel","name",3,"options","ngModel","placeholder","ngModelChange","onChange"],["htmlFor","shift"],["optionLabel","name",3,"options","placeholder","onChange"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["type","submit","pButton","","value","Save",1,"flex","justify-content-center"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Fc,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return n.registerSubmit()}),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-dropdown",11),e.NdJ("ngModelChange",function(s){return n.selectedDepartment=s})("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.ALo(17,"translate"),e.qZA()()()(),e.TgZ(18,"div",9)(19,"label",12),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p-multiSelect",13),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s})("onChange",function(s){return n.onSelectEmployees(s)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",9)(25,"label",14),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p-dropdown",15),e.NdJ("onChange",function(s){return n.onSelectShift(s)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",16)(31,"div",8)(32,"div",17)(33,"button",18),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,14,"Assign New Shift For Some Employees")),e.xp6(8),e.Oqu(e.lcZ(15,16,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(17,18,"Select Department")),e.xp6(4),e.Oqu(e.lcZ(21,20,"Department Employees")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(23,22,"Select Employees")),e.xp6(4),e.Oqu(e.lcZ(27,24,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("placeholder",e.lcZ(29,26,"Select Shift")),e.xp6(6),e.hij(" ",e.lcZ(35,28,"Save")," "))},dependencies:[T.l,m.O5,i._Y,i.JJ,i.JL,i.On,i.F,P.N,f.X$,y.g,w.Hq,N.FN,O.Lt,We.NU]})}return l})(),Jc=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getDropDownManager(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}getPartationByDepartmentId(t){return this.http.get(`${this.baseurl}/Partation/GetByDepartmentId?DepartmentId=${t}&culture=${this.culture}`)}GetEmployeeOfMangerDropDown(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeeOfMangerDropDown?MangerId=${t}&culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/GetEmployeeFingerprint/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Ve=x(3514);const Uc=["dt"];function Sc(l,r){1&l&&e._UZ(0,"pre-loading")}function kc(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select Department Firstly")," ")}}function Oc(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select Employee")," ")}}function Ec(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Rc(l,r){if(1&l&&(e.TgZ(0,"th",38),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"p-treeTableSortIcon",39),e.qZA()),2&l){const t=r.$implicit;e.Q6J("ttSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.header)," "),e.xp6(2),e.Q6J("field",t.field)}}function Qc(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,Rc,4,5,"th",37),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function jc(l,r){if(1&l&&e._UZ(0,"p-treeTableToggler",43),2&l){const t=e.oxw(2).$implicit;e.Q6J("rowNode",t)}}function Vc(l,r){if(1&l&&(e.TgZ(0,"td"),e.YNc(1,jc,1,1,"p-treeTableToggler",42),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&l){const t=r.$implicit,o=r.index,n=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",0===o),e.xp6(2),e.hij(" ",n[t.field]," ")}}function Kc(l,r){if(1&l&&(e.TgZ(0,"tr",40),e.YNc(1,Vc,4,2,"td",41),e.qZA()),2&l){const o=r.columns;e.Q6J("ttRow",r.$implicit),e.xp6(1),e.Q6J("ngForOf",o)}}let Gc=(()=>{class l{constructor(t,o,n,a){this._AllEmployeeFingerPrintsService=t,this.messageService=o,this.datePipe=n,this.translate=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.submitted=!1,this.productDialog=!1,this.sortField="id",this.sortOrder="asc",this.selectedEmployee=null,this.selectedPartition=null,this.selectedEmployeeManager=null,this.selectedDepartment=null,this.selectedShift=null,this.selectedJob=null,this.selectedLocation=null,this.selectedDateFrom=null,this.selectedDateTo=null}ngOnInit(){this.endPoint="FingerPrint",this.isCollapsed=!0,q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._AllEmployeeFingerPrintsService.setEndPoint(this.endPoint),this._AllEmployeeFingerPrintsService.setCulture(t),this.cols=[{field:"employeeName",header:"Employee Name"},{field:"locationName",header:"Location Names"},{field:"dateAndTime",header:"Date And Times"}],this.getAllDropDowns(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)})}getDistinctNumberLocations(t){let o=[];return t.map(a=>o.push(a.locationName)),[...new Set(o)].length}getTreeTable(t){return this.parentData=[],t.forEach(o=>{let n=this.getDistinctNumberLocations(o.timelocation),a={data:{employeeName:o.employeeName,dateAndTime:this.datePipe.transform(o.date,"dd/MM/yyyy"),locationName:`${n} ${this.translate.instant(n>1?"LOCATIONS":"LOCATION")}`},children:[]};o.timelocation.map(s=>{const h=this.datePipe.transform(new Date(`1970-01-01T${s.fingerprintTimes}`),"hh:mm a");a.children.push({data:{employeeName:1,dateAndTime:h,locationName:s.locationName}})}),this.parentData.push(a)}),console.log("parentData"),console.log(this.parentData),this.parentData}getAllDropDowns(){this.getDropDownFieldManager({field:"dropdownItemsEmployeeManager"}),this.getDropDownField({field:"dropdownItemsLocations",enum:"Location"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"})}getDropDownField(t){this._AllEmployeeFingerPrintsService.getDropDown(t.enum).subscribe({next:o=>{this[t.field]=o.data}})}getDropDownFieldManager(t){this._AllEmployeeFingerPrintsService.getDropDownManager().subscribe({next:o=>{this[t.field]=o.data}})}onFilterClickButton(){this.isCollapsed=!this.isCollapsed}onFilter(){let t,o;console.log(this.isCollapsed),(this.selectedDateFrom||this.selectedDateTo)&&(t=this.datePipe.transform(this.selectedDateFrom,"yyyy-MM-dd"),o=this.datePipe.transform(this.selectedDateTo,"yyyy-MM-dd")),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob,t,o)}onChangeDepartment(){}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}setFieldsNulls(){this.selectedEmployee=null,this.selectedDepartment=null,this.selectedEmployeeManager=null,this.selectedLocation=null,this.selectedShift=null,this.selectedPartition=null,this.selectedJob=null}jsonToFormData(t){const o=new FormData;return Object.keys(t).forEach(n=>{o.append(n,t[n])}),o}loadData(t,o,n,a,s,p,d,h,Q,V,H,Qe,O1,E1){this.loading=!0,console.log("selected Employee"),console.log(p);let sn={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s,EmployeeId:p?.id,DepartmentId:d?.id,MangerId:h?.id,LocationId:Q?.id,ShiftId:V?.id,PartationId:H?.id,JobId:Qe?.id,DateFrom:O1,DateTo:E1};sn.SortType=this.sortOrder,console.log("FilteredData From here"),console.log(sn);let R1=this.jsonToFormData(sn);this._AllEmployeeFingerPrintsService.GetPage(R1).subscribe({next:qn=>{this.allData=qn.data,this.getTreeTable(this.allData),this.totalItems=qn.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}whenChangeDepartment(){this._AllEmployeeFingerPrintsService.getPartationByDepartmentId(this.selectedDepartment.id).subscribe({next:t=>{this.dropdownItemsPartition=t.data}})}whenChangeManager(){this._AllEmployeeFingerPrintsService.GetEmployeeOfMangerDropDown(this.selectedEmployeeManager.id).subscribe({next:t=>{this.dropdownItemsEmployee=t.data}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}selectSpecEmployee(t){this.selectedEmployee=t.value}selectDateTo(t){console.log(t),this.selectedDateTo=t}selectDateFrom(t){console.log(t),this.selectedDateFrom=t}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Jc),e.Y36(u.ez),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-fingerPrints"]],viewQuery:function(o,n){if(1&o&&e.Gf(Uc,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:71,vars:96,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed","collapsedChange"],[1,"p-fluid","grid",3,"ngSubmit"],[1,"field","col-4"],["htmlFor","department"],["name","selectedDepartment","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["htmlFor","partition"],["optionLabel","name","name","selectedPartition",3,"options","ngModel","disabled","showClear","ngModelChange"],["pTemplate","selectedItem"],["htmlFor","EmployeeManager"],["name","selectedEmployeeManager","optionLabel","name",3,"ngModel","options","showClear","placeholder","ngModelChange","onChange"],["htmlFor","selectEmployee"],["optionLabel","name","name","selectedEmployee",3,"ngModel","options","showClear","disabled","ngModelChange","onChange"],["htmlFor","location"],["name","selectedLocation","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange"],["htmlFor","shift"],["name","selectedShift","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange"],["htmlFor","job"],["optionLabel","name","name","selectedJob",3,"options","ngModel","placeholder","showClear","ngModelChange"],["for","selectedDateFrom"],["name","selectedDateFrom","inputId","selectedDateFrom",3,"ngModel","iconDisplay","showIcon","placeholder","ngModelChange","onSelect"],["for","selectedDateTo"],["name","selectedDateTo","inputId","selectedDateTo",3,"ngModel","iconDisplay","showIcon","placeholder","ngModelChange","onSelect"],[1,"field","action-filter","col-12","sm:col-4","md:col-4","xl:col-2"],["type","submit","pButton","",1,"ms-5","text-center",3,"click"],[1,"pi","pi-filter"],[1,"px-2"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","showCurrentPageReport","currentPageReportTemplate","lazy","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","",3,"ngModel","placeholder","ngModelChange","input"],[3,"ttSortableColumn",4,"ngFor","ngForOf"],[3,"ttSortableColumn"],[3,"field"],[3,"ttRow"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[3,"rowNode"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Sc,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.NdJ("collapsedChange",function(s){return n.isCollapsed=s}),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return n.onFilter()}),e.TgZ(5,"div",3)(6,"label",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p-dropdown",5),e.NdJ("ngModelChange",function(s){return n.selectedDepartment=s})("onChange",function(){return n.whenChangeDepartment()}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",3)(12,"label",6),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p-dropdown",7),e.NdJ("ngModelChange",function(s){return n.selectedPartition=s}),e.YNc(16,kc,3,5,"ng-template",8),e.qZA()(),e.TgZ(17,"div",3)(18,"label",9),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p-dropdown",10),e.NdJ("ngModelChange",function(s){return n.selectedEmployeeManager=s})("onChange",function(){return n.whenChangeManager()}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",3)(24,"label",11),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"p-dropdown",12),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s})("onChange",function(s){return n.selectSpecEmployee(s)}),e.YNc(28,Oc,3,5,"ng-template",8),e.qZA()(),e.TgZ(29,"div",3)(30,"label",13),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"p-dropdown",14),e.NdJ("ngModelChange",function(s){return n.selectedLocation=s}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",3)(36,"label",15),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"p-dropdown",16),e.NdJ("ngModelChange",function(s){return n.selectedShift=s}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",3)(42,"label",17),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"p-dropdown",18),e.NdJ("ngModelChange",function(s){return n.selectedJob=s}),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",3)(48,"label",19),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"p-calendar",20),e.NdJ("ngModelChange",function(s){return n.selectedDateFrom=s})("onSelect",function(s){return n.selectDateFrom(s)}),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",3)(54,"label",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"p-calendar",22),e.NdJ("ngModelChange",function(s){return n.selectedDateTo=s})("onSelect",function(s){return n.selectDateTo(s)}),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",23)(60,"button",24),e.NdJ("click",function(){return n.onFilterClickButton()}),e._UZ(61,"i",25),e.TgZ(62,"span",26),e._uU(63),e.ALo(64,"translate"),e.qZA()()()()(),e.TgZ(65,"p-treeTable",27,28),e.NdJ("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(67,"translate"),e.YNc(68,Ec,8,7,"ng-template",29)(69,Qc,2,1,"ng-template",30)(70,Kc,2,2,"ng-template",31),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,58,"Filter"))("toggleable",!0)("collapsed",n.isCollapsed),e.xp6(5),e.Oqu(e.lcZ(8,60,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(10,62,"Select a Department"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(14,64,"Partition")),e.xp6(2),e.Q6J("options",n.dropdownItemsPartition)("ngModel",n.selectedPartition)("disabled",!n.selectedDepartment)("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(20,66,"Employee Managers")),e.xp6(2),e.Q6J("ngModel",n.selectedEmployeeManager)("options",n.dropdownItemsEmployeeManager)("showClear",!0)("placeholder",e.lcZ(22,68,"Select Employee Manager")),e.xp6(4),e.Oqu(e.lcZ(26,70,"Employees")),e.xp6(2),e.Q6J("ngModel",n.selectedEmployee)("options",n.dropdownItemsEmployee)("showClear",!0)("disabled",!n.selectedEmployeeManager),e.xp6(4),e.Oqu(e.lcZ(32,72,"Location")),e.xp6(2),e.Q6J("options",n.dropdownItemsLocations)("ngModel",n.selectedLocation)("placeholder",e.lcZ(34,74,"Select a Location"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(38,76,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("ngModel",n.selectedShift)("placeholder",e.lcZ(40,78,"Select Shift"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(44,80,"Job")),e.xp6(2),e.Q6J("options",n.dropdownItemsJob)("ngModel",n.selectedJob)("placeholder",e.lcZ(46,82,"Select Job"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(50,84,"Date From")),e.xp6(2),e.Q6J("ngModel",n.selectedDateFrom)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(52,86,"MM/DD/YYYY")),e.xp6(4),e.Oqu(e.lcZ(56,88,"Date To")),e.xp6(2),e.Q6J("ngModel",n.selectedDateTo)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(58,90,"MM/DD/YYYY")),e.xp6(6),e.hij(" ",e.lcZ(64,92,"Filter Finger Print")," "),e.xp6(2),e.Q6J("value",n.parentData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(67,94,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.F,P.N,f.X$,y.g,u.jx,w.Hq,N.FN,I.o,O.Lt,X.s,Ve.iw,Ve.gc,Ve.OB,Ve.He,Ve.V4,Y.f],styles:['tr[aria-level="1"][_ngcontent-%COMP%]{background-color:#fcfcfc}.field.action-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   [_ngcontent-%COMP%]:lang(ar)   tr[aria-level="1"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]   [_ngcontent-%COMP%]:lang(ar)   .field.action-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-direction:row}']})}return l})(),Hc=(()=>{class l extends v.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Yc=["dt"];function Bc(l,r){1&l&&e._UZ(0,"pre-loading")}function zc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!0)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!0)}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,4,"Accept All"))("disabled",t.isDisabled()),e.xp6(2),e.Q6J("label",e.lcZ(4,6,"Reject All"))("disabled",t.isDisabled())}}function $c(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Wc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAcceptAll())}),e.qZA()}}function Xc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmRejectAll())}),e.qZA()}}function ep(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",52),e._UZ(5,"i",53),e.TgZ(6,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function tp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",55),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",56),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",57),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,16,"Job")),e.xp6(3),e.Oqu(e.lcZ(12,18,"Month")),e.xp6(3),e.Oqu(e.lcZ(15,20,"Year")),e.xp6(3),e.Oqu(e.lcZ(18,22,"Basic Amount")),e.xp6(3),e.Oqu(e.lcZ(21,24,"Actual Amount")),e.xp6(3),e.Oqu(e.lcZ(24,26,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(27,28,"Reason")),e.xp6(3),e.Oqu(e.lcZ(30,30,"Notes")),e.xp6(3),e.Oqu(e.lcZ(33,32,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(36,34,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(39,36,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(42,38,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(45,40,"Actions")))}const ee=l=>({"null-color":l}),np=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),op=l=>({cursor:l});function lp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",58),e.qZA(),e.TgZ(3,"td",59)(4,"span",60),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",61)(8,"span",60),e._uU(9,"jobName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",59)(12,"span",60),e._uU(13,"month"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",59)(16,"span",60),e._uU(17,"year"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",62)(20,"span",60),e._uU(21,"basicAmount"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",62)(24,"span",60),e._uU(25,"actualAmount"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",59)(28,"span"),e._uU(29),e.qZA()(),e.TgZ(30,"td",59)(31,"span",60),e._uU(32,"reason"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",59)(35,"span",60),e._uU(36,"notes"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",59)(39,"span",60),e._uU(40,"creationTime"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",59)(43,"span",60),e._uU(44,"lastModificationTime"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td",59)(47,"span",60),e._uU(48,"creatorName"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"td",59)(51,"span",60),e._uU(52,"lastModifierName"),e.qZA(),e._uU(53),e.qZA(),e.TgZ(54,"td")(55,"div",63)(56,"button",64),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptRequest(a))}),e.qZA(),e.TgZ(57,"button",65),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.rejectRequest(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ee,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,ee,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,ee,!t.month)),e.xp6(3),e.hij(" ",o.getMonthNameById(t.month)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,ee,!t.year)),e.xp6(3),e.hij(" ",t.year," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,ee,!t.basicAmount)),e.xp6(3),e.hij(" ",t.basicAmount," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,ee,!t.actualAmount)),e.xp6(3),e.hij(" ",t.actualAmount," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(43,np,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,ee,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,ee,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,ee,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,ee,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,ee,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,ee,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(59,op,0!==t.requestType?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.requestType),e.xp6(1),e.Q6J("disabled",0!==t.requestType)}}function ap(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",66),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",20)(7,"label",68),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",20)(13,"label",68),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",71),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",20)(25,"label",73),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function ip(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function sp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function rp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function cp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Ue=()=>({width:"450px"});let pp=(()=>{class l{constructor(t,o,n,a){this.kpiService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new i.cw({employeeId:new i.NI(null),mangerId:new i.NI(null),year:new i.NI(null),month:new i.NI(null),requestType:new i.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new i.cw({employeeId:new i.NI(null),reason:new i.NI(null),fromDay:new i.NI(null),toDay:new i.NI(null),missionType:new i.NI(null),location:new i.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="Kpi",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.kpiService.setCulture(t),this.kpiService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}getDropDowns(){this.kpiService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.kpiService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.kpiService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.kpiService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.kpiService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;console.log(t.value);const p={...Object.fromEntries(Object.entries(t.value).filter(([h,Q])=>null!==Q)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.kpiService.GetPage(p).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let a=t-3;a<=n;a++)this.allYears.push(a)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,1).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,2).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Hc),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-kpi"]],viewQuery:function(o,n){if(1&o&&e.Gf(Yc,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:100,vars:94,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["filter","true","optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","to"],["inputId","to","optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visible","modal","visibleChange"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Bc,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"p-dropdown",9),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",12),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-dropdown",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"p-dropdown",16),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"p-dropdown",18),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._UZ(42,"i",22),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()()()(),e.TgZ(46,"p-toolbar",23),e.YNc(47,zc,5,8,"ng-template",24)(48,$c,2,4,"ng-template",25),e.qZA(),e.TgZ(49,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.acceptAllDialogue=s}),e.TgZ(50,"div",27),e._UZ(51,"i",28),e.TgZ(52,"span"),e._uU(53,"Are you sure you want to Accept All Requests ?"),e.qZA()(),e.YNc(54,Wc,2,0,"ng-template",29),e.qZA(),e.TgZ(55,"p-dialog",30),e.NdJ("visibleChange",function(s){return n.rejectAllDialogue=s}),e.TgZ(56,"div",27),e._UZ(57,"i",28),e.TgZ(58,"span"),e._uU(59,"Are you sure you want to Reject All Requests ?"),e.qZA()(),e.YNc(60,Xc,2,0,"ng-template",29),e.qZA(),e.TgZ(61,"p-table",31,32),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(63,"translate"),e.YNc(64,ep,7,4,"ng-template",33)(65,tp,46,42,"ng-template",34)(66,lp,58,61,"ng-template",35),e.qZA(),e.TgZ(67,"p-dialog",36),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.YNc(68,ap,30,39,"ng-template",37)(69,ip,4,6,"ng-template",29),e.qZA(),e.TgZ(70,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.acceptRequestDialogue=s}),e.TgZ(71,"div",39)(72,"div",27),e._UZ(73,"i",28),e.TgZ(74,"span"),e._uU(75,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(76,"div",20)(77,"label",40),e._uU(78,"Notes"),e.qZA(),e.TgZ(79,"input",41),e.NdJ("ngModelChange",function(s){return n.notesAccept=s}),e.ALo(80,"translate"),e.qZA()()(),e.YNc(81,sp,2,0,"ng-template",29),e.qZA(),e.TgZ(82,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.rejectRequestDialogue=s}),e.TgZ(83,"div",39)(84,"div",27),e._UZ(85,"i",28),e.TgZ(86,"span"),e._uU(87,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(88,"div",20)(89,"label",42),e._uU(90,"Notes"),e.qZA(),e.TgZ(91,"input",43),e.NdJ("ngModelChange",function(s){return n.notesReject=s}),e.ALo(92,"translate"),e.qZA()()(),e.YNc(93,rp,2,0,"ng-template",29),e.qZA(),e.TgZ(94,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(95,"div",27),e._UZ(96,"i",28),e.TgZ(97,"span"),e._uU(98,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(99,cp,2,0,"ng-template",29),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,58,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,60,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.lcZ(14,62,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(18,64,"Year"),""),e.xp6(2),e.Q6J("placeholder",e.lcZ(20,66,"Enter Year Here")),e.xp6(4),e.hij(" ",e.lcZ(24,68,"Month"),""),e.xp6(2),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(26,70,"Month")),e.xp6(4),e.Oqu(e.lcZ(30,72,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(32,74,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(36,76,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("placeholder",e.lcZ(38,78,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(45,80,"Filter")," "),e.xp6(5),e.Akn(e.DdM(88,Ue)),e.Q6J("visible",n.acceptAllDialogue)("modal",!0),e.xp6(6),e.Akn(e.DdM(89,Ue)),e.Q6J("visible",n.rejectAllDialogue)("modal",!0),e.xp6(6),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(63,82,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(90,Ue)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(91,Ue)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(80,84,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(92,Ue)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(92,86,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(93,Ue)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,m.PC,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,X.s,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),dp=(()=>{class l extends v.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const up=["dt"];function mp(l,r){1&l&&e._UZ(0,"pre-loading")}function gp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!0)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!0)}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,4,"Accept All"))("disabled",t.isDisabled()),e.xp6(2),e.Q6J("label",e.lcZ(4,6,"Reject All"))("disabled",t.isDisabled())}}function _p(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function hp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAcceptAll())}),e.qZA()}}function fp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmRejectAll())}),e.qZA()}}function Zp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",52),e._UZ(5,"i",53),e.TgZ(6,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function xp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",55),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",56),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",57),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,15,"Job")),e.xp6(3),e.Oqu(e.lcZ(12,17,"Date")),e.xp6(3),e.Oqu(e.lcZ(15,19,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(18,21,"Amount")),e.xp6(3),e.Oqu(e.lcZ(21,23,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(24,25,"Reason")),e.xp6(3),e.Oqu(e.lcZ(27,27,"Notes")),e.xp6(3),e.Oqu(e.lcZ(30,29,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(33,31,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(36,33,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(39,35,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(42,37,"Actions")))}const oe=l=>({"null-color":l}),Cp=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),bp=l=>({cursor:l});function Ap(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",58),e.qZA(),e.TgZ(3,"td",59)(4,"span",60),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",61)(8,"span",60),e._uU(9,"jobName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",59)(12,"span",60),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",59)(17,"span",60),e._uU(18,"dayCount"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td",62)(21,"span",60),e._uU(22,"amount"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",59)(25,"span"),e._uU(26),e.qZA()(),e.TgZ(27,"td",59)(28,"span",60),e._uU(29,"reason"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",59)(32,"span",60),e._uU(33,"notes"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",59)(36,"span",60),e._uU(37,"creationTime"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",59)(40,"span",60),e._uU(41,"lastModificationTime"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",59)(44,"span",60),e._uU(45,"creatorName"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"td",59)(48,"span",60),e._uU(49,"lastModifierName"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"td")(52,"div",63)(53,"button",64),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptRequest(a))}),e.qZA(),e.TgZ(54,"button",65),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.rejectRequest(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.xp6(1),e.Q6J("ngClass",e.VKq(32,oe,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,oe,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,oe,!t.date)),e.xp6(3),e.hij(" ",e.xi3(15,29,t.date,"MM/dd/yyyy")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(38,oe,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,oe,!t.amount)),e.xp6(3),e.hij(" ",t.amount," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(42,Cp,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,oe,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,oe,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,oe,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(52,oe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(54,oe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(56,oe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(58,bp,0!==t.requestType?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.requestType),e.xp6(1),e.Q6J("disabled",0!==t.requestType)}}function Tp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",66),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",20)(7,"label",68),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",20)(13,"label",68),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",71),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",20)(25,"label",73),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function yp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function qp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function wp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function Np(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Se=()=>({width:"450px"});let Mp=(()=>{class l{constructor(t,o,n,a){this.penaltiesAndDeductionService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.ids=[],this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new i.cw({employeeId:new i.NI(null),mangerId:new i.NI(null),dateFrom:new i.NI,dateTo:new i.NI(null),requestType:new i.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new i.cw({employeeId:new i.NI(null),reason:new i.NI(null),fromDay:new i.NI(null),toDay:new i.NI(null),missionType:new i.NI(null),location:new i.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="PenaltiesAndDeduction",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.penaltiesAndDeductionService.setCulture(t),this.penaltiesAndDeductionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}getDropDowns(){this.penaltiesAndDeductionService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t);let o={id:t.id,requestType:1,notes:this.notesAccept};this.loading=!0,this.penaltiesAndDeductionService.updateRequestType(o).subscribe({next:n=>{this.loading=!1,console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}}),this.notesAccept=""}confirmReject(t){console.log(t);let o={id:t.id,requestType:2,notes:this.notesReject};this.loading=!0,this.penaltiesAndDeductionService.updateRequestType(o).subscribe({next:n=>{this.loading=!1,console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.penaltiesAndDeductionService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this.penaltiesAndDeductionService.DeleteRange(t).subscribe({next:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value,n={...t.value,dateFrom:this.DatePipe.transform(t.value.dateFrom,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(t.value.dateTo,"yyyy-MM-dd")};console.log(t.value);const d={...Object.fromEntries(Object.entries(n).filter(([Q,V])=>null!==V)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&(this.loading=!0,this.penaltiesAndDeductionService.GetPage(d).subscribe({next:h=>{this.loading=!1,this.allData=h.data,console.log(h.data)},error:h=>{this.loading=!1,console.log(h)}})),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let a=t-3;a<=n;a++)this.allYears.push(a)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),console.log(this.ids),this.loading=!0,this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,1).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:t=>{this.loading=!1}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),this.loading=!0,this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,2).subscribe({next:t=>{this.loading=!1,console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:t=>{console.log(t)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(dp),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-penalties-and-deduction"]],viewQuery:function(o,n){if(1&o&&e.Gf(up,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:100,vars:97,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["name","from","inputId","from","formControlName","dateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["name","to","inputId","to","formControlName","dateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visible","modal","visibleChange"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,mp,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"p-dropdown",9),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"p-calendar",12),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-calendar",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"p-dropdown",16),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"p-dropdown",18),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._UZ(42,"i",22),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()()()(),e.TgZ(46,"p-toolbar",23),e.YNc(47,gp,5,8,"ng-template",24)(48,_p,2,4,"ng-template",25),e.qZA(),e.TgZ(49,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.acceptAllDialogue=s}),e.TgZ(50,"div",27),e._UZ(51,"i",28),e.TgZ(52,"span"),e._uU(53,"Are you sure you want to Accept All Requests ?"),e.qZA()(),e.YNc(54,hp,2,0,"ng-template",29),e.qZA(),e.TgZ(55,"p-dialog",30),e.NdJ("visibleChange",function(s){return n.rejectAllDialogue=s}),e.TgZ(56,"div",27),e._UZ(57,"i",28),e.TgZ(58,"span"),e._uU(59,"Are you sure you want to Reject All Requests ?"),e.qZA()(),e.YNc(60,fp,2,0,"ng-template",29),e.qZA(),e.TgZ(61,"p-table",31,32),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(63,"translate"),e.YNc(64,Zp,7,4,"ng-template",33)(65,xp,43,39,"ng-template",34)(66,Ap,55,60,"ng-template",35),e.qZA(),e.TgZ(67,"p-dialog",36),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.YNc(68,Tp,30,39,"ng-template",37)(69,yp,4,6,"ng-template",29),e.qZA(),e.TgZ(70,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.acceptRequestDialogue=s}),e.TgZ(71,"div",39)(72,"div",27),e._UZ(73,"i",28),e.TgZ(74,"span"),e._uU(75,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(76,"div",20)(77,"label",40),e._uU(78,"Notes"),e.qZA(),e.TgZ(79,"input",41),e.NdJ("ngModelChange",function(s){return n.notesAccept=s}),e.ALo(80,"translate"),e.qZA()()(),e.YNc(81,qp,2,0,"ng-template",29),e.qZA(),e.TgZ(82,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.rejectRequestDialogue=s}),e.TgZ(83,"div",39)(84,"div",27),e._UZ(85,"i",28),e.TgZ(86,"span"),e._uU(87,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(88,"div",20)(89,"label",42),e._uU(90,"Notes"),e.qZA(),e.TgZ(91,"input",43),e.NdJ("ngModelChange",function(s){return n.notesReject=s}),e.ALo(92,"translate"),e.qZA()()(),e.YNc(93,wp,2,0,"ng-template",29),e.qZA(),e.TgZ(94,"p-dialog",38),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(95,"div",27),e._UZ(96,"i",28),e.TgZ(97,"span"),e._uU(98,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(99,Np,2,0,"ng-template",29),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,61,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,63,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.lcZ(14,65,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(18,67,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(20,69,"From")),e.xp6(4),e.hij(" ",e.lcZ(24,71,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(26,73,"To")),e.xp6(4),e.Oqu(e.lcZ(30,75,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(32,77,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(36,79,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("placeholder",e.lcZ(38,81,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(45,83,"Filter")," "),e.xp6(5),e.Akn(e.DdM(91,Se)),e.Q6J("visible",n.acceptAllDialogue)("modal",!0),e.xp6(6),e.Akn(e.DdM(92,Se)),e.Q6J("visible",n.rejectAllDialogue)("modal",!0),e.xp6(6),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(63,85,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(93,Se)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(94,Se)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(80,87,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(95,Se)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(92,89,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(96,Se)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,m.PC,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,X.s,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),vp=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Dp=["dt"];function Ip(l,r){1&l&&e._UZ(0,"pre-loading")}function Pp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New Bonus")),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Fp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Lp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",41),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"p-dropdown",43),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",44),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",45),e.NdJ("onChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.changeMonth(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",46),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",16),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",46),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",47),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",46),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",48),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",20),e._UZ(32,"button",49),e.ALo(33,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,20,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,22,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("placeholder",e.lcZ(12,24,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,26,"Year")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,28,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,30,"Value")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,32,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,34,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,36,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(33,38,"Insert New"))}}function Jp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",52),e._UZ(5,"i",53),e.TgZ(6,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Up(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",55),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",56),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",57),e.qZA(),e.TgZ(7,"th",58),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Name")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(12,14,"Year")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Value")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const _e=l=>({"null-color":l});function Sp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",59),e.qZA(),e.TgZ(3,"td",60)(4,"span",61),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",60)(8,"span",61),e._uU(9,"monthName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",60)(12,"span",61),e._uU(13,"year"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",60)(16,"span",61),e._uU(17,"Value"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",60)(20,"span",61),e._uU(21,"notes"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",60)(24,"span",61),e._uU(25,"creationTime"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",60)(28,"span",61),e._uU(29,"lastModificationTime"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",60)(32,"span",61),e._uU(33,"creatorName"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",60)(36,"span",61),e._uU(37,"lastModifierName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td")(40,"div",62)(41,"button",63),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(42,"button",64),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(19,_e,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,_e,!t.name)),e.xp6(3),e.hij(" ",t.monthName?t.monthName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,_e,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,_e,!t.value)),e.xp6(3),e.hij(" ",t.value?t.value:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,_e,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,_e,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,_e,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,_e,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,_e,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function kp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",65),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",66),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",68),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",70),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",72),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20)(26,"label",74),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",76)(32,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",78),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function Op(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ep(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Rp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ct=()=>({width:"450px"});let Qp=(()=>{class l{constructor(t,o){this.bonusService=t,this.messageService=o,this.selectedEmployee=null,this.selectedManager=null,this.selectedVacationType=null,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),mangerId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null),year:new i.NI(null)}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Bouns",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.bonusService.setCulture(t),this.bonusService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.bonusService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.selectedYear=null}editProduct(t){this.bonusService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.bonusService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this.bonusService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.bonusService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.bonusService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.bonusService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);const s={...Object.fromEntries(Object.entries(t.value).filter(([d,h])=>null!==h)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(s),"VALID"==t.status&&this.bonusService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p.data)},error:p=>{console.log(p)}})}getDropDowns(){this.bonusService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.bonusService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(vp),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-bonus"]],viewQuery:function(o,n){if(1&o&&e.Gf(Dp,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:75,vars:96,consts:[[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon"," pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],["htmlFor","Employee"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder","onChange"],["htmlFor","name-ar"],["pInputText","","formControlName","value","type","number",3,"placeholder"],["pInputText","","formControlName","notes",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ip,1,0,"pre-loading",0),e.TgZ(2,"p-panel",1),e.ALo(3,"translate"),e.TgZ(4,"form",2),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"p-dropdown",9),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10)(16,"label",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"p-dropdown",12),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",10)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"p-dropdown",14),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",10)(28,"label",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",16),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"p-dropdown",18),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",19)(40,"div",20)(41,"button",21),e._UZ(42,"i",22),e.TgZ(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()()()()()(),e.TgZ(46,"p-toolbar",23),e.YNc(47,Pp,5,7,"ng-template",24)(48,Fp,2,4,"ng-template",25),e.qZA(),e.TgZ(49,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(50,"translate"),e.YNc(51,Lp,34,40,"ng-template",27),e.qZA(),e.TgZ(52,"p-table",28,29),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(54,"translate"),e.YNc(55,Jp,8,7,"ng-template",30)(56,Up,34,30,"ng-template",31)(57,Sp,43,37,"ng-template",32),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(59,"translate"),e.YNc(60,kp,36,47,"ng-template",27),e.qZA(),e.TgZ(61,"p-dialog",33),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(62,"translate"),e.TgZ(63,"div",34),e._UZ(64,"i",35),e.YNc(65,Op,6,4,"span",0),e.qZA(),e.YNc(66,Ep,4,6,"ng-template",36),e.qZA(),e.TgZ(67,"p-dialog",33),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(68,"translate"),e.TgZ(69,"div",34),e._UZ(70,"i",35),e.TgZ(71,"span"),e._uU(72),e.ALo(73,"translate"),e.qZA()(),e.YNc(74,Rp,4,6,"ng-template",36),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("header",e.lcZ(3,56,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(12,58,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(14,60,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(18,62,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(20,64,"Select a Department")),e.xp6(4),e.Oqu(e.lcZ(24,66,"Month")),e.xp6(2),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(26,68,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(30,70,"Year")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,72,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(36,74,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(38,76,"Enter Manager Name Here")),e.xp6(7),e.hij(" ",e.lcZ(45,78,"Filter")," "),e.xp6(5),e.Akn(e.DdM(92,Ct)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(50,80,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(54,82,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(93,Ct)),e.Q6J("visible",n.productDialog)("header",e.lcZ(59,84,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(94,Ct)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(62,86,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(95,Ct)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(68,88,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(73,90,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();const jp=["manageItems"];function Vp(l,r){1&l&&e._UZ(0,"pre-loading")}function Kp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"div",9)(4,"label"),e._uU(5," Requirement : "),e._UZ(6,"input",32),e.qZA()(),e.TgZ(7,"button",33),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeLateSetting(a))}),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.hij("Requirement ",t+1," :")}}function Gp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",34)(1,"p-fileUpload",35),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onSelect(n))}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("chooseLabel",e.lcZ(2,1,"Choose Image")))}function Hp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateImage())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const Yp=()=>({width:"450px"});let Bp=(()=>{class l{constructor(t,o,n,a,s,p,d,h){this.internalJobService=t,this.messageService=o,this.DatePipe=n,this.router=a,this.route=s,this.activatedRoute=p,this.translate=d,this.fb=h,this.editForm=new i.cw({id:new i.NI({value:this.currentId,disabled:!0}),jobRequirements:this.fb.array([]),status:new i.NI,description:new i.NI(null,[i.kI.required]),nameOfJob:new i.NI(null,[i.kI.required]),date:new i.NI(null,[i.kI.required]),notes:new i.NI(null,[i.kI.required])}),this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="InternalJob",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.translate.use(t),this.internalJobService.setCulture(t),this.internalJobService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getData().pipe((0,Zn.b)(t=>{this.allData=t.data,this.patchFormValues(this.allData),console.log("Data fetched:",this.allData)}),(0,xn.U)(t=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.nameOfJob=t.nameOfJob,this.description=t.description,this.notes=t.notes,this.date=this.DatePipe.transform(t.date,"MM/dd/yyyy hh:mm:ss a"),this.status=!!t.status,this.patchFormData(t.jobRequirements),console.log(this.status)}submitForm(t){t.get("id").enable(),t.patchValue({status:t.get("status").value?1:0,date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")}),console.log(t),this.internalJobService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message}),console.log(o),this.editForm.get("id").disable(),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onGovernmentChange(t){console.log(t)}getData(){return this.internalJobService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get jobRequirements(){return this.editForm.get("jobRequirements")}createLateSettingGroup(t){return this.fb.group({requirement:[t.requirement,i.kI.required]})}patchFormData(t){this.jobRequirements.clear(),t.forEach(o=>{this.jobRequirements.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({requirement:[null,i.kI.required]})}addLateSetting(){this.editForm.get("jobRequirements").push(this.createLateSettingGroupAdd())}removeLateSetting(t){this.editForm.get("jobRequirements").removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(hn),e.Y36(u.ez),e.Y36(m.uU),e.Y36(G.F0),e.Y36(G.gz),e.Y36(G.gz),e.Y36(f.sK),e.Y36(i.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-internal-jobs-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(jp,5),2&o){let a;e.iGM(a=e.CRH())&&(n.manageItems=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([m.uU,u.ez]),e.jDz],decls:54,vars:53,consts:[[4,"ngIf"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","id",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameOfJob",3,"ngModel","ngModelChange"],["htmlFor","description"],["pInputText","","id","description","formControlName","description",3,"placeholder","ngModel","ngModelChange"],["htmlFor","notes"],["pInputText","","id","notes","formControlName","notes",3,"placeholder","ngModel","ngModelChange"],["htmlFor","date"],["inputId","date","formControlName","date",3,"showTime","ngModel","showSeconds","hourFormat","iconDisplay","showIcon","placeholder","ngModelChange"],[1,"field","field-switch","col-12","md:col-4"],["htmlFor","status"],["id","status","formControlName","status",3,"ngModel","ngModelChange"],["formArrayName","jobRequirements",1,"jobRequirements","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit",3,"disabled"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","requirement","pInputText",""],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-image","name","demo[]","accept","image/*","maxFileSize","1000000",1,"p-button-info","p-button-text",3,"chooseLabel","onSelect"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Vp,1,0,"pre-loading",0),e.TgZ(2,"form",1),e.NdJ("submit",function(){return n.submitForm(n.editForm)}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(s){return n.currentId=s}),e.qZA()(),e.TgZ(12,"div",9)(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("ngModelChange",function(s){return n.nameOfJob=s}),e.qZA()(),e.TgZ(17,"div",9)(18,"label",12),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",13),e.NdJ("ngModelChange",function(s){return n.description=s}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",9)(24,"label",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",15),e.NdJ("ngModelChange",function(s){return n.notes=s}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",9)(30,"label",16),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"p-calendar",17),e.NdJ("ngModelChange",function(s){return n.date=s}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",18)(36,"label",19),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"p-inputSwitch",20),e.NdJ("ngModelChange",function(s){return n.status=s}),e.qZA()(),e.TgZ(40,"div",21),e.YNc(41,Kp,8,2,"div",22),e.TgZ(42,"button",23),e.NdJ("click",function(){return n.addLateSetting()}),e.qZA()(),e.TgZ(43,"div",24)(44,"div",25)(45,"button",26),e._UZ(46,"i",27),e.TgZ(47,"span"),e._uU(48),e.ALo(49,"translate"),e.qZA()()()()()()()()(),e.TgZ(50,"p-dialog",28),e.NdJ("visibleChange",function(s){return n.uploadImageDialog=s}),e.ALo(51,"translate"),e.YNc(52,Gp,3,3,"ng-template",29)(53,Hp,4,6,"ng-template",30),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("formGroup",n.editForm),e.xp6(7),e.Oqu(e.lcZ(10,30,"Id")),e.xp6(2),e.Q6J("ngModel",n.currentId),e.xp6(3),e.Oqu(e.lcZ(15,32,"Name Of Job")),e.xp6(2),e.Q6J("ngModel",n.nameOfJob),e.xp6(3),e.Oqu(e.lcZ(20,34,"Description")),e.xp6(2),e.Q6J("placeholder",e.lcZ(22,36,"Enter Description Here"))("ngModel",n.description),e.xp6(4),e.Oqu(e.lcZ(26,38,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(28,40,"Enter Notes Here"))("ngModel",n.notes),e.xp6(4),e.Oqu(e.lcZ(32,42,"Date")),e.xp6(2),e.Q6J("showTime",!0)("ngModel",n.date)("showSeconds",!0)("hourFormat","12")("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(34,44,"MM/DD/YYYY")),e.xp6(4),e.hij("",e.lcZ(38,46,"Status")," "),e.xp6(2),e.Q6J("ngModel",n.status),e.xp6(2),e.Q6J("ngForOf",n.jobRequirements.controls),e.xp6(4),e.Q6J("disabled",n.editForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(49,48,"Save")," "),e.xp6(2),e.Akn(e.DdM(52,Yp)),e.Q6J("visible",n.uploadImageDialog)("header",e.lcZ(51,50,"Update Profile Image"))("modal",!0))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE,P.N,f.X$,y.g,u.jx,F.H,J.p,w.Hq,L.V,N.FN,I.o,Y.f,ae.Ql,Y._8,i.UX],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.jobRequirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:24px}"]})}return l})(),zp=(()=>{class l extends v.P{constructor(t){super(t)}updateHrAccept(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const $p=["dt"];function Wp(l,r){1&l&&e._UZ(0,"pre-loading")}function Xp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ed(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",21)(1,"h5",22),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",23),e._UZ(5,"i",24),e.TgZ(6,"input",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function td(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",26),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",27),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",28),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,16,"Job")),e.xp6(3),e.Oqu(e.lcZ(12,18,"Last Working Date")),e.xp6(3),e.Oqu(e.lcZ(15,20,"Resignation Reason")),e.xp6(3),e.Oqu(e.lcZ(18,22,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(21,24,"Manager Notes")),e.xp6(3),e.Oqu(e.lcZ(24,26,"HR Notes")),e.xp6(3),e.Oqu(e.lcZ(27,28,"Manager Approve")),e.xp6(3),e.Oqu(e.lcZ(30,30,"HR Approve")),e.xp6(3),e.Oqu(e.lcZ(33,32,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(36,34,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(39,36,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(42,38,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(45,40,"HR Accept")))}const te=l=>({"null-color":l}),nd=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function od(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td",30)(4,"span",31),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",32)(8,"span",31),e._uU(9,"jobName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",30)(12,"span",31),e._uU(13,"lastWorkingDate"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",30)(17,"span",31),e._uU(18,"resignationReason"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td",30)(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"td",33)(24,"span",31),e._uU(25,"managerNotes"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",33)(28,"span",31),e._uU(29,"hrNotes"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",33)(32,"span",31),e._uU(33,"isApprovedByManager"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",33)(36,"span",31),e._uU(37,"isApprovedByHR"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",30)(40,"span",31),e._uU(41,"creationTime"),e.qZA(),e._uU(42),e.ALo(43,"date"),e.qZA(),e.TgZ(44,"td",30)(45,"span",31),e._uU(46,"lastModificationTime"),e.qZA(),e._uU(47),e.ALo(48,"date"),e.qZA(),e.TgZ(49,"td",30)(50,"span",31),e._uU(51,"creatorName"),e.qZA(),e._uU(52),e.qZA(),e.TgZ(53,"td",30)(54,"span",31),e._uU(55,"lastModifierName"),e.qZA(),e._uU(56),e.qZA(),e.TgZ(57,"td")(58,"div",34)(59,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptRequest(a))}),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.rejectRequest(a))}),e.ALo(62,"translate"),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",0==t.status?t:t.status)("disabled",0!==t.status),e.xp6(1),e.Q6J("ngClass",e.VKq(43,te,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,te,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,te,!t.lastWorkingDate)),e.xp6(3),e.hij(" ",e.xi3(15,30,t.lastWorkingDate,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(49,te,!t.resignationReason)),e.xp6(3),e.hij(" ",t.resignationReason," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(51,nd,2==(null==t?null:t.status),4==(null==t?null:t.status),4!==(null==t?null:t.status)&&2!==(null==t?null:t.status))),e.xp6(2),e.hij(" ",t.statusValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,te,!t.managerNotes)),e.xp6(3),e.hij(" ",t.managerNotes," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,te,!t.hrNotes)),e.xp6(3),e.hij(" ",t.hrNotes," "),e.xp6(1),e.Q6J("ngClass",e.VKq(59,te,!t.isApprovedByManager)),e.xp6(3),e.hij(" ",t.isApprovedByManager," "),e.xp6(1),e.Q6J("ngClass",e.VKq(61,te,!t.isApprovedByHR)),e.xp6(3),e.hij(" ",t.isApprovedByHR," "),e.xp6(1),e.Q6J("ngClass",e.VKq(63,te,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(43,33,t.creationTime,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(65,te,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(48,36,t.lastModificationTime,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(67,te,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(69,te,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("label",e.lcZ(60,39,"Accept")),e.xp6(2),e.Q6J("label",e.lcZ(62,41,"Reject"))}}function ld(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"label",37),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",15)(7,"label",39),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",15)(13,"label",39),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",15)(19,"label",42),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",43),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",15)(25,"label",44),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function ad(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function id(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function sd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function rd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const bt=()=>({width:"450px"});let cd=(()=>{class l{constructor(t,o,n,a,s){this.resignationService=t,this.messageService=o,this.route=n,this.DatePipe=a,this.translate=s,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new i.cw({employeeId:new i.NI(null),mangerId:new i.NI(null),dateFrom:new i.NI,dateTo:new i.NI(null),requestType:new i.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new i.cw({employeeId:new i.NI(null),reason:new i.NI(null),fromDay:new i.NI(null),toDay:new i.NI(null),missionType:new i.NI(null),location:new i.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="Resignation",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationService.setCulture(t),this.resignationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :")}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t);let o={id:t.id,isAccepting:!0,notes:this.notesAccept};const n=new FormData;for(const a in o)o.hasOwnProperty(a)&&n.append(a,o[a]);this.resignationService.updateHrAccept(n).subscribe({next:a=>{a.success&&(console.log(a),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3})),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t);let o={id:t.id,isAccepting:!1,notes:this.notesReject};const n=new FormData;for(const a in o)o.hasOwnProperty(a)&&n.append(a,o[a]);this.resignationService.updateHrAccept(n).subscribe({next:a=>{a.success&&(console.log(a),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3})),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.resignationService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.resignationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;t.patchValue({employeeId:this.selectedEmployee?.id??null,mangerId:this.selectedManager?.id??null,requestType:this.selectedRequstType?.id??null,dateFrom:this.DatePipe.transform(this.filterForm.get("dateFrom").value,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(this.filterForm.get("dateTo").value,"yyyy-MM-dd")}),console.log(t.value);const p={...Object.fromEntries(Object.entries(t.value).filter(([h,Q])=>null!==Q)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.resignationService.GetPage(p).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let a=t-3;a<=n;a++)this.allYears.push(a)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(zp),e.Y36(u.ez),e.Y36(G.gz),e.Y36(m.uU),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-resignation"]],viewQuery:function(o,n){if(1&o&&e.Gf($p,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:43,vars:40,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-outlined","p-button-success",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"label","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Wp,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Xp,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-table",3,4),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(6,"translate"),e.YNc(7,ed,8,7,"ng-template",5)(8,td,46,42,"ng-template",6)(9,od,63,71,"ng-template",7),e.qZA(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.YNc(11,ld,30,39,"ng-template",9)(12,ad,4,6,"ng-template",10),e.qZA(),e.TgZ(13,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.acceptRequestDialogue=s}),e.TgZ(14,"div",12)(15,"div",13),e._UZ(16,"i",14),e.TgZ(17,"span"),e._uU(18,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(19,"div",15)(20,"label",16),e._uU(21,"Notes"),e.qZA(),e.TgZ(22,"input",17),e.NdJ("ngModelChange",function(s){return n.notesAccept=s}),e.ALo(23,"translate"),e.qZA()()(),e.YNc(24,id,2,0,"ng-template",10),e.qZA(),e.TgZ(25,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.rejectRequestDialogue=s}),e.TgZ(26,"div",12)(27,"div",13),e._UZ(28,"i",14),e.TgZ(29,"span"),e._uU(30,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(31,"div",15)(32,"label",18),e._uU(33,"Notes"),e.qZA(),e.TgZ(34,"input",19),e.NdJ("ngModelChange",function(s){return n.notesReject=s}),e.ALo(35,"translate"),e.qZA()()(),e.YNc(36,sd,2,0,"ng-template",10),e.qZA(),e.TgZ(37,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(38,"div",13),e._UZ(39,"i",14),e.TgZ(40,"span"),e._uU(41,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(42,rd,2,0,"ng-template",10),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(6,30,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(36,bt)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(37,bt)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(23,32,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(38,bt)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(35,34,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(39,bt)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[T.l,m.mk,m.O5,i.Fj,i.JJ,i.Q7,i.On,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,Y.f,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),pd=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-types"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","LoanTypes"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[$]})}return l})(),dd=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t,o){return this.http.get(o?`${this.baseurl}/${t}/getDropDown/?CategoryId=${o}&culture=${this.culture}`:`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}registerRange(t){return this.http.post(`${this.baseurl}/AssetCoordinator/RegisterRange?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function ud(l,r){1&l&&e._UZ(0,"pre-loading")}let md=(()=>{class l{constructor(t,o,n){this.setAssetCoordinatorService=t,this.messageService=o,this.translate=n,this.loading=!1,this.selectedEmployeeIds=[]}ngOnInit(){this.endPoint="AssetCoordinator",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.setAssetCoordinatorService.setCulture(t),this.setAssetCoordinatorService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this.loading=!0,this.setAssetCoordinatorService.getDropdownField(t.enum).subscribe({next:o=>{this.loading=!1,this[t.field]=o.data},error:o=>{this.loading=!0,console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"CovenantCategory"})}ChangeEmployees(t){console.log(t.id),this.loading=!0,this.setAssetCoordinatorService.getDropdownField("AssetCoordinator",t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,this.loading=!1,this.selectedEmployeeIds=[],this.selectedEmployee=this.dropdownItemsEmployee.filter(n=>!!n.isCoordinator&&(this.selectedEmployeeIds.push(n.employeeId),!0)),console.log(this.selectedEmployee)},error:o=>{this.loading=!1,console.log(o)}})}onSelectEmployees(t){this.selectedEmployee=t.value,this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.employeeId)}),console.log("Selected Employees:",this.selectedEmployeeIds)}registerSubmit(){let t={covenantCategoryId:this.selectedDepartment.id,employeesIds:this.selectedEmployeeIds};console.log(t),this.loading=!0,this.setAssetCoordinatorService.registerRange(t).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"Assets Coordinator Assigned successfully",life:3e3}),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(dd),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-set-asset-coordinator"]],standalone:!0,features:[e._Bn([u.ez,m.uU,f.sK]),e.jDz],decls:31,vars:24,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"p-fluid","grid"],[1,"field","col-12"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"field","col-12","md:col-12"],[1,"p-fluid","p-formgrid","grid"],["htmlFor","employee"],["name","selectedEmployees","optionLabel","employeeName",3,"options","ngModel","showToggleAll","placeholder","ngModelChange","onChange"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["pButton","","value","Save",1,"flex","justify-content-center",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,ud,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",5)(11,"div",7)(12,"label",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p-dropdown",9),e.NdJ("ngModelChange",function(s){return n.selectedDepartment=s})("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"div",10)(18,"div",11)(19,"div",7)(20,"label",12),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"p-multiSelect",13),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s})("onChange",function(s){return n.onSelectEmployees(s)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",14)(26,"div",5)(27,"div",15)(28,"button",16),e.NdJ("click",function(){return n.registerSubmit()}),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,12,"Assign Assets Coordinators")),e.xp6(7),e.Oqu(e.lcZ(14,14,"Assets Category")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(16,16,"Select Assets Category")),e.xp6(6),e.Oqu(e.lcZ(22,18,"Assets Coordinators")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("ngModel",n.selectedEmployee)("showToggleAll",!1)("placeholder",e.lcZ(24,20,"Select Assets Coordinators")),e.xp6(6),e.hij(" ",e.lcZ(30,22,"Save")," "))},dependencies:[T.l,m.O5,i.JJ,i.On,P.N,f.X$,y.g,w.Hq,N.FN,O.Lt,We.NU]})}return l})(),gd=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const _d=["dt"];function hd(l,r){1&l&&e._UZ(0,"pre-loading")}function fd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Zd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function xd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",23),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",21)(8,"label",24),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",25),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",21)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",27),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",21),e._UZ(20,"button",28),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,11,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,15,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,17,"value")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,19,"Enter value Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(21,21,"Insert New"))}}function Cd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function bd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,7,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,9,"value")),e.xp6(3),e.Oqu(e.lcZ(12,11,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(15,13,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(18,15,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(21,17,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Actions")))}const ke=l=>({"null-color":l});function Ad(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td",38)(4,"span",39),e._uU(5,"name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",39),e._uU(9,"value"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38)(12,"span",39),e._uU(13,"creationTime"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",38)(17,"span",39),e._uU(18,"lastModificationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",38)(22,"span",39),e._uU(23,"creatorName"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",38)(26,"span",39),e._uU(27,"lastModifierName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",40)(31,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(32,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(19,ke,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,ke,!t.value)),e.xp6(3),e.hij(" ",t.value," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,ke,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(15,13,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,ke,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(20,16,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,ke,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,ke,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Td(l,r){1&l&&(e.TgZ(0,"small",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function yd(l,r){1&l&&(e.TgZ(0,"small",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const Cn=l=>({"ng-invalid ng-dirty":l});function qd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.TgZ(1,"div",21)(2,"label",43),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,Td,3,3,"small",45),e.qZA(),e.TgZ(7,"div",21)(8,"label",46),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,yd,3,3,"small",45),e.qZA(),e.TgZ(13,"div",21)(14,"label",48),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"textarea",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.qZA()(),e.TgZ(18,"div",50)(19,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"button",52),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(24,Cn,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,16,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(26,Cn,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,18,"value")),e.xp6(2),e.Q6J("ngModel",t.product.value),e.xp6(2),e.Q6J("label",e.lcZ(20,20,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,22,"Save"))("disabled",t.editForm.invalid)}}function wd(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Nd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Md(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const At=()=>({width:"450px"});let vd=(()=>{class l{constructor(t,o,n){this._AllowanceService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),value:new i.NI(0,[i.kI.required])}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),value:new i.NI(0,[i.kI.required])})}ngOnInit(){this.endPoint="Allowance",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._AllowanceService.setCulture(t),this._AllowanceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"value",header:"Value"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._AllowanceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._AllowanceService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._AllowanceService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,"name",this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newvalue=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._AllowanceService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id,value:Number(o.value)}),this._AllowanceService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._AllowanceService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(gd),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-allowance"]],viewQuery:function(o,n){if(1&o&&e.Gf(_d,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","totalRecordsChange","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-value"],["pInputText","","formControlName","value","id","new-value","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","value"],["id","value","pInputTextarea","","formControlName","value","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,hd,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,fd,5,7,"ng-template",2)(4,Zd,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,xd,22,23,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("totalRecordsChange",function(s){return n.totalItems=s})("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Cd,8,7,"ng-template",8)(12,bd,25,21,"ng-template",9)(13,Ad,33,31,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,qd,23,28,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,wd,6,4,"span",0),e.qZA(),e.YNc(22,Nd,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Md,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,At)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,At)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,At)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,At)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Dd=(()=>{class l extends v.P{constructor(t){super(t)}register(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register/?culture=${this.culture}`,t)}getData(){return this.http.get(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Id=(()=>{class l{constructor(t,o,n){this._CompanyBasicDataService=t,this.messageService=o,this.translate=n,this.companyData=new i.cw({companyName:new i.NI(null,i.kI.required),companyAddress:new i.NI(null,i.kI.required),companyPhone:new i.NI(null,i.kI.required),hrEmail:new i.NI(null,i.kI.required),payRollAccountantPhone:new i.NI(null,i.kI.required)}),this.company={companyName:"",companyAddress:"",companyPhone:"",hrEmail:"",payRollAccountantPhone:""}}ngOnInit(){this.endPoint="CompanyBasicData",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._CompanyBasicDataService.setCulture(t),this._CompanyBasicDataService.setEndPoint(this.endPoint),this.getCompanyDate()})}getCompanyDate(){this._CompanyBasicDataService.getData().subscribe({next:t=>{this.company=t.data}})}registerData(t){t.valid&&this._CompanyBasicDataService.register(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Dd),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-company-basic-data"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:41,vars:43,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12"],["htmlFor","companyName"],["pInputText","","formControlName","companyName","id","companyName","type","text",3,"placeholder","ngModel","ngModelChange"],["htmlFor","companyAddress"],["pInputText","","formControlName","companyAddress","id","companyAddress","type","text",3,"placeholder","ngModel","ngModelChange"],["htmlFor","companyPhone"],["pInputText","","formControlName","companyPhone","id","companyPhone","type","text",3,"placeholder","ngModel","ngModelChange"],["htmlFor","hrEmail"],["pInputText","","formControlName","hrEmail","id","hrEmail","type","text",3,"placeholder","ngModel","ngModelChange"],["htmlFor","PayRollAccountantPhone"],["pInputText","","formControlName","payRollAccountantPhone","id","PayRollAccountantPhone","type","text",3,"placeholder","ngModel","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"disabled","label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("submit",function(){return n.registerData(n.companyData)}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(s){return n.company.companyName=s}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",5)(15,"label",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",9),e.NdJ("ngModelChange",function(s){return n.company.companyAddress=s}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",5)(21,"label",10),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",11),e.NdJ("ngModelChange",function(s){return n.company.companyPhone=s}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",5)(27,"label",12),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",13),e.NdJ("ngModelChange",function(s){return n.company.hrEmail=s}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",5)(33,"label",14),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"input",15),e.NdJ("ngModelChange",function(s){return n.company.payRollAccountantPhone=s}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",5),e._UZ(39,"button",16),e.ALo(40,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,19,"COMPANYBASICDATA")),e.xp6(2),e.Q6J("formGroup",n.companyData),e.xp6(3),e.hij("",e.lcZ(11,21,"companyName")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(13,23,"Enter companyName Here"))("ngModel",n.company.companyName),e.xp6(4),e.hij("",e.lcZ(17,25,"companyAddress")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(19,27,"Enter companyAddress Here"))("ngModel",n.company.companyAddress),e.xp6(4),e.hij("",e.lcZ(23,29,"companyPhone")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(25,31,"Enter companyPhone Here"))("ngModel",n.company.companyPhone),e.xp6(4),e.hij("",e.lcZ(29,33,"hrEmail")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(31,35,"Enter hrEmail Here"))("ngModel",n.company.hrEmail),e.xp6(4),e.hij("",e.lcZ(35,37,"PayRollAccountantPhone")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(37,39,"Enter PayRollAccountantPhone Here"))("ngModel",n.company.payRollAccountantPhone),e.xp6(3),e.Q6J("disabled",n.companyData.invalid)("label",e.lcZ(40,41,"Send")))},dependencies:[T.l,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f.X$,y.g,w.Hq,N.FN,I.o]})}return l})(),Pd=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Fd=["dt"];function Ld(l,r){1&l&&e._UZ(0,"pre-loading")}function Jd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Ud(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Sd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedAllowance=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",25),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",27),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",19)(32,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Select Employee")),e.xp6(2),e.Q6J("options",t.dropdownItemsEmployee)("ngModel",t.selectedEmployee)("placeholder",e.lcZ(6,20,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,22,"allowance")),e.xp6(2),e.Q6J("options",t.allowanceDropDown)("ngModel",t.selectedAllowance)("placeholder",e.lcZ(12,24,"Select Allowance"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(16,26,"year")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,28,"Enter Year")),e.xp6(4),e.Oqu(e.lcZ(22,30,"month")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,32,"Enter Month")),e.xp6(4),e.Oqu(e.lcZ(28,34,"Value")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,36,"Enter Value")),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(33,38,"Insert New"))}}function kd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",33),e._UZ(5,"i",34),e.TgZ(6,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Od(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",36),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,6,"Employee")),e.xp6(3),e.Oqu(e.lcZ(8,8,"Allowance")),e.xp6(3),e.Oqu(e.lcZ(11,10,"Year")),e.xp6(3),e.Oqu(e.lcZ(14,12,"Month")),e.xp6(3),e.Oqu(e.lcZ(17,14,"Value")),e.xp6(3),e.Oqu(e.lcZ(20,16,"Actions")))}function Ed(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td")(4,"span",38),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",38),e._uU(9,"allowanceName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",38),e._uU(13,"year"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",38),e._uU(17,"month"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"span",38),e._uU(21,"value"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td")(24,"div",39)(25,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(26,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.allowanceName?t.allowanceName:""," "),e.xp6(4),e.hij(" ",t.year?t.year:""," "),e.xp6(4),e.hij(" ",t.month?t.month:""," "),e.xp6(4),e.hij(" ",t.value?t.value:""," ")}}function Rd(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"allowance is required.")))}function Qd(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"year is required.")))}function jd(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Month is required.")))}function Vd(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"value is required.")))}function Kd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedEmployeeEdit=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedAllowanceEdit=n)}),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Rd,3,3,"small",42),e.qZA(),e.TgZ(14,"div",19)(15,"label",24),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",43),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.qZA(),e.YNc(19,Qd,3,3,"small",42),e.qZA(),e.TgZ(20,"div",19)(21,"label",26),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.qZA(),e.YNc(25,jd,3,3,"small",42),e.qZA(),e.TgZ(26,"div",19)(27,"label",28),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.qZA(),e.YNc(31,Vd,3,3,"small",42),e.qZA(),e.TgZ(32,"div",46)(33,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(36,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Select Employee")),e.xp6(2),e.Q6J("options",t.dropdownItemsEmployee)("ngModel",t.selectedEmployeeEdit)("placeholder",e.lcZ(6,25,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,27,"allowance")),e.xp6(2),e.Q6J("options",t.allowanceDropDown)("ngModel",t.selectedAllowanceEdit)("placeholder",e.lcZ(12,29,"Select Allowance"))("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.allowanceId),e.xp6(3),e.Oqu(e.lcZ(17,31,"year")),e.xp6(2),e.Q6J("ngModel",t.product.year),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.year),e.xp6(3),e.Oqu(e.lcZ(23,33,"month")),e.xp6(2),e.Q6J("ngModel",t.product.month),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.month),e.xp6(3),e.Oqu(e.lcZ(29,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.value),e.xp6(2),e.Q6J("label",e.lcZ(34,37,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(36,39,"Save"))("disabled",!t.editForm.valid)}}function Gd(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Hd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Yd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Tt=()=>({width:"450px"});let Bd=(()=>{class l{constructor(t,o){this._MonthlyAllowenceService=t,this.messageService=o,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="AllowanceValues",this._MonthlyAllowenceService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"allowanceName",header:"Allowance"},{field:"year",header:"Year"},{field:"month",header:"Month"},{field:"value",header:"Value"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownEmployee(),this.getDropDownAllowance(),this.initFormGroups()}initFormGroups(){this.addNewForm=new i.cw({employeeId:new i.NI(null,i.kI.required),allowanceId:new i.NI(null,i.kI.required),year:new i.NI(null,i.kI.required),month:new i.NI(null,i.kI.required),value:new i.NI(null,i.kI.required)}),this.editForm=new i.cw({id:new i.NI(null,i.kI.required),employeeId:new i.NI(null,i.kI.required),allowanceId:new i.NI(null,i.kI.required),year:new i.NI(null,i.kI.required),month:new i.NI(null,i.kI.required),value:new i.NI(null,i.kI.required)})}getDropDownEmployee(){this._MonthlyAllowenceService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getDropDownAllowance(){this._MonthlyAllowenceService.getDropDown("Allowance").subscribe({next:t=>{console.log(t),this.allowanceDropDown=t.data,console.log(this.allowanceDropDown)}})}editProduct(t){console.log("edit works"),this._MonthlyAllowenceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.selectedAllowanceEdit=this.allowanceDropDown.find(n=>n.id==this.product.allowanceId),this.editForm.patchValue({id:this.product.id})}})}confirmDelete(t){this._MonthlyAllowenceService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee?.id,allowanceId:this.selectedAllowance?.id,month:Number(this.addNewForm.get("month").value),year:Number(this.addNewForm.get("year").value),value:Number(this.addNewForm.get("value").value)}),this.addNewForm.valid&&this._MonthlyAllowenceService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,t.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedEmployee=null,this.selectedEmployeeEdit=null,this.selectedAllowance=null,this.selectedAllowanceEdit=null,this.addNewForm.patchValue({year:null,month:null,value:null})}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this._MonthlyAllowenceService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(){this.submitted=!0,this.editForm.valid?(console.log("edited Form here =====================> ",this.editForm.value),this.editForm.patchValue({employeeId:this.selectedEmployeeEdit?.id,allowanceId:this.selectedAllowanceEdit?.id,month:Number(this.editForm.get("month").value),year:Number(this.editForm.get("year").value),value:Number(this.editForm.get("value").value)}),this._MonthlyAllowenceService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})):console.log("Form Not Valid because body is : ",this.editForm.value)}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._MonthlyAllowenceService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Pd),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-monthly-allowence"]],viewQuery:function(o,n){if(1&o&&e.Gf(Fd,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,Fe.j]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","allowance"],["formControlName","allowanceId","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange"],["htmlFor","year"],["type","text","pInputText","","formControlName","year",3,"placeholder"],["htmlFor","month"],["type","text","pInputText","","formControlName","month",3,"placeholder"],["htmlFor","value"],["type","text","pInputText","","formControlName","value",3,"placeholder"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","text","pInputText","","formControlName","year",3,"ngModel","ngModelChange"],["type","text","pInputText","","formControlName","month",3,"ngModel","ngModelChange"],["type","text","pInputText","","formControlName","value",3,"ngModel","ngModelChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ld,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Jd,3,3,"ng-template",2)(4,Ud,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Sd,34,40,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,kd,8,7,"ng-template",8)(12,Od,21,18,"ng-template",9)(13,Ed,27,6,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Kd,37,41,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Gd,6,4,"span",0),e.qZA(),e.YNc(22,Hd,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Yd,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,Tt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,Tt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,Tt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,Tt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,U.u]})}return l})(),zd=(()=>{class l extends v.P{constructor(t){super(t)}register(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register/?culture=${this.culture}`,t)}getData(){return this.http.get(`${this.baseurl}/${this.endPoint}/GetForDashboard/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function $d(l,r){1&l&&e._UZ(0,"pre-loading")}function Wd(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"label"),e._uU(4," Arabic Instruction: "),e.qZA(),e._UZ(5,"input",17),e.qZA(),e.TgZ(6,"div",16)(7,"label"),e._uU(8," English Instruction: "),e.qZA(),e._UZ(9,"input",18),e.qZA(),e.TgZ(10,"div",16)(11,"button",19),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeInstruction(a))}),e._uU(12,"Remove"),e.qZA()()()()}2&l&&e.Q6J("formGroupName",r.index)}let Xd=(()=>{class l{constructor(t,o,n){this.fb=t,this._ResignationSettingService=o,this.messageService=n,this.resignationForm=new i.cw({noticePeriodInDays:new i.NI(null,i.kI.required),resignationInstructions:this.fb.array([])}),this.resignData={},this.loading=!1,this.endPoint="ResignationSetting"}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ResignationSettingService.setCulture(t),this._ResignationSettingService.setEndPoint(this.endPoint),this.getResignDate()})}getResignDate(){this.loading=!0,this._ResignationSettingService.getData().subscribe({next:t=>{let o=t.data;console.log(o),this.loading=!1,o&&(this.resignationForm.patchValue({noticePeriodInDays:o.noticePeriodInDays||null}),o.resignationInstructions&&Array.isArray(o.resignationInstructions)&&o.resignationInstructions.forEach(n=>{this.resignationInstructionsArray.push(new i.cw({instructionArabic:new i.NI(n.instructionArabic||null,[i.kI.required]),instructionEnglish:new i.NI(n.instructionEnglish||null,[i.kI.required])}))}))},error:t=>{console.log(t)}})}get resignationInstructionsArray(){return this.resignationForm.get("resignationInstructions")}addInstruction(){const t=this.fb.group({instructionArabic:[null,i.kI.required],instructionEnglish:[null,i.kI.required]});this.resignationInstructionsArray.push(t)}removeInstruction(t){this.resignationInstructionsArray.removeAt(t)}registerData(t){t.valid&&(this.loading=!0,this._ResignationSettingService.register(t.value).subscribe({next:o=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.message,life:3e3})},error:()=>{this.loading=!1}}))}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(i.qu),e.Y36(zd),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-resignation-setting"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:23,vars:19,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","ngSubmit"],[1,"field","col-12"],["for","noticePeriodInDays"],["pInputText","","formControlName","noticePeriodInDays","id","noticePeriodInDays","type","text",3,"placeholder"],["formArrayName","resignationInstructions",1,"field","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"field","col-12","custom"],["pButton","","type","button","icon","pi pi-plus",1,"bordered-pill","col-12","p-button-sm","p-button-success","mt-2",3,"label","click"],["pButton","","pButton","","type","submit",1,"w-25",3,"disabled","label"],[3,"formGroupName"],[1,"md:flex","gap-2","align-items-end","m-0"],[1,"field"],["pInputText","","formControlName","instructionArabic",1,"mt-2"],["pInputText","","formControlName","instructionEnglish",1,"mt-2"],["pButton","","type","button",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,$d,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return n.registerData(n.resignationForm)}),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",8),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e.YNc(16,Wd,13,1,"div",10),e.qZA(),e.TgZ(17,"div",11)(18,"button",12),e.NdJ("click",function(){return n.addInstruction()}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",6),e._UZ(21,"button",13),e.ALo(22,"translate"),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,9,"Resignation Setting")),e.xp6(2),e.Q6J("formGroup",n.resignationForm),e.xp6(3),e.Oqu(e.lcZ(12,11,"noticePeriodInDays")),e.xp6(2),e.Q6J("placeholder",e.lcZ(14,13,"Enter noticePeriodInDays Here")),e.xp6(3),e.Q6J("ngForOf",n.resignationInstructionsArray.controls),e.xp6(2),e.Q6J("label",e.lcZ(19,15,"Add Instruction")),e.xp6(3),e.Q6J("disabled",n.resignationForm.invalid)("label",e.lcZ(22,17,"Send")))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE,P.N,f.X$,y.g,w.Hq,N.FN,I.o],styles:[".bordered-pill[_ngcontent-%COMP%]{border-radius:50px}.field.custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;width:-moz-fit-content;width:fit-content;gap:5px}.field.custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f36f28;color:#fff;transition:.3s}  .field.custom button .p-button-icon{padding:5px 0 0;margin:0}"]})}return l})(),eu=(()=>{class l extends v.P{constructor(t){super(t)}SendNotificationToAll(t){return this.http.post(`${this.baseurl}/${this.endPoint}/SendNotificationToAll?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function tu(l,r){1&l&&e._UZ(0,"pre-loading")}let nu=(()=>{class l{constructor(t,o){this.sendToAllNotificationService=t,this.messageService=o,this.loading=!1,this.sendAllNotificationForm=new i.cw({title:new i.NI(null,[i.kI.required]),titleEng:new i.NI(null,[i.kI.required]),body:new i.NI(null,[i.kI.required]),bodyEng:new i.NI(null,[i.kI.required]),isOpened:new i.NI(!1)})}ngOnInit(){this.endPoint="Notification",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.sendToAllNotificationService.setCulture(t),this.sendToAllNotificationService.setEndPoint(this.endPoint)})}sendAllNotification(t){let o={...t.value,isOpened:!0};this.loading=!0,this.sendToAllNotificationService.SendNotificationToAll(o).subscribe({next:n=>{this.loading=!1,n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"Notification sent successfully !",life:3e3}),t.reset())},error:()=>{this.loading=!1}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(eu),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-send-notification-to-all"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:36,vars:33,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12"],["htmlFor","name-ar"],["pInputText","","formControlName","title","id","name-ar","type","text",3,"placeholder"],["pInputText","","formControlName","titleEng","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","body","id","name-en","type","text",3,"placeholder"],["pInputText","","formControlName","bodyEng","id","name-en","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,tu,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("submit",function(){return n.sendAllNotification(n.sendAllNotificationForm)}),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",8),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",6)(16,"label",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",9),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",6)(22,"label",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",11),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",6)(28,"label",10),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",12),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",6),e._UZ(34,"button",13),e.ALo(35,"translate"),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,13,"Notify All Employees")),e.xp6(2),e.Q6J("formGroup",n.sendAllNotificationForm),e.xp6(3),e.hij("",e.lcZ(12,15,"Arabic Title")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(14,17,"Enter Arabic Title Here")),e.xp6(4),e.hij("",e.lcZ(18,19,"English Title")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(20,21,"Enter English Title Here")),e.xp6(4),e.hij("",e.lcZ(24,23,"Arabic Body")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(26,25,"Enter Arabic Body Here")),e.xp6(4),e.hij("",e.lcZ(30,27,"English Body")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,29,"Enter English Body Here")),e.xp6(3),e.Q6J("disabled",n.sendAllNotificationForm.invalid)("label",e.lcZ(35,31,"Send")))},dependencies:[T.l,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,P.N,f.X$,y.g,w.Hq,N.FN,I.o]})}return l})(),ou=(()=>{class l extends v.P{constructor(t){super(t)}DeleteSoftById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const lu=["dt"];function au(l,r){1&l&&e._UZ(0,"pre-loading")}function iu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function su(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ru(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"textarea",30),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",20),e._UZ(32,"button",31),e.ALo(33,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,15,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,17,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,19,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,21,"Employee Percent")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,23,"Enter Employee Percent Here")),e.xp6(4),e.Oqu(e.lcZ(22,25,"Company Percent")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,27,"Enter Company Percent Here")),e.xp6(4),e.Oqu(e.lcZ(28,29,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,31,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(33,33,"Insert New"))}}function cu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function pu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,11,"Employee Percent")),e.xp6(3),e.Oqu(e.lcZ(12,13,"Company Percent")),e.xp6(3),e.Oqu(e.lcZ(15,15,"Notes")),e.xp6(3),e.Oqu(e.lcZ(18,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(21,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(24,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(27,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(30,25,"Actions")))}const Ce=l=>({"null-color":l});function du(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td",41)(4,"span",42),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",41)(8,"span",42),e._uU(9,"employeePercent"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",41)(12,"span",42),e._uU(13,"companyPercent"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",41)(16,"span",42),e._uU(17,"Notes"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",41)(20,"span",42),e._uU(21,"creationTime"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td",41)(25,"span",42),e._uU(26,"lastModificationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",41)(30,"span",42),e._uU(31,"creatorName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",41)(34,"span",42),e._uU(35,"lastModifierName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td")(38,"div",43)(39,"button",44),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(40,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(23,Ce,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,Ce,!t.employeePercent)),e.xp6(3),e.hij(" ",t.employeePercent?t.employeePercent+"%":""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,Ce,!t.companyPercent)),e.xp6(3),e.hij(" ",t.companyPercent?t.companyPercent+"%":""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Ce,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,Ce,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(23,17,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(33,Ce,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(28,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(35,Ce,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,Ce,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function uu(l,r){1&l&&(e.TgZ(0,"small",60),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function mu(l,r){1&l&&(e.TgZ(0,"small",60),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const yt=l=>({"ng-invalid ng-dirty":l});function gu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,uu,3,3,"small",48),e.qZA(),e.TgZ(7,"div",20)(8,"label",49),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,mu,3,3,"small",48),e.qZA(),e.TgZ(13,"div",20)(14,"label",51),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeePercent=n)}),e.qZA()(),e.TgZ(18,"div",20)(19,"label",53),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.companyPercent=n)}),e.qZA()(),e.TgZ(23,"div",20)(24,"label",55),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"textarea",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(28,"div",57)(29,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"button",59),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,20,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(34,yt,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,22,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(36,yt,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,24,"Employee Percent")),e.xp6(2),e.Q6J("ngModel",t.product.employeePercent)("ngClass",e.VKq(38,yt,t.submitted&&!t.product.employeePercent)),e.xp6(3),e.Oqu(e.lcZ(21,26,"Company Percent")),e.xp6(2),e.Q6J("ngModel",t.product.companyPercent)("ngClass",e.VKq(40,yt,t.submitted&&!t.product.companyPercent)),e.xp6(3),e.Oqu(e.lcZ(26,28,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(30,30,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(32,32,"Save"))}}function _u(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function hu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function fu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const qt=()=>({width:"450px"}),Zu=l=>(l.get("companyPercent")?.value||0)+(l.get("employeePercent")?.value||0)<=100?null:{percentExceed100:!0};let xu=(()=>{class l{constructor(t,o,n){this.insuranceConfigService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),companyPercent:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),employeePercent:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),notes:new i.NI(null)},{validators:Zu}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),companyPercent:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),employeePercent:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),notes:new i.NI(null)})}ngOnInit(){this.endPoint="InsuranceConfiguration",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.insuranceConfigService.setCulture(t),this.insuranceConfigService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.insuranceConfigService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.insuranceConfigService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.insuranceConfigService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.insuranceConfigService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.insuranceConfigService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.insuranceConfigService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ou),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-insurance-config"]],viewQuery:function(o,n){if(1&o&&e.Gf(lu,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","employeePercent","id","new-longitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","companyPercent","id","new-latitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","employeePercent","type","number","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","longitude"],["formControlName","companyPercent","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,au,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,iu,5,7,"ng-template",2)(4,su,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,ru,34,35,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,cu,8,7,"ng-template",8)(12,pu,31,27,"ng-template",9)(13,du,41,39,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,gu,33,42,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,_u,6,4,"span",0),e.qZA(),e.YNc(22,hu,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,fu,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,qt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,qt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,qt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,qt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.qQ,i.Fd,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Cu=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const bu=["dt"];function Au(l,r){1&l&&e._UZ(0,"pre-loading")}function Tu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ","Loan Policy"))))}function yu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",21),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",23),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",25),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",27),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19),e._UZ(26,"button",28),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,11,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,13,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,15,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,17,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Number Of Months")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,21,"Enter Number Of Months Here")),e.xp6(4),e.Oqu(e.lcZ(22,23,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,25,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,27,"Insert New"))}}function wu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Nu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Number Of Months")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Notes")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const Ne=l=>({"null-color":l});function Mu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td",38)(4,"span",39),e._uU(5,"Name"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",39),e._uU(9,"numOFMonths"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38)(12,"span",39),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",38)(16,"span",39),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",38)(21,"span",39),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",38)(26,"span",39),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",38)(30,"span",39),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",40)(35,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(36,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(21,Ne,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,Ne,!t.numOFMonths)),e.xp6(3),e.hij(" ",t.numOFMonths?t.numOFMonths:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,Ne,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,Ne,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,15,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(29,Ne,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,18,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(31,Ne,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,Ne,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const Wt=l=>({"ng-invalid ng-dirty":l});function vu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",43),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA()(),e.TgZ(6,"div",19)(7,"label",45),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",19)(12,"label",47),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.numOFMonths=n)}),e.qZA()(),e.TgZ(16,"div",19)(17,"label",49),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"textarea",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(21,"div",51)(22,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"button",53),e.ALo(25,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,15,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(27,Wt,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,17,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(29,Wt,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,19,"Number Of Months")),e.xp6(2),e.Q6J("ngModel",t.product.numOFMonths)("ngClass",e.VKq(31,Wt,t.submitted&&!t.product.numOFMonths)),e.xp6(3),e.Oqu(e.lcZ(19,21,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(23,23,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(25,25,"Save"))}}function Du(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Iu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Pu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const wt=()=>({width:"450px"});let Fu=(()=>{class l{constructor(t,o,n){this.loanPolicyService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),numOFMonths:new i.NI(null,[i.kI.required,i.kI.min(0)]),notes:new i.NI(null)}),this.editForm=new i.cw({engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),numOFMonths:new i.NI(null,[i.kI.required,i.kI.min(0)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="RepaymentTerms",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanPolicyService.setCulture(t),this.loanPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.loanPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanPolicyService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.loanPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.loanPolicyService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanPolicyService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanPolicyService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Cu),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-policy"]],viewQuery:function(o,n){if(1&o&&e.Gf(bu,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","numOFMonths","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","numOFMonths","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Au,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Tu,3,3,"ng-template",2)(4,yu,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,qu,28,29,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,wu,8,7,"ng-template",8)(12,Nu,28,24,"ng-template",9)(13,Mu,37,35,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,vu,26,33,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Du,6,4,"span",0),e.qZA(),e.YNc(22,Iu,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Pu,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,wt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,wt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,wt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,wt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),Lu=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Ju(l,r){1&l&&e._UZ(0,"pre-loading")}let Uu=(()=>{class l{constructor(t,o){this.messageService=t,this.loanSettingsService=o,this.loading=!1,this.loansConfigForm=new i.cw({name:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),loansIsOpened:new i.NI(null,[i.kI.required]),loansPerSalary:new i.NI(null,[i.kI.required]),numOfMonthsOfHiringDate:new i.NI(null,[i.kI.required]),maximumLoanAmount:new i.NI(null,[i.kI.required]),termsAgreement:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null,[i.kI.required])})}ngOnInit(){this.loanSettingsService.setEndPoint("LoansConfiguration"),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanSettingsService.setCulture(t),this.loanSettingsService.setEndPoint("LoansConfiguration"),this.loading=!0,this.loanSettingsService.GetAll({}).subscribe({next:o=>{this.loading=!1;let n=o.data[o.data.length-1];console.log(n),n&&this.loansConfigForm.patchValue({name:n.name||null,engName:n.engName||null,loansIsOpened:n.loansIsOpened||null,loansPerSalary:n.loansPerSalary||null,numOfMonthsOfHiringDate:n.numOfMonthsOfHiringDate||null,maximumLoanAmount:n.maximumLoanAmount||null,termsAgreement:n.termsAgreement||null,notes:n.notes||null,id:n.id||null})},error:()=>{this.loading=!1}})}),this.loanSettingsService.GetAll({}).subscribe({next:t=>{let o=t.data[t.data.length-1];console.log(o),this.loading=!1,o&&this.loansConfigForm.patchValue({name:o.name||null,loansIsOpened:o.loansIsOpened||null,loansPerSalary:o.loansPerSalary||null,numOfMonthsOfHiringDate:o.numOfMonthsOfHiringDate||null,maximumLoanAmount:o.maximumLoanAmount||null,termsAgreement:o.termsAgreement||null,notes:o.notes||null,id:o.id||null})},error:()=>{this.loading=!1}})}onSubmit(t){console.log(t),this.loading=!0,this.loanSettingsService.Register(t.value).subscribe({next:o=>{this.loading=!1,console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:"You Updated Loan Settings Successfully",life:3e3})},error:()=>{this.loading=!1}}),console.log(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(Lu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-settings"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:52,vars:43,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12"],["for","startVacation"],["pInputText","","id","startVacation","name","startVacation","formControlName","name",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","engName",3,"min","max"],["pInputText","","type","number","id","startVacation","name","startVacation","formControlName","loansPerSalary",3,"min","max"],["for","regularVacationNumber"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","numOfMonthsOfHiringDate","mode","decimal",3,"min","max"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","maximumLoanAmount","mode","decimal",3,"min"],["pInputText","","id","regularVacationNumber","name","regularVacationNumber","formControlName","termsAgreement","mode","decimal",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","notes"],[1,"field","col-12","btns"],["formControlName","loansIsOpened"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ju,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("submit",function(){return n.onSubmit(n.loansConfigForm)}),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",6)(15,"label",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"div",6)(20,"label",7),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",10),e.qZA(),e.TgZ(24,"div",6)(25,"label",11),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",12),e.qZA(),e.TgZ(29,"div",6)(30,"label",11),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",13),e.qZA(),e.TgZ(34,"div",6)(35,"label",11),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",14),e.qZA(),e.TgZ(39,"div",6)(40,"label",7),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",15),e.qZA(),e.TgZ(44,"div",16)(45,"label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e._UZ(48,"p-inputSwitch",17),e.qZA(),e.TgZ(49,"div",6),e._UZ(50,"button",18),e.ALo(51,"translate"),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,23,"Loan Settings")),e.xp6(2),e.Q6J("formGroup",n.loansConfigForm),e.xp6(3),e.Oqu(e.lcZ(12,25,"Name Arabic")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(17,27,"Name English")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(22,29,"Loans Per Salary")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(27,31,"Number of Months of Hiring Date")),e.xp6(2),e.Q6J("min",1)("max",100),e.xp6(3),e.Oqu(e.lcZ(32,33,"Maximum Loan Amount")),e.xp6(2),e.Q6J("min",0),e.xp6(3),e.Oqu(e.lcZ(37,35,"Terms Agreement")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(42,37,"Notes")),e.xp6(5),e.Oqu(e.lcZ(47,39,"Loan Is Opened")),e.xp6(4),e.Q6J("label",e.lcZ(51,41,"Update Setting")))},dependencies:[T.l,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.Fd,i.sg,i.u,P.N,f.X$,y.g,F.H,w.Hq,N.FN,I.o,ae.Ql],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"]})}return l})(),Su=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getPageOfAcceptedLoan(t){return this.http.post(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`,t)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Accept/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ku=["dt"];function Ou(l,r){1&l&&e._UZ(0,"pre-loading")}function Eu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ","Loan Request"))))}function Ru(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Qu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",17)(2,"label",26),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"p-dropdown",27),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",17)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"p-dropdown",28),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",17)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-dropdown",29),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",17)(20,"label",30),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",31),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",17)(26,"label",32),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",33),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",17)(32,"label",34),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",17),e._UZ(38,"button",36),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,27,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,29,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,31,"Loan Type")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.lcZ(12,33,"Enter Loan Type Here")),e.xp6(4),e.Oqu(e.lcZ(16,35,"Loan Policy")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.lcZ(18,37,"Enter Loan Policy Here")),e.xp6(4),e.hij("",e.lcZ(22,39,"Reason")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,41,"Enter Reason Here")),e.xp6(4),e.Oqu(e.lcZ(28,43,"Amount")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,45,"Enter Amount Here")),e.xp6(4),e.Oqu(e.lcZ(34,47,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,49,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(39,51,"Insert New"))}}function ju(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",37)(1,"h5",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",39),e._UZ(5,"i",40),e.TgZ(6,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Vu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",42),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",43),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",44),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,14,"Loan Type")),e.xp6(3),e.Oqu(e.lcZ(12,16,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(15,18,"Loan Policy")),e.xp6(3),e.Oqu(e.lcZ(18,20,"Reason")),e.xp6(3),e.Oqu(e.lcZ(21,22,"Notes")),e.xp6(3),e.Oqu(e.lcZ(24,24,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,26,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,28,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,30,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,32,"Actions")),e.xp6(3),e.Oqu(e.lcZ(39,34,"Accept or Reject")))}const he=l=>({"null-color":l}),Ku=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),Gu=l=>({cursor:l});function Hu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",45),e.qZA(),e.TgZ(3,"td",46)(4,"span",47),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",46)(8,"span",47),e._uU(9,"loanTypeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",46)(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"td",46)(15,"span",47),e._uU(16,"repaymentTermName"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"td",46)(19,"span",47),e._uU(20,"reason"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"td",46)(23,"span",47),e._uU(24,"Notes"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",46)(27,"span",47),e._uU(28,"creationTime"),e.qZA(),e._uU(29),e.ALo(30,"date"),e.qZA(),e.TgZ(31,"td",46)(32,"span",47),e._uU(33,"lastModificationTime"),e.qZA(),e._uU(34),e.ALo(35,"date"),e.qZA(),e.TgZ(36,"td",46)(37,"span",47),e._uU(38,"creatorName"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",46)(41,"span",47),e._uU(42,"lastModifierName"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td")(45,"div",48)(46,"button",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(47,"button",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()(),e.TgZ(48,"td")(49,"div",51)(50,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.acceptRequest(a))}),e.qZA(),e.TgZ(51,"button",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.rejectRequest(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(30,he,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,he,!t.loanTypeName)),e.xp6(3),e.hij(" ",t.loanTypeName?t.loanTypeName:""," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(34,Ku,1==(null==t?null:t.status),2==(null==t?null:t.status),0==(null==t?null:t.status))),e.xp6(2),e.Oqu(t.statusValue),e.xp6(1),e.Q6J("ngClass",e.VKq(38,he,!t.repaymentTermName)),e.xp6(3),e.hij(" ",t.repaymentTermName?t.repaymentTermName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,he,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,he,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,he,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(30,24,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(46,he,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(35,27,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(48,he,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,he,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(6),e.Q6J("ngStyle",e.VKq(52,Gu,0!==t.status?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.status),e.xp6(1),e.Q6J("disabled",0!==t.status)}}function Yu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",17)(2,"label",26),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",17)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.loanTypeId=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",17)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.repaymentTermId=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",17)(20,"label",32),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.amount=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",17)(26,"label",32),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.reason=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",17)(32,"label",59),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"textarea",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(36,"div",61)(37,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"button",63),e.ALo(40,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,33,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.employeeId)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,35,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,37,"Loan Type")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.loanTypeId)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.lcZ(12,39,"Enter Loan Type Here")),e.xp6(4),e.Oqu(e.lcZ(16,41,"Loan Policy")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.repaymentTermId)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.lcZ(18,43,"Enter Loan Policy Here")),e.xp6(4),e.Oqu(e.lcZ(22,45,"Amount")),e.xp6(2),e.Q6J("ngModel",t.product.amount)("placeholder",e.lcZ(24,47,"Enter Amount Here")),e.xp6(4),e.Oqu(e.lcZ(28,49,"Reason")),e.xp6(2),e.Q6J("ngModel",t.product.reason)("placeholder",e.lcZ(30,51,"Enter Reason Here")),e.xp6(4),e.Oqu(e.lcZ(34,53,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(38,55,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(40,57,"Save"))}}function Bu(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function zu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function $u(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}function Wu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function Xu(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}const Oe=()=>({width:"450px"});let em=(()=>{class l{constructor(t,o,n){this.loanRequestService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.acceptAllDialogue=!1,this.rejectAllDialogue=!1,this.addNewForm=new i.cw({EmployeeId:new i.NI(null,[i.kI.required]),LoanTypeId:new i.NI(null,[i.kI.required]),RepaymentTermId:new i.NI(null,[i.kI.required]),Reason:new i.NI(null,[i.kI.required]),Amount:new i.NI(null,[i.kI.required]),Notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),loanTypeId:new i.NI(null,[i.kI.required]),repaymentTermId:new i.NI(null,[i.kI.required]),reason:new i.NI(null,[i.kI.required]),amount:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="LoanRequests",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanRequestService.setCulture(t),this.loanRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.getAllDropdowns(),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}getAllDropdowns(){this.loanRequestService.getDropdownEnum("getRequestType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsResponseTypes=t.data,console.log(this.dropdownItemsResponseTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data,console.log(this.dropdownItemsEmployees)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("LoanTypes").subscribe({next:t=>{console.log(t.data),this.dropdownItemsLoanTypes=t.data,console.log(this.dropdownItemsLoanTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("RepaymentTerms").subscribe({next:t=>{console.log(t.data),this.dropdownItemsRepaymentTerms=t.data,console.log(this.dropdownItemsRepaymentTerms)},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this.loanRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanRequestService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);this.loanRequestService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&(this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,status:0};p.sortType=this.sortOrder,this.loanRequestService.getPageOfAcceptedLoan(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanRequestService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanRequestService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}confirmAccept(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Su),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-request"]],viewQuery:function(o,n){if(1&o&&e.Gf(ku,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:55,vars:66,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","LoanTypeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","RepaymentTermId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","Reason","id","name-ar","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","Amount","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","loanTypeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","repaymentTermId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["pInputText","","formControlName","amount","id","new-latitude","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputText","","formControlName","reason","id","new-latitude",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Ou,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Eu,3,3,"ng-template",2)(4,Ru,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Qu,40,53,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,ju,8,7,"ng-template",8)(12,Vu,40,36,"ng-template",9)(13,Hu,52,54,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Yu,41,59,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Bu,6,4,"span",0),e.qZA(),e.YNc(22,zu,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,$u,2,0,"ng-template",14),e.qZA(),e.TgZ(31,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.acceptRequestDialogue=s}),e.TgZ(32,"div",16)(33,"div",12),e._UZ(34,"i",13),e.TgZ(35,"span"),e._uU(36,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(37,"div",17)(38,"label",18),e._uU(39,"Notes"),e.qZA(),e.TgZ(40,"input",19),e.NdJ("ngModelChange",function(s){return n.notesAccept=s}),e.ALo(41,"translate"),e.qZA()()(),e.YNc(42,Wu,2,0,"ng-template",14),e.qZA(),e.TgZ(43,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.rejectRequestDialogue=s}),e.TgZ(44,"div",16)(45,"div",12),e._UZ(46,"i",13),e.TgZ(47,"span"),e._uU(48,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(49,"div",17)(50,"label",20),e._uU(51,"Notes"),e.qZA(),e.TgZ(52,"input",21),e.NdJ("ngModelChange",function(s){return n.notesReject=s}),e.ALo(53,"translate"),e.qZA()()(),e.YNc(54,Xu,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(60,Oe)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,44,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,46,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(61,Oe)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,48,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(62,Oe)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,50,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(63,Oe)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,52,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,54,"Are you sure you want to delete selected products?")),e.xp6(3),e.Akn(e.DdM(64,Oe)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(41,56,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(65,Oe)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(53,58,"Enter Notes Here")))},dependencies:[T.l,m.mk,m.O5,m.PC,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),tm=(()=>{class l extends v.P{constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}/GetForDashboard/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function nm(l,r){1&l&&e._UZ(0,"pre-loading")}function om(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e._UZ(3,"input",16),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",15),e._UZ(6,"input",17),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",18)(9,"button",19),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeInstruction(a))}),e.qZA()()()()}2&l&&(e.Q6J("formGroupName",r.index),e.xp6(3),e.Q6J("placeholder",e.lcZ(4,3,"Instruction Arabic")),e.xp6(3),e.Q6J("placeholder",e.lcZ(7,5,"Instruction English")))}let lm=(()=>{class l{constructor(t,o,n){this.messageService=t,this.resignationPolicyService=o,this.fb=n,this.loading=!1,this.resignationSettingForm=new i.cw({noticePeriodInDays:new i.NI(null,[i.kI.required]),resignationInstructions:this.fb.array([])})}ngOnInit(){this.loading=!0,this.resignationPolicyService.setEndPoint("ResignationSetting"),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationPolicyService.setCulture(t),this.resignationPolicyService.setEndPoint("ResignationSetting"),this.resignationPolicyService.GetAll().subscribe({next:o=>{let n=o.data;if(console.log(n),this.loading=!1,n){this.resignationSettingForm.patchValue({noticePeriodInDays:n.noticePeriodInDays||null});const a=this.resignationSettingForm.get("resignationInstructions");a.clear(),n.resignationInstructions&&Array.isArray(n.resignationInstructions)&&n.resignationInstructions.forEach(s=>{a.push(new i.cw({instructionArabic:new i.NI(s.instructionArabic||null,[i.kI.required]),instructionEnglish:new i.NI(s.instructionEnglish||null,[i.kI.required])}))})}},error:()=>{this.loading=!1}})})}get resignationInstructions(){return this.resignationSettingForm.get("resignationInstructions")}onSubmit(t){console.log(t),this.resignationPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3})},error:o=>{console.log(o)}}),console.log(t.value)}addInstruction(){const t=this.fb.group({instructionArabic:[null,i.kI.required],instructionEnglish:[null,i.kI.required]});this.resignationInstructions.push(t)}removeInstruction(t){this.resignationInstructions.removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(tm),e.Y36(i.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-resignation-policy"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:26,vars:24,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","ngSubmit"],[1,"field","col-12"],["for","noticePeriod"],["pInputText","","id","noticePeriod","name","noticePeriod","type","number","formControlName","noticePeriodInDays",3,"placeholder","min","max"],["formArrayName","resignationInstructions"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-plus",1,"p-button-sm","p-button-success","mt-2",3,"label","click"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"disabled","label"],[3,"formGroupName"],[1,"p-fluid","grid"],[1,"field","col-5"],["pInputText","","type","text","formControlName","instructionArabic",3,"placeholder"],["pInputText","","type","text","formControlName","instructionEnglish",3,"placeholder"],[1,"field","col-2"],["pButton","","icon","pi pi-times","type","button",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,nm,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit(n.resignationSettingForm)}),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",8),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",6)(16,"label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",9),e.YNc(20,om,10,7,"div",10),e.qZA(),e.TgZ(21,"button",11),e.NdJ("click",function(){return n.addInstruction()}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",6),e._UZ(24,"button",12),e.ALo(25,"translate"),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,12,"Resignation Settings")),e.xp6(2),e.Q6J("formGroup",n.resignationSettingForm),e.xp6(3),e.Oqu(e.lcZ(12,14,"Notice Period (Days)")),e.xp6(2),e.Q6J("placeholder",e.lcZ(14,16,"Enter Notice Period in Days"))("min",1)("max",365),e.xp6(4),e.Oqu(e.lcZ(18,18,"Resignation Instructions")),e.xp6(3),e.Q6J("ngForOf",n.resignationInstructions.controls),e.xp6(1),e.Q6J("label",e.lcZ(22,20,"Add Instruction")),e.xp6(3),e.Q6J("disabled",n.resignationSettingForm.invalid)("label",e.lcZ(25,22,"Update Setting")))},dependencies:[T.l,m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.qQ,i.Fd,i.sg,i.u,i.x0,i.CE,P.N,f.X$,y.g,F.H,w.Hq,N.FN,I.o],styles:[".p-button-icon-only[_ngcontent-%COMP%]:after{display:none}"]})}return l})(),am=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Accept/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const im=["dt"];function sm(l,r){1&l&&e._UZ(0,"pre-loading")}function rm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function cm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"h5",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",24),e._UZ(5,"i",25),e.TgZ(6,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function pm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",27),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",28),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,12,"Loan Type")),e.xp6(3),e.Oqu(e.lcZ(12,14,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Loan Policy")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Reason")),e.xp6(3),e.Oqu(e.lcZ(21,20,"Notes")),e.xp6(3),e.Oqu(e.lcZ(24,22,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,26,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"lastModifierName")))}const fe=l=>({"null-color":l}),dm=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function um(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.getLoanDetails(a))}),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",31),e.qZA(),e.TgZ(3,"td",32)(4,"span",33),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",32)(8,"span",33),e._uU(9,"loanTypeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",32)(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"td",32)(15,"span",33),e._uU(16,"repaymentTermName"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"td",32)(19,"span",33),e._uU(20,"reason"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"td",32)(23,"span",33),e._uU(24,"Notes"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",32)(27,"span",33),e._uU(28,"creationTime"),e.qZA(),e._uU(29),e.ALo(30,"date"),e.qZA(),e.TgZ(31,"td",32)(32,"span",33),e._uU(33,"lastModificationTime"),e.qZA(),e._uU(34),e.ALo(35,"date"),e.qZA(),e.TgZ(36,"td",32)(37,"span",33),e._uU(38,"creatorName"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",32)(41,"span",33),e._uU(42,"lastModifierName"),e.qZA(),e._uU(43),e.qZA()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,fe,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,fe,!t.loanTypeName)),e.xp6(3),e.hij(" ",t.loanTypeName?t.loanTypeName:""," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(31,dm,1==(null==t?null:t.status),2==(null==t?null:t.status),0==(null==t?null:t.status))),e.xp6(2),e.Oqu(t.statusValue),e.xp6(1),e.Q6J("ngClass",e.VKq(35,fe,!t.repaymentTermName)),e.xp6(3),e.hij(" ",t.repaymentTermName?t.repaymentTermName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,fe,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,fe,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,fe,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(30,21,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(43,fe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(35,24,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(45,fe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,fe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function mm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",34),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",16)(2,"label",35),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",16)(8,"label",35),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.loanTypeId=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",16)(14,"label",35),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.repaymentTermId=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",16)(20,"label",39),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.amount=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",16)(26,"label",39),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.reason=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",16)(32,"label",42),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"textarea",43),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(36,"div",44)(37,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"button",46),e.ALo(40,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,33,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.employeeId)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,35,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,37,"Loan Type")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.loanTypeId)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.lcZ(12,39,"Enter Loan Type Here")),e.xp6(4),e.Oqu(e.lcZ(16,41,"Loan Policy")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.repaymentTermId)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.lcZ(18,43,"Enter Loan Policy Here")),e.xp6(4),e.Oqu(e.lcZ(22,45,"Amount")),e.xp6(2),e.Q6J("ngModel",t.product.amount)("placeholder",e.lcZ(24,47,"Enter Amount Here")),e.xp6(4),e.Oqu(e.lcZ(28,49,"Reason")),e.xp6(2),e.Q6J("ngModel",t.product.reason)("placeholder",e.lcZ(30,51,"Enter Reason Here")),e.xp6(4),e.Oqu(e.lcZ(34,53,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(38,55,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(40,57,"Save"))}}function gm(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function _m(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function hm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}function fm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function Zm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}const Ke=()=>({width:"450px"});let xm=(()=>{class l{constructor(t,o,n,a){this.allLoansService=t,this.messageService=o,this.translate=n,this.router=a,this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.acceptAllDialogue=!1,this.rejectAllDialogue=!1,this.addNewForm=new i.cw({EmployeeId:new i.NI(null,[i.kI.required]),LoanTypeId:new i.NI(null,[i.kI.required]),RepaymentTermId:new i.NI(null,[i.kI.required]),Reason:new i.NI(null,[i.kI.required]),Amount:new i.NI(null,[i.kI.required]),Notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),loanTypeId:new i.NI(null,[i.kI.required]),repaymentTermId:new i.NI(null,[i.kI.required]),reason:new i.NI(null,[i.kI.required]),amount:new i.NI(null,[i.kI.required]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="LoanRequests",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.allLoansService.setCulture(t),this.allLoansService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.getAllDropdowns(),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}getAllDropdowns(){this.allLoansService.getDropdownEnum("getRequestType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsResponseTypes=t.data,console.log(this.dropdownItemsResponseTypes)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data,console.log(this.dropdownItemsEmployees)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("LoanTypes").subscribe({next:t=>{console.log(t.data),this.dropdownItemsLoanTypes=t.data,console.log(this.dropdownItemsLoanTypes)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("RepaymentTerms").subscribe({next:t=>{console.log(t.data),this.dropdownItemsRepaymentTerms=t.data,console.log(this.dropdownItemsRepaymentTerms)},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this.allLoansService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}getLoanDetails(t){this.product={...t},this.router.navigate(["/info/loans/details",t.id]),console.log(t)}confirmDelete(t){this.allLoansService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);this.allLoansService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&(this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,status:1};p.sortType=this.sortOrder,this.allLoansService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.allLoansService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.allLoansService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}confirmAccept(t){console.log(t),this.allLoansService.updateRequestType({id:t.id,status:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.allLoansService.updateRequestType({id:t.id,status:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(am),e.Y36(u.ez),e.Y36(f.sK),e.Y36(G.F0))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-loans"]],viewQuery:function(o,n){if(1&o&&e.Gf(im,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:51,vars:58,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["action","",3,"formGroup","submit"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","loanTypeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","repaymentTermId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["htmlFor","new-latitude"],["pInputText","","formControlName","amount","id","new-latitude","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputText","","formControlName","reason","id","new-latitude",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,sm,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,rm,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-table",3,4),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(6,"translate"),e.YNc(7,cm,8,7,"ng-template",5)(8,pm,34,30,"ng-template",6)(9,um,44,49,"ng-template",7),e.qZA(),e.TgZ(10,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(11,"translate"),e.YNc(12,mm,41,59,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(14,"translate"),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.YNc(17,gm,6,4,"span",0),e.qZA(),e.YNc(18,_m,4,6,"ng-template",13),e.qZA(),e.TgZ(19,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(20,"translate"),e.TgZ(21,"div",11),e._UZ(22,"i",12),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,hm,2,0,"ng-template",13),e.qZA(),e.TgZ(27,"p-dialog",14),e.NdJ("visibleChange",function(s){return n.acceptRequestDialogue=s}),e.TgZ(28,"div",15)(29,"div",11),e._UZ(30,"i",12),e.TgZ(31,"span"),e._uU(32,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(33,"div",16)(34,"label",17),e._uU(35,"Notes"),e.qZA(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(s){return n.notesAccept=s}),e.ALo(37,"translate"),e.qZA()()(),e.YNc(38,fm,2,0,"ng-template",13),e.qZA(),e.TgZ(39,"p-dialog",14),e.NdJ("visibleChange",function(s){return n.rejectRequestDialogue=s}),e.TgZ(40,"div",15)(41,"div",11),e._UZ(42,"i",12),e.TgZ(43,"span"),e._uU(44,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(45,"div",16)(46,"label",19),e._uU(47,"Notes"),e.qZA(),e.TgZ(48,"input",20),e.NdJ("ngModelChange",function(s){return n.notesReject=s}),e.ALo(49,"translate"),e.qZA()()(),e.YNc(50,Zm,2,0,"ng-template",13),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(6,39,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(53,Ke)),e.Q6J("visible",n.productDialog)("header",e.lcZ(11,41,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(54,Ke)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(14,43,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(55,Ke)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(20,45,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(25,47,"Are you sure you want to delete selected products?")),e.xp6(3),e.Akn(e.DdM(56,Ke)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(37,49,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(57,Ke)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(49,51,"Enter Notes Here")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),Cm=(()=>{class l extends v.P{constructor(t){super(t)}getLoanDetails(t){return this.http.get(`${this.baseurl}/LoanPayment/GetLoanDetails/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function bm(l,r){if(1&l&&(e.TgZ(0,"div",5)(1,"p",6),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",7),e._uU(5),e.qZA()()()),2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,2,"Total Amount :")," "),e.xp6(3),e.Oqu(t.allData[0].totalAmount)}}function Am(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"Year")),e.xp6(3),e.Oqu(e.lcZ(6,6,"Month")),e.xp6(3),e.Oqu(e.lcZ(9,8,"Amount Paid")),e.xp6(3),e.Oqu(e.lcZ(12,10,"Remaining Amount")))}function Tm(l,r){if(1&l&&(e.TgZ(0,"tr",9)(1,"td",10),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw().$implicit;e.xp6(2),e.AsE(" ",e.lcZ(3,2,"Year:")," ",t.year," ")}}function ym(l,r){if(1&l&&(e.YNc(0,Tm,4,4,"tr",8),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&l){const t=r.$implicit,o=r.rowIndex,n=e.oxw();e.Q6J("ngIf",(0===o||n.allData[o].year!==n.allData[o-1].year)&&n.allData.length>12),e.xp6(3),e.Oqu(t.year),e.xp6(2),e.Oqu(t.month),e.xp6(2),e.Oqu(t.amountPaid),e.xp6(2),e.Oqu(t.remainingAmount)}}const qm=()=>({"min-width":"50rem"});let wm=(()=>{class l{constructor(t,o){this.route=t,this.loanDetailsService=o}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.getDetails()}getDetails(){this.loanDetailsService.getLoanDetails(this.currentId).subscribe({next:t=>{console.log(t.data),this.allData=t.data},error:t=>{console.log(t)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(G.gz),e.Y36(Cm))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-details"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:5,vars:3,consts:[[1,"card"],["stripedRows","",1,"pt-table-striped",3,"value","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-bold"],[1,"totalAmount"],["class","breakline-row",4,"ngIf"],[1,"breakline-row"],["colspan","4",1,"text-center","font-bold","bg-gray-200"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"p-table",1),e.YNc(2,bm,6,4,"ng-template",2)(3,Am,13,12,"ng-template",3)(4,ym,10,5,"ng-template",4),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("value",n.allData)("tableStyle",e.DdM(2,qm)))},dependencies:[T.l,m.O5,f.X$,y.g,g.iA,u.jx],styles:[".details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-block:24px}  .pt-table-striped tbody tr:nth-child(2n){background-color:#f9f9f9}  .pt-table-striped tbody tr:nth-child(odd){background-color:#fff}.totalAmount[_ngcontent-%COMP%]{color:#f36f28}"]})}return l})(),Nm=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Mm=["dt"];function vm(l,r){1&l&&e._UZ(0,"pre-loading")}function Dm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Im(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Pm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",21),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",23),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",25),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",27),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",19)(32,"label",30),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",31),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",19),e._UZ(38,"button",32),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,17,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,19,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,23,"Level")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,25,"Enter Level Here")),e.xp6(4),e.Oqu(e.lcZ(22,27,"Salary From")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Salary From")),e.xp6(4),e.Oqu(e.lcZ(28,31,"Salary To")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,33,"Salary To")),e.xp6(4),e.Oqu(e.lcZ(34,35,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,37,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(39,39,"Insert New"))}}function Fm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",33)(1,"h5",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",35),e._UZ(5,"i",36),e.TgZ(6,"input",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Lm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",39),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(7),e.ALo(8,"translate"),e._UZ(9,"p-sortIcon",40),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Level")," "),e.xp6(3),e.hij(" ",e.lcZ(8,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(12,14,"Salary From")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Salary To")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const be=l=>({"null-color":l});function Jm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td")(4,"span",42),e._uU(5,"Level"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",43)(8,"span",42),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"span",42),e._uU(13,"annualsalaryFrom"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",43)(16,"span",42),e._uU(17,"annualsalaryTo"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",43)(20,"span",42),e._uU(21,"Notes"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",43)(24,"span",42),e._uU(25,"creationTime"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"td",43)(29,"span",42),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td",43)(34,"span",42),e._uU(35,"creatorName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",43)(38,"span",42),e._uU(39,"lastModifierName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td")(42,"div",44)(43,"button",45),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.level,""),e.xp6(1),e.Q6J("ngClass",e.VKq(24,be,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,be,!t.annualsalaryFrom)),e.xp6(3),e.hij(" ",t.annualsalaryFrom," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,be,!t.annualsalaryTo)),e.xp6(3),e.hij(" ",t.annualsalaryTo?t.annualsalaryTo:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,be,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,be,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(27,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,be,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(32,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(36,be,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,be,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Um(l,r){1&l&&(e.TgZ(0,"small",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Sm(l,r){1&l&&(e.TgZ(0,"small",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const Ge=l=>({"ng-invalid ng-dirty":l});function km(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,Um,3,3,"small",48),e.qZA(),e.TgZ(7,"div",19)(8,"label",49),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,Sm,3,3,"small",48),e.qZA(),e.TgZ(13,"div",19)(14,"label",51),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.level=n)}),e.qZA()(),e.TgZ(18,"div",19)(19,"label",53),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.annualsalaryFrom=n)}),e.qZA()(),e.TgZ(23,"div",19)(24,"label",55),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.annualsalaryTo=n)}),e.qZA()(),e.TgZ(28,"div",19)(29,"label",57),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"textarea",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(33,"div",59)(34,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"button",61),e.ALo(37,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(39,Ge,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,25,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(41,Ge,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,27,"Level")),e.xp6(2),e.Q6J("ngModel",t.product.level)("ngClass",e.VKq(43,Ge,t.submitted&&!t.product.level)),e.xp6(3),e.Oqu(e.lcZ(21,29,"Salary From")),e.xp6(2),e.Q6J("ngModel",t.product.annualsalaryFrom)("ngClass",e.VKq(45,Ge,t.submitted&&!t.product.annualsalaryFrom)),e.xp6(3),e.Oqu(e.lcZ(26,31,"Salary To")),e.xp6(2),e.Q6J("ngModel",t.product.annualsalaryTo)("ngClass",e.VKq(47,Ge,t.submitted&&!t.product.annualsalaryTo)),e.xp6(3),e.Oqu(e.lcZ(31,33,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(35,35,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(37,37,"Save"))}}function Om(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Em(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Rm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Nt=()=>({width:"450px"}),bn=l=>{const r=l.get("annualsalaryFrom")?.value||0;return(l.get("annualsalaryTo")?.value||0)>=r?null:{salaryFromGreaterThanSalaryTo:!0}};let Qm=(()=>{class l{constructor(t,o,n){this.netIncomeTaxService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),annualsalaryFrom:new i.NI(null,[i.kI.required,i.kI.min(0)]),annualsalaryTo:new i.NI(null,[i.kI.required,i.kI.min(0)]),level:new i.NI(null,[i.kI.required,i.kI.min(0)]),notes:new i.NI(null)},{validators:bn}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),annualsalaryFrom:new i.NI(null,[i.kI.required,i.kI.min(0)]),annualsalaryTo:new i.NI(null,[i.kI.required,i.kI.min(0)]),level:new i.NI(null,[i.kI.required,i.kI.min(0)]),notes:new i.NI(null)},{validators:bn})}ngOnInit(){this.endPoint="NetIncomeTax",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.netIncomeTaxService.setCulture(t),this.netIncomeTaxService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),t.id&&(this.productDialog=!0,this.product={...t},console.log(this.product))}confirmDelete(t){this.netIncomeTaxService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.netIncomeTaxService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.netIncomeTaxService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.netIncomeTaxService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.netIncomeTaxService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Nm),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-net-income-tax"]],viewQuery:function(o,n){if(1&o&&e.Gf(Mm,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","level","id","new-longitude","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryFrom"],["pInputText","","formControlName","annualsalaryFrom","id","annualsalaryFrom","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryTo"],["pInputText","","formControlName","annualsalaryTo","id","annualsalaryTo","type","number","min","0",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","level"],["formControlName","level","type","number","pInputText","","id","level","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","annualsalaryFrom"],["formControlName","annualsalaryFrom","type","number","pInputText","","id","annualsalaryFrom","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","annualsalaryTo"],["formControlName","annualsalaryTo","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,vm,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Dm,3,3,"ng-template",2)(4,Im,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Pm,40,41,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Fm,8,7,"ng-template",8)(12,Lm,34,30,"ng-template",9)(13,Jm,44,40,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,km,38,49,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,Om,6,4,"span",0),e.qZA(),e.YNc(22,Em,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,Rm,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,Nt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,Nt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,Nt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,Nt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.qQ,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),jm=(()=>{class l extends v.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Vm=["dt"];function Km(l,r){1&l&&e._UZ(0,"pre-loading")}function Gm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Hm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ym(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",21),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",23),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-dropdown",25),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",27),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",19)(32,"label",30),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",31),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",19)(38,"label",32),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",33),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",19)(44,"label",34),e._uU(45),e.ALo(46,"translate"),e.qZA(),e._UZ(47,"textarea",35),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",19),e._UZ(50,"button",36),e.ALo(51,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,22,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,24,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,26,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,28,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,30,"Net Income Tax")),e.xp6(2),e.Q6J("options",t.netIncomeDropdown)("placeholder",e.lcZ(18,32,"Select Net Income Tax"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(22,34,"Level")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,36,"Enter Level Here")),e.xp6(4),e.Oqu(e.lcZ(28,38,"Salary From")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,40,"Salary From")),e.xp6(4),e.Oqu(e.lcZ(34,42,"Salary To")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,44,"Salary To")),e.xp6(4),e.Oqu(e.lcZ(40,46,"Rate")),e.xp6(2),e.Q6J("placeholder",e.lcZ(42,48,"Enter Rate Here")),e.xp6(4),e.Oqu(e.lcZ(46,50,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(48,52,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(51,54,"Insert New"))}}function Bm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",37)(1,"h5",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",39),e._UZ(5,"i",40),e.TgZ(6,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function zm(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",42),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",43),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(7),e.ALo(8,"translate"),e._UZ(9,"p-sortIcon",44),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,12,"Level")),e.xp6(3),e.hij(" ",e.lcZ(8,14,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(12,16,"Salary From")),e.xp6(3),e.Oqu(e.lcZ(15,18,"Salary To")),e.xp6(3),e.Oqu(e.lcZ(18,20,"Rate")),e.xp6(3),e.Oqu(e.lcZ(21,22,"Net Income Tax")),e.xp6(3),e.Oqu(e.lcZ(24,24,"Notes")),e.xp6(3),e.Oqu(e.lcZ(27,26,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(30,28,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(33,30,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(36,32,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(39,34,"Actions")))}const re=l=>({"null-color":l});function $m(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",45),e.qZA(),e.TgZ(3,"td")(4,"span",46),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",47)(8,"span",46),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",47)(12,"span",46),e._uU(13,"salaryFrom"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",47)(16,"span",46),e._uU(17,"salaryTo"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",47)(20,"span",46),e._uU(21,"rate"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",47)(24,"span",46),e._uU(25,"netIncomeTaxName"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",47)(28,"span",46),e._uU(29,"Notes"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",47)(32,"span",46),e._uU(33,"CreationTime"),e.qZA(),e._uU(34),e.ALo(35,"date"),e.qZA(),e.TgZ(36,"td",47)(37,"span",46),e._uU(38,"LastModificationTime"),e.qZA(),e._uU(39),e.ALo(40,"date"),e.qZA(),e.TgZ(41,"td",47)(42,"span",46),e._uU(43,"CreatorName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td",47)(46,"span",46),e._uU(47,"LastModifierName"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td")(50,"div",48)(51,"button",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.level," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,re,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,re,!t.salaryFrom)),e.xp6(3),e.hij(" ",t.salaryFrom," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,re,!t.salaryTo)),e.xp6(3),e.hij(" ",t.salaryTo," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,re,!t.rate)),e.xp6(3),e.hij(" ",t.rate+" %"," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,re,!t.netIncomeTaxName)),e.xp6(3),e.hij(" ",t.netIncomeTaxName?t.netIncomeTaxName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,re,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,re,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(35,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,re,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(40,25,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(44,re,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,re,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Wm(l,r){1&l&&(e.TgZ(0,"small",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Xm(l,r){1&l&&(e.TgZ(0,"small",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const Ee=l=>({"ng-invalid ng-dirty":l});function eg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",50),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.name=n)}),e.qZA(),e.YNc(6,Wm,3,3,"small",52),e.qZA(),e.TgZ(7,"div",19)(8,"label",53),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.engName=n)}),e.qZA(),e.YNc(12,Xm,3,3,"small",52),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.netIncomeTaxID=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",56),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.level=n)}),e.qZA()(),e.TgZ(24,"div",19)(25,"label",58),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.salaryFrom=n)}),e.qZA()(),e.TgZ(29,"div",19)(30,"label",60),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.salaryTo=n)}),e.qZA()(),e.TgZ(34,"div",19)(35,"label",60),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"input",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.rate=n)}),e.qZA()(),e.TgZ(39,"div",19)(40,"label",63),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"textarea",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.qZA()(),e.TgZ(44,"div",65)(45,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(46,"translate"),e.qZA(),e._UZ(47,"button",67),e.ALo(48,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,32,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(54,Ee,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,34,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(56,Ee,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,36,"Net Income Tax")),e.xp6(2),e.Q6J("options",t.netIncomeDropdown)("placeholder",e.lcZ(18,38,"Select Net Income Tax"))("showClear",!0)("ngModel",t.product.netIncomeTaxID)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(22,40,"Level")),e.xp6(2),e.Q6J("ngModel",t.product.level)("ngClass",e.VKq(58,Ee,t.submitted&&!t.product.level)),e.xp6(3),e.Oqu(e.lcZ(27,42,"Salary From")),e.xp6(2),e.Q6J("ngModel",t.product.salaryFrom)("ngClass",e.VKq(60,Ee,t.submitted&&!t.product.salaryFrom)),e.xp6(3),e.Oqu(e.lcZ(32,44,"Salary To")),e.xp6(2),e.Q6J("ngModel",t.product.salaryTo)("ngClass",e.VKq(62,Ee,t.submitted&&!t.product.salaryTo)),e.xp6(3),e.Oqu(e.lcZ(37,46,"Rate")),e.xp6(2),e.Q6J("ngModel",t.product.rate)("ngClass",e.VKq(64,Ee,t.submitted&&!t.product.rate)),e.xp6(3),e.Oqu(e.lcZ(42,48,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(46,50,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(48,52,"Save"))}}function tg(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function ng(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function og(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Mt=()=>({width:"450px"}),An=l=>{const r=l.get("salaryFrom")?.value||0;return(l.get("salaryTo")?.value||0)>=r?null:{salaryFromGreaterThanSalaryTo:!0}};let lg=(()=>{class l{constructor(t,o,n){this.taxRateService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=R.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({netIncomeTaxID:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),salaryFrom:new i.NI(null,[i.kI.required,i.kI.min(0)]),salaryTo:new i.NI(null,[i.kI.required,i.kI.min(0)]),level:new i.NI(null,[i.kI.required,i.kI.min(0)]),rate:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),notes:new i.NI(null)},{validators:An}),this.editForm=new i.cw({netIncomeTaxID:new i.NI(null,[i.kI.required]),engName:new i.NI(null,[i.kI.required]),name:new i.NI(null,[i.kI.required]),salaryFrom:new i.NI(null,[i.kI.required,i.kI.min(0)]),salaryTo:new i.NI(null,[i.kI.required,i.kI.min(0)]),level:new i.NI(null,[i.kI.required,i.kI.min(0)]),rate:new i.NI(null,[i.kI.required,i.kI.min(0),i.kI.max(100)]),notes:new i.NI(null),id:new i.NI(null)},{validators:An})}ngOnInit(){this.endPoint="TaxRate",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.taxRateService.setCulture(t),this.taxRateService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"category",header:"Category"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown("NetIncomeTax")}getDropDown(t){this.taxRateService.getDropDown(t).subscribe({next:o=>{console.log(o.data),this.netIncomeDropdown=o.data},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),t.id&&(this.productDialog=!0,this.product={...t},console.log(this.product))}confirmDelete(t){this.taxRateService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.taxRateService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.CovenantCategoryIdSelected=null,this.selectedCovenantCategory=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this.taxRateService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,this.selectedItemsData=this.allData},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.taxRateService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItemsData),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.id=`${this.endPoint}_${(new Date).getTime()}`,s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.taxRateService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(jm),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-tax-rate"]],viewQuery:function(o,n){if(1&o&&e.Gf(Vm,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:48,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","netIncomeTaxID"],["id","netIncomeTaxID","optionLabel","name","optionValue","id","optionValue","id","formControlName","netIncomeTaxID","filterBy","name",3,"options","placeholder","showClear","filter"],["htmlFor","new-longitude"],["pInputText","","formControlName","level","id","new-longitude","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryFrom"],["pInputText","","formControlName","salaryFrom","id","annualsalaryFrom","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryTo"],["pInputText","","formControlName","salaryTo","id","annualsalaryTo","type","number","min","0",3,"placeholder"],["htmlFor","rate"],["pInputText","","formControlName","rate","id","rate","type","number","min","0",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["id","netIncomeTaxID","optionLabel","name","optionValue","id","formControlName","netIncomeTaxID","filterBy","name",3,"options","placeholder","showClear","ngModel","filter","ngModelChange"],["for","level"],["formControlName","level","type","number","pInputText","","id","level","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","annualsalaryFrom"],["formControlName","salaryFrom","type","number","pInputText","","id","annualsalaryFrom","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","annualsalaryTo"],["formControlName","salaryTo","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["formControlName","rate","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,Km,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Gm,3,3,"ng-template",2)(4,Hm,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,Ym,52,56,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,Bm,8,7,"ng-template",8)(12,zm,40,36,"ng-template",9)(13,$m,52,48,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,eg,49,66,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,tg,6,4,"span",0),e.qZA(),e.YNc(22,ng,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(24,"translate"),e.TgZ(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.YNc(30,og,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(44,Mt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,32,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(45,Mt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,36,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(46,Mt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,38,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(47,Mt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(24,40,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(29,42,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.qQ,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt,U.u],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),ag=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyReport/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ig=["dt"];function sg(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function rg(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function cg(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",36),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,13,"Name")," "),e.xp6(3),e.Oqu(e.lcZ(6,15,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(9,17,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(12,19,"Year")),e.xp6(3),e.Oqu(e.lcZ(15,21,"Working Days")),e.xp6(3),e.Oqu(e.lcZ(18,23,"Present Days")),e.xp6(3),e.Oqu(e.lcZ(21,25,"Absent Days")),e.xp6(3),e.Oqu(e.lcZ(24,27,"Days Late")),e.xp6(3),e.Oqu(e.lcZ(27,29,"Days Early Leave")),e.xp6(3),e.Oqu(e.lcZ(30,31,"Total Overtime")),e.xp6(3),e.Oqu(e.lcZ(33,33,"Total Errand Days")),e.xp6(3),e.Oqu(e.lcZ(36,35,"Total Requested Day Off")),e.xp6(3),e.Oqu(e.lcZ(39,37,"Remarks")))}const K=l=>({"null-color":l});function pg(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",37),e._uU(2),e.qZA(),e.TgZ(3,"td",37),e._uU(4),e.qZA(),e.TgZ(5,"td",37),e._uU(6),e.qZA(),e.TgZ(7,"td",37),e._uU(8),e.qZA(),e.TgZ(9,"td",37),e._uU(10),e.qZA(),e.TgZ(11,"td",37),e._uU(12),e.qZA(),e.TgZ(13,"td",37),e._uU(14),e.qZA(),e.TgZ(15,"td",37),e._uU(16),e.qZA(),e.TgZ(17,"td",37),e._uU(18),e.qZA(),e.TgZ(19,"td",37),e._uU(20),e.qZA(),e.TgZ(21,"td",37),e._uU(22),e.qZA(),e.TgZ(23,"td",37),e._uU(24),e.qZA(),e.TgZ(25,"td",37),e._uU(26),e.qZA()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(26,K,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,K,!t.departmentName)),e.xp6(1),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,K,!t.month)),e.xp6(1),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,K,!t.year)),e.xp6(1),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,K,!t.totalWorkingDays)),e.xp6(1),e.hij(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,K,!t.presentDays)),e.xp6(1),e.hij(" ",t.presentDays?t.presentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,K,!t.absentDays)),e.xp6(1),e.hij(" ",t.absentDays?t.absentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,K,!t.daysLate)),e.xp6(1),e.hij(" ",t.daysLate?t.daysLate:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,K,!t.daysEarlyLeave)),e.xp6(1),e.hij(" ",t.daysEarlyLeave?t.daysEarlyLeave:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,K,!t.totalOvertime)),e.xp6(1),e.hij(" ",t.totalOvertime," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,K,!t.totalErrandDays)),e.xp6(1),e.hij(" ",t.totalErrandDays?t.totalErrandDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,K,!t.totalRequestedDayOff)),e.xp6(1),e.hij(" ",t.totalRequestedDayOff?t.totalRequestedDayOff:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,K,!t.remarks)),e.xp6(1),e.hij(" ",t.remarks?t.remarks:""," ")}}function dg(l,r){if(1&l&&(e.TgZ(0,"p-table",32,33),e.YNc(2,cg,40,39,"ng-template",34)(3,pg,27,52,"ng-template",35),e.qZA()),2&l){const t=e.oxw();e.Q6J("value",t.allDataWithoutPagination)}}function ug(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportAllCSV())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div")(8,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.printTable())}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"span",45),e._UZ(11,"i",46),e.TgZ(12,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadFilteredData())}),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("label",e.lcZ(6,8,"Export All")),e.xp6(3),e.Q6J("label",e.lcZ(9,10,"Print All")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(13,12,"Search..."))}}function mg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",48),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",49),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",50),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",51),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,15,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(12,17,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(15,19,"Year")),e.xp6(3),e.Oqu(e.lcZ(18,21,"Working Days")),e.xp6(3),e.Oqu(e.lcZ(21,23,"Present Days")),e.xp6(3),e.Oqu(e.lcZ(24,25,"Absent Days")),e.xp6(3),e.Oqu(e.lcZ(27,27,"Days Late")),e.xp6(3),e.Oqu(e.lcZ(30,29,"Days Early Leave")),e.xp6(3),e.Oqu(e.lcZ(33,31,"Total Overtime")),e.xp6(3),e.Oqu(e.lcZ(36,33,"Total Errand Days")),e.xp6(3),e.Oqu(e.lcZ(39,35,"Total Requested Day Off")),e.xp6(3),e.Oqu(e.lcZ(42,37,"Remarks")))}function gg(l,r){if(1&l&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}function _g(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",52),e.qZA(),e.TgZ(3,"td",37)(4,"span",53),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",37)(8,"span",53),e._uU(9,"departmentName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",37)(12,"span",53),e._uU(13,"month"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",37)(16,"span",53),e._uU(17,"year"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",37)(20,"span",53),e._uU(21,"totalWorkingDays"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",37)(24,"span",53),e._uU(25,"presentDays"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",37)(28,"span",53),e._uU(29,"absentDays"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",37)(32,"span",53),e._uU(33,"daysLate"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",37)(36,"span",53),e._uU(37,"daysEarlyLeave"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",37)(40,"span",53),e._uU(41,"totalOvertime"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",37)(44,"span",53),e._uU(45,"totalErrandDays"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"td",37)(48,"span",53),e._uU(49,"totalRequestedDayOff"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"td",37)(52,"span",53),e._uU(53,"remarks"),e.qZA(),e.TgZ(54,"div",54),e.YNc(55,gg,2,1,"span",55),e.qZA()()()),2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,K,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,K,!t.departmentName)),e.xp6(3),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,K,!t.month)),e.xp6(3),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,K,!t.year)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,K,!t.totalWorkingDays)),e.xp6(3),e.hij(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,K,!t.presentDays)),e.xp6(3),e.hij(" ",t.presentDays?t.presentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,K,!t.absentDays)),e.xp6(3),e.hij(" ",t.absentDays?t.absentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,K,!t.daysLate)),e.xp6(3),e.hij(" ",t.daysLate?t.daysLate:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,K,!t.daysEarlyLeave)),e.xp6(3),e.hij(" ",t.daysEarlyLeave?t.daysEarlyLeave:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,K,!t.totalOvertime)),e.xp6(3),e.hij(" ",t.totalOvertime," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,K,!t.totalErrandDays)),e.xp6(3),e.hij(" ",t.totalErrandDays?t.totalErrandDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,K,!t.totalRequestedDayOff)),e.xp6(3),e.hij(" ",t.totalRequestedDayOff?t.totalRequestedDayOff:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,K,!t.remarks)),e.xp6(4),e.Q6J("ngForOf",t.remarks)}}function hg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-table",38,33),e.NdJ("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=n)})("onLazyLoad",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.ALo(2,"translate"),e.YNc(3,ug,14,14,"ng-template",39)(4,mg,43,39,"ng-template",34)(5,_g,56,53,"ng-template",35),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems)("selection",t.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function fg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",57),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",58),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",60),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",62),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",64),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",66),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",68)(32,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",70),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function Zg(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function xg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Cg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Xt=()=>({width:"450px"});let bg=(()=>{class l{constructor(t,o,n){this.monthlyReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.page=1,this.itemsPerPage=5,this.currentLang=localStorage.getItem("currentLang")??null,this.showTable=!1,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required])}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="AttendanceSheet",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyReportService.setCulture(t),this.monthlyReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"totalWorkingDays",header:"Total Working Days"},{field:"presentDays",header:"Present Days"},{field:"absentDays",header:"Absent Days"},{field:"daysLate",header:"Days Late"},{field:"daysEarlyLeave",header:"Days Early Leave"},{field:"totalOvertime",header:"Total Overtime"},{field:"totalErrandDays",header:"Total Errand Days"},{field:"totalRequestedDayOff",header:"Total Requested Days Off"},{field:"remarks",header:"Remarks"}],this.selectedYear=null}editProduct(t){this.monthlyReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s,p,d,h,Q){let V={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,employeeId:p,departmentId:d,month:h,year:Q};V.sortType=this.sortOrder,console.log("FilteredData"),console.log(V),this.monthlyReportService.GetPage(V).subscribe({next:H=>{console.log(H),this.allData=H.data,console.log(H.data),this.totalItems=H.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let s={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(s),this.monthlyReportService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p),this.totalItems=p.totalItems,console.log(p.data.length)},error:p=>{console.log(p)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(p=>`"${p.header}"`).join(","),a=this.cols.map(p=>p.field),s=t.map(p=>a.map(d=>`"${p[d]??""}"`).join(","));return s.unshift(n),s.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyReportService.GetPage(n).subscribe({next:a=>{console.log(a),this.showTable=!0,this.allData=a.data,console.log(a.data),this.totalItems=a.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(a.data.length),console.log(this.totalItems)},error:a=>{console.log(a)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("Monthly Report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          \n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ag),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-monthly-report"]],viewQuery:function(o,n){if(1&o&&e.Gf(ig,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:66,vars:74,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["tooltipContent",""],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","employeeName"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["pTemplate","caption"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[1,"allRemarks"],["class","remark-cell",4,"ngFor","ngForOf"],[1,"remark-cell"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","month"],["inputId","month","formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",13),e._uU(25,"*"),e.qZA(),e.YNc(26,sg,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(28,"p-dropdown",15),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9)(31,"label",16),e._uU(32),e.ALo(33,"translate"),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA(),e.YNc(36,rg,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(38,"input",17),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",18)(41,"div",19)(42,"button",20),e._UZ(43,"i",21),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()()()()(),e.YNc(47,dg,4,1,"p-table",22)(48,hg,6,11,"p-table",23),e.TgZ(49,"p-dialog",24),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(50,"translate"),e.YNc(51,fg,36,47,"ng-template",25),e.qZA(),e.TgZ(52,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(53,"translate"),e.TgZ(54,"div",27),e._UZ(55,"i",28),e.YNc(56,Zg,6,4,"span",29),e.qZA(),e.YNc(57,xg,4,6,"ng-template",30),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(59,"translate"),e.TgZ(60,"div",27),e._UZ(61,"i",28),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,Cg,4,6,"ng-template",30),e.qZA()),2&o){const a=e.MAs(27);e.xp6(1),e.Q6J("header",e.lcZ(2,43,"Filter"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,45,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,47,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,49,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,51,"Select a Department")),e.xp6(4),e.hij("",e.lcZ(23,53,"Month")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(29,55,"Select a Month")),e.xp6(4),e.hij("",e.lcZ(33,57,"Year")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("placeholder",e.lcZ(39,59,"Enter Year Here")),e.xp6(4),e.Q6J("disabled",n.filterForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(46,61,"Filter")," "),e.xp6(2),e.Q6J("ngIf",n.allDataWithoutPagination.length),e.xp6(1),e.Q6J("ngIf",n.showTable),e.xp6(1),e.Akn(e.DdM(71,Xt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(50,63,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(72,Xt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(53,65,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(73,Xt)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(59,67,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(64,69,"Are you sure you want to delete selected products?"))}},dependencies:[T.l,m.mk,m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}#printableTable[_ngcontent-%COMP%]{display:none!important}.allRemarks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.remark-cell[_ngcontent-%COMP%]{color:#f36f28;border:1px solid #f36f28;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.remark-cell[_ngcontent-%COMP%]:hover{background-color:#f36f28;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return l})(),Ag=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyAbsenceReport/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Tg=["dt"];function yg(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function qg(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function wg(l,r){1&l&&(e.TgZ(0,"h2",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Monthly Absence Report")," "))}function Ng(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,7,"Name")," "),e.xp6(3),e.Oqu(e.lcZ(6,9,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(9,11,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(12,13,"Year")),e.xp6(3),e.Oqu(e.lcZ(15,15,"Working Days")),e.xp6(3),e.Oqu(e.lcZ(18,17,"Absent Days")),e.xp6(3),e.Oqu(e.lcZ(21,19,"Absent Dates")))}function Mg(l,r){if(1&l&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"date"),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}const B=l=>({"null-color":l});function vg(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",38),e._uU(8),e.qZA(),e.TgZ(9,"td",38),e._uU(10),e.qZA(),e.TgZ(11,"td",38),e._uU(12),e.qZA(),e.TgZ(13,"td",38)(14,"div",39),e.YNc(15,Mg,3,3,"span",40),e.qZA()()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(14,B,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(16,B,!t.departmentName)),e.xp6(1),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,B,!t.month)),e.xp6(1),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,B,!t.year)),e.xp6(1),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,B,!t.totalWorkingDays)),e.xp6(1),e.hij(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,B,!t.totalAbsentDays)),e.xp6(1),e.hij(" ",t.totalAbsentDays?t.totalAbsentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,B,!t.daysLate)),e.xp6(2),e.Q6J("ngForOf",t.absentDates)}}function Dg(l,r){if(1&l&&(e.TgZ(0,"p-table",32,33),e.YNc(2,wg,3,3,"ng-template",34)(3,Ng,22,21,"ng-template",35)(4,vg,16,28,"ng-template",36),e.qZA()),2&l){const t=e.oxw();e.Q6J("value",t.allDataWithoutPagination)}}function Ig(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44)(2,"div")(3,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportAllCSV())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div")(8,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.printTable())}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"span",48),e._UZ(11,"i",49),e.TgZ(12,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadFilteredData())}),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("label",e.lcZ(6,8,"Export All")),e.xp6(3),e.Q6J("label",e.lcZ(9,10,"Print All")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(13,12,"Search..."))}}function Pg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",51),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",52),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",53),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",54),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,7,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,9,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(12,11,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(15,13,"Year")),e.xp6(3),e.Oqu(e.lcZ(18,15,"Working Days")),e.xp6(3),e.Oqu(e.lcZ(21,17,"Absent Days")),e.xp6(3),e.Oqu(e.lcZ(24,19,"Absent Dates")))}function Fg(l,r){if(1&l&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"date"),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function Lg(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",55),e.qZA(),e.TgZ(3,"td",38)(4,"span",56),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",56),e._uU(9,"departmentName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38)(12,"span",56),e._uU(13,"month"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",38)(16,"span",56),e._uU(17,"year"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",38)(20,"span",56),e._uU(21,"totalWorkingDays"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",38)(24,"span",56),e._uU(25,"totalAbsentDays"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",38)(28,"span",56),e._uU(29,"daysLate"),e.qZA(),e.TgZ(30,"div",39),e.YNc(31,Fg,3,3,"span",40),e.qZA()()()),2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(15,B,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(17,B,!t.departmentName)),e.xp6(3),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(19,B,!t.month)),e.xp6(3),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(21,B,!t.year)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,B,!t.totalWorkingDays)),e.xp6(3),e.hij(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,B,!t.totalAbsentDays)),e.xp6(3),e.hij(" ",t.totalAbsentDays?t.totalAbsentDays:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,B,!t.daysLate)),e.xp6(4),e.Q6J("ngForOf",t.absentDates)}}function Jg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-table",42,33),e.NdJ("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=n)})("onLazyLoad",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.ALo(2,"translate"),e.YNc(3,Ig,14,14,"ng-template",34)(4,Pg,25,21,"ng-template",35)(5,Lg,32,29,"ng-template",36),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems)("selection",t.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function Ug(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",57),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",58),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",60),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",62),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",64),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",66),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",68)(32,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",70),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function Sg(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function kg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Og(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const en=()=>({width:"450px"});let Eg=(()=>{class l{constructor(t,o,n){this.monthlyAbsenceReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required])}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="AttendanceSheet",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyAbsenceReportService.setCulture(t),this.monthlyAbsenceReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"totalWorkingDays",header:"Total Working Days"},{field:"totalAbsentDays",header:"Total Absent Days"},{field:"absentDates",header:"Absent Dates"}],this.selectedYear=null}editProduct(t){this.monthlyAbsenceReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyAbsenceReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyAbsenceReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s,p,d,h,Q){let V={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,employeeId:p,departmentId:d,month:h,year:Q};V.sortType=this.sortOrder,console.log("FilteredData"),console.log(V),this.monthlyAbsenceReportService.GetPage(V).subscribe({next:H=>{console.log(H),this.allData=H.data,console.log(H.data),this.totalItems=H.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let s={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(s),this.monthlyAbsenceReportService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p),this.totalItems=p.totalItems,console.log(p.data.length)},error:p=>{console.log(p)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyAbsenceReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(p=>`"${p.header}"`).join(","),a=this.cols.map(p=>p.field),s=t.map(p=>a.map(d=>"absentDates"===d&&Array.isArray(p[d])?`"${p[d].map(h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${p[d]||""}"`).join(","));return s.unshift(n),s.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyAbsenceReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyAbsenceReportService.GetPage(n).subscribe({next:a=>{console.log(a),this.showTable=!0,this.allData=a.data,console.log(a.data),this.totalItems=a.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(a.data.length),console.log(this.totalItems)},error:a=>{console.log(a)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyAbsenceReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyAbsenceReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyAbsenceReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n            <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                <head>\n                    <title>${this.translate.instant("report")}</title>\n                    <style>\n                        body {\n                            font-family: Arial, sans-serif;\n                            margin: 20px;\n                        }\n                        table {\n                            border-collapse: collapse;\n                            width: 100%;\n                        }\n                        th, td {\n                            border: 1px solid #ddd;\n                            padding: 8px;\n                            text-align: center;\n                            max-width: fit-content\n                        }\n                        th {\n                            background-color: #f4f4f4;\n                        }\n                        h2 {\n                            text-align: center;\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                </body>\n            </html>\n        `),o.document.close(),o.print())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Ag),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-monthly-absence-report"]],viewQuery:function(o,n){if(1&o&&e.Gf(Tg,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:66,vars:74,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["tooltipContent",""],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],[1,"allDates"],["class","date-cell",4,"ngFor","ngForOf"],[1,"date-cell"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",13),e._uU(25,"*"),e.qZA(),e.YNc(26,yg,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(28,"p-dropdown",15),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9)(31,"label",16),e._uU(32),e.ALo(33,"translate"),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA(),e.YNc(36,qg,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(38,"input",17),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",18)(41,"div",19)(42,"button",20),e._UZ(43,"i",21),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()()()()(),e.YNc(47,Dg,5,1,"p-table",22)(48,Jg,6,11,"p-table",23),e.TgZ(49,"p-dialog",24),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(50,"translate"),e.YNc(51,Ug,36,47,"ng-template",25),e.qZA(),e.TgZ(52,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(53,"translate"),e.TgZ(54,"div",27),e._UZ(55,"i",28),e.YNc(56,Sg,6,4,"span",29),e.qZA(),e.YNc(57,kg,4,6,"ng-template",30),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(59,"translate"),e.TgZ(60,"div",27),e._UZ(61,"i",28),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,Og,4,6,"ng-template",30),e.qZA()),2&o){const a=e.MAs(27);e.xp6(1),e.Q6J("header",e.lcZ(2,43,"Filter"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,45,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,47,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,49,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,51,"Select a Department")),e.xp6(4),e.hij("",e.lcZ(23,53,"Month")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(29,55,"Select a Month")),e.xp6(4),e.hij("",e.lcZ(33,57,"Year")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("placeholder",e.lcZ(39,59,"Enter Year Here")),e.xp6(4),e.Q6J("disabled",n.filterForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(46,61,"Filter")," "),e.xp6(2),e.Q6J("ngIf",n.allDataWithoutPagination.length),e.xp6(1),e.Q6J("ngIf",n.showTable),e.xp6(1),e.Akn(e.DdM(71,en)),e.Q6J("visible",n.productDialog)("header",e.lcZ(50,63,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(72,en)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(53,65,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(73,en)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(59,67,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(64,69,"Are you sure you want to delete selected products?"))}},dependencies:[T.l,m.mk,m.sg,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return l})(),Rg=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getLoanPayment(t,o){return this.http.get(`${this.baseurl}/LoanPayment/GetLoanPayment?loanRequestId=${t}&employeeId=${o}&culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Qg=["dt"];function jg(l,r){if(1&l&&(e.TgZ(0,"div",20)(1,"div",21)(2,"div",22)(3,"h5")(4,"span",23),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"div",22)(9,"h5")(10,"span",23),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"h5")(15,"span",23),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._uU(18),e.qZA()(),e.TgZ(19,"div",22)(20,"h5")(21,"span",23),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"h5")(26,"span",23),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._uU(29),e.qZA()()()()),2&l){const t=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,10,"monthsLeft :")),e.xp6(2),e.hij(" ",t.allData.monthsLeft,""),e.xp6(4),e.Oqu(e.lcZ(12,12,"startYear :")),e.xp6(2),e.hij(" ",t.allData.startYear,""),e.xp6(3),e.Oqu(e.lcZ(17,14,"startMonth :")),e.xp6(2),e.hij(" ",t.allData.startMonth,""),e.xp6(4),e.Oqu(e.lcZ(23,16,"endYear :")),e.xp6(2),e.hij(" ",t.allData.endYear,""),e.xp6(3),e.Oqu(e.lcZ(28,18,"endMonth :")),e.xp6(2),e.hij(" ",t.allData.endMonth,"")}}function Vg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",24),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortById(n))}),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"p-sortIcon",25),e.qZA(),e.TgZ(5,"th"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,11,"EmployeeId")," "),e.xp6(4),e.Oqu(e.lcZ(7,13,"month")),e.xp6(3),e.Oqu(e.lcZ(10,15,"year")),e.xp6(3),e.Oqu(e.lcZ(13,17,"amountPaid")),e.xp6(3),e.Oqu(e.lcZ(16,19,"remainingAmount")),e.xp6(3),e.Oqu(e.lcZ(19,21,"isPaid")),e.xp6(3),e.Oqu(e.lcZ(22,23,"totalAmount")),e.xp6(3),e.Oqu(e.lcZ(25,25,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,27,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,29,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,31,"lastModifierName")))}const ce=l=>({"null-color":l});function Kg(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",26),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",27)(6,"span",26),e._uU(7,"month"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",27)(10,"span",26),e._uU(11,"year"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td",27)(14,"span",26),e._uU(15,"amountPaid"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"td",27)(18,"span",26),e._uU(19,"remainingAmount"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td",27)(22,"span",26),e._uU(23,"isPaid"),e.qZA(),e.TgZ(24,"p-inputSwitch",28),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.isPaid=n)}),e.qZA()(),e.TgZ(25,"td",27)(26,"span",26),e._uU(27,"totalAmount"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",27)(30,"span",26),e._uU(31,"creationTime"),e.qZA(),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"td",27)(35,"span",26),e._uU(36,"lastModificationTime"),e.qZA(),e._uU(37),e.ALo(38,"date"),e.qZA(),e.TgZ(39,"td",27)(40,"span",26),e._uU(41,"creatorName"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",27)(44,"span",26),e._uU(45,"lastModifierName"),e.qZA(),e._uU(46),e.qZA()()}if(2&l){const t=r.$implicit;e.xp6(4),e.hij(" ",t.employeeId," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ce,!t.month)),e.xp6(3),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,ce,!t.year)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,ce,!t.amountPaid)),e.xp6(3),e.hij(" ",t.amountPaid?t.amountPaid:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,ce,!t.remainingAmount)),e.xp6(3),e.hij(" ",t.remainingAmount?t.remainingAmount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,ce,!t.isPaid)),e.xp6(3),e.Q6J("ngModel",t.isPaid)("disabled",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(38,ce,!t.totalAmount)),e.xp6(3),e.hij(" ",t.totalAmount?t.totalAmount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,ce,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(33,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,ce,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(38,25,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(44,ce,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,ce,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Gg(l,r){if(1&l&&(e.TgZ(0,"div",1)(1,"p-table",16),e.YNc(2,jg,30,20,"ng-template",17)(3,Vg,35,33,"ng-template",18)(4,Kg,47,48,"ng-template",19),e.qZA()()),2&l){const t=e.oxw();e.xp6(1),e.Q6J("value",t.loanPaymentGetDtos)}}let Hg=(()=>{class l{constructor(t){this._GetLoanPaymentService=t,this.loading=!1,this.selectedEmployeeId=[],this.registerForm={},this.totalItems=0}ngOnInit(){this.endPoint="Employee",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._GetLoanPaymentService.setCulture(t),this._GetLoanPaymentService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this._GetLoanPaymentService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsEmployee",enum:"Employee"}),this.getDropDownField({field:"dropdownLoanRequests",enum:"LoanRequests"})}onSelectEmployee(t){console.log(t),this.selectedEmployeeId=t.value.id}onSelectLoan(t){console.log(t),this.selectedloanId=t.value.id}registerSubmit(){this.registerForm={loanId:Number(this.selectedloanId),employeeId:Number(this.selectedEmployeeId)},this.loading=!0,this._GetLoanPaymentService.getLoanPayment(this.registerForm.loanId,this.registerForm.employeeId).subscribe({next:t=>{this.loading=!1,console.log(t),this.allData=t.data,this.loanPaymentGetDtos=t.data.loanPaymentGetDtos,this.totalItems=this.allData.length,console.log(this.loanPaymentGetDtos)},error:()=>{this.loading=!1}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Rg))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-get-loan-payment"]],viewQuery:function(o,n){if(1&o&&e.Gf(Qg,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,f.sK]),e.jDz],decls:30,vars:34,consts:[[1,"grid","justify-content-center"],[1,"col-12"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","employee"],["optionLabel","name",3,"options","ngModel","placeholder","filter","filterPlaceholder","filterBy","showClear","ngModelChange","onChange"],["htmlFor","Loan"],["optionLabel","reason",3,"options","filter","filterPlaceholder","filterBy","showClear","placeholder","onChange"],[1,"field","col-12","md:col-12","py-5"],[1,"p-fluid","grid"],[1,"col-2"],["type","submit","pButton","","value","Show",1,"flex","justify-content-center"],["class","col-12",4,"ngIf"],[3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-8"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"label"],["pSortableColumn","employeeId",3,"click"],["field","employeeId"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModel","disabled","ngModelChange"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.registerSubmit()}),e.TgZ(8,"div",5)(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-dropdown",8),e.NdJ("ngModelChange",function(s){return n.selectedEmployee=s})("onChange",function(s){return n.onSelectEmployee(s)}),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",6)(17,"label",9),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"p-dropdown",10),e.NdJ("onChange",function(s){return n.onSelectLoan(s)}),e.ALo(21,"translate"),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",11)(24,"div",12)(25,"div",13)(26,"button",14),e._uU(27),e.ALo(28,"translate"),e.qZA()()()()()()()(),e.YNc(29,Gg,5,1,"div",15),e.qZA()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,18,"get all Loans For Each Employees")),e.xp6(6),e.Oqu(e.lcZ(12,20,"Employees")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(14,22,"Select Employee"))("filter",!0)("filterPlaceholder",e.lcZ(15,24,"Search..."))("filterBy","name")("showClear",!0),e.xp6(5),e.Oqu(e.lcZ(19,26,"Loan Requests")),e.xp6(2),e.Q6J("options",n.dropdownLoanRequests)("filter",!0)("filterPlaceholder",e.lcZ(21,28,"Search..."))("filterBy","reason")("showClear",!0)("placeholder",e.lcZ(22,30,"Select Loan")),e.xp6(7),e.hij(" ",e.lcZ(28,32,"Show")," "),e.xp6(2),e.Q6J("ngIf",n.loanPaymentGetDtos))},dependencies:[T.l,m.mk,m.O5,i._Y,i.JJ,i.JL,i.On,i.F,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,w.Hq,N.FN,O.Lt,ae.Ql],styles:["h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-weight:700}  html:lang(ar) .p-datatable-header h5{display:flex;gap:10px}"]})}return l})();var Yg=x(8784);let Bg=(()=>{class l extends v.P{constructor(t){super(t)}RegisterTermination(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register?culture=${this.culture}`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function zg(l,r){1&l&&e._UZ(0,"pre-loading")}function $g(l,r){1&l&&(e._uU(0),e.ALo(1,"translate")),2&l&&e.hij(" ",e.lcZ(1,1,r.$implicit.name)," ")}function Wg(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select Employee")," ")}}function Xg(l,r){1&l&&(e.TgZ(0,"small",22),e._uU(1," EmployeeId is required. "),e.qZA())}function e_(l,r){1&l&&(e.TgZ(0,"small",22),e._uU(1," Termination Date is required. "),e.qZA())}function t_(l,r){1&l&&(e.TgZ(0,"small",22),e._uU(1," Last Working Date is required. "),e.qZA())}function n_(l,r){1&l&&(e.TgZ(0,"small",22),e._uU(1," Reason is required. "),e.qZA())}function o_(l,r){1&l&&(e.TgZ(0,"small",22),e._uU(1," Clearance Date is required. "),e.qZA())}let l_=(()=>{class l{constructor(t,o,n){this._RegisterTerminationService=t,this.messageService=o,this.DatePipe=n,this.loading=!1,this.selectedEmployeeId=[],this.TerminationForm=new i.cw({EmployeeId:new i.NI(null,[i.kI.required]),TerminationDate:new i.NI(null,[i.kI.required]),LastWorkingDate:new i.NI(null,[i.kI.required]),Reason:new i.NI(null,[i.kI.required]),ClearanceDate:new i.NI(null,[i.kI.required])})}ngOnInit(){this.endPoint="Termination",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._RegisterTerminationService.setCulture(t),this._RegisterTerminationService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this._RegisterTerminationService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsEmployee",enum:"Employee"})}onSelectEmployee(t){console.log(t),this.selectedEmployeeId=t.value.id}getDecodedToken(){const t=localStorage.getItem("userToken");if(t)try{return(0,Yg.o)(t)}catch(o){return console.error("Token decoding failed:",o),null}return null}getPropertyFromToken(t){const o=this.getDecodedToken();return o?o[t]:null}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}registerTermination(t){if(t.valid){this.loading=!0;let o={...t.value,EmployeeId:this.selectedEmployeeId,HrId:Number(this.getPropertyFromToken("EmployeeId")),TerminationDate:this.DatePipe.transform(this.TerminationForm.get("TerminationDate").value,"yyyy-MM-dd"),LastWorkingDate:this.DatePipe.transform(this.TerminationForm.get("LastWorkingDate").value,"yyyy-MM-dd"),ClearanceDate:this.DatePipe.transform(this.TerminationForm.get("ClearanceDate").value,"yyyy-MM-dd")};const n=this.mapToFormData(o);this._RegisterTerminationService.RegisterTermination(n).subscribe({next:a=>{this.loading=!1,a.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"Termination sent successfully !",life:3e3}),t.reset())},error:()=>{this.loading=!1}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Bg),e.Y36(u.ez),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-register-termination"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([m.uU]),e.jDz],decls:50,vars:51,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12","md:col-12"],["htmlFor","employee"],["formControlName","EmployeeId","optionLabel","name","optionVal","id",3,"options","placeholder","filter","filterPlaceholder","filterBy","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],["class","p-error",4,"ngIf"],[1,"field","col-12"],["for","terminationDate"],["id","terminationDate","formControlName","TerminationDate","dateFormat","yy-mm-dd",3,"placeholder"],["for","lastWorkingDate"],["id","lastWorkingDate","formControlName","LastWorkingDate","dateFormat","yy-mm-dd",3,"placeholder"],["for","reason"],["id","reason","pInputTextarea","","formControlName","Reason","rows","3",3,"placeholder"],["for","clearanceDate"],["id","clearanceDate","formControlName","ClearanceDate","dateFormat","yy-mm-dd",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"p-error"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.YNc(1,zg,1,0,"pre-loading",0),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",5),e.NdJ("submit",function(){return n.registerTermination(n.TerminationForm)}),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-dropdown",8),e.NdJ("onChange",function(s){return n.onSelectEmployee(s)}),e.ALo(14,"translate"),e.ALo(15,"translate"),e.YNc(16,$g,2,3,"ng-template",9)(17,Wg,3,5,"ng-template",10),e.qZA(),e.YNc(18,Xg,2,0,"small",11),e.qZA(),e.TgZ(19,"div",12)(20,"label",13),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"p-calendar",14),e.ALo(24,"translate"),e.YNc(25,e_,2,0,"small",11),e.qZA(),e.TgZ(26,"div",12)(27,"label",15),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-calendar",16),e.ALo(31,"translate"),e.YNc(32,t_,2,0,"small",11),e.qZA(),e.TgZ(33,"div",12)(34,"label",17),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"textarea",18),e.ALo(38,"translate"),e.YNc(39,n_,2,0,"small",11),e.qZA(),e.TgZ(40,"div",12)(41,"label",19),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"p-calendar",20),e.ALo(45,"translate"),e.YNc(46,o_,2,0,"small",11),e.qZA(),e.TgZ(47,"div",12),e._UZ(48,"button",21),e.ALo(49,"translate"),e.qZA()()()()()),2&o){let a,s,p,d,h;e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Oqu(e.lcZ(7,25,"Notify All Employees")),e.xp6(2),e.Q6J("formGroup",n.TerminationForm),e.xp6(3),e.Oqu(e.lcZ(12,27,"Employees")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("placeholder",e.lcZ(14,29,"Select Employee"))("filter",!0)("filterPlaceholder",e.lcZ(15,31,"Search..."))("filterBy","name")("showClear",!0),e.xp6(5),e.Q6J("ngIf",(null==(a=n.TerminationForm.get("EmployeeId"))?null:a.invalid)&&(null==(a=n.TerminationForm.get("EmployeeId"))?null:a.touched)),e.xp6(3),e.Oqu(e.lcZ(22,33,"Termination Date")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,35,"Select Termination Date")),e.xp6(2),e.Q6J("ngIf",(null==(s=n.TerminationForm.get("TerminationDate"))?null:s.invalid)&&(null==(s=n.TerminationForm.get("TerminationDate"))?null:s.touched)),e.xp6(3),e.Oqu(e.lcZ(29,37,"Last Working Date")),e.xp6(2),e.Q6J("placeholder",e.lcZ(31,39,"Select Last Working Date")),e.xp6(2),e.Q6J("ngIf",(null==(p=n.TerminationForm.get("LastWorkingDate"))?null:p.invalid)&&(null==(p=n.TerminationForm.get("LastWorkingDate"))?null:p.touched)),e.xp6(3),e.Oqu(e.lcZ(36,41,"Reason")),e.xp6(2),e.Q6J("placeholder",e.lcZ(38,43,"Enter Reason")),e.xp6(2),e.Q6J("ngIf",(null==(d=n.TerminationForm.get("Reason"))?null:d.invalid)&&(null==(d=n.TerminationForm.get("Reason"))?null:d.touched)),e.xp6(3),e.Oqu(e.lcZ(43,45,"Clearance Date")),e.xp6(2),e.Q6J("placeholder",e.lcZ(45,47,"Select Clearance Date")),e.xp6(2),e.Q6J("ngIf",(null==(h=n.TerminationForm.get("ClearanceDate"))?null:h.invalid)&&(null==(h=n.TerminationForm.get("ClearanceDate"))?null:h.touched)),e.xp6(2),e.Q6J("disabled",n.TerminationForm.invalid)("label",e.lcZ(49,49,"Send"))}},dependencies:[T.l,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,P.N,f.X$,y.g,u.jx,w.Hq,N.FN,E.g,O.Lt,Y.f]})}return l})(),a_=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const i_=["dt"];function s_(l,r){1&l&&e._UZ(0,"pre-loading")}function r_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",9)(1,"h5",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",11),e._UZ(5,"i",12),e.TgZ(6,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function c_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",14),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"p-sortIcon",15),e.qZA(),e.TgZ(5,"th"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,10,"employeeName")," "),e.xp6(4),e.Oqu(e.lcZ(7,12,"jobName")),e.xp6(3),e.Oqu(e.lcZ(10,14,"reason")),e.xp6(3),e.Oqu(e.lcZ(13,16,"lastWorkingDate")),e.xp6(3),e.Oqu(e.lcZ(16,18,"clearanceDate")),e.xp6(3),e.Oqu(e.lcZ(19,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(22,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(25,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(28,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(31,28,"Actions")))}const Ze=l=>({"null-color":l});function p_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"span",17),e._uU(3,"employeeName"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",16)(6,"span",17),e._uU(7,"jobName"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",16)(10,"span",17),e._uU(11,"reason"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td",16)(14,"span",17),e._uU(15,"lastWorkingDate"),e.qZA(),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"td",16)(19,"span",17),e._uU(20,"clearanceDate"),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"td",16)(24,"span",17),e._uU(25,"creationTime"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"td",16)(29,"span",17),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td",16)(34,"span",17),e._uU(35,"creatorName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",16)(38,"span",17),e._uU(39,"lastModifierName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td")(42,"div",18)(43,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(30,Ze,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,Ze,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,Ze,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,Ze,!t.lastWorkingDate)),e.xp6(3),e.hij(" ",e.xi3(17,18,t.lastWorkingDate,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(38,Ze,!t.clearanceDate)),e.xp6(3),e.hij(" ",e.xi3(22,21,t.clearanceDate,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(40,Ze,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(27,24,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,Ze,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(32,27,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(44,Ze,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,Ze,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function d_(l,r){if(1&l&&(e.TgZ(0,"section",20)(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",21)(8,"label",24),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",23),e._uU(12),e.qZA()(),e.TgZ(13,"div",21)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",23),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.TgZ(20,"div",21)(21,"label",26),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"p",23),e._uU(25),e.ALo(26,"date"),e.qZA()(),e.TgZ(27,"div",21)(28,"label",27),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"p",23),e._uU(32),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",21)(35,"label",28),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p",23),e._uU(39),e.ALo(40,"date"),e.qZA()(),e.TgZ(41,"div",21)(42,"label",29),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"p",23),e._uU(46),e.qZA()(),e.TgZ(47,"div",21)(48,"label",30),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"p",23),e._uU(52),e.qZA()(),e.TgZ(53,"div",21)(54,"label",31),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"p",23),e._uU(58),e.qZA()()()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,18,"jobName")),e.xp6(3),e.Oqu(t.product.jobName),e.xp6(3),e.Oqu(e.lcZ(10,20,"reason")),e.xp6(3),e.Oqu(t.product.reason),e.xp6(3),e.Oqu(e.lcZ(16,22,"lastWorkingDate")),e.xp6(3),e.Oqu(e.xi3(19,24,t.product.lastWorkingDate,"yyyy/MM/dd")),e.xp6(4),e.Oqu(e.lcZ(23,27,"clearanceDate")),e.xp6(3),e.Oqu(e.xi3(26,29,t.product.clearanceDate,"yyyy/MM/dd")),e.xp6(4),e.Oqu(e.lcZ(30,32,"creationTime")),e.xp6(3),e.Oqu(e.xi3(33,34,t.product.creationTime,"yyyy-MM-dd , HH:mm:ss a")),e.xp6(4),e.Oqu(e.lcZ(37,37,"lastModificationTime")),e.xp6(3),e.Oqu(e.xi3(40,39,t.product.lastModificationTime,"yyyy-MM-dd , HH:mm:ss a")),e.xp6(4),e.Oqu(e.lcZ(44,42,"creatorName")),e.xp6(3),e.Oqu(t.product.creatorName),e.xp6(3),e.Oqu(e.lcZ(50,44,"lastModifierName")),e.xp6(3),e.Oqu(t.product.lastModifierName),e.xp6(3),e.Oqu(e.lcZ(56,46,"Actions")),e.xp6(3),e.Oqu(t.product.Actions)}}function u_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.productDialog=!1)}),e.ALo(1,"translate"),e.qZA()}2&l&&e.s9C("label",e.lcZ(1,1,"Close"))}const m_=()=>({width:"450px"});let g_=(()=>{class l{constructor(t,o,n){this._AllTerminationsService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),notes:new i.NI(null)}),this.editForm=new i.cw({id:new i.NI(null),name:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),engName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),notes:new i.NI(null)})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="Termination",this._AllTerminationsService.setCulture(t),this._AllTerminationsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}viewProduct(t){console.log(t.id),this._AllTerminationsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},console.log(this.product),this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._AllTerminationsService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._AllTerminationsService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}loadData(t,o,n,a,s){let p={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s};p.SortType=this.sortOrder;const d=this.mapToFormData(p);this._AllTerminationsService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1},error:h=>{console.log(h),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._AllTerminationsService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._AllTerminationsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._AllTerminationsService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(a_),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-terminations"]],viewQuery:function(o,n){if(1&o&&e.Gf(i_,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU,f.sK]),e.jDz],decls:12,vars:20,consts:[[4,"ngIf"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],[1,"form-data"],[1,"field","col-12"],["for","jobName"],[1,"text-data"],["for","reason"],["for","lastWorkingDate"],["for","clearanceDate"],["for","creationTime"],["for","lastModificationTime"],["for","creatorName"],["for","lastModifierName"],["for","actions"],["pButton","","type","button","icon","pi pi-times",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,s_,1,0,"pre-loading",0),e.TgZ(2,"p-table",1,2),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(4,"translate"),e.YNc(5,r_,8,7,"ng-template",3)(6,c_,32,30,"ng-template",4)(7,p_,44,48,"ng-template",5),e.qZA(),e.TgZ(8,"p-dialog",6),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(9,"translate"),e.YNc(10,d_,59,48,"ng-template",7)(11,u_,2,3,"ng-template",8),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(4,15,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(19,m_)),e.Q6J("visible",n.productDialog)("header",e.lcZ(9,17,"Item Details"))("modal",!0))},dependencies:[T.l,m.mk,m.O5,i.Fj,i.JJ,i.On,P.N,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,F.H,w.Hq,L.V,N.FN,I.o],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:40%}.field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:60%}.text-data[_ngcontent-%COMP%]{color:#6c757d;background-color:#f8f9fa;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;display:inline-block;width:100%;box-sizing:border-box}"]})}return l})(),__=(()=>{class l extends v.P{constructor(t){super(t)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const h_=["dt"];function f_(l,r){1&l&&e._UZ(0,"pre-loading")}function Z_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",14)(2,"label",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",16),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",14)(8,"label",17),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",18),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",14)(14,"label",19),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"textarea",20),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",14),e._UZ(20,"button",21),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,11,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,15,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,17,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,19,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(21,21,"Insert New"))}}function x_(l,r){1&l&&(e.TgZ(0,"div",22)(1,"h5",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Manage Items")))}function C_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",24),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",25),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",26),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Employee Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,11,"statusValue")),e.xp6(3),e.Oqu(e.lcZ(12,13,"languageValue")),e.xp6(3),e.Oqu(e.lcZ(15,15,"hrStatusValue")),e.xp6(3),e.Oqu(e.lcZ(18,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(21,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(24,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(27,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(30,25,"Actions")))}const Me=l=>({"null-color":l}),b_=(l,r,t,o)=>({"pending-status":l,"accepted-status":r,"rejected-status":t,"complete-status":o});function A_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",27),e.qZA(),e.TgZ(3,"td",28)(4,"span",29),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",28)(8,"span",29),e._uU(9,"statusValue"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",28)(12,"span",29),e._uU(13,"languageValue"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",28)(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"td",28)(19,"span",29),e._uU(20,"creationTime"),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"td",28)(24,"span",29),e._uU(25,"lastModificationTime"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"td",28)(29,"span",29),e._uU(30,"creatorName"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",28)(33,"span",29),e._uU(34,"lastModifierName"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td")(37,"div",30)(38,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.changeStatus(a))}),e.ALo(39,"translate"),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(27,Me,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Me,!t.statusValue)),e.xp6(3),e.hij(" ",t.statusValue?t.statusValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,Me,!t.languageValue)),e.xp6(3),e.hij(" ",t.languageValue?t.languageValue:""," "),e.xp6(1),e.Q6J("ngClass",e.l5B(33,b_,0==(null==t?null:t.status),1==(null==t?null:t.status),2==(null==t?null:t.status),3==(null==t?null:t.status))),e.xp6(2),e.hij(" ",t.hrStatusValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,Me,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(22,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(40,Me,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(27,22,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,Me,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,Me,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("label",e.lcZ(39,25,"Change Status"))("disabled",3==(null==t?null:t.status))}}function T_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",32),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveStatus(n.changeStatusForm,n.product))}),e.TgZ(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedStatus=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.print(n.changeStatusForm))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",33)(8,"div",36),e._UZ(9,"button",37),e.ALo(10,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.changeStatusForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"All Status")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,9,"Select Status")),e.Q6J("options",t.all_Status_DropDown)("ngModel",t.selectedStatus),e.xp6(4),e.s9C("label",e.lcZ(10,11,"Save")),e.Q6J("disabled",t.changeStatusForm.invalid)}}function y_(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function q_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function w_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const vt=()=>({width:"450px"});let Tn=(()=>{class l{constructor(t,o,n){this._HrLetterService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.changeStatusForm=new i.cw({Status:new i.NI(null,i.kI.required)})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="HrLetter",this._HrLetterService.setCulture(t),this._HrLetterService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Prepared"},{id:2,name:"Rejected"},{id:3,name:"Recieved"}]:[{id:0,name:"\u0641\u0649 \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0631\u062f"},{id:1,name:"\u062c\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062a\u0644\u0627\u0645"},{id:2,name:"\u0631\u0641\u0636"},{id:3,name:"\u062a\u0645 \u0627\u0633\u062a\u0644\u0627\u0645\u0647"}]}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}print(t){console.log(t.value)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}changeStatus(t){this._HrLetterService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._HrLetterService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._HrLetterService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s};p.SortType=this.sortOrder;const d=this.mapToFormData(p);this._HrLetterService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1},error:h=>{console.log(h),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const a=this.mapToFormData(n);this._HrLetterService.changeStatus(a).subscribe({next:s=>{s.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._HrLetterService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._HrLetterService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(__),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-hr-letter"]],viewQuery:function(o,n){if(1&o&&e.Gf(h_,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:27,vars:45,consts:[[4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"label","disabled","click"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"options","ngModel","placeholder","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,f_,1,0,"pre-loading",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(3,"translate"),e.YNc(4,Z_,22,23,"ng-template",2),e.qZA(),e.TgZ(5,"p-table",3,4),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(7,"translate"),e.YNc(8,x_,4,3,"ng-template",5)(9,C_,31,27,"ng-template",6)(10,A_,40,46,"ng-template",7),e.qZA(),e.TgZ(11,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(12,"translate"),e.YNc(13,T_,11,13,"ng-template",2),e.qZA(),e.TgZ(14,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(15,"translate"),e.TgZ(16,"div",9),e._UZ(17,"i",10),e.YNc(18,y_,6,4,"span",0),e.qZA(),e.YNc(19,q_,4,6,"ng-template",11),e.qZA(),e.TgZ(20,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(21,"div",9),e._UZ(22,"i",10),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,w_,4,6,"ng-template",11),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Akn(e.DdM(41,vt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(3,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(7,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,vt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(12,35,"Status"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,vt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(15,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,vt)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(25,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,P.N,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt],styles:[".accepted-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.complete-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#ff97e9;border-radius:8px;display:flex;justify-content:center;align-items:center}.change-status-btn[_ngcontent-%COMP%]{width:135px}  .p-dialog{height:300px}  .p-dialog form{height:100%;display:flex;flex-direction:column;justify-content:space-between}  .p-dialog-content{height:100%;display:flex;flex-direction:column;justify-content:space-evenly}"]})}return l})(),N_=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const M_=["dt"];function v_(l,r){1&l&&e._UZ(0,"pre-loading")}function D_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function I_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-fileUpload",19,20),e.NdJ("onSelect",function(n){e.CHM(t);const a=e.MAs(1),s=e.oxw();return e.KtG(s.onFileSelect(n,a))}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA()}2&l&&(e.Q6J("chooseLabel",e.lcZ(2,3,"Import File"))("auto",!0),e.xp6(3),e.Q6J("label",e.lcZ(4,5,"Export")))}function P_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",23)(2,"label",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",25),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",23)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",27),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",23)(14,"label",28),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",29),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",23)(20,"label",30),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",31),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",32),e._UZ(26,"p-checkbox",33),e.TgZ(27,"label",34),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",23)(31,"label",35),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",36),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",23)(37,"label",37),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"input",38),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",23),e._UZ(43,"button",39),e.ALo(44,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,16,"Enter Level")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,18,"Enter level from")),e.xp6(4),e.Oqu(e.lcZ(10,20,"Range From")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,22,"Enter range from")),e.xp6(4),e.Oqu(e.lcZ(16,24,"Range To")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,26,"Enter range to")),e.xp6(4),e.Oqu(e.lcZ(22,28,"Amount Per Month")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,30,"Enter amount per month")),e.xp6(5),e.Oqu(e.lcZ(29,32,"Month For Year")),e.xp6(4),e.Oqu(e.lcZ(33,34,"bouns")),e.xp6(2),e.Q6J("placeholder",e.lcZ(35,36,"Enter bouns")),e.xp6(4),e.Oqu(e.lcZ(39,38,"Unused Vacations")),e.xp6(2),e.Q6J("placeholder",e.lcZ(41,40,"Enter unused vacations")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(44,42,"Insert New"))}}function F_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"h5",41),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",42),e._UZ(5,"i",43),e.TgZ(6,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function L_(l,r){1&l&&(e.TgZ(0,"tr")(1,"th",45),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"th"),e._uU(37),e.ALo(38,"translate"),e.qZA()()),2&l&&(e.xp6(4),e.Oqu(e.lcZ(5,12,"level")),e.xp6(3),e.Oqu(e.lcZ(8,14,"rangeFrom")),e.xp6(3),e.Oqu(e.lcZ(11,16,"rangeTo")),e.xp6(3),e.Oqu(e.lcZ(14,18,"amountPerMonth")),e.xp6(3),e.Oqu(e.lcZ(17,20,"monthForYear")),e.xp6(3),e.Oqu(e.lcZ(20,22,"bouns")),e.xp6(3),e.Oqu(e.lcZ(23,24,"unUsedVacations")),e.xp6(3),e.Oqu(e.lcZ(26,26,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(29,28,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(32,30,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(35,32,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(38,34,"Actions")))}const le=l=>({"null-color":l});function J_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",46),e.qZA(),e.TgZ(3,"td",47)(4,"span",48),e._uU(5,"level"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",47)(8,"span",48),e._uU(9,"rangeFrom"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",47)(12,"span",48),e._uU(13,"rangeTo"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",47)(16,"span",48),e._uU(17,"amountPerMonth"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",47)(20,"span",48),e._uU(21,"monthForYear"),e.qZA(),e.TgZ(22,"p-checkbox",49),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.monthForYear=n)}),e.qZA()(),e.TgZ(23,"td",47)(24,"span",48),e._uU(25,"bouns"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",47)(28,"span",48),e._uU(29,"unUsedVacations"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",47)(32,"span",48),e._uU(33,"creationTime"),e.qZA(),e._uU(34),e.ALo(35,"date"),e.qZA(),e.TgZ(36,"td",47)(37,"span",48),e._uU(38,"lastModificationTime"),e.qZA(),e._uU(39),e.ALo(40,"date"),e.qZA(),e.TgZ(41,"td",47)(42,"span",48),e._uU(43,"creatorName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td",47)(46,"span",48),e._uU(47,"lastModifierName"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td")(50,"div",50)(51,"button",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(52,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(30,le,!t.level)),e.xp6(3),e.hij(" ",t.level?t.level:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,le,!t.rangeFrom)),e.xp6(3),e.hij(" ",t.rangeFrom?t.rangeFrom:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,le,!t.rangeTo)),e.xp6(3),e.hij(" ",t.rangeTo?t.rangeTo:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,le,!t.amountPerMonth)),e.xp6(3),e.hij(" ",t.amountPerMonth?t.amountPerMonth:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,le,!t.monthForYear)),e.xp6(3),e.Q6J("ngModel",t.monthForYear)("disabled",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(40,le,!t.bouns)),e.xp6(3),e.hij(" ",t.bouns?t.bouns:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,le,!t.unUsedVacations)),e.xp6(3),e.hij(" ",t.unUsedVacations?t.unUsedVacations:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,le,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(35,24,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(46,le,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(40,27,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(48,le,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,le,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function U_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Level is required.")))}function S_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Range From must be a non-negative number.")," "))}function k_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Range To must be a non-negative number.")," "))}function O_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Amount Per Month must be a non-negative number.")," "))}function E_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bounsmust be a non-negative number.")," "))}function R_(l,r){1&l&&(e.TgZ(0,"small",65),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Unused Vacations must be a non-negative number.")," "))}const Re=l=>({"ng-invalid ng-dirty":l});function Q_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",22),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.TgZ(1,"div",23)(2,"label",24),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.level=n)}),e.qZA(),e.YNc(6,U_,3,3,"small",54),e.qZA(),e.TgZ(7,"div",23)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.rangeFrom=n)}),e.qZA(),e.YNc(12,S_,3,3,"small",54),e.qZA(),e.TgZ(13,"div",23)(14,"label",28),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.rangeTo=n)}),e.qZA(),e.YNc(18,k_,3,3,"small",54),e.qZA(),e.TgZ(19,"div",23)(20,"label",30),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.amountPerMonth=n)}),e.qZA(),e.YNc(24,O_,3,3,"small",54),e.qZA(),e.TgZ(25,"div",32)(26,"p-checkbox",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.monthForYear=n)}),e.qZA(),e.TgZ(27,"label",59),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",23)(31,"label",35),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.bouns=n)}),e.qZA(),e.YNc(35,E_,3,3,"small",54),e.qZA(),e.TgZ(36,"div",23)(37,"label",37),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.unUsedVacations=n)}),e.qZA(),e.YNc(41,R_,3,3,"small",54),e.qZA(),e.TgZ(42,"div",62)(43,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(44,"translate"),e.qZA(),e._UZ(45,"button",64),e.ALo(46,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,30,"Enter Level")),e.xp6(2),e.Q6J("ngModel",t.product.level)("ngClass",e.VKq(48,Re,t.submitted&&!t.product.level)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.level),e.xp6(3),e.Oqu(e.lcZ(10,32,"Range From")),e.xp6(2),e.Q6J("ngModel",t.product.rangeFrom)("ngClass",e.VKq(50,Re,t.submitted&&(null===t.product.rangeFrom||t.product.rangeFrom<0))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null===t.product.rangeFrom||t.product.rangeFrom<0)),e.xp6(3),e.Oqu(e.lcZ(16,34,"Range To")),e.xp6(2),e.Q6J("ngModel",t.product.rangeTo)("ngClass",e.VKq(52,Re,t.submitted&&(null===t.product.rangeTo||t.product.rangeTo<0))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null===t.product.rangeTo||t.product.rangeTo<0)),e.xp6(3),e.Oqu(e.lcZ(22,36,"Amount Per Month")),e.xp6(2),e.Q6J("ngModel",t.product.amountPerMonth)("ngClass",e.VKq(54,Re,t.submitted&&(null===t.product.amountPerMonth||t.product.amountPerMonth<0))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null===t.product.amountPerMonth||t.product.amountPerMonth<0)),e.xp6(2),e.Q6J("ngModel",t.product.monthForYear),e.xp6(2),e.Oqu(e.lcZ(29,38,"Month For Year")),e.xp6(4),e.Oqu(e.lcZ(33,40,"bouns")),e.xp6(2),e.Q6J("ngModel",t.product.bouns)("ngClass",e.VKq(56,Re,t.submitted&&(null===t.product.bouns||t.product.bouns<0))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null===t.product.bouns||t.product.bouns<0)),e.xp6(3),e.Oqu(e.lcZ(39,42,"Unused Vacations")),e.xp6(2),e.Q6J("ngModel",t.product.unUsedVacations)("ngClass",e.VKq(58,Re,t.submitted&&(null===t.product.unUsedVacations||t.product.unUsedVacations<0))),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null===t.product.unUsedVacations||t.product.unUsedVacations<0)),e.xp6(2),e.Q6J("label",e.lcZ(44,44,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(46,46,"Save"))("disabled",t.editForm.invalid)}}function j_(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function V_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function K_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Dt=()=>({width:"450px"});let G_=(()=>{class l{constructor(t,o,n){this._EndOfServiceService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({level:new i.NI("",i.kI.required),rangeFrom:new i.NI("",[i.kI.required,i.kI.min(0)]),rangeTo:new i.NI("",[i.kI.required,i.kI.min(0)]),amountPerMonth:new i.NI("",[i.kI.required,i.kI.min(0)]),monthForYear:new i.NI(!1),bouns:new i.NI("",[i.kI.required,i.kI.min(0)]),unUsedVacations:new i.NI("",[i.kI.required,i.kI.min(0)])}),this.editForm=new i.cw({id:new i.NI(null),level:new i.NI("",i.kI.required),rangeFrom:new i.NI("",[i.kI.required,i.kI.min(0)]),rangeTo:new i.NI("",[i.kI.required,i.kI.min(0)]),amountPerMonth:new i.NI("",[i.kI.required,i.kI.min(0)]),monthForYear:new i.NI(!1),bouns:new i.NI("",[i.kI.required,i.kI.min(0)]),unUsedVacations:new i.NI("",[i.kI.required,i.kI.min(0)])})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="EndOfService",this._EndOfServiceService.setCulture(t),this._EndOfServiceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._EndOfServiceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,console.clear(),console.log("edit form value"),console.log(this.editForm.value)},error:o=>{console.log(o)}})}confirmDelete(t){this._EndOfServiceService.deleteById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._EndOfServiceService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._EndOfServiceService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._EndOfServiceService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EndOfServiceService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._EndOfServiceService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(N_),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-end-of-service"]],viewQuery:function(o,n){if(1&o&&e.Gf(M_,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"chooseLabel","auto","onSelect"],["fileUploader",""],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["action","",3,"formGroup","ngSubmit"],[1,"field"],["for","level"],["pInputText","","formControlName","level","id","level","type","number",3,"placeholder"],["for","rangeFrom"],["pInputText","","formControlName","rangeFrom","id","rangeFrom","type","number",3,"placeholder"],["for","rangeTo"],["pInputText","","formControlName","rangeTo","id","rangeTo","type","number",3,"placeholder"],["for","amountPerMonth"],["pInputText","","formControlName","amountPerMonth","id","amountPerMonth","type","number",3,"placeholder"],[1,"field","flex","align-items-center","gap-3"],["formControlName","monthForYear","id","monthForYear","binary","true"],["for","monthForYear",1,"m-0","p-0"],["for","bouns"],["pInputText","","formControlName","bouns","id","bouns","type","number",3,"placeholder"],["for","unUsedVacations"],["pInputText","","formControlName","unUsedVacations","id","unUsedVacations","type","number",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["binary","true",3,"ngModel","disabled","ngModelChange"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["type","text","pInputText","","id","level","maxlength","50","formControlName","level","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","number","pInputText","","id","rangeFrom","formControlName","rangeFrom",3,"ngModel","ngClass","ngModelChange"],["type","number","pInputText","","id","rangeTo","formControlName","rangeTo",3,"ngModel","ngClass","ngModelChange"],["type","number","pInputText","","id","amountPerMonth","formControlName","amountPerMonth",3,"ngModel","ngClass","ngModelChange"],["formControlName","monthForYear","id","monthForYear","binary","true",3,"ngModel","ngModelChange"],["for","monthForYear",1,"p-0","m-0"],["type","number","pInputText","","id","bouns","formControlName","bouns",3,"ngModel","ngClass","ngModelChange"],["type","number","pInputText","","id","unUsedVacations","formControlName","unUsedVacations",3,"ngModel","ngClass","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,v_,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,D_,5,7,"ng-template",2)(4,I_,5,7,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,P_,45,44,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,F_,8,7,"ng-template",8)(12,L_,39,36,"ng-template",9)(13,J_,53,52,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,Q_,47,60,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,j_,6,4,"span",0),e.qZA(),e.YNc(22,V_,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,K_,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,Dt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,Dt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,Dt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,Dt)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.UA,g.Mo,F.H,J.p,w.Hq,L.V,N.FN,I.o,it.XZ,U.u],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}return l})(),H_=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Y_=["dt"];function B_(l,r){1&l&&e._UZ(0,"pre-loading")}function z_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",13),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",14)(2,"label",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",16),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",14)(8,"label",17),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",18),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",14)(14,"label",19),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"textarea",20),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",14),e._UZ(20,"button",21),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,11,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,15,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,17,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,19,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(21,21,"Insert New"))}}function $_(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"h5",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",24),e._UZ(5,"i",25),e.TgZ(6,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function W_(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,6,"nameOfJob")),e.xp6(3),e.Oqu(e.lcZ(6,8,"internalJobStatusValue")),e.xp6(3),e.Oqu(e.lcZ(9,10,"internalJobApplicationStateValue")),e.xp6(3),e.Oqu(e.lcZ(12,12,"jobTitle")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"Actions")))}const tn=l=>({"null-color":l}),X_=(l,r)=>({"closed-status":l,"open-status":r}),eh=(l,r,t,o)=>({"applied-status":l,"inConsideration-status":r,"hired-status":t,"notSelected-status":o});function th(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",27)(2,"span",28),e._uU(3,"nameOfJob"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",27)(6,"span",28),e._uU(7,"internalJobStatusValue"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.qZA()(),e.TgZ(10,"td",27)(11,"span",28),e._uU(12,"internalJobApplicationStateValue"),e.qZA(),e.TgZ(13,"span",29),e._uU(14),e.qZA()(),e.TgZ(15,"td",27)(16,"span",28),e._uU(17,"jobTitle"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",27)(20,"span",28),e._uU(21,"creationTime"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td")(25,"div",30)(26,"button",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(27,"button",32),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(14,tn,!t.nameOfJob)),e.xp6(3),e.hij(" ",t.nameOfJob?t.nameOfJob:""," "),e.xp6(1),e.Q6J("ngClass",e.WLB(16,X_,0==(null==t?null:t.status),1==(null==t?null:t.status))),e.xp6(4),e.hij(" ",t.internalJobStatusValue?t.internalJobStatusValue:""," "),e.xp6(1),e.Q6J("ngClass",e.l5B(19,eh,0==(null==t?null:t.applicationState),1==(null==t?null:t.applicationState),2==(null==t?null:t.applicationState),3==(null==t?null:t.applicationState))),e.xp6(4),e.hij(" ",t.internalJobApplicationStateValue?t.internalJobApplicationStateValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,tn,!t.jobTitle)),e.xp6(3),e.hij(" ",t.jobTitle?t.jobTitle:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,tn,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(23,11,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(4),e.Q6J("disabled",0==(null==t?null:t.status))}}function nh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",33),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveStatus(n.changeStatusForm,n.product))}),e.TgZ(1,"div",34)(2,"label",35),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedStatus=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.print(n.changeStatusForm))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",34)(8,"div",37),e._UZ(9,"button",38),e.ALo(10,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.changeStatusForm),e.xp6(3),e.Oqu(e.lcZ(4,7,"All Status")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,9,"Select Status")),e.Q6J("options",t.all_Status_DropDown)("ngModel",t.selectedStatus),e.xp6(4),e.s9C("label",e.lcZ(10,11,"Save")),e.Q6J("disabled",t.changeStatusForm.invalid)}}function oh(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function lh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function ah(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const It=()=>({width:"450px"});let ih=(()=>{class l{constructor(t,o,n){this._ApplyingInternalJobService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.changeStatusForm=new i.cw({Status:new i.NI(null,i.kI.required)})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="ApplyingInternalJob",this._ApplyingInternalJobService.setCulture(t),this._ApplyingInternalJobService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.all_Status_DropDown="en"==t?[{id:0,name:"Applied"},{id:1,name:"InConsideration"},{id:2,name:"Hired"},{id:3,name:"NotSelected"}]:[{id:0,name:"\u062a\u0645 \u0627\u0644\u062a\u0642\u062f\u064a\u0645"},{id:1,name:"\u0641\u064a \u0627\u0644\u0627\u0639\u062a\u0628\u0627\u0631"},{id:2,name:"\u062a\u0645 \u0627\u0644\u062a\u0639\u064a\u064a\u0646"},{id:3,name:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0639\u064a\u064a\u0646"}]}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._ApplyingInternalJobService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._ApplyingInternalJobService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._ApplyingInternalJobService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s};p.SortType=this.sortOrder;const d=this.mapToFormData(p);this._ApplyingInternalJobService.GetPage(d).subscribe({next:h=>{console.log(h),this.allData=h.data,console.log(h.data),this.totalItems=h.totalItems,this.loading=!1},error:h=>{console.log(h),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const a=this.mapToFormData(n);this._ApplyingInternalJobService.changeStatus(a).subscribe({next:s=>{s.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.changeStatusForm.reset()):(this.showFormNew=!0,this.changeStatusForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._ApplyingInternalJobService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._ApplyingInternalJobService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(H_),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-applying-internal-job"]],viewQuery:function(o,n){if(1&o&&e.Gf(Y_,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:27,vars:45,consts:[[4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[3,"ngClass"],[1,"p-column-title"],[1,"text"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"options","ngModel","placeholder","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,B_,1,0,"pre-loading",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(3,"translate"),e.YNc(4,z_,22,23,"ng-template",2),e.qZA(),e.TgZ(5,"p-table",3,4),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(7,"translate"),e.YNc(8,$_,8,7,"ng-template",5)(9,W_,19,18,"ng-template",6)(10,th,28,28,"ng-template",7),e.qZA(),e.TgZ(11,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(12,"translate"),e.YNc(13,nh,11,13,"ng-template",2),e.qZA(),e.TgZ(14,"p-dialog",8),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(15,"translate"),e.TgZ(16,"div",9),e._UZ(17,"i",10),e.YNc(18,oh,6,4,"span",0),e.qZA(),e.YNc(19,lh,4,6,"ng-template",11),e.qZA(),e.TgZ(20,"p-dialog",12),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(21,"div",9),e._UZ(22,"i",10),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,ah,4,6,"ng-template",11),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Akn(e.DdM(41,It)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(3,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(7,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,It)),e.Q6J("visible",n.productDialog)("header",e.lcZ(12,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,It)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(15,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,It)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(25,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,g.iA,u.jx,F.H,w.Hq,L.V,N.FN,I.o,E.g,O.Lt],styles:[".applied-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.inConsideration-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.hired-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background-color:#f5d2f4;display:flex;justify-content:center;align-items:center}.notSelected-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%], .closed-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background-color:#f8d7da;display:flex;justify-content:center;align-items:center}.open-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.change-status-btn[_ngcontent-%COMP%]{width:135px}  .p-dialog{height:300px}  .p-dialog form{height:100%;display:flex;flex-direction:column;justify-content:space-between}  .p-dialog-content{height:100%;display:flex;flex-direction:column;justify-content:space-evenly}"]})}return l})(),sh=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const rh=["dt"];function ch(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function ph(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function dh(l,r){1&l&&(e.TgZ(0,"h2",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Salary Report")," "))}function uh(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"th"),e._uU(62),e.ALo(63,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,21,"Name")," "),e.xp6(3),e.Oqu(e.lcZ(6,23,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(9,25,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(12,27,"Year")),e.xp6(3),e.Oqu(e.lcZ(15,29,"basicSalry")),e.xp6(3),e.Oqu(e.lcZ(18,31,"changing")),e.xp6(3),e.Oqu(e.lcZ(21,33,"badal")),e.xp6(3),e.Oqu(e.lcZ(24,35,"hawafez")),e.xp6(3),e.Oqu(e.lcZ(27,37,"kpi")),e.xp6(3),e.Oqu(e.lcZ(30,39,"penaltiesAndDeduction")),e.xp6(3),e.Oqu(e.lcZ(33,41,"bonus")),e.xp6(3),e.Oqu(e.lcZ(36,43,"daysOfAbsence")),e.xp6(3),e.Oqu(e.lcZ(39,45,"daysOfAbsenceValue")),e.xp6(3),e.Oqu(e.lcZ(42,47,"daysOfDelay")),e.xp6(3),e.Oqu(e.lcZ(45,49,"daysOfDelayValue")),e.xp6(3),e.Oqu(e.lcZ(48,51,"fingerPrintForgetting")),e.xp6(3),e.Oqu(e.lcZ(51,53,"fingerPrintForgettingValue")),e.xp6(3),e.Oqu(e.lcZ(54,55,"overTimeValue")),e.xp6(3),e.Oqu(e.lcZ(57,57,"initialpayment")),e.xp6(3),e.Oqu(e.lcZ(60,59,"insuranceAmount")),e.xp6(3),e.Oqu(e.lcZ(63,61,"totalMonthlyAllowance")))}const S=l=>({"null-color":l});function mh(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",38),e._uU(8),e.qZA(),e.TgZ(9,"td",38),e._uU(10),e.qZA(),e.TgZ(11,"td",38),e._uU(12),e.qZA(),e.TgZ(13,"td",38),e._uU(14),e.qZA(),e.TgZ(15,"td",38),e._uU(16),e.qZA(),e.TgZ(17,"td",38),e._uU(18),e.qZA(),e.TgZ(19,"td",38),e._uU(20),e.qZA(),e.TgZ(21,"td",38),e._uU(22),e.qZA(),e.TgZ(23,"td",38),e._uU(24),e.qZA(),e.TgZ(25,"td",38),e._uU(26),e.qZA(),e.TgZ(27,"td",38),e._uU(28),e.qZA(),e.TgZ(29,"td",38),e._uU(30),e.qZA(),e.TgZ(31,"td",38),e._uU(32),e.qZA(),e.TgZ(33,"td",38),e._uU(34),e.qZA(),e.TgZ(35,"td",38),e._uU(36),e.qZA(),e.TgZ(37,"td",38),e._uU(38),e.qZA(),e.TgZ(39,"td",38),e._uU(40),e.qZA(),e.TgZ(41,"td",38),e._uU(42),e.qZA()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(42,S,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,S,!t.departmentName)),e.xp6(1),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,S,!t.month)),e.xp6(1),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,S,!t.year)),e.xp6(1),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,S,!t.basicSalry)),e.xp6(1),e.hij(" ",t.basicSalry?t.basicSalry:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(52,S,!t.changing)),e.xp6(1),e.hij(" ",t.changing?t.changing:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(54,S,!t.badal)),e.xp6(1),e.hij(" ",t.badal?t.badal:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(56,S,!t.hawafez)),e.xp6(1),e.hij(" ",t.hawafez?t.hawafez:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(58,S,!t.kpi)),e.xp6(1),e.hij(" ",t.kpi?t.kpi:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(60,S,!t.penaltiesAndDeduction)),e.xp6(1),e.hij(" ",t.penaltiesAndDeduction?t.penaltiesAndDeduction:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(62,S,!t.bonus)),e.xp6(1),e.hij(" ",t.bonus?t.bonus:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(64,S,!t.daysOfAbsence)),e.xp6(1),e.hij(" ",t.daysOfAbsence?t.daysOfAbsence:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(66,S,!t.daysOfAbsenceValue)),e.xp6(1),e.hij(" ",t.daysOfAbsenceValue?t.daysOfAbsenceValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(68,S,!t.daysOfDelay)),e.xp6(1),e.hij(" ",t.daysOfDelay?t.daysOfDelay:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(70,S,!t.daysOfDelayValue)),e.xp6(1),e.hij(" ",t.daysOfDelayValue?t.daysOfDelayValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(72,S,!t.fingerPrintForgetting)),e.xp6(1),e.hij(" ",t.fingerPrintForgetting?t.fingerPrintForgetting:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(74,S,!t.fingerPrintForgettingValue)),e.xp6(1),e.hij(" ",t.fingerPrintForgettingValue?t.fingerPrintForgettingValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(76,S,!t.overTimeValue)),e.xp6(1),e.hij(" ",t.overTimeValue?t.overTimeValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(78,S,!t.initialpayment)),e.xp6(1),e.hij(" ",t.initialpayment?t.initialpayment:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(80,S,!t.insuranceAmount)),e.xp6(1),e.hij(" ",t.insuranceAmount?t.insuranceAmount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(82,S,!t.totalMonthlyAllowance)),e.xp6(1),e.hij(" ",t.totalMonthlyAllowance?t.totalMonthlyAllowance:""," ")}}function gh(l,r){if(1&l&&(e.TgZ(0,"p-table",32,33),e.YNc(2,dh,3,3,"ng-template",34)(3,uh,64,63,"ng-template",35)(4,mh,43,84,"ng-template",36),e.qZA()),2&l){const t=e.oxw();e.Q6J("value",t.allDataWithoutPagination)}}function _h(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportAllCSV())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div")(8,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.printTable())}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"span",45),e._UZ(11,"i",46),e.TgZ(12,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadFilteredData())}),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("label",e.lcZ(6,8,"Export All")),e.xp6(3),e.Q6J("label",e.lcZ(9,10,"Print All")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(13,12,"Search..."))}}function hh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",48),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",49),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",50),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",51),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"th"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"th"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"th"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"th"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"th"),e._uU(65),e.ALo(66,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,21,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,23,"Department Name")),e.xp6(3),e.hij(" ",e.lcZ(12,25,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(15,27,"Year")),e.xp6(3),e.Oqu(e.lcZ(18,29,"basicSalry")),e.xp6(3),e.Oqu(e.lcZ(21,31,"changing")),e.xp6(3),e.Oqu(e.lcZ(24,33,"badal")),e.xp6(3),e.Oqu(e.lcZ(27,35,"hawafez")),e.xp6(3),e.Oqu(e.lcZ(30,37,"kpi")),e.xp6(3),e.Oqu(e.lcZ(33,39,"penaltiesAndDeduction")),e.xp6(3),e.Oqu(e.lcZ(36,41,"bonus")),e.xp6(3),e.Oqu(e.lcZ(39,43,"daysOfAbsence")),e.xp6(3),e.Oqu(e.lcZ(42,45,"daysOfAbsenceValue")),e.xp6(3),e.Oqu(e.lcZ(45,47,"daysOfDelay")),e.xp6(3),e.Oqu(e.lcZ(48,49,"daysOfDelayValue")),e.xp6(3),e.Oqu(e.lcZ(51,51,"fingerPrintForgetting")),e.xp6(3),e.Oqu(e.lcZ(54,53,"fingerPrintForgettingValue")),e.xp6(3),e.Oqu(e.lcZ(57,55,"overTimeValue")),e.xp6(3),e.Oqu(e.lcZ(60,57,"initialpayment")),e.xp6(3),e.Oqu(e.lcZ(63,59,"insuranceAmount")),e.xp6(3),e.Oqu(e.lcZ(66,61,"totalMonthlyAllowance")))}function fh(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",52),e.qZA(),e.TgZ(3,"td",38)(4,"span",53),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",53),e._uU(9,"departmentName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38)(12,"span",53),e._uU(13,"month"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",38),e._uU(16),e.qZA(),e.TgZ(17,"td",38),e._uU(18),e.qZA(),e.TgZ(19,"td",38),e._uU(20),e.qZA(),e.TgZ(21,"td",38),e._uU(22),e.qZA(),e.TgZ(23,"td",38),e._uU(24),e.qZA(),e.TgZ(25,"td",38),e._uU(26),e.qZA(),e.TgZ(27,"td",38),e._uU(28),e.qZA(),e.TgZ(29,"td",38),e._uU(30),e.qZA(),e.TgZ(31,"td",38),e._uU(32),e.qZA(),e.TgZ(33,"td",38),e._uU(34),e.qZA(),e.TgZ(35,"td",38),e._uU(36),e.qZA(),e.TgZ(37,"td",38),e._uU(38),e.qZA(),e.TgZ(39,"td",38),e._uU(40),e.qZA(),e.TgZ(41,"td",38),e._uU(42),e.qZA(),e.TgZ(43,"td",38),e._uU(44),e.qZA(),e.TgZ(45,"td",38),e._uU(46),e.qZA(),e.TgZ(47,"td",38),e._uU(48),e.qZA(),e.TgZ(49,"td",38),e._uU(50),e.qZA()()),2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(43,S,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,S,!t.departmentName)),e.xp6(3),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,S,!t.month)),e.xp6(3),e.hij(" ",t.month?t.month:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,S,!t.year)),e.xp6(1),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,S,!t.basicSalry)),e.xp6(1),e.hij(" ",t.basicSalry?t.basicSalry:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,S,!t.changing)),e.xp6(1),e.hij(" ",t.changing?t.changing:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,S,!t.badal)),e.xp6(1),e.hij(" ",t.badal?t.badal:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,S,!t.hawafez)),e.xp6(1),e.hij(" ",t.hawafez?t.hawafez:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(59,S,!t.kpi)),e.xp6(1),e.hij(" ",t.kpi?t.kpi:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(61,S,!t.penaltiesAndDeduction)),e.xp6(1),e.hij(" ",t.penaltiesAndDeduction?t.penaltiesAndDeduction:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(63,S,!t.bonus)),e.xp6(1),e.hij(" ",t.bonus?t.bonus:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(65,S,!t.daysOfAbsence)),e.xp6(1),e.hij(" ",t.daysOfAbsence?t.daysOfAbsence:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(67,S,!t.daysOfAbsenceValue)),e.xp6(1),e.hij(" ",t.daysOfAbsenceValue?t.daysOfAbsenceValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(69,S,!t.daysOfDelay)),e.xp6(1),e.hij(" ",t.daysOfDelay?t.daysOfDelay:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(71,S,!t.daysOfDelayValue)),e.xp6(1),e.hij(" ",t.daysOfDelayValue?t.daysOfDelayValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(73,S,!t.fingerPrintForgetting)),e.xp6(1),e.hij(" ",t.fingerPrintForgetting?t.fingerPrintForgetting:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(75,S,!t.fingerPrintForgettingValue)),e.xp6(1),e.hij(" ",t.fingerPrintForgettingValue?t.fingerPrintForgettingValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(77,S,!t.overTimeValue)),e.xp6(1),e.hij(" ",t.overTimeValue?t.overTimeValue:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(79,S,!t.initialpayment)),e.xp6(1),e.hij(" ",t.initialpayment?t.initialpayment:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(81,S,!t.insuranceAmount)),e.xp6(1),e.hij(" ",t.insuranceAmount?t.insuranceAmount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(83,S,!t.totalMonthlyAllowance)),e.xp6(1),e.hij(" ",t.totalMonthlyAllowance?t.totalMonthlyAllowance:""," ")}}function Zh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-table",39,33),e.NdJ("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=n)})("onLazyLoad",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.ALo(2,"translate"),e.YNc(3,_h,14,14,"ng-template",34)(4,hh,67,63,"ng-template",35)(5,fh,51,85,"ng-template",36),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems)("selection",t.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function xh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",54),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",55),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",57),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",59),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",61),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",63),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",65)(32,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",67),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function Ch(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function bh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Ah(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const nn=()=>({width:"450px"});let Th=(()=>{class l{constructor(t,o,n){this.monthlyAbsenceReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required])}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Salary",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyAbsenceReportService.setCulture(t),this.monthlyAbsenceReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.month&&this.year&&this.loadFilteredData()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"basicSalary",header:"basicSalry"},{field:"changing",header:"changing"},{field:"badal",header:"badal"},{field:"hawafez",header:"hawafez"},{field:"kpi",header:"kpi"},{field:"penaltiesAndDeduction",header:"penaltiesAndDeduction"},{field:"bonus",header:"bonus"},{field:"daysOfAbsence",header:"daysOfAbsence"},{field:"daysOfAbsenceValue",header:"daysOfAbsenceValue"},{field:"daysOfDelay",header:"daysOfDelay"},{field:"daysOfDelayValue",header:"daysOfDelayValue"},{field:"fingerPrintForgetting",header:"fingerPrintForgetting"},{field:"fingerPrintForgettingValue",header:"fingerPrintForgettingValue"},{field:"overTimeValue",header:"overTimeValue"},{field:"initialPayment",header:"initialpayment"},{field:"insuranceAmount",header:"insuranceAmount"},{field:"totalMonthlyAllowance",header:"totalMonthlyAllowance"}],this.selectedYear=null}editProduct(t){this.monthlyAbsenceReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyAbsenceReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyAbsenceReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s,p,d,h,Q){let V={PageNumber:t,PageSize:o,FilterValue:n,FilterType:a,SortType:s,EmployeeId:p,DepartmentId:d,Month:h,Year:Q};V.SortType=this.sortOrder;const H=this.mapToFormData(V);console.log("FilteredData"),console.log(V),this.monthlyAbsenceReportService.GetPage(H).subscribe({next:Qe=>{console.log(Qe),this.allData=Qe.data,console.log(Qe.data),this.totalItems=Qe.totalItems,this.loading=!1,console.log(this.selectedItems)}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let s={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(s),this.monthlyAbsenceReportService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p),this.totalItems=p.totalItems,console.log(p.data.length)},error:p=>{console.log(p)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyAbsenceReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=this.endPoint+"_"+(new Date).getTime()+".csv",s.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=this.endPoint+"_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(p=>`"${p.header}"`).join(","),a=this.cols.map(p=>p.field),s=t.map(p=>a.map(d=>"absentDates"===d&&Array.isArray(p[d])?`"${p[d].map(h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${p[d]||""}"`).join(","));return s.unshift(n),s.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyAbsenceReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyAbsenceReportService.GetPage(n).subscribe({next:a=>{console.log(a),this.showTable=!0,this.allData=a.data,console.log(a.data),this.totalItems=a.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(a.data.length),console.log(this.totalItems)},error:a=>{console.log(a)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyAbsenceReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyAbsenceReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyAbsenceReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n            <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                <head>\n                    <title>${this.translate.instant("report")}</title>\n                    <style>\n                        body {\n                            font-family: Arial, sans-serif;\n                            margin: 20px;\n                        }\n                        table {\n                            border-collapse: collapse;\n                            width: 100%;\n                        }\n                        th, td {\n                            border: 1px solid #ddd;\n                            padding: 8px;\n                            text-align: center;\n                            max-width: fit-content\n                        }\n                        th {\n                            background-color: #f4f4f4;\n                        }\n                        h2 {\n                            text-align: center;\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                </body>\n            </html>\n        `),o.document.close(),o.print())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(sh),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-salary-report"]],viewQuery:function(o,n){if(1&o&&e.Gf(rh,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:66,vars:74,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month",1,"label-field"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["tooltipContent",""],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",13),e._uU(25,"*"),e.qZA(),e.YNc(26,ch,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(28,"p-dropdown",15),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9)(31,"label",16),e._uU(32),e.ALo(33,"translate"),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA(),e.YNc(36,ph,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(38,"input",17),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",18)(41,"div",19)(42,"button",20),e._UZ(43,"i",21),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()()()()(),e.YNc(47,gh,5,1,"p-table",22)(48,Zh,6,11,"p-table",23),e.TgZ(49,"p-dialog",24),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(50,"translate"),e.YNc(51,xh,36,47,"ng-template",25),e.qZA(),e.TgZ(52,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(53,"translate"),e.TgZ(54,"div",27),e._UZ(55,"i",28),e.YNc(56,Ch,6,4,"span",29),e.qZA(),e.YNc(57,bh,4,6,"ng-template",30),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(59,"translate"),e.TgZ(60,"div",27),e._UZ(61,"i",28),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,Ah,4,6,"ng-template",30),e.qZA()),2&o){const a=e.MAs(27);e.xp6(1),e.Q6J("header",e.lcZ(2,43,"Filter"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,45,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,47,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,49,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,51,"Select a Department")),e.xp6(4),e.hij("",e.lcZ(23,53,"Month")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(29,55,"Select a Month")),e.xp6(4),e.hij("",e.lcZ(33,57,"Year")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("placeholder",e.lcZ(39,59,"Enter Year Here")),e.xp6(4),e.Q6J("disabled",n.filterForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(46,61,"Filter")," "),e.xp6(2),e.Q6J("ngIf",n.allDataWithoutPagination.length),e.xp6(1),e.Q6J("ngIf",n.showTable),e.xp6(1),e.Akn(e.DdM(71,nn)),e.Q6J("visible",n.productDialog)("header",e.lcZ(50,63,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(72,nn)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(53,65,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(73,nn)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(59,67,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(64,69,"Are you sure you want to delete selected products?"))}},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return l})(),yh=(()=>{class l extends v.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const qh=["dt"];function wh(l,r){1&l&&e._UZ(0,"pre-loading")}function Nh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Mh(l,r){1&l&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Employee is Required")," "))}function vh(l,r){1&l&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"endOFServiceReasonRequired")," "))}function Dh(l,r){1&l&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"endOfServiceDateRequired")," "))}function Ih(l,r){1&l&&(e.TgZ(0,"div",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lastWorkingDateRequired")," "))}function Ph(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",17),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",18)(2,"label",19),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"p-dropdown",20),e.ALo(6,"translate"),e.YNc(7,Mh,3,3,"div",21),e.qZA(),e.TgZ(8,"div",18)(9,"label",22),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",23),e.YNc(13,vh,3,3,"div",21),e.qZA(),e.TgZ(14,"div",18)(15,"label",24),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-calendar",25),e.YNc(19,Dh,3,3,"div",21),e.qZA(),e.TgZ(20,"div",18)(21,"label",26),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",27),e.YNc(25,Ih,3,3,"div",21),e.qZA(),e.TgZ(26,"div",18),e._UZ(27,"button",28),e.ALo(28,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,17,"Employee Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(6,19,"Select Employee")),e.Q6J("options",t.dropdownItemsEmployee)("filter",!0)("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.addNewForm.get("employeeId").invalid&&t.addNewForm.get("employeeId").touched),e.xp6(3),e.Oqu(e.lcZ(11,21,"endOFServiceReason")),e.xp6(3),e.Q6J("ngIf",t.addNewForm.get("endOFServiceReason").invalid&&t.addNewForm.get("endOFServiceReason").touched),e.xp6(3),e.Oqu(e.lcZ(17,23,"endOfServiceDate")),e.xp6(2),e.Q6J("showIcon",!0),e.xp6(1),e.Q6J("ngIf",t.addNewForm.get("endOfServiceDate").invalid&&t.addNewForm.get("endOfServiceDate").touched),e.xp6(3),e.Oqu(e.lcZ(23,25,"lastWorkingDate")),e.xp6(2),e.Q6J("showIcon",!0),e.xp6(1),e.Q6J("ngIf",t.addNewForm.get("lastWorkingDate").invalid&&t.addNewForm.get("lastWorkingDate").touched),e.xp6(2),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(28,27,"Insert New"))}}function Fh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Lh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(2),e.ALo(3,"translate"),e._UZ(4,"p-sortIcon",36),e.qZA(),e.TgZ(5,"th"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA()()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,8,"employeeName")," "),e.xp6(4),e.hij(" ",e.lcZ(7,10,"endOFServiceReason")," "),e.xp6(3),e.hij(" ",e.lcZ(10,12,"endOfServiceDate")," "),e.xp6(3),e.hij(" ",e.lcZ(13,14,"lastWorkingDate")," "),e.xp6(3),e.hij(" ",e.lcZ(16,16,"Status")," "),e.xp6(3),e.hij(" ",e.lcZ(19,18,"yearsOfService")," "),e.xp6(3),e.hij(" ",e.lcZ(22,20,"finalSalaryEntitlement")," "),e.xp6(3),e.hij(" ",e.lcZ(25,22,"compensation")," "))}const Ae=l=>({"null-color":l});function Jh(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",37)(2,"span",38),e._uU(3,"employeeName"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",37)(6,"span",38),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"td",37)(11,"span",38),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",37)(17,"span",38),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td",37)(23,"span",38),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",37)(28,"span",38),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._uU(31),e.qZA(),e.TgZ(32,"td",37)(33,"span",38),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",37)(38,"span",38),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._uU(41),e.qZA()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(41,Ae,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,Ae,!t.endOFServiceReason)),e.xp6(2),e.Oqu(e.lcZ(8,23,"endOFServiceReason")),e.xp6(2),e.hij(" ",t.endOFServiceReason?t.endOFServiceReason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,Ae,!t.endOfServiceDate)),e.xp6(2),e.Oqu(e.lcZ(13,25,"endOfServiceDate")),e.xp6(2),e.hij(" ",t.endOfServiceDate?e.lcZ(15,27,t.endOfServiceDate):""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(47,Ae,!t.lastWorkingDate)),e.xp6(2),e.Oqu(e.lcZ(19,29,"lastWorkingDate")),e.xp6(2),e.hij(" ",t.lastWorkingDate?e.lcZ(21,31,t.lastWorkingDate):""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(49,Ae,null===t.status)),e.xp6(2),e.Oqu(e.lcZ(25,33,"Status")),e.xp6(2),e.hij(" ",null!==t.status?t.status:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,Ae,!t.yearsOfService)),e.xp6(2),e.Oqu(e.lcZ(30,35,"yearsOfService")),e.xp6(2),e.hij(" ",t.yearsOfService?t.yearsOfService:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,Ae,!t.finalSalaryEntitlement)),e.xp6(2),e.Oqu(e.lcZ(35,37,"finalSalaryEntitlement")),e.xp6(2),e.hij(" ",t.finalSalaryEntitlement?t.finalSalaryEntitlement:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,Ae,!t.compensation)),e.xp6(2),e.Oqu(e.lcZ(40,39,"compensation")),e.xp6(2),e.hij(" ",t.compensation?t.compensation:""," ")}}function Uh(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Sh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function kh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const on=()=>({width:"450px"});let Oh=(()=>{class l{constructor(t,o,n,a){this._EndOfServiceRequest=t,this.messageService=o,this.translate=n,this._DatePipe=a,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({employeeId:new i.NI(null,i.kI.required),endOFServiceReason:new i.NI("",i.kI.required),endOfServiceDate:new i.NI("",i.kI.required),lastWorkingDate:new i.NI("",i.kI.required)})}ngOnInit(){this.endPoint="EndOfServiceRequest",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EndOfServiceRequest.setCulture(t),this._EndOfServiceRequest.setEndPoint(this.endPoint),this.getDropDownEmployee(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDownEmployee(){this._EndOfServiceRequest.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._EndOfServiceRequest.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._EndOfServiceRequest.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}convertDate(t,o){return this._DatePipe.transform(t,o)}addNew(t){console.log(t);let o={...t.value,endOfServiceDate:this.convertDate(t.get("endOfServiceDate").value,"yyyy-MM-ddTHH:mm:ss"),lastWorkingDate:this.convertDate(t.get("lastWorkingDate").value,"yyyy-MM-ddTHH:mm:ss")};this._EndOfServiceRequest.Register(o).subscribe({next:n=>{n.success&&(console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._EndOfServiceRequest.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._EndOfServiceRequest.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EndOfServiceRequest.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._EndOfServiceRequest.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(yh),e.Y36(u.ez),e.Y36(f.sK),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-end-of-service-request"]],viewQuery:function(o,n){if(1&o&&e.Gf(qh,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:26,vars:37,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],[3,"formGroup","ngSubmit"],[1,"field"],["for","employeeId"],["id","employeeId","formControlName","employeeId","optionLabel","name","optionValue","id","filterBy","employeeName",3,"options","placeholder","filter","showClear"],["class","error",4,"ngIf"],["for","endOFServiceReason"],["id","endOFServiceReason","type","text","pInputText","","formControlName","endOFServiceReason"],["for","endOfServiceDate"],["id","endOfServiceDate","formControlName","endOfServiceDate",3,"showIcon"],["for","lastWorkingDate"],["id","lastWorkingDate","formControlName","lastWorkingDate",3,"showIcon"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"error"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"ngClass"],[1,"p-column-title"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,wh,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,Nh,3,3,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(5,"translate"),e.YNc(6,Ph,29,29,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(9,"translate"),e.YNc(10,Fh,8,7,"ng-template",7)(11,Lh,26,24,"ng-template",8)(12,Jh,42,57,"ng-template",9),e.qZA(),e.TgZ(13,"p-dialog",10),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(14,"translate"),e.TgZ(15,"div",11),e._UZ(16,"i",12),e.YNc(17,Uh,6,4,"span",0),e.qZA(),e.YNc(18,Sh,4,6,"ng-template",13),e.qZA(),e.TgZ(19,"p-dialog",14),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(20,"div",11),e._UZ(21,"i",12),e.TgZ(22,"span"),e._uU(23),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,kh,4,6,"ng-template",13),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Akn(e.DdM(34,on)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,26,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(9,28,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(35,on)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(14,30,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(36,on)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(24,32,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,Y.f],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}  .error{color:red!important}"]})}return l})(),Eh=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyPayrollSummaryReport/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Rh=["dt"];function Qh(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function jh(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function Vh(l,r){1&l&&(e.TgZ(0,"h2",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MonthlyPayrollSummaryReport")," "))}function Kh(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,7,"Name")," "),e.xp6(3),e.Oqu(e.lcZ(6,9,"Department Name")),e.xp6(3),e.Oqu(e.lcZ(9,11,"Designation")),e.xp6(3),e.Oqu(e.lcZ(12,13,"grossSalary")),e.xp6(3),e.Oqu(e.lcZ(15,15,"totalDeductions")),e.xp6(3),e.Oqu(e.lcZ(18,17,"netSalary")),e.xp6(3),e.Oqu(e.lcZ(21,19,"paymentDate")))}const z=l=>({"null-color":l});function Gh(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",38),e._uU(9),e.qZA(),e.TgZ(10,"td",38),e._uU(11),e.qZA(),e.TgZ(12,"td",38),e._uU(13),e.qZA(),e.TgZ(14,"td",38),e._uU(15),e.ALo(16,"date"),e.qZA()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(20,z,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,z,!t.departmentName)),e.xp6(1),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,z,!t.designation)),e.xp6(1),e.hij(" ",e.xi3(7,14,t.designation,"yyyy/MM/dd - HH:mm:ss a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,z,!t.grossSalary)),e.xp6(1),e.hij(" ",t.grossSalary," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,z,!t.totalDeductions)),e.xp6(1),e.hij(" ",t.totalDeductions," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,z,!t.netSalary)),e.xp6(1),e.hij(" ",t.netSalary," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,z,!t.paymentDate)),e.xp6(1),e.hij(" ",e.xi3(16,17,t.paymentDate,"yyyy/MM/dd - HH:mm:ss a")," ")}}function Hh(l,r){if(1&l&&(e.TgZ(0,"p-table",32,33),e.YNc(2,Vh,3,3,"ng-template",34)(3,Kh,22,21,"ng-template",35)(4,Gh,17,34,"ng-template",36),e.qZA()),2&l){const t=e.oxw();e.Q6J("value",t.allDataWithoutPagination)}}function Yh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportAllCSV())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div")(8,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.printTable())}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"span",45),e._UZ(11,"i",46),e.TgZ(12,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadFilteredData())}),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("label",e.lcZ(6,8,"Export All")),e.xp6(3),e.Q6J("label",e.lcZ(9,10,"Print All")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(13,12,"Search..."))}}function Bh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",48),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",49),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",50),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,7,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,9,"Department")),e.xp6(3),e.hij(" ",e.lcZ(12,11,"Designation")," "),e.xp6(3),e.hij(" ",e.lcZ(15,13,"grossSalary")," "),e.xp6(3),e.hij(" ",e.lcZ(18,15,"totalDeductions")," "),e.xp6(3),e.hij(" ",e.lcZ(21,17,"netSalary")," "),e.xp6(3),e.hij(" ",e.lcZ(24,19,"paymentDate")," "))}function zh(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",51),e.qZA(),e.TgZ(3,"td",38)(4,"span",52),e._uU(5,"employeeName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",52),e._uU(9,"departmentName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td",38),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.qZA(),e.TgZ(18,"td",38),e._uU(19),e.qZA(),e.TgZ(20,"td",38),e._uU(21),e.ALo(22,"date"),e.qZA()()),2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(21,z,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,z,!t.departmentName)),e.xp6(3),e.hij(" ",t.departmentName?t.departmentName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,z,!t.designation)),e.xp6(1),e.hij(" ",e.xi3(13,15,t.designation,"yyyy/MM/dd - HH:mm:ss a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,z,!t.grossSalary)),e.xp6(1),e.hij(" ",t.grossSalary," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,z,!t.totalDeductions)),e.xp6(1),e.hij(" ",t.totalDeductions," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,z,!t.netSalary)),e.xp6(1),e.hij(" ",t.netSalary," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,z,!t.paymentDate)),e.xp6(1),e.hij(" ",e.xi3(22,18,t.paymentDate,"yyyy/MM/dd - HH:mm:ss a")," ")}}function $h(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-table",39,33),e.NdJ("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=n)})("onLazyLoad",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.ALo(2,"translate"),e.YNc(3,Yh,14,14,"ng-template",34)(4,Bh,25,21,"ng-template",35)(5,zh,23,35,"ng-template",36),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems)("selection",t.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function Wh(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",53),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",54),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",55),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",56),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",58),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",60),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",62),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",64)(32,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",66),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function Xh(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function e1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function t1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const ln=()=>({width:"450px"});let n1=(()=>{class l{constructor(t,o,n){this._MonthlyPayrollSummaryReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required])}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Salary",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._MonthlyPayrollSummaryReportService.setCulture(t),this._MonthlyPayrollSummaryReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"designation",header:"Designation"},{field:"grossSalary",header:"Gross Salary"},{field:"totalDeductions",header:"Total Deductions"},{field:"netSalary",header:"Net Salary"},{field:"paymentDate",header:"Payment Date"}],this.selectedYear=null}editProduct(t){this._MonthlyPayrollSummaryReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._MonthlyPayrollSummaryReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this._MonthlyPayrollSummaryReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s,p,d,h,Q){let V={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,employeeId:p,departmentId:d,month:h,year:Q};V.sortType=this.sortOrder,console.log("FilteredData"),console.log(V),this._MonthlyPayrollSummaryReportService.GetPage(V).subscribe({next:H=>{console.log(H),this.allData=H.data,console.log(H.data),this.totalItems=H.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let s={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(s),this._MonthlyPayrollSummaryReportService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p),this.totalItems=p.totalItems,console.log(p.data.length)},error:p=>{console.log(p)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this._MonthlyPayrollSummaryReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(p=>`"${p.header}"`).join(","),a=this.cols.map(p=>p.field),s=t.map(p=>a.map(d=>"absentDates"===d&&Array.isArray(p[d])?`"${p[d].map(h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${p[d]||""}"`).join(","));return s.unshift(n),s.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._MonthlyPayrollSummaryReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this._MonthlyPayrollSummaryReportService.GetPage(n).subscribe({next:a=>{console.log(a),this.showTable=!0,this.allData=a.data,console.log(a.data),this.totalItems=a.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(a.data.length),console.log(this.totalItems)},error:a=>{console.log(a)}}),this.getAllData(t.value))}getDropDowns(){this._MonthlyPayrollSummaryReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this._MonthlyPayrollSummaryReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          h2 {\n                              text-align: center;\n                          }\n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Eh),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-monthly-payroll-summary-report"]],viewQuery:function(o,n){if(1&o&&e.Gf(Rh,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,f.sK,m.uU]),e.jDz],decls:66,vars:74,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["tooltipContent",""],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"value"],[1,"p-column-title"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",13),e._uU(25,"*"),e.qZA(),e.YNc(26,Qh,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(28,"p-dropdown",15),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9)(31,"label",16),e._uU(32),e.ALo(33,"translate"),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA(),e.YNc(36,jh,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(38,"input",17),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",18)(41,"div",19)(42,"button",20),e._UZ(43,"i",21),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()()()()(),e.YNc(47,Hh,5,1,"p-table",22)(48,$h,6,11,"p-table",23),e.TgZ(49,"p-dialog",24),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(50,"translate"),e.YNc(51,Wh,36,47,"ng-template",25),e.qZA(),e.TgZ(52,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(53,"translate"),e.TgZ(54,"div",27),e._UZ(55,"i",28),e.YNc(56,Xh,6,4,"span",29),e.qZA(),e.YNc(57,e1,4,6,"ng-template",30),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(59,"translate"),e.TgZ(60,"div",27),e._UZ(61,"i",28),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,t1,4,6,"ng-template",30),e.qZA()),2&o){const a=e.MAs(27);e.xp6(1),e.Q6J("header",e.lcZ(2,43,"Filter"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,45,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,47,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(17,49,"Department")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,51,"Select a Department")),e.xp6(4),e.hij("",e.lcZ(23,53,"Month")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(29,55,"Select a Month")),e.xp6(4),e.hij("",e.lcZ(33,57,"Year")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("placeholder",e.lcZ(39,59,"Enter Year Here")),e.xp6(4),e.Q6J("disabled",n.filterForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(46,61,"Filter")," "),e.xp6(2),e.Q6J("ngIf",n.allDataWithoutPagination.length),e.xp6(1),e.Q6J("ngIf",n.showTable),e.xp6(1),e.Akn(e.DdM(71,ln)),e.Q6J("visible",n.productDialog)("header",e.lcZ(50,63,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(72,ln)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(53,65,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(73,ln)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(59,67,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(64,69,"Are you sure you want to delete selected products?"))}},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return l})(),o1=(()=>{class l extends v.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/EmployeePaySlipReport/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const l1=["dt"];function a1(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function i1(l,r){1&l&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"this field is required"),""))}function s1(l,r){1&l&&(e.TgZ(0,"h2",37),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Monthly Absence Report")," "))}function r1(l,r){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,16,"Name")," "),e.xp6(3),e.hij(" ",e.lcZ(6,18,"Designation")," "),e.xp6(3),e.hij(" ",e.lcZ(9,20,"Basic Salary")," "),e.xp6(3),e.hij(" ",e.lcZ(12,22,"Total Allowances")," "),e.xp6(3),e.hij(" ",e.lcZ(15,24,"Overtime Pay")," "),e.xp6(3),e.hij(" ",e.lcZ(18,26,"Bonuses")," "),e.xp6(3),e.hij(" ",e.lcZ(21,28,"Insurance")," "),e.xp6(3),e.hij(" ",e.lcZ(24,30,"Earnings")," "),e.xp6(3),e.hij(" ",e.lcZ(27,32,"Taxes")," "),e.xp6(3),e.hij(" ",e.lcZ(30,34,"Total Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(33,36,"Payment Method")," "),e.xp6(3),e.hij(" ",e.lcZ(36,38,"Total Loan Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(39,40,"Penalties and Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(42,42,"Early Leave Penalty Value")," "),e.xp6(3),e.hij(" ",e.lcZ(45,44,"Net Salary")," "),e.xp6(3),e.hij(" ",e.lcZ(48,46,"Payment Date")," "))}const j=l=>({"null-color":l});function c1(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",38),e._uU(7),e.qZA(),e.TgZ(8,"td",38),e._uU(9),e.qZA(),e.TgZ(10,"td",38),e._uU(11),e.qZA(),e.TgZ(12,"td",38),e._uU(13),e.qZA(),e.TgZ(14,"td",38),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.qZA(),e.TgZ(18,"td",38),e._uU(19),e.qZA(),e.TgZ(20,"td",38),e._uU(21),e.qZA(),e.TgZ(22,"td",38),e._uU(23),e.qZA(),e.TgZ(24,"td",38),e._uU(25),e.qZA(),e.TgZ(26,"td",38),e._uU(27),e.qZA(),e.TgZ(28,"td",38),e._uU(29),e.qZA(),e.TgZ(30,"td",38),e._uU(31),e.qZA(),e.TgZ(32,"td",38),e._uU(33),e.ALo(34,"date"),e.qZA()()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(38,j,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,j,!t.designation)),e.xp6(1),e.hij(" ",e.xi3(5,32,t.designation,"yyyy/MM/dd HH:mm:ss a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,j,!t.basicSalary)),e.xp6(1),e.hij(" ",t.basicSalary?t.basicSalary:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,j,!t.totalAllowances)),e.xp6(1),e.hij(" ",t.totalAllowances?t.totalAllowances:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,j,!t.overtimePay)),e.xp6(1),e.hij(" ",t.overtimePay?t.overtimePay:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,j,!t.bonuses)),e.xp6(1),e.hij(" ",t.bonuses?t.bonuses:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,j,!t.insurance)),e.xp6(1),e.hij(" ",t.insurance?t.insurance:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(52,j,!t.earnings)),e.xp6(1),e.hij(" ",t.earnings?t.earnings:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(54,j,!t.taxes)),e.xp6(1),e.hij(" ",t.taxes?t.taxes:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(56,j,!t.totalDeductions)),e.xp6(1),e.hij(" ",t.totalDeductions?t.totalDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(58,j,!t.paymentMethod)),e.xp6(1),e.hij(" ",t.paymentMethod?t.paymentMethod:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(60,j,!t.totalLoanDeductions)),e.xp6(1),e.hij(" ",t.totalLoanDeductions?t.totalLoanDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(62,j,!t.penaltiesAndDeductions)),e.xp6(1),e.hij(" ",t.penaltiesAndDeductions?t.penaltiesAndDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(64,j,!t.earlyLeavePenaltyValue)),e.xp6(1),e.hij(" ",t.earlyLeavePenaltyValue?t.earlyLeavePenaltyValue:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(66,j,!t.netSalary)),e.xp6(1),e.hij(" ",t.netSalary?t.netSalary:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(68,j,!t.paymentDate)),e.xp6(1),e.hij(" ",e.xi3(34,35,t.paymentDate,"yyyy/MM/dd")," ")}}function p1(l,r){if(1&l&&(e.TgZ(0,"p-table",32,33),e.YNc(2,s1,3,3,"ng-template",34)(3,r1,49,48,"ng-template",35)(4,c1,35,70,"ng-template",36),e.qZA()),2&l){const t=e.oxw();e.Q6J("value",t.allDataWithoutPagination)}}function d1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"div",41)(2,"div")(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportCSV())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.exportAllCSV())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div")(8,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.printTable())}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"span",45),e._UZ(11,"i",46),e.TgZ(12,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.loadFilteredData())}),e.ALo(13,"translate"),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(3),e.Q6J("label",e.lcZ(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.xp6(2),e.Q6J("label",e.lcZ(6,8,"Export All")),e.xp6(3),e.Q6J("label",e.lcZ(9,10,"Print All")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(13,12,"Search..."))}}function u1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",48),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",49),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",50),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"th"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"th"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"th"),e._uU(50),e.ALo(51,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,16,"Name")," "),e.xp6(4),e.hij(" ",e.lcZ(9,18,"Designation")," "),e.xp6(3),e.hij(" ",e.lcZ(12,20,"Basic Salary")," "),e.xp6(3),e.hij(" ",e.lcZ(15,22,"Total Allowances")," "),e.xp6(3),e.hij(" ",e.lcZ(18,24,"Overtime Pay")," "),e.xp6(3),e.hij(" ",e.lcZ(21,26,"Bonuses")," "),e.xp6(3),e.hij(" ",e.lcZ(24,28,"Insurance")," "),e.xp6(3),e.hij(" ",e.lcZ(27,30,"Earnings")," "),e.xp6(3),e.hij(" ",e.lcZ(30,32,"Taxes")," "),e.xp6(3),e.hij(" ",e.lcZ(33,34,"Total Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(36,36,"Payment Method")," "),e.xp6(3),e.hij(" ",e.lcZ(39,38,"Total Loan Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(42,40,"Penalties and Deductions")," "),e.xp6(3),e.hij(" ",e.lcZ(45,42,"Early Leave Penalty Value")," "),e.xp6(3),e.hij(" ",e.lcZ(48,44,"Net Salary")," "),e.xp6(3),e.hij(" ",e.lcZ(51,46,"Payment Date")," "))}function m1(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",51),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td",38),e._uU(9),e.qZA(),e.TgZ(10,"td",38),e._uU(11),e.qZA(),e.TgZ(12,"td",38),e._uU(13),e.qZA(),e.TgZ(14,"td",38),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.qZA(),e.TgZ(18,"td",38),e._uU(19),e.qZA(),e.TgZ(20,"td",38),e._uU(21),e.qZA(),e.TgZ(22,"td",38),e._uU(23),e.qZA(),e.TgZ(24,"td",38),e._uU(25),e.qZA(),e.TgZ(26,"td",38),e._uU(27),e.qZA(),e.TgZ(28,"td",38),e._uU(29),e.qZA(),e.TgZ(30,"td",38),e._uU(31),e.qZA(),e.TgZ(32,"td",38),e._uU(33),e.qZA(),e.TgZ(34,"td",38),e._uU(35),e.ALo(36,"date"),e.qZA()()),2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(39,j,!t.employeeName)),e.xp6(1),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,j,!t.designation)),e.xp6(1),e.hij(" ",e.xi3(7,33,t.designation,"yyyy/MM/dd")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(43,j,!t.basicSalary)),e.xp6(1),e.hij(" ",t.basicSalary?t.basicSalary:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,j,!t.totalAllowances)),e.xp6(1),e.hij(" ",t.totalAllowances?t.totalAllowances:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,j,!t.overtimePay)),e.xp6(1),e.hij(" ",t.overtimePay?t.overtimePay:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,j,!t.bonuses)),e.xp6(1),e.hij(" ",t.bonuses?t.bonuses:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,j,!t.insurance)),e.xp6(1),e.hij(" ",t.insurance?t.insurance:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,j,!t.earnings)),e.xp6(1),e.hij(" ",t.earnings?t.earnings:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,j,!t.taxes)),e.xp6(1),e.hij(" ",t.taxes?t.taxes:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,j,!t.totalDeductions)),e.xp6(1),e.hij(" ",t.totalDeductions?t.totalDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(59,j,!t.paymentMethod)),e.xp6(1),e.hij(" ",t.paymentMethod?t.paymentMethod:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(61,j,!t.totalLoanDeductions)),e.xp6(1),e.hij(" ",t.totalLoanDeductions?t.totalLoanDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(63,j,!t.penaltiesAndDeductions)),e.xp6(1),e.hij(" ",t.penaltiesAndDeductions?t.penaltiesAndDeductions:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(65,j,!t.earlyLeavePenaltyValue)),e.xp6(1),e.hij(" ",t.earlyLeavePenaltyValue?t.earlyLeavePenaltyValue:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(67,j,!t.netSalary)),e.xp6(1),e.hij(" ",t.netSalary?t.netSalary:0," "),e.xp6(1),e.Q6J("ngClass",e.VKq(69,j,!t.paymentDate)),e.xp6(1),e.hij(" ",e.xi3(36,36,t.paymentDate,"yyyy/MM/dd HH:mm:ss a")," ")}}function g1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-table",39,33),e.NdJ("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedItems=n)})("onLazyLoad",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPageChange(n))}),e.ALo(2,"translate"),e.YNc(3,d1,14,14,"ng-template",34)(4,u1,52,48,"ng-template",35)(5,m1,37,71,"ng-template",36),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems)("selection",t.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function _1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",52),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",53),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",55),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",57),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",59),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",61),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",63)(32,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",65),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function h1(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function f1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Z1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const an=()=>({width:"450px"});let x1=(()=>{class l{constructor(t,o,n){this._EmployeePaySlipReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new i.cw({employeeId:new i.NI(null),departmentId:new i.NI(null),month:new i.NI(null,[i.kI.required]),year:new i.NI(null,[i.kI.required])}),this.addNewForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null)}),this.editForm=new i.cw({employeeId:new i.NI(null,[i.kI.required]),month:new i.NI(null,[i.kI.required]),value:new i.NI(null,[i.kI.required,i.kI.min(0)]),year:new i.NI(null,[i.kI.required,i.kI.min(1900),i.kI.max(2199)]),notes:new i.NI(null),id:new i.NI(null)})}ngOnInit(){this.endPoint="Salary",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeePaySlipReportService.setCulture(t),this._EmployeePaySlipReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData()}),this.cols=[{field:"designation",header:"Designation"},{field:"basicSalary",header:"Basic Salary"},{field:"totalAllowances",header:"Total Allowances"},{field:"overtimePay",header:"Overtime Pay"},{field:"bonuses",header:"Bonuses"},{field:"insurance",header:"Insurance"},{field:"earnings",header:"Earnings"},{field:"taxes",header:"Taxes"},{field:"totalDeductions",header:"Total Deductions"},{field:"paymentMethod",header:"Payment Method"},{field:"totalLoanDeductions",header:"Total Loan Deductions"},{field:"penaltiesAndDeductions",header:"Penalties and Deductions"},{field:"earlyLeavePenaltyValue",header:"Early Leave Penalty Value"},{field:"netSalary",header:"Net Salary"},{field:"paymentDate",header:"Payment Date"}],this.selectedYear=null}editProduct(t){this._EmployeePaySlipReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._EmployeePaySlipReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this._EmployeePaySlipReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,a,s,p,d,h,Q){let V={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s,employeeId:p,departmentId:d,month:h,year:Q};V.sortType=this.sortOrder,console.log("FilteredData"),console.log(V),this._EmployeePaySlipReportService.GetPage(V).subscribe({next:H=>{console.log(H),this.allData=H.data,console.log(H.data),this.totalItems=H.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let s={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(s),this._EmployeePaySlipReportService.GetPage(s).subscribe({next:p=>{this.allData=p.data,console.log(p),this.totalItems=p.totalItems,console.log(p.data.length)},error:p=>{console.log(p)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this._EmployeePaySlipReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(p=>`"${p.header}"`).join(","),a=this.cols.map(p=>p.field),s=t.map(p=>a.map(d=>"absentDates"===d&&Array.isArray(p[d])?`"${p[d].map(h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${p[d]||""}"`).join(","));return s.unshift(n),s.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeePaySlipReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this._EmployeePaySlipReportService.GetPage(n).subscribe({next:a=>{console.log(a),this.showTable=!0,this.allData=a.data,console.log(a.data),this.totalItems=a.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(a.data.length),console.log(this.totalItems)},error:a=>{console.log(a)}}),this.getAllData(t.value))}getDropDowns(){this._EmployeePaySlipReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this._EmployeePaySlipReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this._EmployeePaySlipReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this._EmployeePaySlipReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this._EmployeePaySlipReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          h2 {\n                              text-align: center;\n                          }\n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(o1),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-pay-slip-report"]],viewQuery:function(o,n){if(1&o&&e.Gf(l1,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:66,vars:74,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["tooltipContent",""],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"label","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"value"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){if(1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.TgZ(24,"span",13),e._uU(25,"*"),e.qZA(),e.YNc(26,a1,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(28,"p-dropdown",15),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9)(31,"label",16),e._uU(32),e.ALo(33,"translate"),e.TgZ(34,"span",13),e._uU(35,"*"),e.qZA(),e.YNc(36,i1,4,3,"ng-template",null,14,e.W1O),e.qZA(),e._UZ(38,"input",17),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div",18)(41,"div",19)(42,"button",20),e._UZ(43,"i",21),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()()()()()()(),e.YNc(47,p1,5,1,"p-table",22)(48,g1,6,11,"p-table",23),e.TgZ(49,"p-dialog",24),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(50,"translate"),e.YNc(51,_1,36,47,"ng-template",25),e.qZA(),e.TgZ(52,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(53,"translate"),e.TgZ(54,"div",27),e._UZ(55,"i",28),e.YNc(56,h1,6,4,"span",29),e.qZA(),e.YNc(57,f1,4,6,"ng-template",30),e.qZA(),e.TgZ(58,"p-dialog",26),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.ALo(59,"translate"),e.TgZ(60,"div",27),e._UZ(61,"i",28),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.YNc(65,Z1,4,6,"ng-template",30),e.qZA()),2&o){const a=e.MAs(27);e.xp6(1),e.Q6J("header",e.lcZ(2,43,"Filter"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,45,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,47,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,49,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,51,"Select a Department")),e.xp6(4),e.hij("",e.lcZ(23,53,"Month")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(29,55,"Select a Month")),e.xp6(4),e.hij("",e.lcZ(33,57,"Year")," "),e.xp6(2),e.Q6J("pTooltip",a),e.xp6(4),e.Q6J("placeholder",e.lcZ(39,59,"Enter Year Here")),e.xp6(4),e.Q6J("disabled",n.filterForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(46,61,"Filter")," "),e.xp6(2),e.Q6J("ngIf",n.allDataWithoutPagination.length),e.xp6(1),e.Q6J("ngIf",n.showTable),e.xp6(1),e.Akn(e.DdM(71,an)),e.Q6J("visible",n.productDialog)("header",e.lcZ(50,63,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(72,an)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(53,65,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(73,an)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(59,67,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(64,69,"Are you sure you want to delete selected products?"))}},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.sg,i.u,m.uU,f.X$,y.g,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,O.Lt,X.s,U.u],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return l})(),C1=(()=>{class l extends v.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const b1=["dt"];function A1(l,r){1&l&&e._UZ(0,"pre-loading")}function T1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function y1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function q1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",25)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-inputSwitch",27),e.qZA(),e.TgZ(18,"div",20),e._UZ(19,"button",28),e.ALo(20,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,8,"versionName")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,10,"Enter Version Name")),e.xp6(4),e.Oqu(e.lcZ(10,12,"operatingSystemType")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,14,"Enter Operating System Type")),e.xp6(4),e.Oqu(e.lcZ(16,16,"Status")),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(20,18,"Insert New"))}}function w1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function N1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.sortByName(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"versionName")),e.xp6(3),e.Oqu(e.lcZ(12,12,"operatingSystemType")),e.xp6(3),e.Oqu(e.lcZ(15,14,"status")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const ve=l=>({"null-color":l});function M1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",37),e.qZA(),e.TgZ(3,"td",38)(4,"span",39),e._uU(5,"versionName"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",39),e._uU(9,"operatingSystemType"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",38)(12,"span",39),e._uU(13,"status"),e.qZA(),e._UZ(14,"p-inputSwitch",40),e.qZA(),e.TgZ(15,"td",38)(16,"span",39),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",38)(21,"span",39),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",38)(26,"span",39),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",38)(30,"span",39),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",41)(35,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.editProduct(a))}),e.qZA(),e.TgZ(36,"button",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProduct(a))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ve,!t.versionName)),e.xp6(3),e.hij(" ",t.versionName?t.versionName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,ve,!t.operatingSystemType)),e.xp6(3),e.hij(" ",t.operatingSystemType?t.operatingSystemType:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,ve,!t.status)),e.xp6(3),e.Q6J("ngModel",t.status)("disabled",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ve,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,16,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(30,ve,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,ve,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,ve,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function v1(l,r){1&l&&(e.TgZ(0,"small",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Version Name is required.")))}function D1(l,r){1&l&&(e.TgZ(0,"small",53),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Operating System Type is required.")))}const yn=l=>({"ng-invalid ng-dirty":l});function I1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",44)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.versionName=n)}),e.qZA(),e.YNc(6,v1,3,3,"small",46),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.operatingSystemType=n)}),e.qZA(),e.YNc(12,D1,3,3,"small",46),e.qZA(),e.TgZ(13,"div",25)(14,"label",48),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-inputSwitch",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.product.status=n)}),e.qZA()(),e.TgZ(18,"div",50)(19,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.ALo(22,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"versionName")),e.xp6(2),e.Q6J("ngModel",t.product.versionName)("ngClass",e.VKq(24,yn,t.submitted&&!t.product.versionName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.versionName),e.xp6(3),e.Oqu(e.lcZ(10,16,"operatingSystemType")),e.xp6(2),e.Q6J("ngModel",t.product.operatingSystemType)("ngClass",e.VKq(26,yn,t.submitted&&!t.product.operatingSystemType)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.operatingSystemType),e.xp6(3),e.Oqu(e.lcZ(16,18,"Status")),e.xp6(2),e.Q6J("ngModel",t.product.status),e.xp6(2),e.Q6J("label",e.lcZ(20,20,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,22,"Save"))("disabled",t.editForm.invalid)}}function P1(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function F1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function L1(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Pt=()=>({width:"450px"});let J1=(()=>{class l{constructor(t,o,n){this._MobileVersionService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new i.cw({versionName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),operatingSystemType:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),status:new i.NI(!1)}),this.editForm=new i.cw({versionName:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),operatingSystemType:new i.NI(null,[i.kI.required,i.kI.maxLength(50)]),status:new i.NI(!1)})}ngOnInit(){this.endPoint="MobileVersion",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._MobileVersionService.setCulture(t),this._MobileVersionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._MobileVersionService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._MobileVersionService.deleteById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){let o={...t.value,status:Number(this.addNewForm.get("status").value)};this._MobileVersionService.Register(o).subscribe({next:n=>{n.success&&(console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,a,s){let p={pageNumber:t,pageSize:o,filterValue:n,filterType:a,sortType:s};p.sortType=this.sortOrder,this._MobileVersionService.GetPage(p).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0;let n={...t.value,status:Number(this.addNewForm.get("status").value),id:o.id};this.loading=!0,this._MobileVersionService.Edit(n).subscribe({next:a=>{a.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(a),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(s=>{n.push(s.field)}),console.log(n);const a=t.map(s=>n.map(p=>`"${s[p]}"`).join(","));return a.unshift(n.join(",")),a.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._MobileVersionService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const a=new FormData;a.append("file",this.fileNew),this._MobileVersionService.importExcel(a).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),o.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(C1),e.Y36(u.ez),e.Y36(f.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-mobile-version"]],viewQuery:function(o,n){if(1&o&&e.Gf(b1,5),2&o){let a;e.iGM(a=e.CRH())&&(n.dt=a.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,f.sK]),e.jDz],decls:30,vars:45,consts:[[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["for","versionName"],["pInputText","","formControlName","versionName","id","versionName","type","text","maxlength","50",3,"placeholder"],["for","operatingSystemType"],["pInputText","","formControlName","operatingSystemType","id","operatingSystemType","type","text","maxlength","50",3,"placeholder"],[1,"field","field-switch"],["for","status"],["formControlName","status","id","status"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[3,"ngModel","disabled"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["action","",3,"formGroup"],["type","text","pInputText","","id","versionName","formControlName","versionName","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","text","pInputText","","id","operatingSystemType","formControlName","operatingSystemType","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","status-edit"],["formControlName","status","id","status-edit",3,"ngModel","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.YNc(1,A1,1,0,"pre-loading",0),e.TgZ(2,"p-toolbar",1),e.YNc(3,T1,3,3,"ng-template",2)(4,y1,2,4,"ng-template",3),e.qZA(),e.TgZ(5,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.showFormNew=s}),e.ALo(6,"translate"),e.YNc(7,q1,21,20,"ng-template",5),e.qZA(),e.TgZ(8,"p-table",6,7),e.NdJ("selectionChange",function(s){return n.selectedItems=s})("onLazyLoad",function(s){return n.onPageChange(s)}),e.ALo(10,"translate"),e.YNc(11,w1,8,7,"ng-template",8)(12,N1,28,24,"ng-template",9)(13,M1,37,36,"ng-template",10),e.qZA(),e.TgZ(14,"p-dialog",4),e.NdJ("visibleChange",function(s){return n.productDialog=s}),e.ALo(15,"translate"),e.YNc(16,I1,23,28,"ng-template",5),e.qZA(),e.TgZ(17,"p-dialog",11),e.NdJ("visibleChange",function(s){return n.deleteProductDialog=s}),e.ALo(18,"translate"),e.TgZ(19,"div",12),e._UZ(20,"i",13),e.YNc(21,P1,6,4,"span",0),e.qZA(),e.YNc(22,F1,4,6,"ng-template",14),e.qZA(),e.TgZ(23,"p-dialog",15),e.NdJ("visibleChange",function(s){return n.deleteProductsDialog=s}),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,L1,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(4),e.Akn(e.DdM(41,Pt)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(6,31,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.lcZ(10,33,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.xp6(6),e.Akn(e.DdM(42,Pt)),e.Q6J("visible",n.productDialog)("header",e.lcZ(15,35,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(43,Pt)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(18,37,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(44,Pt)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(28,39,"Are you sure you want to delete selected products?")))},dependencies:[T.l,m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.sg,i.u,P.N,m.uU,f.X$,y.g,k.o,g.iA,u.jx,g.lQ,g.fz,g.UA,g.Mo,F.H,w.Hq,L.V,N.FN,I.o,ae.Ql,U.u],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}  .field-switch{display:flex;align-items:center;gap:10px}"]})}return l})(),U1=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[G.Bz.forChild([{path:"department",canActivate:[C.p],component:Ln},{path:"bank",canActivate:[C.p],component:Bn},{path:"government",canActivate:[C.p],component:zn},{path:"grade",canActivate:[C.p],component:Ul},{path:"job",canActivate:[C.p],component:Sl},{path:"location",canActivate:[C.p],component:_o},{path:"partition",canActivate:[C.p],component:vo},{path:"qualification",canActivate:[C.p],component:Do},{path:"shift",canActivate:[C.p],component:Xo},{path:"publicVacation",canActivate:[C.p],component:xl},{path:"shiftVacation",canActivate:[C.p],component:Jl},{path:"relativeRelation",canActivate:[C.p],component:kl},{path:"contractType",canActivate:[C.p],component:Ol},{path:"jobNature",canActivate:[C.p],component:El},{path:"recuritmentSource",canActivate:[C.p],component:Rl},{path:"documentRequired",canActivate:[C.p],component:Ql},{path:"uniformCodes",canActivate:[C.p],component:jl},{path:"vacationSetting",canActivate:[C.p],component:Gl},{path:"CovenantCategory",canActivate:[C.p],component:Hl},{path:"Covenant",canActivate:[C.p],component:sa},{path:"companyPolicy",canActivate:[C.p],component:ba},{path:"execuseType",canActivate:[C.p],component:Ua},{path:"closeMonth",canActivate:[C.p],component:Kt},{path:"kpi",canActivate:[C.p],component:pp},{path:"allowance",canActivate:[C.p],component:vd},{path:"bonus",canActivate:[C.p],component:Qp},{path:"PenaltiesAndDeduction",canActivate:[C.p],component:Mp},{path:"vacationType",canActivate:[C.p],component:za},{path:"users",canActivate:[C.p],component:Gs},{path:"externalMisson",canActivate:[C.p],component:rr},{path:"vacationRequest",canActivate:[C.p],component:qr},{path:"execuseRequest",canActivate:[C.p],component:Er},{path:"InternalJobs",canActivate:[C.p],component:oc},{path:"allEmployeesCovenant",canActivate:[C.p],component:Ts},{path:"allEmployeesFile",canActivate:[C.p],component:cs},{path:"allEmployeesLocation",canActivate:[C.p],component:Yi},{path:"allEmployeesManager",canActivate:[C.p],component:Fi},{path:"allEmployeesUniform",canActivate:[C.p],component:xi},{path:"employees",canActivate:[C.p],component:$a.o},{path:"employees/edit/:id",canActivate:[C.p],pathMatch:"prefix",component:Wa.R,loadChildren:()=>x.e(7893).then(x.bind(x,7893)).then(t=>t.AllTabsModule)},{path:"InternalJobs/edit/:id",canActivate:[C.p],pathMatch:"prefix",component:Bp},{path:"employee",canActivate:[C.p],component:ai},{path:"fingerprints",canActivate:[C.p],component:Gc},{path:"resignation",canActivate:[C.p],component:cd},{path:"attendenceConfig",canActivate:[C.p],component:yc},{path:"attendenceConfig/edit/:id",canActivate:[C.p],component:Ic},{path:"setEmployeeShifts",canActivate:[C.p],component:Lc},{path:"loanTypes",canActivate:[C.p],component:pd},{path:"setAssetCoordinator",canActivate:[C.p],component:md},{path:"SendNotificationToAll",canActivate:[C.p],component:nu},{path:"loanPolicy",canActivate:[C.p],component:Fu},{path:"loanSettings",canActivate:[C.p],component:Uu},{path:"loanRequest",canActivate:[C.p],component:em},{path:"resignationPolicy",canActivate:[C.p],component:lm},{path:"netIncomeTax",canActivate:[C.p],component:Qm},{path:"taxRate",canActivate:[C.p],component:lg},{path:"mothlyReport",canActivate:[C.p],component:bg},{path:"mothlyAbsenceReport",canActivate:[C.p],component:Eg},{path:"salaryReport",canActivate:[C.p],component:Th},{path:"companyBasicData",canActivate:[C.p],component:Id},{path:"monthlyAllowance",canActivate:[C.p],component:Bd},{path:"resignationSetting",canActivate:[C.p],component:Xd},{path:"insuranceConfig",canActivate:[C.p],component:xu},{path:"loans",canActivate:[C.p],component:xm},{path:"loans/details/:id",canActivate:[C.p],component:wm},{path:"getLoanPayment",canActivate:[C.p],component:Hg},{path:"registerTermination",canActivate:[C.p],component:l_},{path:"allTerminations",canActivate:[C.p],component:g_},{path:"hrLetter",canActivate:[C.p],component:Tn},{path:"hrLetter",canActivate:[C.p],component:Tn},{path:"endOfService",canActivate:[C.p],component:G_},{path:"applyingInternalJob",canActivate:[C.p],component:ih},{path:"endOfServiceRequest",canActivate:[C.p],component:Oh},{path:"MonthlyPayrollSummaryReport",canActivate:[C.p],component:n1},{path:"EmployeePaySlipReport",canActivate:[C.p],component:x1},{path:"mobileVersion",canActivate:[C.p],component:J1},{path:"**",component:el.l}]),G.Bz]})}return l})();var S1=x(9937);let k1=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({providers:[u.ez],imports:[m.ez,U1,S1.l,f.aw]})}return l})()}}]);