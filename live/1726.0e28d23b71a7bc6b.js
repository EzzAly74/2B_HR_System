"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[1726],{1726:(ml,de,_)=>{_.r(de),_.d(de,{AllTabsModule:()=>dl});var m=_(177),b=_(5836),h=_(5779),w=_(8541),N=_(3348),f=_(583),y=_(421),r=_(9417),e=_(4438),F=_(4690),C=_(1626);let _e=(()=>{class a extends F.${constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var I=_(7137),g=_(4842),T=_(1830),u=_(9280),R=_(563),j=_(1141),x=_(6781),E=_(9998),k=_(2242),J=_(1305),M=_(8542);const ge=["dt"],q=()=>({width:"450px"}),v=a=>({"null-color":a});function be(a,p){1&a&&e.nrm(0,"pre-loading")}function fe(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ye(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Fe(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",22),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",24),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",26),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",28),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",30),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",20)(32,"button",31),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew(o.addNewForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,13,"Certification Name")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,15,"Enter Certification Name Here")),e.R7$(4),e.SpI("",e.bMT(10,17,"Year")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,19,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(16,21,"Degree")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,23,"Enter Degree Here")),e.R7$(4),e.JRh(e.bMT(22,25,"Discription")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,27,"Enter Discription Here")),e.R7$(4),e.JRh(e.bMT(28,29,"University Name")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,31,"Enter University Name Here")),e.R7$(3),e.Y8G("label",e.bMT(33,33,"Insert New"))("disabled",t.addNewForm.invalid)}}function Ce(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Ie(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",38),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(o))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",39),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,12,"University")),e.R7$(3),e.JRh(e.bMT(12,14,"Degree")),e.R7$(3),e.JRh(e.bMT(15,16,"Discription")),e.R7$(3),e.JRh(e.bMT(18,18,"Year")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function Te(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",40),e.k0s(),e.j41(3,"td",41)(4,"span",42),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",41)(8,"span",42),e.EFF(9,"university"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",41)(12,"span",42),e.EFF(13,"degree"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",41)(16,"span",42),e.EFF(17,"discription"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",41)(20,"span",42),e.EFF(21,"year"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",41)(24,"span",42),e.EFF(25,"creationTime"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",41)(28,"span",42),e.EFF(29,"lastModificationTime"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",41)(32,"span",42),e.EFF(33,"creatorName"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",41)(36,"span",42),e.EFF(37,"lastModifierName"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td")(40,"div",43)(41,"button",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(42,"button",45),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(19,v,!t.certificatName)),e.R7$(3),e.SpI(" ",t.certificatName?t.certificatName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,v,!t.university)),e.R7$(3),e.SpI(" ",t.university?t.university:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,v,!t.degree)),e.R7$(3),e.SpI(" ",t.degree?t.degree:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,v,!t.discription)),e.R7$(3),e.SpI(" ",t.discription?t.discription:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,v,!t.year)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,v,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,v,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,v,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,v,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Re(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",46),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.certificatName,o)||(l.product.certificatName=o),e.Njj(o)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",47),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,o)||(l.product.year=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",48),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.degree,o)||(l.product.degree=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"textarea",49),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,o)||(l.product.discription=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",20)(26,"label",27),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",50),e.nI1(30,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.university,o)||(l.product.university=o),e.Njj(o)}),e.k0s()(),e.j41(31,"div",51)(32,"button",52),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(34,"button",53),e.nI1(35,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product,o.editForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.SpI("",e.bMT(4,19,"Certification Name")," "),e.R7$(2),e.R50("ngModel",t.product.certificatName),e.Y8G("placeholder",e.bMT(6,21,"Enter Certification Name Here")),e.R7$(4),e.SpI("",e.bMT(10,23,"Year")," "),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(12,25,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(16,27,"Degree")),e.R7$(2),e.R50("ngModel",t.product.degree),e.Y8G("placeholder",e.bMT(18,29,"Enter Degree Here")),e.R7$(4),e.JRh(e.bMT(22,31,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.Y8G("placeholder",e.bMT(24,33,"Enter Discription Here")),e.R7$(4),e.JRh(e.bMT(28,35,"University Name")),e.R7$(2),e.R50("ngModel",t.product.university),e.Y8G("placeholder",e.bMT(30,37,"Enter University Name Here")),e.R7$(3),e.Y8G("label",e.bMT(33,39,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(35,41,"Save"))("disabled",!t.editForm.valid)}}function je(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Ee(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function ke(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",55),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let Me=(()=>{class a{constructor(t,n,o){this.employeeCertificationService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCertification",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeCertificationService.setCulture(t),this.employeeCertificationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.initFormGroups()}initFormGroups(){this.addNewForm=new r.gE({certificatName:new r.MJ(null,r.k0.required),year:new r.MJ(null,r.k0.required),degree:new r.MJ(null,r.k0.required),university:new r.MJ(null,r.k0.required),discription:new r.MJ(null)}),this.editForm=new r.gE({certificatName:new r.MJ(null,r.k0.required),year:new r.MJ(null,r.k0.required),degree:new r.MJ(null,r.k0.required),university:new r.MJ(null,r.k0.required),discription:new r.MJ(null)})}editProduct(t){console.log(t.id),this.employeeCertificationService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeCertificationService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(t){let n={...t.value,employeeId:this.currentId};t.valid&&this.employeeCertificationService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.certificatName=null,this.year=null,this.degree=null,this.discription=null,this.university=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeCertificationService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0;let o={...n.value,id:t.id,employeeId:this.currentId};n.valid&&this.employeeCertificationService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeCertificationService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(_e),e.rXU(h.bg),e.rXU(b.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-certification"]],viewQuery:function(n,o){if(1&n&&e.GBs(ge,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg]),e.aNF],decls:29,vars:42,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","certificatName","id","name-en","type","text",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","year","id","name-ar","type","text",3,"placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","degree","id","numberOfHours","type","text",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","discription","id","new-notes","type","text",3,"placeholder"],["htmlFor","university"],["pInputText","","formControlName","university","id","university","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pInputText","","formControlName","certificatName","id","name-en","type","text","required","","autofocus","",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","year","id","name-ar","type","text",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","degree","id","numberOfHours","type","text",3,"ngModelChange","ngModel","placeholder"],["pInputTextarea","","formControlName","discription","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","university","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,be,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,fe,5,7,"ng-template",3)(4,ye,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Fe,34,35,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,Ce,8,7,"ng-template",8)(11,Ie,34,30,"ng-template",9)(12,Te,43,37,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,Re,36,43,"ng-template",6),e.k0s(),e.j41(16,"p-dialog",11),e.nI1(17,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(18,"div",12),e.nrm(19,"i",13),e.DNE(20,je,6,4,"span",1),e.k0s(),e.DNE(21,Ee,2,0,"ng-template",14),e.k0s(),e.j41(22,"p-dialog",11),e.nI1(23,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(24,"div",12),e.nrm(25,"i",13),e.j41(26,"span"),e.EFF(27,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(28,ke,2,0,"ng-template",14),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(38,q)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,30,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(39,q)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,32,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(40,q)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(17,34,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(41,q)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(23,36,"Confirm Delete"))("modal",!0))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.j4,r.JD,I.q,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.yc,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,J.Z,M.m]})}}return a})(),De=(()=>{class a extends F.${constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var S=_(612);const Ne=["dt"],A=()=>({width:"450px"}),G=a=>({"null-color":a});function xe(a,p){1&a&&e.nrm(0,"pre-loading")}function we(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ve(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Se(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",22),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"p-calendar",24),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",23),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-calendar",25),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",26),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",27),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"label",28),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"textarea",29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",20)(32,"button",30),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew(o.addNewForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,17,"Course Name")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,19,"Enter Course Name Here")),e.R7$(4),e.SpI("",e.bMT(10,21,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(12,23,"From")),e.R7$(4),e.SpI("",e.bMT(16,25,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(18,27,"To")),e.R7$(4),e.JRh(e.bMT(22,29,"Location")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,31,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(28,33,"Discription")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,35,"Enter Discription Here")),e.R7$(3),e.Y8G("label",e.bMT(33,37,"Insert New"))("disabled",!t.addNewForm.valid)}}function Ge(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"h5",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",33),e.nrm(5,"i",34),e.j41(6,"input",35),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Pe(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",36),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",37),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(o))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",38),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,12,"Location")),e.R7$(3),e.JRh(e.bMT(12,14,"Date From")),e.R7$(3),e.JRh(e.bMT(15,16,"Date To")),e.R7$(3),e.JRh(e.bMT(18,18,"Discription")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function Ve(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td",40)(4,"span",41),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",40)(8,"span",41),e.EFF(9,"location"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",40)(12,"span",41),e.EFF(13,"dateFrom"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",40)(17,"span",41),e.EFF(18,"dateTo"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",40)(22,"span",41),e.EFF(23,"discription"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",40)(26,"span",41),e.EFF(27,"creationTime"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",40)(30,"span",41),e.EFF(31,"lastModificationTime"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",40)(34,"span",41),e.EFF(35,"creatorName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",40)(38,"span",41),e.EFF(39,"lastModifierName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td")(42,"div",42)(43,"button",43),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(44,"button",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(25,G,!t.courseName)),e.R7$(3),e.SpI(" ",t.courseName?t.courseName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,G,!t.location)),e.R7$(3),e.SpI(" ",t.location?t.location:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,G,!t.dateFrom)),e.R7$(3),e.SpI(" ",e.i5U(15,19,t.dateFrom,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,G,!t.dateTo)),e.R7$(3),e.SpI(" ",e.i5U(20,22,t.dateTo,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,G,!t.discription)),e.R7$(3),e.SpI(" ",t.discription?t.discription:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,G,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,G,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,G,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,G,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Be(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",45),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.courseName,o)||(l.product.courseName=o),e.Njj(o)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",46),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateFrom,o)||(l.product.dateFrom=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",23),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",47),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateTo,o)||(l.product.dateTo=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",26),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",48),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.location,o)||(l.product.location=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",20)(26,"label",28),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"textarea",49),e.nI1(30,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,o)||(l.product.discription=o),e.Njj(o)}),e.k0s()(),e.j41(31,"div",50)(32,"button",51),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(34,"button",52),e.nI1(35,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product,o.editForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.SpI("",e.bMT(4,23,"Course Name")," "),e.R7$(2),e.R50("ngModel",t.product.courseName),e.Y8G("placeholder",e.bMT(6,25,"Enter Course Name Here")),e.R7$(4),e.SpI("",e.bMT(10,27,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateFrom),e.Y8G("placeholder",e.bMT(12,29,"From")),e.R7$(4),e.SpI("",e.bMT(16,31,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateTo),e.Y8G("placeholder",e.bMT(18,33,"To")),e.R7$(4),e.JRh(e.bMT(22,35,"Location")),e.R7$(2),e.R50("ngModel",t.product.location),e.Y8G("placeholder",e.bMT(24,37,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.Y8G("placeholder",e.bMT(30,41,"Enter Discription Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(35,45,"Save"))("disabled",!t.editForm.valid)}}function Ye(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function $e(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function Xe(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let He=(()=>{class a{constructor(t,n,o,l){this.employeeCourseService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCourse",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeCourseService.setCulture(t),this.employeeCourseService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.initFormGroups()}initFormGroups(){this.addNewForm=new r.gE({courseName:new r.MJ(null,r.k0.required),dateFrom:new r.MJ(null,r.k0.required),dateTo:new r.MJ(null,r.k0.required),location:new r.MJ(null,r.k0.required),discription:new r.MJ(null,r.k0.required)}),this.editForm=new r.gE({courseName:new r.MJ(null,r.k0.required),dateFrom:new r.MJ(null,r.k0.required),dateTo:new r.MJ(null,r.k0.required),location:new r.MJ(null,r.k0.required),discription:new r.MJ(null,r.k0.required)})}editProduct(t,n){console.log(t.id),t.dateFrom=this.convertDate(t.dateFrom,"MM/dd/yyyy"),t.dateTo=this.convertDate(t.dateTo,"MM/dd/yyyy"),this.employeeCourseService.GetById(t.id).subscribe({next:o=>{this.product={...o.data},this.productDialog=!0,this.product.dateFrom=this.convertDate(this.product.dateFrom,"MM/dd/yyyy"),this.product.dateTo=this.convertDate(this.product.dateTo,"MM/dd/yyyy")},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeCourseService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(t){let n={...t.value,employeeId:this.currentId,dateFrom:this.convertDate(t.get("dateFrom").value,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(t.get("dateTo").value,"yyyy-MM-ddTHH:mm:ss")};t.valid&&this.employeeCourseService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.courseName=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.discription=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeCourseService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0;let o={...n.value,employeeId:this.currentId,dateFrom:this.convertDate(t.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(t.dateTo,"yyyy-MM-ddTHH:mm:ss"),id:t.id};this.employeeCourseService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeCourseService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(De),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-course"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ne,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:30,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","courseName","id","name-en","type","text",3,"placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","dateFrom",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","dateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","location","id","location","type","text",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","discription","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pInputText","","formControlName","courseName","id","name-en","type","text","required","","autofocus","",3,"ngModelChange","ngModel","placeholder"],["name","dateFrom","inputId","dateFrom","formControlName","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["name","dateTo","inputId","dateTo","formControlName","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["pInputText","","formControlName","location","id","location","type","text",3,"ngModelChange","ngModel","placeholder"],["pInputTextarea","","formControlName","discription","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,xe,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,we,5,7,"ng-template",3)(4,ve,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Se,34,39,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,Ge,8,7,"ng-template",8)(11,Pe,34,30,"ng-template",9)(12,Ve,45,43,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,Be,36,47,"ng-template",6),e.k0s(),e.j41(16,"p-dialog",11),e.nI1(17,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(18,"div",12),e.nrm(19,"i",13),e.DNE(20,Ye,6,4,"span",1),e.k0s(),e.DNE(21,$e,2,0,"ng-template",14),e.k0s(),e.j41(22,"p-dialog",11),e.nI1(23,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(24,"div",12),e.nrm(25,"i",13),e.j41(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.DNE(29,Xe,2,0,"ng-template",14),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,A)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,A)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(43,A)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(17,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,A)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(23,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(28,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.j4,r.JD,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.yc,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,J.Z,S.Vv,M.m]})}}return a})(),Je=(()=>{class a extends F.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var P=_(8150);const Oe=["dt"],z=()=>({width:"450px"}),V=a=>({"null-color":a});function Le(a,p){1&a&&e.nrm(0,"pre-loading")}function Ue(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qe(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ae(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenant,o)||(l.selectedCovenant=o),e.Njj(o)}),e.bIt("onChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectCovenant(o))}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.date,o)||(l.date=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",26),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,o)||(l.cost=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"textarea",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.notes,o)||(l.notes=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",20)(26,"button",29),e.nI1(27,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew(o.addNewForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,18,"Covenant Type")),e.R7$(2),e.Y8G("options",t.dropdownItemsCovenantType),e.R50("ngModel",t.selectedCovenant),e.Y8G("placeholder",e.bMT(6,20,"Enter Covenant Type")),e.R7$(4),e.SpI("",e.bMT(10,22,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(12,24,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(16,26,"Cost")),e.R7$(2),e.R50("ngModel",t.cost),e.Y8G("placeholder",e.bMT(18,28,"Enter Cost Here")),e.R7$(4),e.JRh(e.bMT(22,30,"Notes")),e.R7$(2),e.R50("ngModel",t.notes),e.Y8G("placeholder",e.bMT(24,32,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(27,34,"Insert New"))("disabled",!t.addNewForm.valid)}}function ze(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h5",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",32),e.nrm(5,"i",33),e.j41(6,"input",34),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Qe(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",35),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenant,o)||(l.selectedCovenant=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",20)(7,"label",23),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",36),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.date,o)||(l.date=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",20)(13,"label",25),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",37),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,o)||(l.cost=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",20)(19,"label",27),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"textarea",38),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.notes,o)||(l.notes=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",20)(25,"button",39),e.nI1(26,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,16,"Covenant Type")),e.R7$(2),e.R50("ngModel",t.selectedCovenant),e.Y8G("options",t.dropdownItemsCovenantType)("placeholder",e.bMT(5,18,"Enter Covenant Type")),e.R7$(4),e.SpI(" ",e.bMT(9,20,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(11,22,"Date")),e.R7$(4),e.JRh(e.bMT(15,24,"Cost")),e.R7$(2),e.R50("ngModel",t.cost),e.Y8G("placeholder",e.bMT(17,26,"Enter Cost here")),e.R7$(4),e.JRh(e.bMT(21,28,"Notes")),e.R7$(2),e.R50("ngModel",t.notes),e.Y8G("placeholder",e.bMT(23,30,"Enter notes Here")),e.R7$(3),e.Y8G("label",e.bMT(26,32,"Insert New"))}}function Ke(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",41),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(o))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",42),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,12,"Date")),e.R7$(3),e.JRh(e.bMT(12,14,"Cost")),e.R7$(3),e.JRh(e.bMT(15,16,"SerialNumber")),e.R7$(3),e.JRh(e.bMT(18,18,"Notes")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function We(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",43),e.k0s(),e.j41(3,"td",44)(4,"span",45),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",44)(8,"span",45),e.EFF(9,"date"),e.k0s(),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td",44)(13,"span",45),e.EFF(14,"cost"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"td",44)(17,"span",45),e.EFF(18,"serialNumber"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",44)(21,"span",45),e.EFF(22,"notes"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"td",44)(25,"span",45),e.EFF(26,"creationTime"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"td",44)(29,"span",45),e.EFF(30,"lastModificationTime"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"td",44)(33,"span",45),e.EFF(34,"creatorName"),e.k0s(),e.EFF(35),e.k0s(),e.j41(36,"td",44)(37,"span",45),e.EFF(38,"lastModifierName"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"td")(41,"div",46)(42,"button",47),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(43,"button",48),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(22,V,!t.covenantName)),e.R7$(3),e.SpI(" ",t.covenantName?t.covenantName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,V,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(11,19,t.date,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,V,!t.cost)),e.R7$(3),e.SpI(" ",t.cost," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,V,!t.serialNumber)),e.R7$(3),e.SpI(" ",t.serialNumber," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,V,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,V,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,V,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,V,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,V,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ze(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",49),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.covenantId,o)||(l.product.covenantId=o),e.Njj(o)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,o)||(l.product.date=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",26),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.cost,o)||(l.product.cost=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"textarea",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,o)||(l.product.notes=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",50)(26,"button",51),e.nI1(27,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(28,"button",52),e.nI1(29,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product,o.editForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,19,"Covenant Type")),e.R7$(2),e.R50("ngModel",t.product.covenantId),e.Y8G("options",t.dropdownItemsCovenantType)("placeholder",e.bMT(6,21,"Enter Covenant Type")),e.R7$(4),e.SpI("",e.bMT(10,23,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.date),e.Y8G("placeholder",e.bMT(12,25,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(16,27,"Cost")),e.R7$(2),e.R50("ngModel",t.product.cost),e.Y8G("placeholder",e.bMT(18,29,"Enter Cost Here")),e.R7$(4),e.JRh(e.bMT(22,31,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(24,33,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(27,35,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(29,37,"Save"))("disabled",!t.editForm.valid)}}function et(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function tt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function ot(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let nt=(()=>{class a{constructor(t,n,o,l){this.employeeConvenantService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCovenant",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeConvenantService.setCulture(t),this.employeeConvenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"cost",header:"cost"},{field:"notes",header:"Notes"},{field:"serialNumber",header:"SerialNumber"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getCovenantTypes(),this.initFormGroups()}getDropDownDepartment(){this.employeeConvenantService.getDropdownField("Department").subscribe({next:t=>{this.departmentDropDown=t.data}})}initFormGroups(){this.addNewForm=new r.gE({covenantCategoryId:new r.MJ(null,r.k0.required),date:new r.MJ(null,r.k0.required),cost:new r.MJ(null,r.k0.required),notes:new r.MJ(null)}),this.editForm=new r.gE({covenantCategoryId:new r.MJ(null,r.k0.required),date:new r.MJ(null,r.k0.required),cost:new r.MJ(null,r.k0.required),notes:new r.MJ(null)})}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeConvenantService.GetById(t.id).subscribe({next:n=>{this.product={...n.data},this.editForm.patchValue({covenantId:this.dropdownItemsCovenantType.find(o=>o.id==this.product.covenantId)}),this.product.date=this.convertDate(this.product.date,"MM/dd/yyyy"),console.log(this.product.date),this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeConvenantService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(t){let n={...t.value,employeeId:this.currentId,date:this.convertDate(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")};console.log(n),t.valid&&this.employeeConvenantService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedCovenantType=null,this.date=null,this.cost=null,this.notes=null,this.selectedCovenant=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeConvenantService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0;let o={...n.value,employeeId:this.currentId,date:this.convertDate(t.date,"yyyy-MM-ddTHH:mm:ss"),id:t.id};n.valid&&this.employeeConvenantService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeConvenantService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getCovenantTypes(){this.employeeConvenantService.getDropdownField("Covenant").subscribe({next:t=>{console.log(t),this.dropdownItemsCovenantType=t.data,console.log(this.dropdownItemsCovenantType)},error:t=>{console.log(t)}})}selectCovenant(t){console.log(t),this.selectedCovenantType=t.value.id,this.selectedCovenant=t.value}selectedCovenantEditFun(t){this.selectedCovenantEdit=t.value}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Je),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-covenant"]],viewQuery:function(n,o){if(1&n&&e.GBs(Oe,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","ContractType"],["optionLabel","name","optionValue","id","formControlName","covenantCategoryId",3,"ngModelChange","onChange","options","ngModel","placeholder"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","cost","id","Cost","type","number",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["optionLabel","name",3,"ngModelChange","ngModel","options","placeholder"],["name","date","inputId","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["pInputText","","id","Cost","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","covenantCategoryId","optionLabel","name","optionValue","id",3,"ngModelChange","ngModel","options","placeholder"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Le,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,Ue,5,7,"ng-template",3)(4,qe,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Ae,28,36,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,ze,8,7,"ng-template",8)(11,Qe,27,34,"ng-template",6)(12,Ke,34,30,"ng-template",9)(13,We,44,40,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",5),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(16,Ze,30,39,"ng-template",6),e.k0s(),e.j41(17,"p-dialog",11),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",12),e.nrm(20,"i",13),e.DNE(21,et,6,4,"span",1),e.k0s(),e.DNE(22,tt,2,0,"ng-template",14),e.k0s(),e.j41(23,"p-dialog",11),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",12),e.nrm(26,"i",13),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,ot,2,0,"ng-template",14),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,z)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(6),e.Aen(e.lJ4(42,z)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(15,33,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(43,z)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,z)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.Q0,r.BC,r.cb,r.vS,r.j4,r.JD,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.yc,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,J.Z,P.ms,S.Vv,M.m]})}}return a})(),lt=(()=>{class a extends F.${constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const at=["dt"],Q=()=>({width:"450px"}),B=a=>({"null-color":a});function it(a,p){1&a&&e.nrm(0,"pre-loading")}function st(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function rt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function pt(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.job,o)||(l.job=o),e.Njj(o)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.dateFrom,o)||(l.dateFrom=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",26),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.dateTo,o)||(l.dateTo=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.position,o)||(l.position=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"textarea",30),e.nI1(30,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.discreption,o)||(l.discreption=o),e.Njj(o)}),e.k0s()(),e.j41(31,"div",20)(32,"button",31),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew(o.addNewForm))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,22,"Job")),e.R7$(2),e.R50("ngModel",t.job),e.Y8G("placeholder",e.bMT(6,24,"Enter Job Here")),e.R7$(4),e.SpI("",e.bMT(10,26,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.dateFrom),e.Y8G("placeholder",e.bMT(12,28,"From")),e.R7$(4),e.SpI("",e.bMT(16,30,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.dateTo),e.Y8G("placeholder",e.bMT(18,32,"To")),e.R7$(4),e.JRh(e.bMT(22,34,"Position")),e.R7$(2),e.R50("ngModel",t.position),e.Y8G("placeholder",e.bMT(24,36,"Enter Position Here")),e.R7$(4),e.JRh(e.bMT(28,38,"Discription")),e.R7$(2),e.R50("ngModel",t.discreption),e.Y8G("placeholder",e.bMT(30,40,"Enter Discription Here")),e.R7$(3),e.Y8G("label",e.bMT(33,42,"Insert New"))("disabled",!t.addNewForm.valid)}}function ct(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function dt(a,p){1&a&&(e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",38),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Job")," "),e.R7$(3),e.JRh(e.bMT(8,12,"Position")),e.R7$(3),e.JRh(e.bMT(11,14,"Discription")),e.R7$(3),e.JRh(e.bMT(14,16,"Date From")),e.R7$(3),e.JRh(e.bMT(17,18,"Date To")),e.R7$(3),e.JRh(e.bMT(20,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(23,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(26,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(29,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(32,28,"Actions")))}function mt(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td")(4,"span",40),e.EFF(5,"Id"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",41)(8,"span",40),e.EFF(9,"Job"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",41)(12,"span",40),e.EFF(13,"position"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",41)(16,"span",40),e.EFF(17,"discreption"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",41)(20,"span",40),e.EFF(21,"dateFrom"),e.k0s(),e.EFF(22),e.nI1(23,"date"),e.k0s(),e.j41(24,"td",41)(25,"span",40),e.EFF(26,"dateTo"),e.k0s(),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.j41(29,"td",41)(30,"span",40),e.EFF(31,"creationTime"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",41)(34,"span",40),e.EFF(35,"lastModificationTime"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",41)(38,"span",40),e.EFF(39,"creatorName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td",41)(42,"span",40),e.EFF(43,"lastModifierName"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td")(46,"div",42)(47,"button",43),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(48,"button",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.id?t.id:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,B,!t.job)),e.R7$(3),e.SpI(" ",t.job?t.job:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,B,!t.position)),e.R7$(3),e.SpI(" ",t.position?t.position:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,B,!t.discreption)),e.R7$(3),e.SpI(" ",t.discreption?t.discreption:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,B,!t.dateFrom)),e.R7$(3),e.SpI(" ",e.i5U(23,20,t.dateFrom,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,B,!t.dateTo)),e.R7$(3),e.SpI(" ",e.i5U(28,23,t.dateTo,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(36,B,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,B,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,B,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(42,B,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ut(a,p){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.job,o)||(l.product.job=o),e.Njj(o)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",45),e.nI1(12,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateFrom,o)||(l.product.dateFrom=o),e.Njj(o)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",46),e.nI1(18,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateTo,o)||(l.product.dateTo=o),e.Njj(o)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.position,o)||(l.product.position=o),e.Njj(o)}),e.k0s()(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"textarea",30),e.nI1(30,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discreption,o)||(l.product.discreption=o),e.Njj(o)}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.SpI("",e.bMT(4,20,"Job")," "),e.R7$(2),e.R50("ngModel",t.product.job),e.Y8G("placeholder",e.bMT(6,22,"Enter Job Here")),e.R7$(4),e.SpI("",e.bMT(10,24,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateFrom),e.Y8G("placeholder",e.bMT(12,26,"From")),e.R7$(4),e.SpI("",e.bMT(16,28,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateTo),e.Y8G("placeholder",e.bMT(18,30,"To")),e.R7$(4),e.JRh(e.bMT(22,32,"Position")),e.R7$(2),e.R50("ngModel",t.product.position),e.Y8G("placeholder",e.bMT(24,34,"Enter Position Here")),e.R7$(4),e.JRh(e.bMT(28,36,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discreption),e.Y8G("placeholder",e.bMT(30,38,"Enter Discription Here"))}}function ht(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",48),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product,o.editForm))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,3,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,5,"Save"))("disabled",t.editForm.invalid)}}function _t(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function gt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function bt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let ft=(()=>{class a{constructor(t,n,o,l){this.employeeExperienceService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeExperience",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeExperienceService.setCulture(t),this.employeeExperienceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.initFormGroups()}initFormGroups(){this.addNewForm=new r.gE({job:new r.MJ(null,r.k0.required),dateFrom:new r.MJ(null,r.k0.required),dateTo:new r.MJ(null,r.k0.required),position:new r.MJ(null,r.k0.required),discreption:new r.MJ(null,r.k0.required)}),this.editForm=new r.gE({job:new r.MJ(null,r.k0.required),dateFrom:new r.MJ(null,r.k0.required),dateTo:new r.MJ(null,r.k0.required),position:new r.MJ(null,r.k0.required),discreption:new r.MJ(null,r.k0.required)})}editProduct(t){console.log(t.id),t.dateFrom=this.convertDate(t.dateFrom,"MM/dd/yyyy"),t.dateTo=this.convertDate(t.dateTo,"MM/dd/yyyy"),this.employeeExperienceService.GetById(t.id).subscribe({next:n=>{console.log(n.data),n.data.dateFrom=this.convertDate(n.data.dateFrom,"MM/dd/yyyy"),n.data.dateTo=this.convertDate(n.data.dateTo,"MM/dd/yyyy"),console.log(n.data.dateFrom),console.log(n.data.dateTo),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeExperienceService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(t){let n={employeeId:this.currentId,dateFrom:this.convertDate(this.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(this.dateTo,"yyyy-MM-ddTHH:mm:ss"),...t.value};console.log(n),t.valid&&this.employeeExperienceService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.job=null,this.dateFrom=null,this.dateTo=null,this.position=null,this.discreption=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeExperienceService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t);let o={id:t.id,employeeId:this.currentId,dateFrom:this.convertDate(t.dateFrom,"yyyy-MM-ddTHH:mm:ss"),dateTo:this.convertDate(t.dateTo,"yyyy-MM-ddTHH:mm:ss"),...n.value};n.valid&&this.employeeExperienceService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeExperienceService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(lt),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-experience"]],viewQuery:function(n,o){if(1&n&&e.GBs(at,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","job"],["pInputText","","formControlName","job","id","job","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","dateFrom"],["inputId","dateFrom","formControlName","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","dateTo"],["inputId","dateTo","formControlName","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","position"],["pInputText","","formControlName","position","id","position","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","discreption"],["pInputTextarea","","formControlName","discreption","id","discreption","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","type","submit",1,"w-25",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["name","dateFrom","formControlName","dateFrom","inputId","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["name","dateTo","formControlName","dateTo","inputId","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,it,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,st,5,7,"ng-template",3)(4,rt,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,pt,34,44,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,ct,8,7,"ng-template",8)(11,dt,33,30,"ng-template",9)(12,mt,49,44,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,ut,31,40,"ng-template",6)(16,ht,4,7,"ng-template",11),e.k0s(),e.j41(17,"p-dialog",12),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",13),e.nrm(20,"i",14),e.DNE(21,_t,6,4,"span",1),e.k0s(),e.DNE(22,gt,2,0,"ng-template",11),e.k0s(),e.j41(23,"p-dialog",12),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,bt,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,Q)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,Q)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,Q)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,Q)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.BC,r.cb,r.vS,r.j4,r.JD,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,J.Z,S.Vv,M.m]})}}return a})(),yt=(()=>{class a extends F.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Ft=["dt"],K=()=>({width:"450px"}),$=a=>({"null-color":a});function Ct(a,p){1&a&&e.nrm(0,"pre-loading")}function It(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Tt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Rt(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.personName,o)||(l.personName=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",19)(7,"label",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",23),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.birthdate,o)||(l.birthdate=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-dropdown",25),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,o)||(l.selectedRelativeRelation=o),e.Njj(o)}),e.bIt("onChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectRelativeRelation(o))}),e.k0s()(),e.j41(18,"div",19)(19,"label",20),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"textarea",21),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.discreption,o)||(l.discreption=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",19)(25,"button",26),e.nI1(26,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,16,"Person Name")),e.R7$(2),e.R50("ngModel",t.personName),e.Y8G("placeholder",e.bMT(5,18,"Enter Person Name Here")),e.R7$(4),e.JRh(e.bMT(9,20,"BirthDate")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.birthdate),e.Y8G("placeholder",e.bMT(11,22,"Enter BirthDate Here")),e.R7$(4),e.JRh(e.bMT(15,24,"Relative Relation Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType)("placeholder",e.bMT(17,26,"Enter Relative Relation Type")),e.R7$(4),e.JRh(e.bMT(21,28,"Discription")),e.R7$(2),e.R50("ngModel",t.discreption),e.Y8G("placeholder",e.bMT(23,30,"Enter Discription Here")),e.R7$(3),e.Y8G("label",e.bMT(26,32,"Insert New"))}}function jt(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"h5",28),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",29),e.nrm(5,"i",30),e.j41(6,"input",31),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Et(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",24),e.EFF(2,"RelativeRelation Type"),e.k0s(),e.j41(3,"p-dropdown",32),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,o)||(l.selectedRelativeRelation=o),e.Njj(o)}),e.k0s()(),e.j41(4,"div",19)(5,"label",22),e.EFF(6,"date "),e.k0s(),e.j41(7,"p-calendar",33),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.date,o)||(l.date=o),e.Njj(o)}),e.k0s()(),e.j41(8,"div",19)(9,"label",34),e.EFF(10,"Cost"),e.k0s(),e.j41(11,"input",35),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,o)||(l.cost=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",20),e.EFF(14,"Notes"),e.k0s(),e.j41(15,"textarea",36),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nots,o)||(l.nots=o),e.Njj(o)}),e.k0s()(),e.j41(16,"div",19)(17,"button",37),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType),e.R7$(4),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.R7$(4),e.R50("ngModel",t.cost),e.R7$(4),e.R50("ngModel",t.nots)}}function kt(a,p){1&a&&(e.j41(0,"tr")(1,"th",38),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,9,"Person Name")," "),e.R7$(3),e.JRh(e.bMT(8,11,"Relative Relation Name")),e.R7$(3),e.JRh(e.bMT(11,13,"BirthDate")),e.R7$(3),e.JRh(e.bMT(14,15,"Discription")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function Mt(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td",40)(4,"span",41),e.EFF(5,"personName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",40)(8,"span",41),e.EFF(9,"relativeRelationName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",40)(12,"span",41),e.EFF(13,"birthDate"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",40)(17,"span",41),e.EFF(18,"discreption"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",40)(21,"span",41),e.EFF(22,"creationTime"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"td",40)(25,"span",41),e.EFF(26,"lastModificationTime"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"td",40)(29,"span",41),e.EFF(30,"creatorName"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"td",40)(33,"span",41),e.EFF(34,"lastModifierName"),e.k0s(),e.EFF(35),e.k0s(),e.j41(36,"td")(37,"div",42)(38,"button",43),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(39,"button",44),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(20,$,!t.personName)),e.R7$(3),e.SpI(" ",t.personName?t.personName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,$,!t.relativeRelationName)),e.R7$(3),e.SpI(" ",t.relativeRelationName," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,$,!t.birthDate)),e.R7$(3),e.SpI(" ",e.i5U(15,17,t.birthDate,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,$,!t.discreption)),e.R7$(3),e.SpI(" ",t.discreption?t.discreption:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,$,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,$,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,$,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,$,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Dt(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.personName,o)||(l.product.personName=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",19)(7,"label",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",23),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.birthDate,o)||(l.product.birthDate=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-dropdown",25),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelationEdit,o)||(l.selectedRelativeRelationEdit=o),e.Njj(o)}),e.bIt("onChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedRelativeRelationEditFun(o))}),e.k0s()(),e.j41(18,"div",19)(19,"label",20),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"textarea",21),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discreption,o)||(l.product.discreption=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,15,"Person Name")),e.R7$(2),e.R50("ngModel",t.product.personName),e.Y8G("placeholder",e.bMT(5,17,"Enter Person Name Here")),e.R7$(4),e.SpI("",e.bMT(9,19,"BirthDate")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.birthDate),e.Y8G("placeholder",e.bMT(11,21,"Enter BirthDate Here")),e.R7$(4),e.JRh(e.bMT(15,23,"Relative Relation Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelationEdit),e.Y8G("options",t.dropdownItemsRelativeRelationType)("placeholder",e.bMT(17,25,"Enter Relative Relation Type")),e.R7$(4),e.JRh(e.bMT(21,27,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discreption),e.Y8G("placeholder",e.bMT(23,29,"Enter Discription Here"))}}function Nt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",45),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",46),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function xt(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function wt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function vt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let St=(()=>{class a{constructor(t,n,o,l){this.employeeFamilyService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeFamily",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFamilyService.setCulture(t),this.employeeFamilyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes()}editProduct(t){console.log(t.id),t.birthDate=this.convertDate(t.birthDate,"MM/dd/yyyy"),this.employeeFamilyService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(o=>o.id==n.data.relativeRelationId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),n.data.birthDate=this.convertDate(n.data.birthDate,"MM/dd/yyyy"),console.log(n.data.date),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeFamilyService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={relativeRelationId:this.selectedRelativeRelationType,employeeId:this.currentId,birthDate:this.convertDate(this.birthdate,"yyyy-MM-ddTHH:mm:ss"),personName:this.personName,discreption:this.discreption};console.log(t),this.employeeFamilyService.Register(t).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.birthdate=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeFamilyService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={relativeRelationId:this.selectedRelativeRelationEdit.id,employeeId:this.currentId,birthDate:this.convertDate(n.birthDate,"yyyy-MM-ddTHH:mm:ss"),personName:n.personName,discreption:n.discreption,id:n.id};this.employeeFamilyService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeFamilyService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getRelativeRelationTypes(){this.employeeFamilyService.getDropdownField("RelativeRelation").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)},error:t=>{console.log(t)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(yt),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-family"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ft,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:32,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","name-ar"],["name","date","inputId","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","ContractType"],["optionLabel","name",3,"ngModelChange","onChange","ngModel","options","placeholder"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModelChange","ngModel","options"],["name","date","inputId","date","placeholder","date",3,"ngModelChange","showIcon","iconDisplay","ngModel"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModelChange","ngModel"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModelChange","ngModel"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ct,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,It,5,7,"ng-template",3)(4,Tt,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Rt,27,34,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,jt,8,7,"ng-template",8)(11,Et,18,7,"ng-template",6)(12,kt,30,27,"ng-template",9)(13,Mt,40,36,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",5),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(16,Dt,24,31,"ng-template",6)(17,Nt,4,6,"ng-template",11),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,xt,6,4,"span",1),e.k0s(),e.DNE(23,wt,2,0,"ng-template",11),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,vt,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,K)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(6),e.Aen(e.lJ4(42,K)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(15,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,K)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(19,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,K)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(25,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.Q0,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,J.Z,P.ms,S.Vv,M.m]})}}return a})();var Gt=_(5312);let Pt=(()=>{class a extends F.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Vt=_(320);const Bt=["dt"],W=()=>({width:"450px"}),H=a=>({"null-color":a});function Yt(a,p){1&a&&e.nrm(0,"pre-loading")}function $t(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Xt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ht(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,o)||(l.selectedRelativeRelation=o),e.Njj(o)}),e.bIt("onChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectRelativeRelation(o))}),e.k0s()(),e.j41(6,"div",19)(7,"label",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",23),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.date,o)||(l.date=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"textarea",25),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.discreption,o)||(l.discreption=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",19)(19,"label",26),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"p-fileUpload",27),e.nI1(23,"translate"),e.bIt("onSelect",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onFileSelect(o))}),e.k0s()(),e.j41(24,"div",19)(25,"button",28),e.nI1(26,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,15,"Document Required Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType)("placeholder",e.bMT(5,17,"Enter Document Required Type")),e.R7$(4),e.JRh(e.bMT(9,19,"Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(11,21,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(15,23,"Discription")),e.R7$(2),e.R50("ngModel",t.discreption),e.Y8G("placeholder",e.bMT(17,25,"Enter Discription Here")),e.R7$(4),e.SpI("",e.bMT(21,27,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(23,29,"Choose")),e.R7$(3),e.Y8G("label",e.bMT(26,31,"Insert New"))}}function Jt(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Ot(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2,"RelativeRelation Type"),e.k0s(),e.j41(3,"p-dropdown",34),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,o)||(l.selectedRelativeRelation=o),e.Njj(o)}),e.k0s()(),e.j41(4,"div",19)(5,"label",22),e.EFF(6,"date "),e.k0s(),e.j41(7,"p-calendar",35),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.date,o)||(l.date=o),e.Njj(o)}),e.k0s()(),e.j41(8,"div",19)(9,"label",36),e.EFF(10,"Cost"),e.k0s(),e.j41(11,"input",37),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,o)||(l.cost=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14,"Notes"),e.k0s(),e.j41(15,"textarea",38),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nots,o)||(l.nots=o),e.Njj(o)}),e.k0s()(),e.j41(16,"div",19)(17,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType),e.R7$(4),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.R7$(4),e.R50("ngModel",t.cost),e.R7$(4),e.R50("ngModel",t.nots)}}function Lt(a,p){1&a&&(e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,9,"Document Required Name")," "),e.R7$(3),e.JRh(e.bMT(8,11,"Date")),e.R7$(3),e.JRh(e.bMT(11,13,"Url")),e.R7$(3),e.JRh(e.bMT(14,15,"Discription")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function Ut(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td",42)(4,"span",43),e.EFF(5,"documentRequiredName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",42)(8,"span",43),e.EFF(9,"date"),e.k0s(),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td")(13,"span",43),e.EFF(14,"Url"),e.k0s(),e.j41(15,"a",44),e.EFF(16),e.nI1(17,"translate"),e.k0s()(),e.j41(18,"td",42)(19,"span",43),e.EFF(20,"discreption"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"td",42)(23,"span",43),e.EFF(24,"creationTime"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"td",42)(27,"span",43),e.EFF(28,"lastModificationTime"),e.k0s(),e.EFF(29),e.k0s(),e.j41(30,"td",42)(31,"span",43),e.EFF(32,"creatorName"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",42)(35,"span",43),e.EFF(36,"lastModifierName"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td")(39,"div",45)(40,"button",46),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(41,"button",47),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit,n=e.XpG();e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(22,H,!t.documentRequiredName)),e.R7$(3),e.SpI(" ",t.documentRequiredName," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,H,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(11,17,t.date,"dd/MM/YYYY")," "),e.R7$(5),e.Y8G("href",n.baseUrlFile.concat("/",t.url),e.B4B),e.R7$(),e.JRh(e.bMT(17,20,"View")),e.R7$(2),e.Y8G("ngClass",e.eq3(26,H,!t.discreption)),e.R7$(3),e.SpI(" ",t.discreption?t.discreption:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,H,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,H,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,H,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,H,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function qt(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",48),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelationEdit,o)||(l.selectedRelativeRelationEdit=o),e.Njj(o)}),e.bIt("onChange",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedRelativeRelationEditFun(o))}),e.k0s()(),e.j41(5,"div",19)(6,"label",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"p-calendar",23),e.nI1(10,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,o)||(l.product.date=o),e.Njj(o)}),e.k0s()(),e.j41(11,"div",19)(12,"label",24),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"textarea",25),e.nI1(16,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discreption,o)||(l.product.discreption=o),e.Njj(o)}),e.k0s()(),e.j41(17,"div",19)(18,"label",26),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"p-fileUpload",27),e.nI1(22,"translate"),e.bIt("onSelect",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.onFileSelect(o))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,13,"Document Required Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelationEdit),e.Y8G("options",t.dropdownItemsRelativeRelationType),e.R7$(3),e.SpI("",e.bMT(8,15,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.date),e.Y8G("placeholder",e.bMT(10,17,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(14,19,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discreption),e.Y8G("placeholder",e.bMT(16,21,"Enter Discription Here")),e.R7$(4),e.SpI(" ",e.bMT(20,23,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(22,25,"Choose"))}}function At(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",50),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function zt(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Qt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function Kt(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",52),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let Wt=(()=>{class a{constructor(t,n,o,l){this.employeeFileService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.baseUrlFile=Gt.c.mediaUrl}ngOnInit(){this.endPoint="EmployeeFile",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFileService.setCulture(t),this.employeeFileService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes()}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeFileService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(o=>o.id==n.data.documentRequiredId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),n.data.date=this.convertDate(n.data.date,"MM/dd/yyyy"),console.log(n.data.date),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeFileService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}addNew(){let t={DocumentRequiredId:this.selectedRelativeRelationType,EmployeeId:this.currentId,Date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),Discreption:this.discreption,File:this.file};console.log(t);const n=new FormData;for(const o in t)t.hasOwnProperty(o)&&n.append(o,t[o]);console.log(t),this.employeeFileService.Register(n).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.date=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,n,o,l,s){this.loading=!0;let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.currentId};i.sortType=this.sortOrder,this.employeeFileService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={DocumentRequiredId:this.selectedRelativeRelationEdit.id,employeeId:this.currentId,date:this.convertDate(n.date,"yyyy-MM-ddTHH:mm:ss"),personName:n.personName,discreption:n.discreption,id:n.id,File:this.file};const l=new FormData;for(const s in o)o.hasOwnProperty(s)&&l.append(s,o[s]);this.employeeFileService.Edit(l).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:s=>{console.log(s)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.employeeFileService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}getRelativeRelationTypes(){this.employeeFileService.getDropdownField("DocumentRequired").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)},error:t=>{console.log(t)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}onFileSelect(t){console.log(t);let n=t.currentFiles[0];this.file=n,console.log(n)}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Pt),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-file"]],viewQuery:function(n,o){if(1&n&&e.GBs(Bt,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:32,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","ContractType"],["optionLabel","name",3,"ngModelChange","onChange","ngModel","options","placeholder"],["htmlFor","name-ar"],["name","date","inputId","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","date"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"onSelect","chooseLabel"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModelChange","ngModel","options"],["name","date","inputId","date","placeholder","date",3,"ngModelChange","showIcon","iconDisplay","ngModel"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModelChange","ngModel"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModelChange","ngModel"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["optionLabel","name","placeholder","Enter Document Required Type",3,"ngModelChange","onChange","ngModel","options"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Yt,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,$t,5,7,"ng-template",3)(4,Xt,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Ht,27,33,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,Jt,8,7,"ng-template",8)(11,Ot,18,7,"ng-template",6)(12,Lt,30,27,"ng-template",9)(13,Ut,42,36,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",5),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(16,qt,23,27,"ng-template",6)(17,At,4,6,"ng-template",11),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,zt,6,4,"span",1),e.k0s(),e.DNE(23,Qt,2,0,"ng-template",11),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Kt,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,W)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(6),e.Aen(e.lJ4(42,W)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(15,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,W)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(19,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,W)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(25,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.Q0,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,Vt.N,j._f,x.l,E.y8,k.S,J.Z,P.ms,S.Vv,M.m]})}}return a})();var O=_(5780);let Zt=(()=>{class a extends F.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const eo=["dt"],Z=()=>({width:"450px"}),ee=a=>({"null-color":a});function to(a,p){1&a&&e.nrm(0,"pre-loading")}function oo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function no(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function lo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedLocation,o)||(l.selectedLocation=o),e.Njj(o)}),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onChangeLocation())}),e.k0s()(),e.j41(6,"div",19)(7,"button",22),e.nI1(8,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"Location")),e.R7$(2),e.FS9("placeholder",e.bMT(5,8,"Select a Location")),e.Y8G("options",t.locationDropDown),e.R50("ngModel",t.selectedLocation),e.Y8G("showClear",!0),e.R7$(3),e.Y8G("label",e.bMT(8,10,"Insert New"))}}function ao(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.nrm(5,"i",26),e.j41(6,"input",27),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function io(a,p){1&a&&(e.j41(0,"tr")(1,"th",28),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,7,"Employee")),e.R7$(3),e.JRh(e.bMT(8,9,"Location")),e.R7$(3),e.JRh(e.bMT(11,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(14,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(17,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(20,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(23,19,"Actions")))}function so(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",29),e.k0s(),e.j41(3,"td")(4,"span",30),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",30),e.EFF(9,"locationName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",31)(12,"span",30),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",31)(17,"span",30),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",31)(22,"span",30),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",31)(26,"span",30),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",32)(31,"button",33),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(32,"button",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",t.locationName?t.locationName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,ee,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,ee,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(21,ee,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,ee,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ro(a,p){1&a&&(e.j41(0,"small",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"location is required.")))}function po(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedLocationEdit,o)||(l.selectedLocationEdit=o),e.Njj(o)}),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onChangeLocationEdit())}),e.k0s(),e.DNE(6,ro,3,3,"small",35),e.k0s()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"Location")),e.R7$(2),e.FS9("placeholder",e.bMT(5,8,"Select a Location")),e.Y8G("options",t.locationDropDown),e.R50("ngModel",t.selectedLocationEdit),e.Y8G("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.submitted&&!t.product.locationId)}}function co(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",37),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",38),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function mo(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function uo(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",40),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function ho(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",40),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let _o=(()=>{class a{constructor(t,n,o){this._EmployeeLocationService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeLocation",this._EmployeeLocationService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation()}getLocation(){this._EmployeeLocationService.getDropDown("Location").subscribe({next:t=>{console.log(t.data),this.locationDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeLocationService.GetById(t.id).subscribe({next:n=>{console.log(n.data),console.log("location Drop Down"),console.log(this.locationDropDown),this.selectedLocationEdit=this.locationDropDown.find(o=>o.id==t.locationId),console.log(this.selectedLocationEdit),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeLocationService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o)}})}addNew(){this._EmployeeLocationService.Register({employeeId:this.empId,locationId:this.selectedLocationId}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedLocation=null}onChangeLocation(){this.selectedLocationId=this.selectedLocation?.id}onChangeLocationEdit(){this.selectedLocationEditId=this.selectedLocationEdit?.id}loadData(t,n,o,l,s,i){this.loading=!0;let c={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:i};c.sortType=this.sortOrder,console.log("FilteredData"),console.log(c),this._EmployeeLocationService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={id:n.id,locationId:this.selectedLocationEditId,employeeId:this.empId};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeLocationService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeLocationService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Zt),e.rXU(h.bg),e.rXU(b.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-location"]],viewQuery:function(n,o){if(1&n&&e.GBs(eo,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","location"],["optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,to,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,oo,5,7,"ng-template",3)(4,no,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,lo,9,12,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,ao,8,7,"ng-template",8)(11,io,24,21,"ng-template",9)(12,so,33,25,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,po,7,10,"ng-template",6)(16,co,4,6,"ng-template",11),e.k0s(),e.j41(17,"p-dialog",12),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",13),e.nrm(20,"i",14),e.DNE(21,mo,6,4,"span",1),e.k0s(),e.DNE(22,uo,2,0,"ng-template",11),e.k0s(),e.j41(23,"p-dialog",12),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,ho,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,Z)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,Z)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,Z)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,Z)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,P.ms,M.m]})}}return a})(),go=(()=>{class a extends F.${constructor(t){super(t)}getDropDownManager(t){return this.http.get(`${this.baseurl}/${t}/GetMangerDropDown/?culture=${this.culture}`)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const bo=["dt"],te=()=>({width:"450px"}),oe=a=>({"null-color":a});function fo(a,p){1&a&&e.nrm(0,"pre-loading")}function yo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Fo(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Co(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedManager,o)||(l.selectedManager=o),e.Njj(o)}),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onChangeManager())}),e.k0s()(),e.j41(6,"div",19)(7,"button",22),e.nI1(8,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"Manager")),e.R7$(2),e.Y8G("options",t.managerDropDown),e.R50("ngModel",t.selectedManager),e.Y8G("placeholder",e.bMT(5,8,"Select a manager"))("showClear",!0),e.R7$(3),e.Y8G("label",e.bMT(8,10,"Insert New"))}}function Io(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.nrm(5,"i",26),e.j41(6,"input",27),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function To(a,p){1&a&&(e.j41(0,"tr")(1,"th",28),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,7,"Employee")),e.R7$(3),e.JRh(e.bMT(8,9,"Manager")),e.R7$(3),e.JRh(e.bMT(11,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(14,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(17,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(20,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(23,19,"Actions")))}function Ro(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",29),e.k0s(),e.j41(3,"td")(4,"span",30),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",30),e.EFF(9,"mangerName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",31)(12,"span",30),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",31)(17,"span",30),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",31)(22,"span",30),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",31)(26,"span",30),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",32)(31,"button",33),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(32,"button",34),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",t.mangerName?t.mangerName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,oe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,oe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(21,oe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,oe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function jo(a,p){1&a&&(e.j41(0,"small",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"manager is required.")))}function Eo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedManagerEdit,o)||(l.selectedManagerEdit=o),e.Njj(o)}),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onChangeManagerEdit())}),e.k0s(),e.DNE(6,jo,3,3,"small",35),e.k0s()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"Manager")),e.R7$(2),e.FS9("placeholder",e.bMT(5,8,"Select a manager")),e.Y8G("options",t.managerDropDown),e.R50("ngModel",t.selectedManagerEdit),e.Y8G("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.submitted&&!t.product.managerId)}}function ko(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",37),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",38),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function Mo(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Do(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",40),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function No(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",40),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let xo=(()=>{class a{constructor(t,n,o){this._EmployeeManagerService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeManager",this._EmployeeManagerService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation()}getLocation(){this._EmployeeManagerService.getDropDownManager("Employee").subscribe({next:t=>{console.log(t.data),this.managerDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeManagerService.GetById(t.id).subscribe({next:n=>{console.log(n.data),console.log("location Drop Down"),console.log(this.managerDropDown),console.log("Manager Id"),console.log(t.mangerId),this.selectedManagerEdit=this.managerDropDown.find(o=>o.id==t.mangerId),console.log("selected manager edit"),console.log(this.selectedManagerEdit),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeManagerService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o)}})}addNew(){this._EmployeeManagerService.Register({employeeId:this.empId,mangerId:this.selectedManagerId}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedManager=null}onChangeManager(){this.selectedManagerId=this.selectedManager?.id}onChangeManagerEdit(){this.selectedManagerEditId=this.selectedManagerEdit?.id}loadData(t,n,o,l,s,i){this.loading=!0;let c={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:i};c.sortType=this.sortOrder,console.log("FilteredData"),console.log(c),this._EmployeeManagerService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,console.log(t),console.log(n);let o={id:n.id,mangerId:this.selectedManagerEditId,employeeId:this.empId};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeManagerService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeManagerService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(go),e.rXU(h.bg),e.rXU(b.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-manager"]],viewQuery:function(n,o){if(1&n&&e.GBs(bo,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","manager"],["optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,fo,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,yo,5,7,"ng-template",3)(4,Fo,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Co,9,12,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,Io,8,7,"ng-template",8)(11,To,24,21,"ng-template",9)(12,Ro,33,25,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,Eo,7,10,"ng-template",6)(16,ko,4,6,"ng-template",11),e.k0s(),e.j41(17,"p-dialog",12),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",13),e.nrm(20,"i",14),e.DNE(21,Mo,6,4,"span",1),e.k0s(),e.DNE(22,Do,2,0,"ng-template",11),e.k0s(),e.j41(23,"p-dialog",12),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,No,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,te)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,te)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,te)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,te)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,P.ms,M.m],styles:[".p-dialog{height:100%;box-shadow:none;justify-content:center;overflow:hidden}"]})}}return a})(),wo=(()=>{class a extends F.${constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const vo=["dt"],ne=()=>({width:"450px"}),le=a=>({"null-color":a}),ce=a=>({"ng-invalid ng-dirty":a});function So(a,p){1&a&&e.nrm(0,"pre-loading")}function Go(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Po(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Vo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",22),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.year,o)||(l.year=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",20)(7,"label",23),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",24),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.basicSalry,o)||(l.basicSalry=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",20)(13,"label",25),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",26),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.hawafez,o)||(l.hawafez=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",20)(19,"button",27),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,10,"Year")," "),e.R7$(2),e.FS9("placeholder",e.bMT(5,12,"Enter Year Here")),e.R50("ngModel",t.year),e.R7$(4),e.SpI("",e.bMT(9,14,"Basic Salary")," "),e.R7$(2),e.FS9("placeholder",e.bMT(11,16,"Enter Basic Salary Here")),e.R50("ngModel",t.basicSalry),e.R7$(4),e.SpI("",e.bMT(15,18,"Hawafez")," "),e.R7$(2),e.FS9("placeholder",e.bMT(17,20,"Enter Hawafez Here")),e.R50("ngModel",t.hawafez),e.R7$(3),e.Y8G("label",e.bMT(20,22,"Insert New"))}}function Bo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",28)(1,"h5",29),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",30),e.nrm(5,"i",31),e.j41(6,"input",32),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Yo(a,p){1&a&&(e.j41(0,"tr")(1,"th",33),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,9,"Employee")),e.R7$(3),e.JRh(e.bMT(8,11,"Basic Salary")),e.R7$(3),e.JRh(e.bMT(11,13,"Hawafez")),e.R7$(3),e.JRh(e.bMT(14,15,"Year")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function $o(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",34),e.k0s(),e.j41(3,"td")(4,"span",35),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",35),e.EFF(9,"basicSalry"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",35),e.EFF(13,"hawafez"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"span",35),e.EFF(17,"year"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",36)(20,"span",35),e.EFF(21,"creationTime"),e.k0s(),e.EFF(22),e.nI1(23,"date"),e.k0s(),e.j41(24,"td",36)(25,"span",35),e.EFF(26,"lastModificationTime"),e.k0s(),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.j41(29,"td",36)(30,"span",35),e.EFF(31,"creatorName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",36)(34,"span",35),e.EFF(35,"lastModifierName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td")(38,"div",37)(39,"button",38),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(40,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName," "),e.R7$(4),e.SpI(" ",t.basicSalry," "),e.R7$(4),e.SpI(" ",t.hawafez," "),e.R7$(4),e.SpI(" ",t.year," "),e.R7$(),e.Y8G("ngClass",e.eq3(19,le,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(23,13,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(21,le,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(28,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(23,le,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,le,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName," ")}}function Xo(a,p){1&a&&(e.j41(0,"small",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"year is required.")))}function Ho(a,p){1&a&&(e.j41(0,"small",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"basicSalry is required.")))}function Jo(a,p){1&a&&(e.j41(0,"small",47),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Hawafez is required.")))}function Oo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"label",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",41),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,o)||(l.product.year=o),e.Njj(o)}),e.k0s(),e.DNE(5,Xo,3,3,"small",42),e.k0s(),e.j41(6,"div",20)(7,"label",43),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",44),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.basicSalry,o)||(l.product.basicSalry=o),e.Njj(o)}),e.k0s(),e.DNE(11,Ho,3,3,"small",42),e.k0s(),e.j41(12,"div",20)(13,"label",45),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",46),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.hawafez,o)||(l.product.hawafez=o),e.Njj(o)}),e.k0s(),e.DNE(17,Jo,3,3,"small",42),e.k0s()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,12,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("ngClass",e.eq3(18,ce,t.submitted&&!t.product.year)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.year),e.R7$(3),e.JRh(e.bMT(9,14,"Basic Salary")),e.R7$(2),e.R50("ngModel",t.product.basicSalry),e.Y8G("ngClass",e.eq3(20,ce,t.submitted&&!t.product.basicSalry)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.basicSalry),e.R7$(3),e.JRh(e.bMT(15,16,"Hawafez")),e.R7$(2),e.R50("ngModel",t.product.hawafez),e.Y8G("ngClass",e.eq3(22,ce,t.submitted&&!t.product.hawafez)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.hawafez)}}function Lo(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",49),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function Uo(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function qo(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",49),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Ao(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let zo=(()=>{class a{constructor(t,n,o){this._EmployeeSalaryService=t,this.messageService=n,this.route=o,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeSalary",this._EmployeeSalaryService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"basicSalry",header:"BasicSalry"},{field:"hawafez",header:"Hawafez"},{field:"year",header:"Year"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeSalaryService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeSalaryService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o)}})}addNew(){this._EmployeeSalaryService.Register({employeeId:this.empId,basicSalry:this.basicSalry,hawafez:this.hawafez,year:this.year}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.year=null,this.basicSalry=null,this.hawafez=null}loadData(t,n,o,l,s,i){this.loading=!0;let c={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:i};c.sortType=this.sortOrder,console.log("FilteredData"),console.log(c),this._EmployeeSalaryService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0;let o={id:n.id,employeeId:this.empId,badal:n.badal,basicSalry:n.basicSalry,kpi:n.kpi,changing:n.changing,hawafez:n.hawafez,year:n.year};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeSalaryService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeSalaryService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(wo),e.rXU(h.bg),e.rXU(b.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-salary"]],viewQuery:function(n,o){if(1&n&&e.GBs(vo,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:30,vars:42,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","year"],["pInputText","","id","year","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","basicSalry"],["pInputText","","id","basicSalry","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","hawafez"],["pInputText","","id","hawafez","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","year"],["type","text","pInputText","","id","year","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","basicSalry"],["type","text","pInputText","","id","basicSalry","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","hawafez"],["type","text","pInputText","","id","hawafez","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,So,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,Go,5,7,"ng-template",3)(4,Po,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,Vo,21,24,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,Bo,8,7,"ng-template",8)(11,Yo,30,27,"ng-template",9)(12,$o,41,27,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",11),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(14,Oo,18,24,"ng-template",6)(15,Lo,4,6,"ng-template",12),e.k0s(),e.j41(16,"p-dialog",13),e.nI1(17,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(18,"div",14),e.nrm(19,"i",15),e.DNE(20,Uo,6,4,"span",1),e.k0s(),e.DNE(21,qo,4,6,"ng-template",12),e.k0s(),e.j41(22,"p-dialog",13),e.nI1(23,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(24,"div",14),e.nrm(25,"i",15),e.j41(26,"span"),e.EFF(27),e.nI1(28,"translate"),e.k0s()(),e.DNE(29,Ao,2,0,"ng-template",12),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(38,ne)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,30,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(39,ne)),e.R50("visible",o.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(40,ne)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(17,32,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(41,ne)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(23,34,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(28,36,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.YS,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,M.m]})}}return a})(),Qo=(()=>{class a extends F.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Ko=["dt"],ae=()=>({width:"450px"}),ie=a=>({"null-color":a}),me=a=>({"ng-invalid ng-dirty":a});function Wo(a,p){1&a&&e.nrm(0,"pre-loading")}function Zo(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function en(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function tn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changedSelectedUniformCode())}),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedUnifromCode,o)||(l.selectedUnifromCode=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",19)(7,"label",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",23),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDate,o)||(l.selectedDate=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",25),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCost,o)||(l.selectedCost=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",19)(19,"label",26),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",27),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedNotes,o)||(l.selectedNotes=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",19)(25,"button",28),e.nI1(26,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,17,"Uniform Code")),e.R7$(2),e.Y8G("options",t.uniformCodesDropDown),e.R50("ngModel",t.selectedUnifromCode),e.Y8G("placeholder",e.bMT(5,19,"Select Uniform Code"))("showClear",!0),e.R7$(4),e.SpI("",e.bMT(9,21,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(11,23,"MM/DD/YYYY")),e.R50("ngModel",t.selectedDate),e.R7$(4),e.SpI("",e.bMT(15,25,"Cost")," "),e.R7$(2),e.FS9("placeholder",e.bMT(17,27,"Enter Cost Here")),e.R50("ngModel",t.selectedCost),e.R7$(4),e.SpI("",e.bMT(21,29,"Notes")," "),e.R7$(2),e.FS9("placeholder",e.bMT(23,31,"Enter notes Here")),e.R50("ngModel",t.selectedNotes),e.R7$(3),e.Y8G("label",e.bMT(26,33,"Insert New"))}}function on(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function nn(a,p){1&a&&(e.j41(0,"tr")(1,"th",34),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,9,"UniformCodeName")),e.R7$(3),e.JRh(e.bMT(8,11,"Date")),e.R7$(3),e.JRh(e.bMT(11,13,"Cost")),e.R7$(3),e.JRh(e.bMT(14,15,"Notes")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function ln(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",35),e.k0s(),e.j41(3,"td")(4,"span",36),e.EFF(5,"uniformCodeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",36),e.EFF(9,"date"),e.k0s(),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td")(13,"span",36),e.EFF(14,"cost"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"td")(17,"span",36),e.EFF(18,"nots"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",37)(21,"span",36),e.EFF(22,"creationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",37)(26,"span",36),e.EFF(27,"lastModificationTime"),e.k0s(),e.EFF(28),e.nI1(29,"date"),e.k0s(),e.j41(30,"td",37)(31,"span",36),e.EFF(32,"creatorName"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",37)(35,"span",36),e.EFF(36,"lastModifierName"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td")(39,"div",38)(40,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(41,"button",40),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.uniformCodeName?t.uniformCodeName:""," "),e.R7$(4),e.SpI(" ",e.i5U(11,13,t.date,"yyyy-MM-dd")," "),e.R7$(5),e.SpI(" ",t.cost?t.cost:""," "),e.R7$(4),e.SpI(" ",t.nots?t.nots:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,ie,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,16,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(24,ie,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(29,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,ie,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,ie,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function an(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",41),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-calendar",42),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,o)||(l.product.date=o),e.Njj(o)}),e.k0s()(),e.j41(5,"div",19)(6,"label",20),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"p-dropdown",43),e.nI1(10,"translate"),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changedSelectedUniformCode())}),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedUnifromCodeEdit,o)||(l.selectedUnifromCodeEdit=o),e.Njj(o)}),e.k0s()(),e.j41(11,"div",19)(12,"label",24),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",25),e.nI1(16,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.cost,o)||(l.product.cost=o),e.Njj(o)}),e.k0s()(),e.j41(17,"div",19)(18,"label",26),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",27),e.nI1(22,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.nots,o)||(l.product.nots=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,17,"Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.date),e.Y8G("ngClass",e.eq3(31,me,t.submitted&&!t.product.date)),e.R7$(3),e.JRh(e.bMT(8,19,"Uniform Code")),e.R7$(2),e.Y8G("options",t.uniformCodesDropDown),e.R50("ngModel",t.selectedUnifromCodeEdit),e.Y8G("placeholder",e.bMT(10,21,"Select Uniform Code"))("showClear",!0)("ngClass",e.eq3(33,me,t.submitted&&!t.product.uniformCodeId)),e.R7$(4),e.SpI("",e.bMT(14,23,"Cost")," "),e.R7$(2),e.FS9("placeholder",e.bMT(16,25,"Enter cost")),e.R50("ngModel",t.product.cost),e.R7$(4),e.SpI("",e.bMT(20,27,"Notes")," "),e.R7$(2),e.FS9("placeholder",e.bMT(22,29,"Enter nots Here")),e.R50("ngModel",t.product.nots)}}function sn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}}function rn(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,2,"Are you sure you want to delete")),e.R7$(3),e.JRh(t.product.name)}}function pn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function cn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let dn=(()=>{class a{constructor(t,n,o,l){this._EmployeeUniformService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeUniform",this._EmployeeUniformService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"uniformCodeName",header:"UniformCodeName"},{field:"date",header:"Date"},{field:"cost",header:"Cost"},{field:"notes",header:"notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown()}getDropDown(){this._EmployeeUniformService.getDropDown("UniformCodes").subscribe({next:t=>{this.uniformCodesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)},error:t=>{console.log("Error in Unifrom Codes DropDown"),console.error(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeUniformService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0,this.selectedDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.selectedUnifromCodeEdit=this.uniformCodesDropDown.find(o=>o.id==this.product.uniformCodeId)},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeUniformService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o)}})}addNew(){this.selectedDate=this.DatePipe.transform(this.selectedDate,"yyyy-MM-dd"),this._EmployeeUniformService.Register({employeeId:this.empId,uniformCodeId:this.selectedUnifromCode?.id,date:this.selectedDate,cost:this.selectedCost,nots:this.selectedNotes}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){}loadData(t,n,o,l,s,i){this.loading=!0;let c={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:i};c.sortType=this.sortOrder,console.log("FilteredData"),console.log(c),this._EmployeeUniformService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,this.selectedDateEdit=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.product.date=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss");let o={id:n.id,employeeId:this.empId,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeUniformService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeUniformService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Qo),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-uniform"]],viewQuery:function(n,o){if(1&n&&e.GBs(Ko,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","uniformCode"],["optionLabel","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","date"],["inputId","icon",3,"ngModelChange","showIcon","iconDisplay","placeholder","ngModel"],["htmlFor","cost"],["pInputText","","id","cost","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","nots"],["pInputText","","id","nots","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","date"],["placeholder","MM/DD/YYYY","inputId","icon","autofocus","",3,"ngModelChange","showIcon","iconDisplay","ngModel","ngClass"],["optionLabel","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear","ngClass"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Wo,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,Zo,5,7,"ng-template",3)(4,en,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,tn,27,35,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,on,8,7,"ng-template",8)(11,nn,30,27,"ng-template",9)(12,ln,42,30,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,an,23,35,"ng-template",6)(16,sn,2,0,"ng-template",11),e.k0s(),e.j41(17,"p-dialog",12),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",13),e.nrm(20,"i",14),e.DNE(21,rn,6,4,"span",1),e.k0s(),e.DNE(22,pn,2,0,"ng-template",11),e.k0s(),e.j41(23,"p-dialog",12),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,cn,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,ae)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,ae)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,ae)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,ae)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,P.ms,S.Vv,M.m]})}}return a})(),mn=(()=>{class a extends F.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getDropDownVacationStock(t){return this.http.get(`${this.baseurl}/${t}/getStockVacationDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const un=["dt"],se=()=>({width:"450px"}),re=a=>({"null-color":a}),ue=a=>({"ng-invalid ng-dirty":a});function hn(a,p){1&a&&e.nrm(0,"pre-loading")}function _n(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function bn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",21),e.nI1(5,"translate"),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changedSelectedVacationType())}),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedVacationType,o)||(l.selectedVacationType=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",19)(7,"label",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",23),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStartDate,o)||(l.selectedStartDate=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",19)(13,"label",24),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",25),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedVacationBalance,o)||(l.selectedVacationBalance=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",19)(19,"label",26),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",27),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedYear,o)||(l.selectedYear=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",19)(25,"button",28),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,16,"Vacation Type")),e.R7$(2),e.Y8G("options",t.VacationTypesDropDown),e.R50("ngModel",t.selectedVacationType),e.Y8G("placeholder",e.bMT(5,18,"Select Vacation Type"))("showClear",!0),e.R7$(4),e.SpI("",e.bMT(9,20,"Start Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(11,22,"MM/DD/YYYY")),e.R50("ngModel",t.selectedStartDate),e.R7$(4),e.SpI("",e.bMT(15,24,"vacation Balance")," "),e.R7$(2),e.R50("ngModel",t.selectedVacationBalance),e.Y8G("placeholder",e.bMT(17,26,"Enter Vacation Balance Here")),e.R7$(4),e.SpI("",e.bMT(21,28,"Year")," "),e.R7$(2),e.FS9("placeholder",e.bMT(23,30,"Enter Year Here")),e.R50("ngModel",t.selectedYear)}}function fn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function yn(a,p){1&a&&(e.j41(0,"tr")(1,"th",34),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,9,"Start Date")),e.R7$(3),e.JRh(e.bMT(8,11,"vacation Type")),e.R7$(3),e.JRh(e.bMT(11,13,"vacation Balance")),e.R7$(3),e.JRh(e.bMT(14,15,"Year")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function Fn(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",35),e.k0s(),e.j41(3,"td")(4,"span",36),e.EFF(5,"StartDate"),e.k0s(),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td")(9,"span",36),e.EFF(10,"VacationType"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"span",36),e.EFF(14,"VacationBalance"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"td")(17,"span",36),e.EFF(18,"year"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",37)(21,"span",36),e.EFF(22,"creationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",37)(26,"span",36),e.EFF(27,"lastModificationTime"),e.k0s(),e.EFF(28),e.nI1(29,"date"),e.k0s(),e.j41(30,"td",37)(31,"span",36),e.EFF(32,"creatorName"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",37)(35,"span",36),e.EFF(36,"lastModifierName"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td")(39,"div",38)(40,"button",39),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(41,"button",40),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",e.i5U(7,13,t.startDate,"yyyy-MM-dd")," "),e.R7$(5),e.SpI(" ",t.vacationTypeName?t.vacationTypeName:""," "),e.R7$(4),e.SpI(" ",t.vacationBalance?t.vacationBalance:""," "),e.R7$(4),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,re,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,16,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(24,re,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(29,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,re,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,re,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Cn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"label",41),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-calendar",42),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStartDateEdit,o)||(l.selectedStartDateEdit=o),e.Njj(o)}),e.k0s()(),e.j41(5,"div",19)(6,"label",43),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"p-dropdown",44),e.nI1(10,"translate"),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changedSelectedVacationTypeEdit())}),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedVacationTypeEdit,o)||(l.selectedVacationTypeEdit=o),e.Njj(o)}),e.k0s()(),e.j41(11,"div",19)(12,"label",24),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",25),e.nI1(16,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.vacationBalance,o)||(l.product.vacationBalance=o),e.Njj(o)}),e.k0s()(),e.j41(17,"div",19)(18,"label",26),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",27),e.nI1(22,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,o)||(l.product.year=o),e.Njj(o)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,17,"Start Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.selectedStartDateEdit),e.Y8G("ngClass",e.eq3(31,ue,t.submitted&&!t.product.startDate)),e.R7$(3),e.JRh(e.bMT(8,19,"Vacation Type")),e.R7$(2),e.Y8G("options",t.VacationTypesDropDown),e.R50("ngModel",t.selectedVacationTypeEdit),e.Y8G("placeholder",e.bMT(10,21,"Select Vacation Type"))("showClear",!0)("ngClass",e.eq3(33,ue,t.submitted&&!t.product.vacationTypeId)),e.R7$(4),e.SpI("",e.bMT(14,23,"Vacation Balance")," "),e.R7$(2),e.FS9("placeholder",e.bMT(16,25,"Enter Vacation Balance Here")),e.R50("ngModel",t.product.vacationBalance),e.R7$(4),e.SpI("",e.bMT(20,27,"Year")," "),e.R7$(2),e.FS9("placeholder",e.bMT(22,29,"Enter Year")),e.R50("ngModel",t.product.year)}}function In(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(1,"button",46),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}}function Tn(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Rn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}}function jn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}}let En=(()=>{class a{constructor(t,n,o,l){this._EmployeeVacationStockService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeVacationStock",this._EmployeeVacationStockService.setEndPoint(this.endPoint),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeVacationStockService.setCulture(t),this._EmployeeVacationStockService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}),this.cols=[{field:"start Date",header:"Start Date"},{field:"vacation Balance",header:"Vacation Balance"},{field:"vacation Type",header:"Vacation Type"},{field:"year",header:"Year"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown()}getDropDown(){this._EmployeeVacationStockService.getDropDownVacationStock("VacationType").subscribe({next:t=>{this.VacationTypesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)},error:t=>{console.log("Error in Unifrom Codes DropDown"),console.error(t)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeVacationStockService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0,this.selectedStartDateEdit=this.DatePipe.transform(this.product.startDate,"MM/dd/yyyy"),this.product.startDate=this.DatePipe.transform(this.product.startDate,"MM/dd/yyyy"),this.selectedVacationTypeEdit=this.VacationTypesDropDown.find(o=>o.id==this.product.vacationTypeId)},error:n=>{console.log(n)}})}confirmDelete(t){this._EmployeeVacationStockService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:o=>{console.log(o)}})}addNew(){this.selectedStartDate=this.DatePipe.transform(this.selectedStartDate,"yyyy-MM-dd"),this._EmployeeVacationStockService.Register({EmployeeId:this.empId,VacationTypeId:this.selectedVacationType?.id,Date:this.selectedStartDate,Year:this.selectedYear,VacationBalance:this.selectedVacationBalance}).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}setFieldsNulls(){this.selectedStartDate=null,this.selectedVacationType=null}loadData(t,n,o,l,s,i){this.loading=!0;let c={PageNumber:t,pageSize:n,FilterValue:o,FilterType:l,SortType:s,EmployeeId:i};c.SortType=this.sortOrder,console.log("FilteredData"),console.log(c);let d=new FormData;for(const D in c)c.hasOwnProperty(D)&&d.append(D,c[D]);this._EmployeeVacationStockService.GetPage(d).subscribe({next:D=>{console.log(D),this.allData=D.data,console.log(D.data),this.totalItems=D.totalItems,this.loading=!1,console.log(this.selectedItems)},error:D=>{console.log(D),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,this.selectedStartDateEdit=this.DatePipe.transform(this.product.startDate,"yyyy-MM-dd"),this.product.startDate=this.DatePipe.transform(this.product.startDate,"yyyy-MM-dd"),console.log("selectedVacationTypeEdit"),console.log(this.selectedVacationTypeEdit);let o={id:n.id,employeeId:this.empId,startDate:this.product.startDate,vacationTypeId:this.selectedVacationTypeEdit?.id,vacationBalance:this.product.vacationBalance,year:this.product.year};console.clear(),console.log("body here for editing.........."),console.log(o),this._EmployeeVacationStockService.Edit(o).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_`+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this._EmployeeVacationStockService.DeleteRange(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)},error:n=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.empId)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(mn),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-vacation-stock"]],viewQuery:function(n,o){if(1&n&&e.GBs(un,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:31,vars:45,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","VacationType"],["optionLabel","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","startDate"],["inputId","icon",3,"ngModelChange","showIcon","iconDisplay","placeholder","ngModel"],["htmlFor","vacationBalance"],["pInputText","","id","vacationBalance","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","year"],["pInputText","","id","year","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","label","Insert New",1,"w-25",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","startDate"],["placeholder","MM/DD/YYYY","inputId","icon","autofocus","",3,"ngModelChange","showIcon","iconDisplay","ngModel","ngClass"],["htmlFor","Vacation Type"],["optionLabel","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear","ngClass"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,hn,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,_n,5,7,"ng-template",3)(4,gn,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,bn,26,32,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(10,fn,8,7,"ng-template",8)(11,yn,30,27,"ng-template",9)(12,Fn,42,30,"ng-template",10),e.k0s(),e.j41(13,"p-dialog",5),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(15,Cn,23,35,"ng-template",6)(16,In,2,0,"ng-template",11),e.k0s(),e.j41(17,"p-dialog",12),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",13),e.nrm(20,"i",14),e.DNE(21,Tn,6,4,"span",1),e.k0s(),e.DNE(22,Rn,2,0,"ng-template",11),e.k0s(),e.j41(23,"p-dialog",12),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,jn,2,0,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(41,se)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,31,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(5),e.Aen(e.lJ4(42,se)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(14,33,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(43,se)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(18,35,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(44,se)),e.R50("visible",o.deleteProductsDialog),e.Y8G("header",e.bMT(24,37,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,39,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.vS,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,P.ms,S.Vv,M.m]})}}return a})(),kn=(()=>{class a extends F.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var he=_(5473);const Mn=["dt"],X=a=>({"null-color":a});function Dn(a,p){1&a&&e.nrm(0,"pre-loading")}function Nn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",30),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function xn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"h5",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",33),e.nrm(5,"i",34),e.j41(6,"input",35),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function wn(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",36),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",37),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(o))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",38),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"Notes")),e.R7$(3),e.JRh(e.bMT(12,12,"Date From")),e.R7$(3),e.JRh(e.bMT(15,14,"Date To")),e.R7$(3),e.JRh(e.bMT(18,16,"creationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(24,20,"creatorName")),e.R7$(3),e.JRh(e.bMT(27,22,"lastModifierName")))}function vn(a,p){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td",40)(4,"span",41),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",40)(8,"span",41),e.EFF(9,"notes"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",40)(12,"span",41),e.EFF(13,"dateFrom"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",40)(17,"span",41),e.EFF(18,"dateTo"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",40)(22,"span",41),e.EFF(23,"creationTime"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",40)(26,"span",41),e.EFF(27,"lastModificationTime"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",40)(30,"span",41),e.EFF(31,"creatorName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",40)(34,"span",41),e.EFF(35,"lastModifierName"),e.k0s(),e.EFF(36),e.k0s()()),2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(23,X,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,X,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,X,!t.dateFrom)),e.R7$(3),e.SpI(" ",e.i5U(15,17,t.dateFrom,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,X,!t.dateTo)),e.R7$(3),e.SpI(" ",e.i5U(20,20,t.dateTo,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,X,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,X,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,X,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,X,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}let Sn=(()=>{class a{constructor(t,n,o,l){this.employeeWeekendService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.filterForm=new r.gE({EmployeeId:new r.MJ(null),MangerId:new r.MJ(null),DateFrom:new r.MJ(null),DateTo:new r.MJ(null),LocationId:new r.MJ(null)}),this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null}ngOnInit(){this.endPoint="EmployeeWeekend",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeWeekendService.setCulture(t),this.employeeWeekendService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDowns()}getDropDowns(){this.employeeWeekendService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.employeeWeekendService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.employeeWeekendService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}loadData(t,n,o,l,s){this.loading=!0;let i={PageNumber:t,PageSize:n,FilterValue:o,FilterType:l,SortType:s,EmployeeId:this.currentId};i.SortType=this.sortOrder;const c=new FormData;for(const d in i)i.hasOwnProperty(d)&&c.append(d,i[d]);this.employeeWeekendService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}hideDialog(){this.productDialog=!1,this.submitted=!1}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}submitForm(t){t.patchValue({EmployeeId:this.currentId,MangerId:this.selectedManager?.id??null,LocationId:this.selectedVacationType?.id??null,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")}),console.log(t.value);const s={...Object.fromEntries(Object.entries(t.value).filter(([d,D])=>null!==D)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder,EmployeeId:this.currentId};console.log(s);const i=new FormData;for(const c in s)s.hasOwnProperty(c)&&i.append(c,s[c]),"VALID"==t.status&&this.employeeWeekendService.GetPage(i).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}})}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(kn),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-weekend"]],viewQuery:function(n,o){if(1&n&&e.GBs(Mn,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:53,vars:58,consts:[["dt",""],[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","formControlName","EmployeeId",3,"ngModelChange","options","ngModel","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","LocationId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Dn,1,0,"pre-loading",1),e.j41(2,"p-panel",2),e.nI1(3,"translate"),e.j41(4,"form",3),e.bIt("submit",function(){return e.eBV(l),e.Njj(o.submitForm(o.filterForm))}),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"p-dropdown",10),e.nI1(14,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedEmployee,i)||(o.selectedEmployee=i),e.Njj(i)}),e.k0s()(),e.j41(15,"div",11)(16,"label",12),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"p-dropdown",13),e.nI1(20,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedVacationType,i)||(o.selectedVacationType=i),e.Njj(i)}),e.k0s()(),e.j41(21,"div",11)(22,"label",14),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.nrm(25,"p-calendar",15),e.nI1(26,"translate"),e.k0s(),e.j41(27,"div",11)(28,"label",16),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.nrm(31,"p-calendar",17),e.nI1(32,"translate"),e.k0s(),e.j41(33,"div",11)(34,"label",18),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"p-dropdown",19),e.nI1(38,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedManager,i)||(o.selectedManager=i),e.Njj(i)}),e.k0s()(),e.j41(39,"div",20)(40,"div",21)(41,"button",22),e.nrm(42,"i",23),e.j41(43,"span"),e.EFF(44),e.nI1(45,"translate"),e.k0s()()()()()()()()()(),e.j41(46,"p-toolbar",24),e.DNE(47,Nn,2,4,"ng-template",25),e.k0s(),e.j41(48,"p-table",26,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(50,xn,8,7,"ng-template",27)(51,wn,28,24,"ng-template",28)(52,vn,37,39,"ng-template",29),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("header",e.bMT(3,34,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",o.filterForm),e.R7$(7),e.JRh(e.bMT(12,36,"Employee")),e.R7$(2),e.Y8G("options",o.dropdownItemsEmployees),e.R50("ngModel",o.selectedEmployee),e.Y8G("placeholder",e.bMT(14,38,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,40,"Location")),e.R7$(2),e.Y8G("options",o.dropdownItemsVacationTypes),e.R50("ngModel",o.selectedVacationType),e.Y8G("placeholder",e.bMT(20,42,"Enter Location Here")),e.R7$(4),e.SpI(" ",e.bMT(24,44,"From"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(26,46,"From")),e.R7$(4),e.SpI(" ",e.bMT(30,48,"To"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(32,50,"To")),e.R7$(4),e.JRh(e.bMT(36,52,"Manager")),e.R7$(2),e.Y8G("options",o.dropdownItemsManagers),e.R50("ngModel",o.selectedManager),e.Y8G("placeholder",e.bMT(38,54,"Enter Manager Name Here")),e.R7$(7),e.SpI(" ",e.bMT(45,56,"Filter")," "),e.R7$(4),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.BC,r.cb,r.vS,r.j4,r.JD,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.yc,u.S9,u.nA,R.n,j._f,E.y8,k.S,P.ms,he.Z,S.Vv,M.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}}return a})(),Gn=(()=>{class a extends F.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Pn=["dt"],Y=a=>({"null-color":a});function Vn(a,p){1&a&&e.nrm(0,"pre-loading")}function Bn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",31),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Yn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function $n(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",38),e.bIt("click",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(o))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",39),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,9,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,11,"Shift Name")),e.R7$(3),e.JRh(e.bMT(12,13,"Date From")),e.R7$(3),e.JRh(e.bMT(15,15,"Date To")),e.R7$(3),e.JRh(e.bMT(18,17,"Notes")),e.R7$(3),e.JRh(e.bMT(21,19,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,21,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,23,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,25,"lastModifierName")))}function Xn(a,p){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",40),e.k0s(),e.j41(3,"td",41)(4,"span",42),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",41)(8,"span",42),e.EFF(9,"shiftName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",41)(12,"span",42),e.EFF(13,"dateFrom"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",41)(17,"span",42),e.EFF(18,"dateTo"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",41)(22,"span",42),e.EFF(23,"notes"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",41)(26,"span",42),e.EFF(27,"creationTime"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",41)(30,"span",42),e.EFF(31,"lastModificationTime"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",41)(34,"span",42),e.EFF(35,"creatorName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",41)(38,"span",42),e.EFF(39,"lastModifierName"),e.k0s(),e.EFF(40),e.k0s()()),2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(25,Y,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,Y,!t.shiftName)),e.R7$(3),e.SpI(" ",t.shiftName?t.shiftName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,Y,!t.dateFrom)),e.R7$(3),e.SpI(" ",e.i5U(15,19,t.dateFrom,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,Y,!t.dateTo)),e.R7$(3),e.SpI(" ",e.i5U(20,22,t.dateTo,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,Y,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,Y,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,Y,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,Y,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,Y,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}let Hn=(()=>{class a{constructor(t,n,o,l){this.employeeShiftService=t,this.messageService=n,this.route=o,this.DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=N.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.filterForm=new r.gE({EmployeeId:new r.MJ(null),MangerId:new r.MJ(null),DateFrom:new r.MJ(null),DateTo:new r.MJ(null),LocationId:new r.MJ(null),ShiftId:new r.MJ(null)}),this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.selectedShift=null}ngOnInit(){this.endPoint="EmployeeShift",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeShiftService.setCulture(t),this.employeeShiftService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDowns()}getDropDowns(){this.employeeShiftService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}}),this.employeeShiftService.getDropdownField("Shift").subscribe({next:t=>{console.log(t.data),this.dropdownItemsShifts=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}loadData(t,n,o,l,s){this.loading=!0;let i={PageNumber:t,PageSize:n,FilterValue:o,FilterType:l,SortType:s,EmployeeId:this.currentId};i.SortType=this.sortOrder;const c=new FormData;for(const d in i)i.hasOwnProperty(d)&&c.append(d,i[d]);this.employeeShiftService.GetPage(c).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}hideDialog(){this.productDialog=!1,this.submitted=!1}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="data_export_"+(new Date).getTime()+".csv",s.click()}convertToCSV(t){if(!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,n){return this.DatePipe.transform(t,n)}submitForm(t){t.patchValue({EmployeeId:this.selectedEmployee?.id??null,MangerId:this.selectedManager?.id??null,LocationId:this.selectedVacationType?.id??null,ShiftId:this.selectedShift?.id??null,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")}),console.log(t.value);const s={...Object.fromEntries(Object.entries(t.value).filter(([d,D])=>null!==D)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(s);const i=new FormData;for(const c in s)s.hasOwnProperty(c)&&i.append(c,s[c]),"VALID"==t.status&&this.employeeShiftService.GetPage(i).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}})}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Gn),e.rXU(h.bg),e.rXU(b.nX),e.rXU(m.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-shift"]],viewQuery:function(n,o){if(1&n&&e.GBs(Pn,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([h.bg,m.vh]),e.aNF],decls:59,vars:66,consts:[["dt",""],[4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","formControlName","EmployeeId",3,"ngModelChange","options","ngModel","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","ShiftId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["formControlName","LocationId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Vn,1,0,"pre-loading",1),e.j41(2,"p-panel",2),e.nI1(3,"translate"),e.j41(4,"form",3),e.bIt("submit",function(){return e.eBV(l),e.Njj(o.submitForm(o.filterForm))}),e.j41(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"p-dropdown",10),e.nI1(14,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedEmployee,i)||(o.selectedEmployee=i),e.Njj(i)}),e.k0s()(),e.j41(15,"div",11)(16,"label",12),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"p-dropdown",13),e.nI1(20,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedShift,i)||(o.selectedShift=i),e.Njj(i)}),e.k0s()(),e.j41(21,"div",11)(22,"label",12),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"p-dropdown",14),e.nI1(26,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedVacationType,i)||(o.selectedVacationType=i),e.Njj(i)}),e.k0s()(),e.j41(27,"div",11)(28,"label",15),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.nrm(31,"p-calendar",16),e.nI1(32,"translate"),e.k0s(),e.j41(33,"div",11)(34,"label",17),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.nrm(37,"p-calendar",18),e.nI1(38,"translate"),e.k0s(),e.j41(39,"div",11)(40,"label",19),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"p-dropdown",20),e.nI1(44,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(o.selectedManager,i)||(o.selectedManager=i),e.Njj(i)}),e.k0s()(),e.j41(45,"div",21)(46,"div",22)(47,"button",23),e.nrm(48,"i",24),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()()()()()()()()()(),e.j41(52,"p-toolbar",25),e.DNE(53,Bn,2,4,"ng-template",26),e.k0s(),e.j41(54,"p-table",27,0),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(56,Yn,8,7,"ng-template",28)(57,$n,31,27,"ng-template",29)(58,Xn,41,43,"ng-template",30),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("header",e.bMT(3,38,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",o.filterForm),e.R7$(7),e.JRh(e.bMT(12,40,"Employee")),e.R7$(2),e.Y8G("options",o.dropdownItemsEmployees),e.R50("ngModel",o.selectedEmployee),e.Y8G("placeholder",e.bMT(14,42,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,44,"Shift")),e.R7$(2),e.Y8G("options",o.dropdownItemsShifts),e.R50("ngModel",o.selectedShift),e.Y8G("placeholder",e.bMT(20,46,"Select Shift")),e.R7$(4),e.JRh(e.bMT(24,48,"Location")),e.R7$(2),e.Y8G("options",o.dropdownItemsVacationTypes),e.R50("ngModel",o.selectedVacationType),e.Y8G("placeholder",e.bMT(26,50,"Enter Location Here")),e.R7$(4),e.SpI(" ",e.bMT(30,52,"From"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(32,54,"From")),e.R7$(4),e.SpI(" ",e.bMT(36,56,"To"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(38,58,"To")),e.R7$(4),e.JRh(e.bMT(42,60,"Manager")),e.R7$(2),e.Y8G("options",o.dropdownItemsManagers),e.R50("ngModel",o.selectedManager),e.Y8G("placeholder",e.bMT(44,62,"Enter Manager Name Here")),e.R7$(7),e.SpI(" ",e.bMT(51,64,"Filter")," "),e.R7$(4),e.Y8G("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0))},dependencies:[f.$,m.YU,m.bT,r.qT,r.me,r.BC,r.cb,r.vS,r.j4,r.JD,I.q,m.vh,g.D9,y.t,T.M,u.XI,h.Ei,u.Tg,u.yc,u.S9,u.nA,R.n,j._f,E.y8,k.S,P.ms,he.Z,S.Vv,M.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}}return a})(),Jn=(()=>{class a extends F.${constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||a)(e.KVO(C.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const On=["dt"],pe=()=>({width:"450px"}),L=a=>({"null-color":a}),U=a=>({"ng-invalid ng-dirty":a});function Ln(a,p){1&a&&e.nrm(0,"pre-loading")}function Un(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qn(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function An(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",22),e.nI1(5,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.year,o)||(l.year=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",20)(7,"label",23),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",24),e.nI1(11,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.hourValue,o)||(l.hourValue=o),e.Njj(o)}),e.k0s()(),e.j41(12,"div",20)(13,"label",25),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",26),e.nI1(17,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.minHour,o)||(l.minHour=o),e.Njj(o)}),e.k0s()(),e.j41(18,"div",20)(19,"label",27),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",28),e.nI1(23,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.maxHour,o)||(l.maxHour=o),e.Njj(o)}),e.k0s()(),e.j41(24,"div",20)(25,"label",29),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"input",30),e.nI1(29,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.jobNatureId,o)||(l.jobNatureId=o),e.Njj(o)}),e.k0s()(),e.j41(30,"div",20)(31,"button",31),e.nI1(32,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,16,"year")),e.R7$(2),e.R50("ngModel",t.year),e.Y8G("placeholder",e.bMT(5,18,"Enter year Here")),e.R7$(4),e.JRh(e.bMT(9,20,"hourValue")),e.R7$(2),e.R50("ngModel",t.hourValue),e.Y8G("placeholder",e.bMT(11,22,"Enter hour value Here")),e.R7$(4),e.JRh(e.bMT(15,24,"minHour")),e.R7$(2),e.R50("ngModel",t.minHour),e.Y8G("placeholder",e.bMT(17,26,"Enter minimum hour Here")),e.R7$(4),e.JRh(e.bMT(21,28,"maxHour")),e.R7$(2),e.R50("ngModel",t.maxHour),e.Y8G("placeholder",e.bMT(23,30,"Enter maximum hour Here")),e.R7$(4),e.JRh(e.bMT(27,32,"jobNatureId")),e.R7$(2),e.R50("ngModel",t.jobNatureId),e.Y8G("placeholder",e.bMT(29,34,"Enter job nature ID Here")),e.R7$(3),e.Y8G("label",e.bMT(32,36,"Insert New"))}}function zn(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,o)||(l.nameFilter=o),e.Njj(o)}),e.bIt("input",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Qn(a,p){1&a&&(e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,6,"year")),e.R7$(3),e.JRh(e.bMT(8,8,"hourValue")),e.R7$(3),e.JRh(e.bMT(11,10,"minHour")),e.R7$(3),e.JRh(e.bMT(14,12,"maxHour")),e.R7$(3),e.JRh(e.bMT(17,14,"jobNatureId")),e.R7$(3),e.JRh(e.bMT(20,16,"Actions")))}function Kn(a,p){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",38),e.k0s(),e.j41(3,"td",39)(4,"span",40),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"td",39)(9,"span",40),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",39)(14,"span",40),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"td",39)(19,"span",40),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",39)(24,"span",40),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.EFF(27),e.k0s(),e.j41(28,"td")(29,"div",41)(30,"button",42),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(o))}),e.k0s(),e.j41(31,"button",43),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(o))}),e.k0s()()()()}if(2&a){const t=p.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(26,L,!t.year)),e.R7$(2),e.JRh(e.bMT(6,16,"year")),e.R7$(2),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,L,!t.hourValue)),e.R7$(2),e.JRh(e.bMT(11,18,"hourValue")),e.R7$(2),e.SpI(" ",t.hourValue?t.hourValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,L,!t.minHour)),e.R7$(2),e.JRh(e.bMT(16,20,"minHour")),e.R7$(2),e.SpI(" ",t.minHour?t.minHour:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,L,!t.maxHour)),e.R7$(2),e.JRh(e.bMT(21,22,"maxHour")),e.R7$(2),e.SpI(" ",t.maxHour?t.maxHour:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,L,!t.jobNatureId)),e.R7$(2),e.JRh(e.bMT(26,24,"jobNatureId")),e.R7$(2),e.SpI(" ",t.jobNatureId?t.jobNatureId:""," ")}}function Wn(a,p){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"year is required.")))}function Zn(a,p){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"hourValue is required.")))}function el(a,p){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"minHour is required.")))}function tl(a,p){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"maxHour is required.")))}function ol(a,p){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"jobNatureId is required.")))}function nl(a,p){if(1&a){const t=e.RV6();e.j41(0,"div",20)(1,"label",44),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",45),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,o)||(l.product.year=o),e.Njj(o)}),e.k0s(),e.DNE(5,Wn,3,3,"small",46),e.k0s(),e.j41(6,"div",20)(7,"label",47),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",48),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.hourValue,o)||(l.product.hourValue=o),e.Njj(o)}),e.k0s(),e.DNE(11,Zn,3,3,"small",46),e.k0s(),e.j41(12,"div",20)(13,"label",49),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",50),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.minHour,o)||(l.product.minHour=o),e.Njj(o)}),e.k0s(),e.DNE(17,el,3,3,"small",46),e.k0s(),e.j41(18,"div",20)(19,"label",51),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",52),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.maxHour,o)||(l.product.maxHour=o),e.Njj(o)}),e.k0s(),e.DNE(23,tl,3,3,"small",46),e.k0s(),e.j41(24,"div",20)(25,"label",53),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"input",54),e.mxI("ngModelChange",function(o){e.eBV(t);const l=e.XpG();return e.DH7(l.product.jobNatureId,o)||(l.product.jobNatureId=o),e.Njj(o)}),e.k0s(),e.DNE(29,ol,3,3,"small",46),e.k0s()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,20,"year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("ngClass",e.eq3(30,U,t.submitted&&!t.product.year)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.year),e.R7$(3),e.JRh(e.bMT(9,22,"hourValue")),e.R7$(2),e.R50("ngModel",t.product.hourValue),e.Y8G("ngClass",e.eq3(32,U,t.submitted&&!t.product.hourValue)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.hourValue),e.R7$(3),e.JRh(e.bMT(15,24,"minHour")),e.R7$(2),e.R50("ngModel",t.product.minHour),e.Y8G("ngClass",e.eq3(34,U,t.submitted&&!t.product.minHour)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.minHour),e.R7$(3),e.JRh(e.bMT(21,26,"maxHour")),e.R7$(2),e.R50("ngModel",t.product.maxHour),e.Y8G("ngClass",e.eq3(36,U,t.submitted&&!t.product.maxHour)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.maxHour),e.R7$(3),e.JRh(e.bMT(27,28,"jobNatureId")),e.R7$(2),e.R50("ngModel",t.product.jobNatureId),e.Y8G("ngClass",e.eq3(38,U,t.submitted&&!t.product.jobNatureId)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.jobNatureId)}}function ll(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.hideDialog())}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveProduct(o.product.id,o.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function al(a,p){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function il(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDelete(o.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function sl(a,p){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}const rl=[{path:"EmployeeCertification",component:Me},{path:"EmployeeCourse",component:He},{path:"EmployeeCovenant",component:nt},{path:"EmployeeExperience",component:ft},{path:"EmployeeFamily",component:St},{path:"EmployeeFile",component:Wt},{path:"EmployeeLocation",component:_o},{path:"EmployeeManager",component:xo},{path:"EmployeeSalary",component:zo},{path:"EmployeeUniform",component:dn},{path:"EmployeeVacationStock",component:En},{path:"EmployeeWeekend",component:Sn},{path:"EmployeeShift",component:Hn},{path:"EmployeePartTimeSalary",component:(()=>{class a{constructor(t,n,o,l){this._PartTimeSalaryService=t,this.messageService=n,this.translate=o,this.route=l,this.isNameFreeze=!0,this.isActionsFreeze=!0,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new r.gE({year:new r.MJ(null,[r.k0.required,r.k0.maxLength(50)]),hourValue:new r.MJ(null,[r.k0.required,r.k0.min(1)]),minHour:new r.MJ(null,[r.k0.required,r.k0.min(1),r.k0.max(24)]),maxHour:new r.MJ(null,[r.k0.required,r.k0.min(1),r.k0.max(24)]),jobNatureId:new r.MJ(null,[r.k0.required,r.k0.min(1)])}),this.editForm=new r.gE({year:new r.MJ(null,[r.k0.required,r.k0.maxLength(50)]),hourValue:new r.MJ(null,[r.k0.required,r.k0.min(1)]),minHour:new r.MJ(null,[r.k0.required,r.k0.min(1),r.k0.max(24)]),maxHour:new r.MJ(null,[r.k0.required,r.k0.min(1),r.k0.max(24)]),jobNatureId:new r.MJ(null,[r.k0.required,r.k0.min(1)])}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeePartTimeSalary",w.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PartTimeSalaryService.setCulture(t),this._PartTimeSalaryService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.custom||(this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations())}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._PartTimeSalaryService.GetById(t.id).subscribe({next:n=>{console.log(n.data),this.product={...n.data},this.productDialog=!0},error:n=>{console.log(n)}})}confirmDelete(t){this._PartTimeSalaryService.DeleteSoftById(t).subscribe({next:n=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._PartTimeSalaryService.Register(t.value).subscribe({next:n=>{n.success&&(console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,n,o,l,s){let i={pageNumber:t,pageSize:n,filterValue:o,filterType:l,sortType:s,employeeId:this.empId};i.sortType=this.sortOrder,this._PartTimeSalaryService.GetPage(i).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let n;console.log(t),this.page=Number(t.first/t.rows)+1,n=1===t.sortOrder?"asc":"dsc",this.sortOrder=n,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,n){this.submitted=!0,t.patchValue({id:n.id}),this.loading=!0,this._PartTimeSalaryService.Edit(t.value).subscribe({next:o=>{o.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const o="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download=`${this.endPoint}_${(new Date).getTime()}.csv`,s.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let o=[];this.cols.forEach(s=>{o.push(s.field)}),console.log(o);const l=t.map(s=>o.map(i=>`"${s[i]}"`).join(","));return l.unshift(o.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(n=>{t.push(n.id)}),this.loading=!0,this._PartTimeSalaryService.DeleteRangeSoft(t).subscribe({next:n=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:n=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,n){console.log(t);let o=t.files[0];if(o){this.fileNew=o;const l=new FormData;l.append("file",this.fileNew),this._PartTimeSalaryService.importExcel(l).subscribe({next:s=>{console.log(s),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:s?.message,life:3e3}),n.clear()},error:s=>{console.error(s),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(n){return new(n||a)(e.rXU(Jn),e.rXU(h.bg),e.rXU(g.c$),e.rXU(b.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-part-time-salary"]],viewQuery:function(n,o){if(1&n&&e.GBs(On,5),2&n){let l;e.mGM(l=e.lsd())&&(o.dt=l.first)}},inputs:{endPoint:"endPoint",items:"items",custom:"custom"},standalone:!0,features:[e.Jv_([h.bg,m.vh,O.C]),e.aNF],decls:31,vars:46,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","scrollable","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"field"],["htmlFor","year"],["pInputText","","id","year","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","hourValue"],["pInputText","","id","hourValue","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","minHour"],["pInputText","","id","minHour","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","maxHour"],["pInputText","","id","maxHour","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","jobNatureId"],["pInputText","","id","jobNatureId","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","year"],["type","text","pInputText","","id","year","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","hourValue"],["type","text","pInputText","","id","hourValue","required","",3,"ngModelChange","ngModel","ngClass"],["for","minHour"],["type","text","pInputText","","id","minHour","required","",3,"ngModelChange","ngModel","ngClass"],["for","maxHour"],["type","text","pInputText","","id","maxHour","required","",3,"ngModelChange","ngModel","ngClass"],["for","jobNatureId"],["type","text","pInputText","","id","jobNatureId","required","",3,"ngModelChange","ngModel","ngClass"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(n,o){if(1&n){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ln,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,Un,5,7,"ng-template",3)(4,qn,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.showFormNew,i)||(o.showFormNew=i),e.Njj(i)}),e.DNE(7,An,33,38,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.nI1(10,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(o.selectedItems,i)||(o.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(o.onPageChange(i))}),e.DNE(11,zn,8,7,"ng-template",8)(12,Qn,21,18,"ng-template",9)(13,Kn,32,36,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",5),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.productDialog,i)||(o.productDialog=i),e.Njj(i)}),e.DNE(16,nl,30,40,"ng-template",6)(17,ll,4,6,"ng-template",11),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductDialog,i)||(o.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,al,6,4,"span",1),e.k0s(),e.DNE(23,il,4,6,"ng-template",11),e.k0s(),e.j41(24,"p-dialog",15),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(o.deleteProductsDialog,i)||(o.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,sl,4,6,"ng-template",11),e.k0s()}2&n&&(e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(4),e.Aen(e.lJ4(42,pe)),e.R50("visible",o.showFormNew),e.Y8G("header",e.bMT(6,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("scrollable",!0)("value",o.allData)("paginator",!0)("rows",o.itemsPerPage)("columns",o.cols)("totalRecords",o.totalItems),e.R50("selection",o.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(10,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,pe)),e.R50("visible",o.productDialog),e.Y8G("header",e.bMT(15,36,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(44,pe)),e.R50("visible",o.deleteProductDialog),e.Y8G("header",e.bMT(19,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",o.product),e.R7$(2),e.Aen(e.lJ4(45,pe)),e.R50("visible",o.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[f.$,m.YU,m.bT,r.me,r.BC,r.YS,r.vS,I.q,g.D9,y.t,T.M,u.XI,h.Ei,u.S9,u.nA,R.n,j._f,x.l,E.y8,k.S,M.m]})}}return a})()}];let pl=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[b.iI.forChild(rl),g.h,b.iI]})}}return a})();var cl=_(7283);let dl=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[m.MD,pl,cl.s,g.h]})}}return a})()}}]);