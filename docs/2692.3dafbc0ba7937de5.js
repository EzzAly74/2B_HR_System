"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[2692],{5780:(bn,ve,R)=>{R.d(ve,{C:()=>s});var u=R(4438);let s=(()=>{class m{transform(C){return["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"][C]}static{this.\u0275fac=function(M){return new(M||m)}}static{this.\u0275pipe=u.EJ8({name:"dayName",type:m,pure:!0,standalone:!0})}}return m})()},7283:(bn,ve,R)=>{R.d(ve,{s:()=>U});var u=R(5312),s=R(177),m=R(9417),T=R(5779),C=R(4842),M=R(8541),A=R(8141),e=R(6354),E=R(583),j=R(421),p=R(4438),_=R(4690),S=R(1626);let N=(()=>{class q extends _.${constructor(f){super(f)}getEnum(f){return this.http.get(`${this.baseurl}/Enums/${f}/?culture=${this.culture}`)}getDropdownField(f){return this.http.get(`${this.baseurl}/${f}/getDropDown/?culture=${this.culture}`)}updateEmployeeImage(f){return this.http.post(`${this.baseurl}/Employee/UpdatEmployeeImage`,f)}static{this.\u0275fac=function(w){return new(w||q)(p.KVO(S.Qq))}}static{this.\u0275prov=p.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})();var $=R(5836),h=R(7137),P=R(3887),k=R(563),x=R(320),D=R(1141),v=R(6781),Y=R(9998),ae=R(2242),G=R(8150),Bt=R(5473),Se=R(612),me=R(1631),At=R(4799);const Jt=["dt"],qt=["manageItems"],Ot=()=>({width:"450px"});function Lt(q,X){1&q&&p.nrm(0,"pre-loading")}function Xt(q,X){1&q&&(p.EFF(0),p.nI1(1,"translate")),2&q&&p.SpI(" ",p.bMT(1,1,X.$implicit.name)," ")}function Ht(q,X){if(1&q&&(p.EFF(0),p.nI1(1,"translate"),p.nI1(2,"translate")),2&q){const f=X.$implicit;p.SpI(" ",f?p.bMT(1,1,f.name):p.bMT(2,3,"Select Action")," ")}}function Ut(q,X){1&q&&(p.j41(0,"div",89)(1,"div",13),p.nrm(2,"router-outlet"),p.k0s()())}function zt(q,X){if(1&q){const f=p.RV6();p.j41(0,"div",90)(1,"div",91),p.nrm(2,"img",92),p.k0s(),p.j41(3,"button",93),p.bIt("click",function(){p.eBV(f);const g=p.XpG();return p.Njj(g.showUploadImgDialg())}),p.k0s(),p.j41(4,"button",94),p.bIt("click",function(g){p.eBV(f);const y=p.XpG();return p.Njj(y.confirmDeleteImage(g))}),p.k0s()()}if(2&q){const f=p.XpG();p.R7$(2),p.Y8G("src",f.imageUrl,p.B4B)}}function Wt(q,X){if(1&q){const f=p.RV6();p.j41(0,"div",90)(1,"div",95),p.qSk(),p.j41(2,"svg",96),p.nrm(3,"path",97)(4,"circle",98),p.k0s()(),p.joV(),p.j41(5,"button",99),p.bIt("click",function(){p.eBV(f);const g=p.XpG();return p.Njj(g.showUploadImgDialg())}),p.k0s()()}}function Qt(q,X){if(1&q){const f=p.RV6();p.j41(0,"div",100)(1,"p-fileUpload",101,0),p.nI1(3,"translate"),p.bIt("onSelect",function(g){p.eBV(f);const y=p.sdS(2),b=p.XpG();return p.Njj(b.onFileSelect(g,y))}),p.k0s()()}2&q&&(p.R7$(),p.Y8G("chooseLabel",p.bMT(3,2,"Import File"))("auto",!0))}function Kt(q,X){if(1&q){const f=p.RV6();p.j41(0,"button",102),p.nI1(1,"translate"),p.bIt("click",function(){p.eBV(f);const g=p.XpG();return p.Njj(g.hideDialog())}),p.k0s(),p.j41(2,"button",103),p.nI1(3,"translate"),p.bIt("click",function(){p.eBV(f);const g=p.XpG();return p.Njj(g.updateImage())}),p.k0s()}2&q&&(p.Y8G("label",p.bMT(1,2,"Cancel")),p.R7$(2),p.Y8G("label",p.bMT(3,4,"Save")))}let U=(()=>{class q{constructor(f,w,g,y,b,Zt,en,tn){this.employeeEditService=f,this.messageService=w,this.DatePipe=g,this.router=y,this.route=b,this.activatedRoute=Zt,this.translate=en,this.confirmationService=tn,this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedStaticShift=!1,this.selectedStaticVacation=!1,this.selectedDepartment=null,this.selectedBloodType=null,this.selectedAttendanceConfiguration=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.baseImgUrl=u.c.mediaUrl,this.editForm=new m.gE({BirthDate:new m.MJ(null,m.k0.required),BloodTypes:new m.MJ(null),DepartmentId:new m.MJ(null,m.k0.required),Gender:new m.MJ(null,m.k0.required),GovernmentId:new m.MJ(null,m.k0.required),HiringDate:new m.MJ(null,m.k0.required),JobId:new m.MJ(null,m.k0.required),JoiningDate:new m.MJ(null,m.k0.required),MaritalStatus:new m.MJ(null,m.k0.required),PartationId:new m.MJ(null,m.k0.required),QualificationId:new m.MJ(null,m.k0.required),ShiftId:new m.MJ(null,m.k0.required),ResignationDate:new m.MJ(null),Ismanger:new m.MJ(!1),IsInsured:new m.MJ(!1),Religion:new m.MJ(null),BankId:new m.MJ(null),GradeId:new m.MJ(null),JobNatureId:new m.MJ(null),RecuritmentSourceId:new m.MJ(null),ContractTypeId:new m.MJ(null),Address:new m.MJ(null,m.k0.required),Discription:new m.MJ(null),Email:new m.MJ(null),EnglishName:new m.MJ(null),NameAr:new m.MJ(null,m.k0.required),MachineCode:new m.MJ(null),NationalId:new m.MJ(null,m.k0.required),Phone:new m.MJ(null,m.k0.required),StaticShift:new m.MJ(!1),StaticVacation:new m.MJ(!1),AttendanceConfigurationId:new m.MJ(null,m.k0.required)}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="Employee",M.R.getMainLangChanges().subscribe(w=>{console.log("Main language changed to:",w),this.translate.use(w),this.employeeEditService.setCulture(w),this.Actions=[{id:1,name:"Employee Certificates",action:"EmployeeCertification"},{id:2,name:this.translate.instant("Employee Course"),action:"EmployeeCourse"},{id:3,name:this.translate.instant("Employee Covenent"),action:"EmployeeCovenant"},{id:4,name:this.translate.instant("Employee Experience"),action:"EmployeeExperience"},{id:5,name:this.translate.instant("Employee Family"),action:"EmployeeFamily"},{id:6,name:this.translate.instant("Employee File"),action:"EmployeeFile"},{id:7,name:this.translate.instant("Employee Location"),action:"EmployeeLocation"},{id:8,name:this.translate.instant("Employee Manager"),action:"EmployeeManager"},{id:9,name:this.translate.instant("Employee Salary"),action:"EmployeeSalary"},{id:10,name:this.translate.instant("Employee Uniform"),action:"EmployeeUniform"},{id:11,name:this.translate.instant("Employee Vacation Stock"),action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"},{id:14,name:this.translate.instant("Employee Part Time Salary"),action:"EmployeePartTimeSalary"}],this.employeeEditService.setEndPoint(this.endPoint),this.getDropDownsData()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownsData(),this.loading=!0,this.getData().pipe((0,A.M)(w=>{this.allData=w.data,this.patchFormValues(this.allData,f),console.log("Data fetched:",this.allData)}),(0,e.T)(w=>({birthDate:this.DatePipe.transform(w.data.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(w.data.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(w.data.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(w.data.resignationDate,"MM/dd/yyyy")}))).subscribe({next:w=>{console.log("transformedDates"),console.log(w),this.patchFormValues(this.allData,w),this.loading=!1},error:()=>{this.loading=!1}});const f={birthDate:this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(this.allData.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(this.allData.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy")};this.patchFormValues(this.allData,f),this.Actions=[{id:1,name:this.translate.instant("Employee Certificates"),action:"EmployeeCertification"},{id:2,name:this.translate.instant("Employee Course"),action:"EmployeeCourse"},{id:3,name:this.translate.instant("Employee Covenent"),action:"EmployeeCovenant"},{id:4,name:this.translate.instant("Employee Experience"),action:"EmployeeExperience"},{id:5,name:this.translate.instant("Employee Family"),action:"EmployeeFamily"},{id:6,name:this.translate.instant("Employee File"),action:"EmployeeFile"},{id:7,name:this.translate.instant("Employee Location"),action:"EmployeeLocation"},{id:8,name:this.translate.instant("Employee Manager"),action:"EmployeeManager"},{id:9,name:this.translate.instant("Employee Salary"),action:"EmployeeSalary"},{id:10,name:this.translate.instant("Employee Uniform"),action:"EmployeeUniform"},{id:11,name:this.translate.instant("Employee Vacation Stock"),action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"},{id:14,name:this.translate.instant("Employee Part Time Salary"),action:"EmployeePartTimeSalary"}],console.log("this.allData"),console.log(this.allData)}getObject(f,w){if(console.log("getObject - dropdown =>",w),w)return w.find(g=>g.id==f)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}ngOnChanges(f){f.selectedAction&&(console.clear(),console.log("selectedAction changed:",this.selectedAction))}patchFormValues(f,w){console.log("data => ",f),f.imageUrl&&(this.imageUrl=`${this.baseImgUrl}/${f.imageUrl}`),this.selectedReligin=this.getObject(f.religion,this.dropdownItemsReligin),console.log("this.selectedReligin : ",this.selectedReligin),this.selectedGovernment=this.getObject(f.governmentId,this.dropdownItemsGovernment),console.log("this.selectedGovernment : ",this.selectedGovernment),this.selectedMaritalStatus=this.getObject(f.maritalStatus,this.dropdownItemsMaritalStatus),console.log("this.selectedMaritalStatus : ",this.selectedMaritalStatus),this.selectedBloodType=this.getObject(f.bloodTypes,this.dropdownItemsBloodTypes),console.log("this.selectedBloodType : ",this.selectedBloodType),this.selectedGender=this.getObject(f.gender,this.dropdownItemsGender),console.log("this.selectedGender : ",this.selectedGender),this.selectedQualification=this.getObject(f.qualificationId,this.dropdownItemsQualification),console.log("this.selectedQualification : ",this.selectedQualification),this.selectedAttendanceConfiguration=this.getObject(f.attendanceConfigurationId,this.dropdownItemsAttendanceConfiguration),console.log("this.selectedAttendanceConfiguration : ",this.selectedAttendanceConfiguration),this.selectedJob=this.getObject(f.jobId,this.dropdownItemsJob),console.log("this.selectedJob : ",this.selectedJob),this.selectedDepartment=this.getObject(f.departmentId,this.dropdownItemsDepartment),console.log("this.selectedDepartment : ",this.selectedDepartment),this.selectedPartitions=this.getObject(f.partationId,this.dropdownItemsPartition),console.log("this.selectedPartitions : ",this.selectedPartitions),this.selectedShift=this.getObject(f.shiftId,this.dropdownItemsShift),console.log("this.selectedShift : ",this.selectedShift),this.selectedBank=this.getObject(f.bankId,this.dropdownItemsBank),console.log("this.selectedBank : ",this.selectedBank),this.selectedGrade=this.getObject(f.gradeId,this.dropdownItemsGrade),console.log("this.selectedGrade : ",this.selectedGrade),this.selectedjobNature=this.getObject(f.jobNatureId,this.dropdownItemsJobNature),console.log("this.selectedjobNature : ",this.selectedjobNature),this.selectedIsInsured=f.isInsured,this.selectedIsManager=f.ismanger,this.selectedStaticShift=f.staticShift,this.selectedStaticVacation=f.staticVacation,this.selectedRecuritmentSource=this.getObject(f.recuritmentSourceId,this.dropdownItemsRecuritmentSource),console.log("this.selectedRecuritmentSource : ",this.selectedRecuritmentSource),this.selectedContactType=this.getObject(f.contractTypeId,this.dropdownItemsContractType),console.log("this.selectedContactType : ",this.selectedContactType),this.birthDate=w.birthDate,this.joiningDate=w.joiningDate,this.hiringDate=w.hiringDate,this.resignationDate=w.resignationDate,this.address=f.address,this.nameAr=f.nameAr,this.englishName=f.englishName,this.discription=f.discription,this.nationalId=f.nationalId,this.phone=f.phone,this.machineCode=f.machineCode,this.email=f.email,this.getData().subscribe({next:g=>{this.allData=g.data,this.loading=!1,this.patchFormValues(this.allData)},error:g=>{this.loading=!1}})}getDropDownEnum(f){this.employeeEditService.getEnum(f.enum).subscribe({next:w=>{this[f.field]=w.data,this.loading=!1},error:w=>{this.loading=!1,console.log(`error in ${f.field}`),console.log(w)}})}getDropDownField(f){this.employeeEditService.getDropdownField(f.enum).subscribe({next:w=>{this[f.field]=w.data,this.loading=!1},error:w=>{this.loading=!1,console.log(`error in ${f.field}`),console.log(w)}})}mapToFormData(f){const w=new FormData;for(const g in f)f.hasOwnProperty(g)&&w.append(g,f[g]);return w}submitForm(f){f.patchValue({BloodTypes:this.selectedBloodType?.id,GovernmentId:this.selectedGovernment?.id,QualificationId:this.selectedQualification?.id,AttendanceConfigurationId:this.selectedAttendanceConfiguration?.id,Gender:this.selectedGender?.id,MaritalStatus:this.selectedMaritalStatus?.id,JobId:this.selectedJob?.id,JobNatureId:this.selectedjobNature?.id,DepartmentId:this.selectedDepartment?.id,PartationId:this.selectedPartitions?.id,ShiftId:this.selectedShift?.id,BankId:this.selectedBank?.id,GradeId:this.selectedGrade?.id,ContractTypeId:this.selectedContactType?.id,RecuritmentSourceId:this.selectedRecuritmentSource?.id,Religion:this.selectedReligin?.id,JoiningDate:this.DatePipe.transform(this.editForm.get("JoiningDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(this.editForm.get("BirthDate").value,"yyyy-MM-dd"),HiringDate:this.DatePipe.transform(this.editForm.get("HiringDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(this.editForm.get("ResignationDate").value,"yyyy-MM-dd")}),console.log(f.value),this.loading=!0;const w={...f.value,Id:this.currentId},g=this.mapToFormData(w);this.employeeEditService.Edit(g).subscribe({next:y=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(y),this.loading=!1,this.birthDate=this.DatePipe.transform(this.editForm.get("BirthDate").value,"MM/dd/yyyy"),this.selectedReligin=this.getObject(this.editForm.get("Religion").value,this.dropdownItemsReligin),this.selectedGovernment=this.getObject(this.editForm.get("GovernmentId").value,this.dropdownItemsGovernment),this.selectedMaritalStatus=this.getObject(this.editForm.get("MaritalStatus").value,this.dropdownItemsMaritalStatus),this.selectedBloodType=this.getObject(this.editForm.get("BloodTypes").value,this.dropdownItemsBloodTypes),this.selectedGender=this.getObject(this.editForm.get("Gender").value,this.dropdownItemsGender),this.selectedQualification=this.getObject(this.editForm.get("QualificationId").value,this.dropdownItemsQualification),this.selectedJob=this.getObject(this.editForm.get("JobId").value,this.dropdownItemsJob),this.selectedDepartment=this.getObject(this.editForm.get("DepartmentId").value,this.dropdownItemsDepartment),this.selectedPartitions=this.getObject(this.editForm.get("PartationId").value,this.dropdownItemsPartition),this.selectedShift=this.getObject(this.editForm.get("ShiftId").value,this.dropdownItemsShift),this.selectedBank=this.getObject(this.editForm.get("BankId").value,this.dropdownItemsBank),this.selectedGrade=this.getObject(this.editForm.get("GradeId").value,this.dropdownItemsGrade),this.selectedjobNature=this.getObject(this.editForm.get("JobNatureId").value,this.dropdownItemsJobNature),this.selectedAttendanceConfiguration=this.getObject(this.editForm.get("AttendanceConfigurationId").value,this.dropdownItemsAttendanceConfiguration),this.selectedIsInsured=this.selectedIsInsured,this.selectedIsManager=this.selectedIsManager,this.selectedStaticShift=this.selectedStaticShift,this.selectedStaticVacation=this.selectedStaticVacation,this.selectedRecuritmentSource=this.getObject(this.editForm.get("RecuritmentSourceId").value,this.dropdownItemsRecuritmentSource),this.selectedContactType=this.getObject(this.editForm.get("ContractTypeId").value,this.dropdownItemsContractType),this.joiningDate=this.DatePipe.transform(this.editForm.get("JoiningDate").value,"MM/dd/yyyy"),this.hiringDate=this.DatePipe.transform(this.editForm.get("HiringDate").value,"MM/dd/yyyy"),this.resignationDate=this.DatePipe.transform(this.editForm.get("ResignationDate").value,"MM/dd/yyyy"),this.address=this.address,this.nameAr=this.nameAr,this.englishName=this.englishName,this.discription=this.discription,this.nationalId=this.nationalId,this.phone=this.phone,this.machineCode=this.machineCode,this.email=this.email},error:y=>{console.log(y),this.loading=!1}}),console.log(f.value)}onGovernmentChange(f){console.log(f)}getData(){return this.employeeEditService.GetById(this.currentId).subscribe({next:f=>{this.allData=f.data,this.loading=!1,this.patchFormValues(this.allData)},error:()=>{this.loading=!1}}),this.employeeEditService.GetById(this.currentId)}getDropDownsData(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),console.log("dropdownItemsGrade : ",this.dropdownItemsGrade),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"})}onSelect(f){console.log(f),this.file=f.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}updateImage(){let f={EmployeeId:this.currentId,File:this.file,DeleteImage:!!this.file},w=new FormData;for(const g in f)f.hasOwnProperty(g)&&w.append(g,f[g]);this.employeeEditService.updateEmployeeImage(w).subscribe({next:g=>{console.log(g),this.messageService.add({severity:"success",summary:"Successfull",detail:"Image Updated Sucessfully"}),this.uploadImageDialog=!1,this.file=null,this.loading=!1,this.getData().pipe((0,A.M)(y=>{this.allData=y.data,console.log("Data fetched:",this.allData),this.patchFormValues(this.allData)}),(0,e.T)(y=>({birthDate:this.DatePipe.transform(y.data.birthDate,"MM/dd/yyyy"),joiningDate:this.DatePipe.transform(y.data.joiningDate,"MM/dd/yyyy"),hiringDate:this.DatePipe.transform(y.data.hiringDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(y.data.resignationDate,"MM/dd/yyyy")}))).subscribe(y=>{console.log("transformedDates"),console.log(y),this.patchFormValues(this.allData,y)})},error:g=>{console.log(g),this.loading=!1}})}confirmDeleteImage(f){this.confirmationService.confirm({target:f.target,message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{let w={EmployeeId:this.currentId,DeleteImage:!0},g=new FormData;for(const y in w)w.hasOwnProperty(y)&&g.append(y,w[y]);this.employeeEditService.updateEmployeeImage(g).subscribe({next:y=>{console.log(y),this.uploadImageDialog=!1,this.imageUrl=""},error:y=>{console.log(y)}})}})}static{this.\u0275fac=function(w){return new(w||q)(p.rXU(N),p.rXU(T.bg),p.rXU(s.vh),p.rXU($.Ix),p.rXU($.nX),p.rXU($.nX),p.rXU(C.c$),p.rXU(T.td))}}static{this.\u0275cmp=p.VBU({type:q,selectors:[["app-employee-edit"]],viewQuery:function(w,g){if(1&w&&(p.GBs(Jt,5),p.GBs(qt,5)),2&w){let y;p.mGM(y=p.lsd())&&(g.dt=y.first),p.mGM(y=p.lsd())&&(g.manageItems=y.first)}},inputs:{endPoint:"endPoint",selectedAction:"selectedAction"},standalone:!0,features:[p.Jv_([T.bg,s.vh,C.c$,T.td]),p.OA$,p.aNF],decls:208,vars:224,consts:[["fileUploader",""],[4,"ngIf"],[1,"grid"],[1,"col-12","my-5"],[1,"card","grid","justify-content-center"],[1,"col-12","text-center"],[1,"field","col-12"],["optionLabel","name",3,"onChange","ngModelChange","options","ngModel","showClear"],["pTemplate","item"],["pTemplate","selectedItem"],["class","card my-2",4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],["class","field field-img col-12",4,"ngIf"],[1,"field","required-field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","NameAr",3,"ngModelChange","ngModel"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","EnglishName",3,"ngModelChange","ngModel"],["htmlFor","nationalId"],["pInputText","","id","nationalId","formControlName","NationalId",3,"ngModelChange","ngModel"],["htmlFor","phone"],["pInputText","","id","phone","formControlName","Phone",3,"ngModelChange","ngModel"],["htmlFor","email"],["pInputText","","id","email","formControlName","Email",3,"ngModelChange","ngModel"],["htmlFor","address"],["pInputText","","id","address","formControlName","Address",3,"ngModelChange","ngModel"],["htmlFor","government"],["optionLabel","name","formControlName","GovernmentId",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","BirthDate"],["inputId","BirthDate","formControlName","BirthDate",3,"ngModelChange","showIcon","iconDisplay","ngModel"],[1,"field","col-12","md:col-4"],["htmlFor","Religin"],["formControlName","Religion","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","maritalStatus"],["formControlName","MaritalStatus","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Blood"],["formControlName","BloodTypes","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","gender"],["formControlName","Gender","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Qualification"],["formControlName","QualificationId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Attendance Configuration"],["formControlName","AttendanceConfigurationId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Job"],["formControlName","JobId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","department"],["formControlName","DepartmentId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Partition"],["formControlName","PartationId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Shift"],["formControlName","ShiftId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Bank"],["formControlName","BankId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","Grade"],["formControlName","GradeId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","jobNature"],["formControlName","JobNatureId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],[1,"field","col-12","md:col-4","flex","gap-3","align-items-center"],["formControlName","IsInsured",3,"ngModelChange","ngModel"],["htmlFor","isInsured"],["formControlName","Ismanger",3,"ngModelChange","ngModel"],["htmlFor","ismanger"],["formControlName","StaticShift",3,"ngModelChange","ngModel"],["htmlFor","StaticShift"],["formControlName","StaticVacation",3,"ngModelChange","ngModel"],["htmlFor","StaticVacation"],["htmlFor","recuritmentSource"],["formControlName","RecuritmentSourceId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","machineCode"],["pInputText","","id","machineCode","formControlName","MachineCode",3,"ngModelChange","ngModel"],["htmlFor","ContractType"],["formControlName","ContractTypeId","optionLabel","name",3,"ngModelChange","filter","showClear","filterBy","options","ngModel"],["htmlFor","JoininDate"],["inputId","JoininDate","formControlName","JoiningDate",3,"ngModelChange","showIcon","iconDisplay","ngModel"],["htmlFor","HiringDate"],["inputId","HiringDate","formControlName","HiringDate",3,"ngModelChange","showIcon","iconDisplay","ngModel"],["htmlFor","ResignationDate"],["inputId","ResignationDate","formControlName","ResignationDate",3,"ngModelChange","showIcon","iconDisplay","ngModel"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit",3,"disabled"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","display"],["pTemplate","footer"],[1,"card","my-2"],[1,"field","field-img","col-12"],[1,"img-container"],["alt","Employee Image",3,"src"],["pButton","","pRipple","","type","button","title","edit image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],["pButton","","pRipple","","type","button","title","delete image","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-outlined","btn-edit",3,"click"],[1,"img-container-no-image"],["width","80","height","80","viewBox","0 0 56 56","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M47.1732 45.0045C47.7628 44.8816 48.113 44.2678 47.8707 43.7164C46.5356 40.679 44.0748 38.0063 40.7839 36.0422C37.1164 33.8534 32.6227 32.667 27.9999 32.667C23.3771 32.667 18.8834 33.8534 15.2159 36.0422C11.925 38.0063 9.46423 40.679 8.12912 43.7164C7.88677 44.2678 8.23698 44.8816 8.8266 45.0045L19.839 47.2996C25.2218 48.4214 30.778 48.4214 36.1608 47.2996L47.1732 45.0045Z","fill","#C4C4C5"],["cx","28","cy","18.6667","r","11.6667","fill","#C4C4C5"],["pButton","","pRipple","","type","button","title","Add an image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(w,g){1&w&&(p.nrm(0,"p-toast"),p.DNE(1,Lt,1,0,"pre-loading",1),p.nrm(2,"p-confirmDialog"),p.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"p"),p.EFF(8),p.nI1(9,"translate"),p.k0s()(),p.j41(10,"div",6)(11,"p-dropdown",7),p.bIt("onChange",function(){return g.changeTab()}),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedAction,b)||(g.selectedAction=b),b}),p.DNE(12,Xt,2,3,"ng-template",8)(13,Ht,3,5,"ng-template",9),p.k0s()()(),p.DNE(14,Ut,3,0,"div",10),p.k0s()(),p.j41(15,"p-panel",11),p.nI1(16,"translate"),p.j41(17,"form",12),p.bIt("submit",function(){return g.submitForm(g.editForm)}),p.j41(18,"div",2)(19,"div",13)(20,"div",14)(21,"div",15),p.DNE(22,zt,5,1,"div",16)(23,Wt,6,0,"div",16),p.j41(24,"div",17)(25,"label",18),p.EFF(26),p.nI1(27,"translate"),p.nrm(28,"app-required-field"),p.k0s(),p.j41(29,"input",19),p.mxI("ngModelChange",function(b){return p.DH7(g.nameAr,b)||(g.nameAr=b),b}),p.k0s()(),p.j41(30,"div",17)(31,"label",20),p.EFF(32),p.nI1(33,"translate"),p.nrm(34,"app-required-field"),p.k0s(),p.j41(35,"input",21),p.mxI("ngModelChange",function(b){return p.DH7(g.englishName,b)||(g.englishName=b),b}),p.k0s()(),p.j41(36,"div",17)(37,"label",22),p.EFF(38),p.nI1(39,"translate"),p.nrm(40,"app-required-field"),p.k0s(),p.j41(41,"input",23),p.mxI("ngModelChange",function(b){return p.DH7(g.nationalId,b)||(g.nationalId=b),b}),p.k0s()(),p.j41(42,"div",17)(43,"label",24),p.EFF(44),p.nI1(45,"translate"),p.nrm(46,"app-required-field"),p.k0s(),p.j41(47,"input",25),p.mxI("ngModelChange",function(b){return p.DH7(g.phone,b)||(g.phone=b),b}),p.k0s()(),p.j41(48,"div",17)(49,"label",26),p.EFF(50),p.nI1(51,"translate"),p.nrm(52,"app-required-field"),p.k0s(),p.j41(53,"input",27),p.mxI("ngModelChange",function(b){return p.DH7(g.email,b)||(g.email=b),b}),p.k0s()(),p.j41(54,"div",17)(55,"label",28),p.EFF(56),p.nI1(57,"translate"),p.nrm(58,"app-required-field"),p.k0s(),p.j41(59,"input",29),p.mxI("ngModelChange",function(b){return p.DH7(g.address,b)||(g.address=b),b}),p.k0s()(),p.j41(60,"div",17)(61,"label",30),p.EFF(62),p.nI1(63,"translate"),p.nrm(64,"app-required-field"),p.k0s(),p.j41(65,"p-dropdown",31),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedGovernment,b)||(g.selectedGovernment=b),b}),p.k0s()(),p.j41(66,"div",17)(67,"label",32),p.EFF(68),p.nI1(69,"translate"),p.nrm(70,"app-required-field"),p.k0s(),p.j41(71,"p-calendar",33),p.mxI("ngModelChange",function(b){return p.DH7(g.birthDate,b)||(g.birthDate=b),b}),p.k0s()(),p.j41(72,"div",34)(73,"label",35),p.EFF(74),p.nI1(75,"translate"),p.k0s(),p.j41(76,"p-dropdown",36),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedReligin,b)||(g.selectedReligin=b),b}),p.k0s()(),p.j41(77,"div",17)(78,"label",37),p.EFF(79),p.nI1(80,"translate"),p.nrm(81,"app-required-field"),p.k0s(),p.j41(82,"p-dropdown",38),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedMaritalStatus,b)||(g.selectedMaritalStatus=b),b}),p.k0s()(),p.j41(83,"div",34)(84,"label",39),p.EFF(85),p.nI1(86,"translate"),p.k0s(),p.j41(87,"p-dropdown",40),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedBloodType,b)||(g.selectedBloodType=b),b}),p.k0s()(),p.j41(88,"div",17)(89,"label",41),p.EFF(90),p.nI1(91,"translate"),p.nrm(92,"app-required-field"),p.k0s(),p.j41(93,"p-dropdown",42),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedGender,b)||(g.selectedGender=b),b}),p.k0s()(),p.j41(94,"div",34)(95,"label",43),p.EFF(96),p.nI1(97,"translate"),p.k0s(),p.j41(98,"p-dropdown",44),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedQualification,b)||(g.selectedQualification=b),b}),p.k0s()(),p.j41(99,"div",17)(100,"label",45),p.EFF(101),p.nI1(102,"translate"),p.nrm(103,"app-required-field"),p.k0s(),p.j41(104,"p-dropdown",46),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedAttendanceConfiguration,b)||(g.selectedAttendanceConfiguration=b),b}),p.k0s()(),p.j41(105,"div",17)(106,"label",47),p.EFF(107),p.nI1(108,"translate"),p.nrm(109,"app-required-field"),p.k0s(),p.j41(110,"p-dropdown",48),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedJob,b)||(g.selectedJob=b),b}),p.k0s()(),p.j41(111,"div",17)(112,"label",49),p.EFF(113),p.nI1(114,"translate"),p.nrm(115,"app-required-field"),p.k0s(),p.j41(116,"p-dropdown",50),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedDepartment,b)||(g.selectedDepartment=b),b}),p.k0s()(),p.j41(117,"div",17)(118,"label",51),p.EFF(119),p.nI1(120,"translate"),p.nrm(121,"app-required-field"),p.k0s(),p.j41(122,"p-dropdown",52),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedPartitions,b)||(g.selectedPartitions=b),b}),p.k0s()(),p.j41(123,"div",17)(124,"label",53),p.EFF(125),p.nI1(126,"translate"),p.nrm(127,"app-required-field"),p.k0s(),p.j41(128,"p-dropdown",54),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedShift,b)||(g.selectedShift=b),b}),p.k0s()(),p.j41(129,"div",34)(130,"label",55),p.EFF(131),p.nI1(132,"translate"),p.k0s(),p.j41(133,"p-dropdown",56),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedBank,b)||(g.selectedBank=b),b}),p.k0s()(),p.j41(134,"div",34)(135,"label",57),p.EFF(136),p.nI1(137,"translate"),p.k0s(),p.j41(138,"p-dropdown",58),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedGrade,b)||(g.selectedGrade=b),b}),p.k0s()(),p.j41(139,"div",17)(140,"label",59),p.EFF(141),p.nI1(142,"translate"),p.nrm(143,"app-required-field"),p.k0s(),p.j41(144,"p-dropdown",60),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedjobNature,b)||(g.selectedjobNature=b),b}),p.k0s()(),p.j41(145,"div",61)(146,"p-inputSwitch",62),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedIsInsured,b)||(g.selectedIsInsured=b),b}),p.k0s(),p.j41(147,"label",63),p.EFF(148),p.nI1(149,"translate"),p.k0s()(),p.j41(150,"div",61)(151,"p-inputSwitch",64),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedIsManager,b)||(g.selectedIsManager=b),b}),p.k0s(),p.j41(152,"label",65),p.EFF(153),p.nI1(154,"translate"),p.k0s()(),p.j41(155,"div",61)(156,"p-inputSwitch",66),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedStaticShift,b)||(g.selectedStaticShift=b),b}),p.k0s(),p.j41(157,"label",67),p.EFF(158),p.nI1(159,"translate"),p.k0s()(),p.j41(160,"div",61)(161,"p-inputSwitch",68),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedStaticVacation,b)||(g.selectedStaticVacation=b),b}),p.k0s(),p.j41(162,"label",69),p.EFF(163),p.nI1(164,"translate"),p.k0s()(),p.j41(165,"div",34)(166,"label",70),p.EFF(167),p.nI1(168,"translate"),p.k0s(),p.j41(169,"p-dropdown",71),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedRecuritmentSource,b)||(g.selectedRecuritmentSource=b),b}),p.k0s()(),p.j41(170,"div",34)(171,"label",72),p.EFF(172),p.nI1(173,"translate"),p.k0s(),p.j41(174,"input",73),p.mxI("ngModelChange",function(b){return p.DH7(g.machineCode,b)||(g.machineCode=b),b}),p.k0s()(),p.j41(175,"div",34)(176,"label",74),p.EFF(177),p.nI1(178,"translate"),p.k0s(),p.j41(179,"p-dropdown",75),p.mxI("ngModelChange",function(b){return p.DH7(g.selectedContactType,b)||(g.selectedContactType=b),b}),p.k0s()(),p.j41(180,"div",17)(181,"label",76),p.EFF(182),p.nI1(183,"translate"),p.nrm(184,"app-required-field"),p.k0s(),p.j41(185,"p-calendar",77),p.mxI("ngModelChange",function(b){return p.DH7(g.joiningDate,b)||(g.joiningDate=b),b}),p.k0s()(),p.j41(186,"div",17)(187,"label",78),p.EFF(188),p.nI1(189,"translate"),p.nrm(190,"app-required-field"),p.k0s(),p.j41(191,"p-calendar",79),p.mxI("ngModelChange",function(b){return p.DH7(g.hiringDate,b)||(g.hiringDate=b),b}),p.k0s()(),p.j41(192,"div",34)(193,"label",80),p.EFF(194),p.nI1(195,"translate"),p.k0s(),p.j41(196,"p-calendar",81),p.mxI("ngModelChange",function(b){return p.DH7(g.resignationDate,b)||(g.resignationDate=b),b}),p.k0s()(),p.j41(197,"div",82)(198,"div",83)(199,"button",84),p.nrm(200,"i",85),p.j41(201,"span"),p.EFF(202),p.nI1(203,"translate"),p.k0s()()()()()()()()()(),p.j41(204,"p-dialog",86),p.nI1(205,"translate"),p.mxI("visibleChange",function(b){return p.DH7(g.uploadImageDialog,b)||(g.uploadImageDialog=b),b}),p.DNE(206,Qt,4,4,"ng-template",87)(207,Kt,4,6,"ng-template",88),p.k0s()),2&w&&(p.R7$(),p.Y8G("ngIf",g.loading),p.R7$(7),p.JRh(p.bMT(9,153,"Choose An Action From List")),p.R7$(3),p.Y8G("options",g.Actions),p.R50("ngModel",g.selectedAction),p.Y8G("showClear",!0),p.R7$(3),p.Y8G("ngIf",g.selectedAction),p.R7$(),p.Y8G("header",p.bMT(16,155,"Edit"))("toggleable",!0)("collapsed",!1),p.R7$(2),p.Y8G("formGroup",g.editForm),p.R7$(5),p.Y8G("ngIf",g.imageUrl),p.R7$(),p.Y8G("ngIf",!g.imageUrl),p.R7$(3),p.SpI("",p.bMT(27,157,"Arabic Name")," "),p.R7$(3),p.R50("ngModel",g.nameAr),p.R7$(3),p.SpI("",p.bMT(33,159,"English Name")," "),p.R7$(3),p.R50("ngModel",g.englishName),p.R7$(3),p.SpI("",p.bMT(39,161,"National Id")," "),p.R7$(3),p.R50("ngModel",g.nationalId),p.R7$(3),p.SpI("",p.bMT(45,163,"Phone")," "),p.R7$(3),p.R50("ngModel",g.phone),p.R7$(3),p.SpI("",p.bMT(51,165,"Email")," "),p.R7$(3),p.R50("ngModel",g.email),p.R7$(3),p.SpI("",p.bMT(57,167,"Address")," "),p.R7$(3),p.R50("ngModel",g.address),p.R7$(3),p.SpI("",p.bMT(63,169,"Government")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsGovernment),p.R50("ngModel",g.selectedGovernment),p.R7$(3),p.SpI(" ",p.bMT(69,171,"BirthDate")," "),p.R7$(3),p.Y8G("showIcon",!0)("iconDisplay","input"),p.R50("ngModel",g.birthDate),p.R7$(3),p.JRh(p.bMT(75,173,"Religin")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsReligin),p.R50("ngModel",g.selectedReligin),p.R7$(3),p.SpI("",p.bMT(80,175,"Martial Status")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsMaritalStatus),p.R50("ngModel",g.selectedMaritalStatus),p.R7$(3),p.JRh(p.bMT(86,177,"Blood Types")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsBloodTypes),p.R50("ngModel",g.selectedBloodType),p.R7$(3),p.SpI("",p.bMT(91,179,"Gender Type")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsGender),p.R50("ngModel",g.selectedGender),p.R7$(3),p.JRh(p.bMT(97,181,"Qualification")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsQualification),p.R50("ngModel",g.selectedQualification),p.R7$(3),p.SpI("",p.bMT(102,183,"Attendance Configuration")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsAttendanceConfiguration),p.R50("ngModel",g.selectedAttendanceConfiguration),p.R7$(3),p.SpI("",p.bMT(108,185,"Job")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsJob),p.R50("ngModel",g.selectedJob),p.R7$(3),p.SpI("",p.bMT(114,187,"Departments")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsDepartment),p.R50("ngModel",g.selectedDepartment),p.R7$(3),p.SpI("",p.bMT(120,189,"Partition")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsPartition),p.R50("ngModel",g.selectedPartitions),p.R7$(3),p.SpI("",p.bMT(126,191,"Shift")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsShift),p.R50("ngModel",g.selectedShift),p.R7$(3),p.JRh(p.bMT(132,193,"Bank")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsBank),p.R50("ngModel",g.selectedBank),p.R7$(3),p.JRh(p.bMT(137,195,"Grade")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsGrade),p.R50("ngModel",g.selectedGrade),p.R7$(3),p.SpI("",p.bMT(142,197,"job Nature")," "),p.R7$(3),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsJobNature),p.R50("ngModel",g.selectedjobNature),p.R7$(2),p.R50("ngModel",g.selectedIsInsured),p.R7$(2),p.JRh(p.bMT(149,199,"Is Insured")),p.R7$(3),p.R50("ngModel",g.selectedIsManager),p.R7$(2),p.SpI("",p.bMT(154,201,"Is Manager")," "),p.R7$(3),p.R50("ngModel",g.selectedStaticShift),p.R7$(2),p.SpI("",p.bMT(159,203,"Is Static Shift")," "),p.R7$(3),p.R50("ngModel",g.selectedStaticVacation),p.R7$(2),p.SpI("",p.bMT(164,205,"Is Static Vacation")," "),p.R7$(4),p.JRh(p.bMT(168,207,"Recuritment Source")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsRecuritmentSource),p.R50("ngModel",g.selectedRecuritmentSource),p.R7$(3),p.JRh(p.bMT(173,209,"Machine Code")),p.R7$(2),p.R50("ngModel",g.machineCode),p.R7$(3),p.JRh(p.bMT(178,211,"Contract Type")),p.R7$(2),p.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",g.dropdownItemsContractType),p.R50("ngModel",g.selectedContactType),p.R7$(3),p.SpI("",p.bMT(183,213,"Join In Date")," "),p.R7$(3),p.Y8G("showIcon",!0)("iconDisplay","input"),p.R50("ngModel",g.joiningDate),p.R7$(3),p.SpI("",p.bMT(189,215,"Contract Start Date")," "),p.R7$(3),p.Y8G("showIcon",!0)("iconDisplay","input"),p.R50("ngModel",g.hiringDate),p.R7$(3),p.JRh(p.bMT(195,217,"Contract End Date")),p.R7$(2),p.Y8G("showIcon",!0)("iconDisplay","input"),p.R50("ngModel",g.resignationDate),p.R7$(3),p.Y8G("disabled",!g.editForm.valid),p.R7$(3),p.SpI(" ",p.bMT(203,219,"Save")," "),p.R7$(2),p.Aen(p.lJ4(223,Ot)),p.R50("visible",g.uploadImageDialog),p.Y8G("header",p.bMT(205,221,"Update Profile Image"))("modal",!0))},dependencies:[E.$,s.bT,m.qT,m.me,m.BC,m.cb,m.vS,m.j4,m.JD,h.q,P.t,C.D9,j.t,T.Ei,k.n,x.N,D._f,v.l,Y.y8,ae.S,G.ms,Bt.Z,Se.Vv,$.n3,me.HW,At.T],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;margin-top:48px}.btn-filter-submit-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btn-submit[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:8px 24px}.field-id[_ngcontent-%COMP%]{opacity:.75}.btn-edit[_ngcontent-%COMP%]{gap:0!important}li[_ngcontent-%COMP%]{list-style:none}.field-img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:15px;overflow:hidden}.img-container[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center}.img-container-no-image[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;background:#eee;border:1px solid #c4c4c5}img[_ngcontent-%COMP%]{max-width:100%}  .p-dropdown{width:100%}"]})}}return q})()},2692:(bn,ve,R)=>{R.r(ve),R.d(ve,{InfoModule:()=>uf});var u=R(177),s=R(9417),m=R(5779),T=R(8541),C=R(583),M=R(421),A=R(3348),e=R(4438),E=R(4690),j=R(1626);let p=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var _=R(4842),S=R(7137),N=R(9285),$=R(1830),h=R(9280),P=R(563),k=R(1141),x=R(6781),D=R(9998),v=R(2242),Y=R(8150),ae=R(1631),G=R(8542);const Bt=["dt"],Se=()=>({width:"450px"}),me=a=>({"null-color":a});function At(a,c){1&a&&e.nrm(0,"pre-loading")}function Jt(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function qt(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ot(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",22),e.nI1(6,"translate"),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.changeMonth(n))}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedYear,n)||(l.selectedYear=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.changeYear(n))}),e.k0s()(),e.j41(13,"div",25)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-inputSwitch",27),e.k0s(),e.j41(18,"div",20),e.nrm(19,"button",28),e.nI1(20,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,11,"Month")),e.R7$(2),e.Y8G("options",t.allMonths)("placeholder",e.bMT(6,13,"Select a Month")),e.R7$(4),e.JRh(e.bMT(10,15,"Year")),e.R7$(2),e.Y8G("options",t.allYears),e.R50("ngModel",t.selectedYear),e.Y8G("placeholder",e.bMT(12,17,"Select a Year")),e.R7$(4),e.JRh(e.bMT(16,19,"Closed")),e.R7$(4),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(20,21,"Insert New"))}}function Lt(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Xt(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th",34),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,9,"Id")," "),e.R7$(3),e.SpI(" ",e.bMT(6,11,"Month")," "),e.R7$(3),e.JRh(e.bMT(9,13,"Year")),e.R7$(3),e.JRh(e.bMT(12,15,"Closed")),e.R7$(3),e.JRh(e.bMT(15,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,25,"Actions")))}function Ht(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"span",35),e.EFF(3,"Id"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",36)(6,"span",35),e.EFF(7,"monthName"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"td",36)(10,"span",35),e.EFF(11,"year"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",36)(14,"span",35),e.EFF(15,"Closed"),e.k0s(),e.j41(16,"p-inputSwitch",37),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.closed,n)||(l.closed=n),e.Njj(n)}),e.k0s()(),e.j41(17,"td",36)(18,"span",35),e.EFF(19,"creationTime"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"td",36)(22,"span",35),e.EFF(23,"lastModificationTime"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",36)(26,"span",35),e.EFF(27,"creatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",36)(30,"span",35),e.EFF(31,"lastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",38)(35,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(4),e.SpI(" ",t.id?t.id:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(16,me,!t.name)),e.R7$(3),e.SpI(" ",t.monthName?t.monthName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(18,me,!t.hoursNumber)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(20,me,!t.notes)),e.R7$(3),e.R50("ngModel",t.closed),e.Y8G("disabled",!0),e.R7$(),e.Y8G("ngClass",e.eq3(22,me,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,me,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,me,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,me,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ut(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",20)(2,"label",40),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",41),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",20)(8,"label",42),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",43),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",25)(14,"label",44),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-inputSwitch",45),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.closed,n)||(l.product.closed=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",46)(19,"button",47),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(21,"button",48),e.nI1(22,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,13,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(6,15,"Select a Month")),e.R7$(4),e.JRh(e.bMT(10,17,"Year")),e.R7$(2),e.Y8G("options",t.allYears),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(12,19,"Select a Year")),e.R7$(4),e.JRh(e.bMT(16,21,"Closed")),e.R7$(2),e.R50("ngModel",t.product.closed),e.R7$(2),e.Y8G("label",e.bMT(20,23,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(22,25,"Save"))}}function zt(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Wt(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",50),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Qt(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",50),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Kt=(()=>{class a{constructor(t,o,n){this.closeMonthService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.allYears=[],this.items=[],this.addNewForm=new s.gE({month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required]),closed:new s.MJ(!1,[s.k0.required])}),this.editForm=new s.gE({month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required]),closed:new s.MJ(!1,[s.k0.required]),id:new s.MJ(null,[s.k0.required])})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.payrollManagement.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.payrollManagement.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="CloseMonth",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.closeMonthService.setCulture(t),this.closeMonthService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions(),this.closeMonthService.getMonths().subscribe({next:o=>{this.allMonths=o.data,console.log(this.allMonths)},error:o=>{console.log(o)}}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){this.closeMonthService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,this.closed=o.data.closed,console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.closeMonthService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.closeMonthService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.closeMonthService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.closeMonthService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.closeMonthService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="monthName"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let l=t-3;l<=n;l++)this.allYears.push(l)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(p),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-close-month"]],viewQuery:function(o,n){if(1&o&&e.GBs(Bt,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"onChange","options","placeholder"],["htmlFor","name-ar"],["formControlName","year","required","",3,"ngModelChange","onChange","options","ngModel","placeholder"],[1,"field","field-closed"],["htmlFor","closed"],["formControlName","closed"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[3,"click"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModelChange","ngModel","disabled"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["formControlName","month","optionValue","id","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["formControlName","year",3,"ngModelChange","options","ngModel","placeholder"],["for","notes"],["formControlName","closed",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,At,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Jt,3,3,"ng-template",4)(5,qt,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Ot,21,23,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Lt,8,7,"ng-template",9)(13,Xt,28,27,"ng-template",10)(14,Ht,36,30,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Ut,23,27,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,zt,6,4,"span",1),e.k0s(),e.DNE(23,Wt,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Qt,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,Se)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,Se)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,Se)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,Se)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,P.n,k._f,x.l,D.y8,v.S,Y.ms,ae.HW,G.m],styles:[".field-closed[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})();var U=R(5836);let q=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var X=R(320),f=R(1305);const w=["dt"],g=()=>({width:"450px"}),y=a=>({"null-color":a}),b=a=>({"ng-invalid ng-dirty":a});function Zt(a,c){1&a&&e.nrm(0,"pre-loading")}function en(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function tn(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Yn(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",26),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"textarea",30),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24)(20,"label",31),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",32),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",24),e.nrm(26,"button",33),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,11,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,13,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,15,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,17,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,19,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,21,"Enter Notes Here")),e.R7$(4),e.JRh(e.bMT(22,23,"Department Code")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,25,"Enter departmentCode Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(27,27,"Insert New"))}}function Bn(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",36),e.nrm(5,"i",37),e.j41(6,"input",38),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function An(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",39),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",40),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",41),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"Notes")),e.R7$(3),e.JRh(e.bMT(12,12,"departmentCode")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function Jn(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",42),e.k0s(),e.j41(3,"td",43)(4,"span",44),e.EFF(5,"name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",43)(8,"span",44),e.EFF(9,"notes"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",43)(12,"span",44),e.EFF(13,"departmentCode"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",43)(16,"span",44),e.EFF(17,"creationTime"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",43)(21,"span",44),e.EFF(22,"lastModificationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",43)(26,"span",44),e.EFF(27,"creatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",43)(30,"span",44),e.EFF(31,"lastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",45)(35,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(36,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(21,y,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,y,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,y,!t.departmentCode)),e.R7$(3),e.SpI(" ",t.departmentCode?t.departmentCode:"Unset"," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,y,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(19,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,y,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,y,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,y,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function qn(a,c){1&a&&(e.j41(0,"small",60),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function On(a,c){1&a&&(e.j41(0,"small",60),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function Ln(a,c){1&a&&(e.j41(0,"small",60),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Department Code is required.")))}function Xn(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",24)(2,"label",48),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,qn,3,3,"small",50),e.k0s(),e.j41(7,"div",24)(8,"label",51),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",52),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,On,3,3,"small",50),e.k0s(),e.j41(13,"div",24)(14,"label",53),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",54),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.departmentCode,n)||(l.product.departmentCode=n),e.Njj(n)}),e.k0s(),e.DNE(18,Ln,3,3,"small",50),e.k0s(),e.j41(19,"div",24)(20,"label",55),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"textarea",56),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",57)(25,"button",58),e.nI1(26,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(27,"button",59),e.nI1(28,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,18,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(30,b,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,20,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(32,b,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,22,"Department Code")),e.R7$(2),e.R50("ngModel",t.product.departmentCode),e.Y8G("ngClass",e.eq3(34,b,t.submitted&&!t.product.departmentCode)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.departmentCode),e.R7$(3),e.JRh(e.bMT(22,24,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(26,26,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(28,28,"Save"))("disabled",t.editForm.invalid)}}function Hn(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Un(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",61),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",62),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function zn(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",61),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",62),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Wn=(()=>{class a{constructor(t,o,n){this._DepartmentService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),departmentCode:new s.MJ(null),notes:new s.MJ(null)}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),departmentCode:new s.MJ(null),notes:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="Department",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._DepartmentService.setCulture(t),this._DepartmentService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._DepartmentService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._DepartmentService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._DepartmentService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._DepartmentService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this._DepartmentService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._DepartmentService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._DepartmentService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3}),o.clear()},complete:()=>{o.clear()}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(q),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-department"]],viewQuery:function(o,n){if(1&o&&e.GBs(w,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:31,vars:46,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["htmlFor","new-departmentCode"],["pInputTextarea","","formControlName","departmentCode","id","new-departmentCode","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","departmentCode"],["type","text","pInputText","","id","departmentCode","maxlength","50","formControlName","departmentCode","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Zt,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,en,5,7,"ng-template",5)(5,tn,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Yn,28,29,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Bn,8,7,"ng-template",10)(13,An,28,24,"ng-template",11)(14,Jn,37,35,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Xn,29,36,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,Hn,6,4,"span",2),e.k0s(),e.DNE(23,Un,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",17),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,zn,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,g)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,g)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,36,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,g)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,g)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}}return a})();const Qn=["dt"],Qe=()=>({width:"450px"}),nn=a=>({frozen:a}),Kn=(a,c)=>({frozen:a,"null-color":c}),Le=a=>({"null-color":a}),fn=a=>({"ng-invalid ng-dirty":a});function Zn(a,c){1&a&&e.nrm(0,"pre-loading")}function eo(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function to(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function no(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",26),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"textarea",30),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24),e.nrm(20,"button",31),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,9,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,11,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,15,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,17,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,19,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(21,21,"Insert New"))}}function oo(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function ao(a,c){if(1&a&&(e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",38),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",39),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(25,nn,t.isNameFreeze)),e.R7$(2),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(27,nn,t.isNameFreeze)),e.R7$(),e.SpI(" ",e.bMT(5,11,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,13,"Notes")),e.R7$(3),e.JRh(e.bMT(12,15,"creationTime")),e.R7$(3),e.JRh(e.bMT(15,17,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(18,19,"creatorName")),e.R7$(3),e.JRh(e.bMT(21,21,"lastModifierName")),e.R7$(3),e.SpI(" ",e.bMT(24,23,"Actions")," ")}}function lo(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",38),e.nrm(2,"p-tableCheckbox",40),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td",41),e.EFF(6),e.k0s(),e.j41(7,"td",41),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td",41),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td",41),e.EFF(14),e.k0s(),e.j41(15,"td",41),e.EFF(16),e.k0s(),e.j41(17,"td")(18,"div",42)(19,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(20,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.eq3(22,nn,o.isNameFreeze)),e.R7$(),e.Y8G("value",t),e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.l_i(24,Kn,o.isNameFreeze,!t.name)),e.R7$(),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,Le,!t.notes)),e.R7$(),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,Le,!t.creationTime)),e.R7$(),e.SpI(" ",e.i5U(9,16,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,Le,!t.lastModificationTime)),e.R7$(),e.SpI(" ",e.i5U(12,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,Le,!t.creatorName)),e.R7$(),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,Le,!t.lastModifierName)),e.R7$(),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function so(a,c){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function io(a,c){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function ro(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",24)(2,"label",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,so,3,3,"small",47),e.k0s(),e.j41(7,"div",24)(8,"label",48),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,io,3,3,"small",47),e.k0s(),e.j41(13,"div",24)(14,"label",50),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"textarea",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",52)(19,"button",53),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(21,"button",54),e.nI1(22,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,14,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(24,fn,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,16,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(26,fn,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,18,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(20,20,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(22,22,"Save"))("disabled",t.editForm.invalid)}}function co(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function po(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function mo(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Z=(()=>{class a{constructor(t,o,n){this._LockupsService=t,this.messageService=o,this.translate=n,this.isNameFreeze=!0,this.isActionsFreeze=!0,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LockupsService.setCulture(t),this._LockupsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.custom||(this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations())}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._LockupsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LockupsService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._LockupsService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._LockupsService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._LockupsService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._LockupsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._LockupsService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(E.$),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-std-paginations-with-popup"]],viewQuery:function(o,n){if(1&o&&e.GBs(Qn,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint",items:"items",custom:"custom"},standalone:!0,features:[e.Jv_([m.bg,_.c$]),e.aNF],decls:31,vars:47,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id","scrollDirection","horizontal",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","scrollable"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["pFrozenColumn","","alignFrozen","right",2,"width","3rem",3,"frozen","ngClass"],["pFrozenColumn","","alignFrozen","right",3,"frozen","ngClass"],["field","name"],[3,"value"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Zn,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,eo,5,7,"ng-template",5)(5,to,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,no,22,23,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,oo,8,7,"ng-template",10)(13,ao,25,29,"ng-template",11)(14,lo,21,37,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,ro,23,28,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,co,6,4,"span",2),e.k0s(),e.DNE(23,po,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",17),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,mo,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(43,Qe)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)("scrollable",!0),e.R7$(6),e.Aen(e.lJ4(44,Qe)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(45,Qe)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(46,Qe)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,41,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.du,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.p-datatable-frozen-view[_ngcontent-%COMP%]{background-color:#f9f9f9}.p-datatable-scrollable-body[_ngcontent-%COMP%]{overflow-x:auto}  .p-datatable-tbody>tr>td{right:0!important}  .p-datatable .p-datatable-thead>tr>th{right:0!important}  html:lang(en) .p-datatable-tbody>tr>td{right:unset!important;left:0!important}  html:lang(en) .p-datatable .p-datatable-thead>tr>th{right:unset!important;left:0!important}"]})}}return a})(),uo=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-bank"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","Bank"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),ho=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-govenment"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","Government"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),go=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const _o=["dt"],Ke=()=>({width:"450px"}),ue=a=>({"null-color":a}),Ze=a=>({"ng-invalid ng-dirty":a});function bo(a,c){1&a&&e.nrm(0,"pre-loading")}function fo(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Fo(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",20,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",21),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Io(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",23)(2,"label",24),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",25),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",23)(8,"label",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",27),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",23)(14,"label",28),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",29),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",23)(20,"label",30),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",31),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",23)(26,"label",32),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"textarea",33),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",23)(32,"label",34),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"textarea",35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"div",23),e.nrm(38,"button",36),e.nI1(39,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,15,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,17,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,19,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,21,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,23,"Latitude")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,25,"Enter Latitude Here")),e.R7$(4),e.JRh(e.bMT(22,27,"Longitude")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,29,"Enter Longitude Here")),e.R7$(4),e.JRh(e.bMT(28,31,"Discription")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,33,"Enter discription Here")),e.R7$(4),e.JRh(e.bMT(34,35,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(36,37,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(39,39,"Insert New"))}}function Ro(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",37)(1,"h5",38),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",39),e.nrm(5,"i",40),e.j41(6,"input",41),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function yo(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",42),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",43),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",44),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,12,"Latitude")),e.R7$(3),e.JRh(e.bMT(12,14,"Longitude")),e.R7$(3),e.JRh(e.bMT(15,16,"Discription")),e.R7$(3),e.JRh(e.bMT(18,18,"Notes")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function Co(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",45),e.k0s(),e.j41(3,"td",46)(4,"span",47),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",46)(8,"span",47),e.EFF(9,"Latitude"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",46)(12,"span",47),e.EFF(13,"Longitude"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",46)(16,"span",47),e.EFF(17,"Discription"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",46)(20,"span",47),e.EFF(21,"Notes"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",46)(24,"span",47),e.EFF(25,"creationTime"),e.k0s(),e.EFF(26),e.nI1(27,"date"),e.k0s(),e.j41(28,"td",46)(29,"span",47),e.EFF(30,"lastModificationTime"),e.k0s(),e.EFF(31),e.nI1(32,"date"),e.k0s(),e.j41(33,"td",46)(34,"span",47),e.EFF(35,"creatorName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",46)(38,"span",47),e.EFF(39,"lastModifierName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td")(42,"div",48)(43,"button",49),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(44,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(25,ue,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,ue,!t.latitude)),e.R7$(3),e.SpI(" ",t.latitude?t.latitude:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,ue,!t.longitude)),e.R7$(3),e.SpI(" ",t.longitude?t.longitude:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,ue,!t.discription)),e.R7$(3),e.SpI(" ",t.discription?t.discription:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,ue,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,ue,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(27,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(37,ue,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(32,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(39,ue,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,ue,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function To(a,c){1&a&&(e.j41(0,"small",67),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function Mo(a,c){1&a&&(e.j41(0,"small",67),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function jo(a,c){1&a&&(e.j41(0,"small",67),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Latitude is required.")))}function ko(a,c){1&a&&(e.j41(0,"small",67),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Longitude is required.")))}function Do(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",23)(2,"label",51),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",52),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,To,3,3,"small",53),e.k0s(),e.j41(7,"div",23)(8,"label",54),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,Mo,3,3,"small",53),e.k0s(),e.j41(13,"div",23)(14,"label",56),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",57),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.latitude,n)||(l.product.latitude=n),e.Njj(n)}),e.k0s(),e.DNE(18,jo,3,3,"small",53),e.k0s(),e.j41(19,"div",23)(20,"label",58),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",59),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.longitude,n)||(l.product.longitude=n),e.Njj(n)}),e.k0s(),e.DNE(24,ko,3,3,"small",53),e.k0s(),e.j41(25,"div",23)(26,"label",60),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"textarea",61),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(30,"div",23)(31,"label",62),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"textarea",63),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,n)||(l.product.discription=n),e.Njj(n)}),e.k0s()(),e.j41(35,"div",64)(36,"button",65),e.nI1(37,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(38,"button",66),e.nI1(39,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,24,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(40,Ze,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,26,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(42,Ze,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,28,"Latitude")),e.R7$(2),e.R50("ngModel",t.product.latitude),e.Y8G("ngClass",e.eq3(44,Ze,t.submitted&&!t.product.latitude)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.latitude),e.R7$(3),e.JRh(e.bMT(22,30,"Longitude")),e.R7$(2),e.R50("ngModel",t.product.longitude),e.Y8G("ngClass",e.eq3(46,Ze,t.submitted&&!t.product.longitude)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.longitude),e.R7$(3),e.JRh(e.bMT(28,32,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(3),e.JRh(e.bMT(33,34,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.R7$(2),e.Y8G("label",e.bMT(37,36,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(39,38,"Save"))}}function Eo(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function No(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",68),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",69),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function wo(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",71),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let vo=(()=>{class a{constructor(t,o,n){this._LocationService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),latitude:new s.MJ(null,[s.k0.required]),longitude:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),discription:new s.MJ(null)}),this.editForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),latitude:new s.MJ(null,[s.k0.required]),longitude:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),discription:new s.MJ(null),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="Location",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LocationService.setCulture(t),this._LocationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._LocationService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}editProduct(t){console.log(t.id),this._LocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LocationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this._LocationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._LocationService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this._LocationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._LocationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(go),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-location"]],viewQuery:function(o,n){if(1&o&&e.GBs(_o,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","latitude","id","new-latitude","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","longitude","id","new-longitude","type","text",3,"placeholder"],["htmlFor","new-discription"],["formControlName","discription","pInputTextarea","","id","new-discription","type","text",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","latitude"],["formControlName","latitude","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","longitude"],["formControlName","longitude","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","discription"],["formControlName","discription","id","discription","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,bo,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,fo,5,7,"ng-template",5)(5,Fo,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Io,40,41,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Ro,8,7,"ng-template",10)(13,yo,34,30,"ng-template",11)(14,Co,45,43,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Do,40,48,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,Eo,6,4,"span",2),e.k0s(),e.DNE(23,No,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",13),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",14),e.nrm(27,"i",15),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,wo,2,0,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,Ke)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,Ke)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,Ke)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,Ke)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),So=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Po=["dt"],et=()=>({width:"450px"}),Fn=a=>({"ng-invalid ng-dirty":a});function xo(a,c){1&a&&e.nrm(0,"pre-loading")}function Go(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function $o(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",20,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",21),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Vo(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addnewForm))}),e.j41(1,"div",23)(2,"label",24),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",25),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",23)(8,"label",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",27),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",23)(14,"label",28),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",29),e.nI1(18,"translate"),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.changedSelected(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDepartment,n)||(l.selectedDepartment=n),e.Njj(n)}),e.bIt("onClear",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedDepartment=null)}),e.k0s()(),e.j41(19,"div",23)(20,"label",30),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",31),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",23),e.nrm(26,"button",32),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addnewForm),e.R7$(3),e.SpI("",e.bMT(4,15,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,17,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,19,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,21,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,23,"Department")),e.R7$(2),e.Y8G("options",t.departmentDropDown),e.R50("ngModel",t.selectedDepartment),e.Y8G("placeholder",e.bMT(18,25,"Select a Department"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(22,27,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,29,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addnewForm.invalid)("label",e.bMT(27,31,"Insert New"))}}function Yo(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",35),e.nrm(5,"i",36),e.j41(6,"input",37),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Bo(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",38),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",39),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",40),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"Notes")),e.R7$(3),e.JRh(e.bMT(12,12,"Department")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function Ao(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td")(4,"span",42),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",42),e.EFF(9,"Notes"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",42),e.EFF(13,"Notes"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"span",42),e.EFF(17,"creationTime"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td")(21,"span",42),e.EFF(22,"lastModificationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td")(26,"span",42),e.EFF(27,"creatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"span",42),e.EFF(31,"lastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",43)(35,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(36,"button",45),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.name,""),e.R7$(4),e.SpI(" ",t.notes," "),e.R7$(4),e.SpI(" ",t.departmentName," "),e.R7$(4),e.SpI(" ",e.i5U(19,8,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(5),e.SpI(" ",e.i5U(24,11,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(5),e.SpI(" ",t.creatorName," "),e.R7$(4),e.SpI(" ",t.lastModifierName," ")}}function Jo(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",23)(2,"label",46),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",47),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",23)(7,"label",48),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s()(),e.j41(11,"div",23)(12,"label",50),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p-dropdown",51),e.nI1(16,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEditsDepartment,n)||(l.selectedEditsDepartment=n),e.Njj(n)}),e.k0s()(),e.j41(17,"div",23)(18,"label",52),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"textarea",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(22,"div",54)(23,"button",55),e.nI1(24,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(25,"button",56),e.nI1(26,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,18,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(32,Fn,t.submitted&&!t.product.name)),e.R7$(3),e.JRh(e.bMT(9,20,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(34,Fn,t.submitted&&!t.product.engName)),e.R7$(3),e.JRh(e.bMT(14,22,"Department")),e.R7$(2),e.Y8G("options",t.departmentDropDown),e.R50("ngModel",t.selectedEditsDepartment),e.Y8G("placeholder",e.bMT(16,24,"Select a Department"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(20,26,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(24,28,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(26,30,"Save"))("disabled",t.editForm.invalid)}}function qo(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Oo(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",57),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",58),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Lo(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",57),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",58),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Xo=(()=>{class a{constructor(t,o,n){this._PartitionService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.departmentDropDown=[],this.selectedDepartment=null,this.selectedDepartmentId=-1,this.addnewForm=new s.gE({departmentId:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null)}),this.editForm=new s.gE({departmentId:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Partation",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PartitionService.setCulture(t),this._PartitionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownDepartment(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._PartitionService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),o.clear(),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})},complete:()=>{o.clear()}})}}getDartmentNameById(t){return console.log("id edited"),console.log(t),this.departmentDropDown.find(n=>n.id==t)}editProduct(t){console.log(t.id),this._PartitionService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedEditsDepartment=this.getDartmentNameById(this.product.departmentId),console.log("dept name is ",this.selectedEditsDepartment)}})}changedSelected(t){}getDropDownDepartment(){this._PartitionService.getDropDown("Department").subscribe({next:t=>{this.departmentDropDown=t.data}})}confirmDelete(t){this._PartitionService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this._PartitionService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._PartitionService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t,departmentId:this.selectedEditsDepartment.id}),console.log(o.value),this._PartitionService.Edit(o.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){console.log(this.selectedItems);const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PartitionService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(So),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-partition"]],viewQuery:function(o,n){if(1&o&&e.GBs(Po,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["for","department"],["id","department","formControlName","departmentId","optionValue","id","optionLabel","name","filterBy","name",3,"onChange","ngModelChange","onClear","options","ngModel","placeholder","showClear","filter"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","formControlName","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","departmentEdit"],["formControlName","departmentId","optionLabel","name","id","edit_Dept","filterBy","name",3,"ngModelChange","options","ngModel","placeholder","showClear","filter"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,xo,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Go,5,7,"ng-template",5)(5,$o,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Vo,28,33,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Yo,8,7,"ng-template",10)(13,Bo,28,24,"ng-template",11)(14,Ao,37,14,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Jo,27,36,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,qo,6,4,"span",2),e.k0s(),e.DNE(23,Oo,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",13),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",14),e.nrm(27,"i",15),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Lo,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,et)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,et)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,et)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,et)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),Ho=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-qualification"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","Qualification"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),Uo=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var W=R(612);const zo=["dt"],on=()=>({width:"450px"}),te=a=>({"null-color":a}),In=a=>({"ng-invalid ng-dirty":a});function Wo(a,c){1&a&&e.nrm(0,"pre-loading")}function Qo(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ko(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Zo(a,c){if(1&a){const t=e.RV6();e.j41(0,"i",46),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.startAttendeesTimeClick(n))}),e.k0s()}}function ea(a,c){if(1&a){const t=e.RV6();e.j41(0,"i",46),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.endAttendeesTimeClick(n))}),e.k0s()}}function ta(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"form",24),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(2,"div",25)(3,"label",26),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"input",27),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",25)(9,"label",28),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",29),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",25)(15,"label",30),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"p-calendar",31),e.nI1(19,"translate"),e.DNE(20,Zo,1,0,"ng-template",32),e.k0s()(),e.j41(21,"div",25)(22,"label",33),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"p-calendar",34),e.nI1(26,"translate"),e.DNE(27,ea,1,0,"ng-template",32),e.k0s()(),e.j41(28,"div",25)(29,"label",35),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"input",36),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",25)(35,"label",37),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"input",38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"div",25)(41,"label",39),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.nrm(44,"input",40),e.nI1(45,"translate"),e.k0s(),e.j41(46,"div",25)(47,"label",41),e.EFF(48),e.nI1(49,"translate"),e.k0s(),e.nrm(50,"input",42),e.nI1(51,"translate"),e.k0s(),e.j41(52,"div",25)(53,"label",43),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.nrm(56,"textarea",44),e.nI1(57,"translate"),e.k0s(),e.j41(58,"div",25),e.nrm(59,"button",45),e.nI1(60,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(5,29,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(7,31,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(11,33,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(13,35,"Enter Arabic Name Here")),e.R7$(4),e.SpI(" ",e.bMT(17,37,"start Attendees Time")," "),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.bMT(19,39,"00:00:00")),e.R7$(5),e.SpI(" ",e.bMT(24,41,"End Attendees Time")," "),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("timeOnly",!0)("showSeconds",!0)("placeholder",e.bMT(26,43,"00:00:00")),e.R7$(5),e.JRh(e.bMT(31,45,"number Of Hours")),e.R7$(2),e.Y8G("placeholder",e.bMT(33,47,"Enter number Of Hours")),e.R7$(4),e.JRh(e.bMT(37,49,"check In Before The Shift Starts")),e.R7$(2),e.Y8G("placeholder",e.bMT(39,51,"Enter Check In Before The Shift Starts")),e.R7$(4),e.JRh(e.bMT(43,53,"check Out After The Shift Ends")),e.R7$(2),e.Y8G("placeholder",e.bMT(45,55,"Enter check Out After The Shift Ends")),e.R7$(4),e.JRh(e.bMT(49,57,"check Out After The Shift Starts")),e.R7$(2),e.Y8G("placeholder",e.bMT(51,59,"Enter check Out Before The Shift Starts")),e.R7$(4),e.JRh(e.bMT(55,61,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(57,63,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(60,65,"Insert New"))("disabled",t.addNewForm.invalid)}}function na(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",47)(1,"h5",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",49),e.nrm(5,"i",50),e.j41(6,"input",51),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function oa(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",52),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",53),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",54),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,13,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,15,"StartAttendeesTime")),e.R7$(3),e.JRh(e.bMT(12,17,"EndAttendeesTime")),e.R7$(3),e.JRh(e.bMT(15,19,"NumberOfHours")),e.R7$(3),e.JRh(e.bMT(18,21,"check In Before The Shift Starts")),e.R7$(3),e.JRh(e.bMT(21,23,"check Out After The Shift Ends")),e.R7$(3),e.JRh(e.bMT(24,25,"check Out After The Shift Starts")),e.R7$(3),e.JRh(e.bMT(27,27,"Notes")),e.R7$(3),e.JRh(e.bMT(30,29,"creationTime")),e.R7$(3),e.JRh(e.bMT(33,31,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(36,33,"creatorName")),e.R7$(3),e.JRh(e.bMT(39,35,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(42,37,"Actions")))}function aa(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",55),e.k0s(),e.j41(3,"td",56)(4,"span",57),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",56)(8,"span",57),e.EFF(9,"startAttendeesTime"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",56)(12,"span",57),e.EFF(13,"endAttendeesTime"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",56)(16,"span",57),e.EFF(17,"numberOfHours"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",56)(20,"span",57),e.EFF(21,"checkInBeforeTheShiftStarts"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",56)(24,"span",57),e.EFF(25,"checkOutAfterTheShiftEnds"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",56)(28,"span",57),e.EFF(29,"CheckInAfterTheShiftStarts"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",56)(32,"span",57),e.EFF(33,"Notes"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",56)(36,"span",57),e.EFF(37,"creationTime"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td",56)(40,"span",57),e.EFF(41,"lastModificationTime"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"td",56)(44,"span",57),e.EFF(45,"creatorName"),e.k0s(),e.EFF(46),e.k0s(),e.j41(47,"td",56)(48,"span",57),e.EFF(49,"lastModifierName"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"td")(52,"div",58)(53,"button",59),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(54,"button",60),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(25,te,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,te,!t.startAttendeesTime)),e.R7$(3),e.SpI(" ",t.startAttendeesTime?t.startAttendeesTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,te,!t.endAttendeesTime)),e.R7$(3),e.SpI(" ",t.endAttendeesTime?t.endAttendeesTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,te,!t.numberOfHours)),e.R7$(3),e.SpI(" ",t.numberOfHours?t.numberOfHours:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,te,!t.checkInBeforeTheShiftStarts)),e.R7$(3),e.SpI(" ",t.checkInBeforeTheShiftStarts," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,te,!t.checkOutAfterTheShiftEnds)),e.R7$(3),e.SpI(" ",t.checkOutAfterTheShiftEnds," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,te,!t.CheckInAfterTheShiftStarts)),e.R7$(3),e.SpI(" ",t.CheckInAfterTheShiftStarts," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,te,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,te,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(43,te,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,te,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,te,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function la(a,c){1&a&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function sa(a,c){1&a&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI("",e.bMT(2,1,"English Name is required"),"."))}function ia(a,c){if(1&a){const t=e.RV6();e.j41(0,"i",46),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.startAttendeesTimeClickEdit(n))}),e.k0s()}}function ra(a,c){1&a&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"startAttendeesTime is required.")))}function ca(a,c){if(1&a){const t=e.RV6();e.j41(0,"i",46),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.endAttendeesTimeClickEdit(n))}),e.k0s()}}function pa(a,c){1&a&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"endAttendeesTime is required.")))}function da(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",24),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",25)(2,"label",61),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",62),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,la,3,3,"small",63),e.k0s(),e.j41(7,"div",25)(8,"label",64),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",65),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,sa,3,3,"small",63),e.k0s(),e.j41(13,"div",25)(14,"label",66),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",67),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.startAttendeesTime,n)||(l.product.startAttendeesTime=n),e.Njj(n)}),e.DNE(19,ia,1,0,"ng-template",32),e.k0s(),e.DNE(20,ra,3,3,"small",63),e.k0s(),e.j41(21,"div",25)(22,"label",68),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"p-calendar",69),e.nI1(26,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.endAttendeesTime,n)||(l.product.endAttendeesTime=n),e.Njj(n)}),e.DNE(27,ca,1,0,"ng-template",32),e.k0s(),e.DNE(28,pa,3,3,"small",63),e.k0s(),e.j41(29,"div",25)(30,"label",37),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"input",70),e.nI1(34,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.checkInBeforeTheShiftStarts,n)||(l.product.checkInBeforeTheShiftStarts=n),e.Njj(n)}),e.k0s()(),e.j41(35,"div",25)(36,"label",39),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"input",71),e.nI1(40,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.checkOutAfterTheShiftEnds,n)||(l.product.checkOutAfterTheShiftEnds=n),e.Njj(n)}),e.k0s()(),e.j41(41,"div",25)(42,"label",41),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"input",72),e.nI1(46,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.CheckInAfterTheShiftStarts,n)||(l.product.CheckInAfterTheShiftStarts=n),e.Njj(n)}),e.k0s()(),e.j41(47,"div",25)(48,"label",73),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"input",74),e.nI1(52,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.numberOfHours,n)||(l.product.numberOfHours=n),e.Njj(n)}),e.k0s()(),e.j41(53,"div",25)(54,"label",75),e.EFF(55),e.nI1(56,"translate"),e.k0s(),e.j41(57,"textarea",76),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(58,"div",77)(59,"button",78),e.nI1(60,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(61,"button",79),e.nI1(62,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,42,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(76,In,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,44,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(78,In,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,46,"start Attendees Time")),e.R7$(2),e.R50("ngModel",t.product.startAttendeesTime),e.Y8G("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.bMT(18,48,"00:00:00")),e.R7$(3),e.Y8G("ngIf",t.submitted&&!t.product.startAttendeesTime),e.R7$(3),e.JRh(e.bMT(24,50,"End Attendees Time")),e.R7$(2),e.R50("ngModel",t.product.endAttendeesTime),e.Y8G("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.bMT(26,52,"00:00:00")),e.R7$(3),e.Y8G("ngIf",t.submitted&&!t.product.endAttendeesTime),e.R7$(3),e.JRh(e.bMT(32,54,"check In Before The Shift Starts")),e.R7$(2),e.R50("ngModel",t.product.checkInBeforeTheShiftStarts),e.Y8G("placeholder",e.bMT(34,56,"Enter Check In Before The Shift Starts")),e.R7$(4),e.JRh(e.bMT(38,58,"check Out After The Shift Ends")),e.R7$(2),e.R50("ngModel",t.product.checkOutAfterTheShiftEnds),e.Y8G("placeholder",e.bMT(40,60,"Enter check Out After The Shift Ends")),e.R7$(4),e.JRh(e.bMT(44,62,"check Out After The Shift Starts")),e.R7$(2),e.R50("ngModel",t.product.CheckInAfterTheShiftStarts),e.Y8G("placeholder",e.bMT(46,64,"Enter check Out Before The Shift Starts")),e.R7$(4),e.JRh(e.bMT(50,66,"number Of Hours")),e.R7$(2),e.R50("ngModel",t.product.numberOfHours),e.Y8G("placeholder",e.bMT(52,68,"Enter number Of Hours")),e.R7$(4),e.JRh(e.bMT(56,70,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(60,72,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(62,74,"Save"))("disabled",t.editForm.invalid)}}function ma(a,c){}function ua(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function ha(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",81),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",82),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function ga(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",81),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",82),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let _a=(()=>{class a{constructor(t,o,n,l){this._ShiftService=t,this.messageService=o,this.translate=n,this._DatePipe=l,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({checkInBeforeTheShiftStarts:new s.MJ(null,[s.k0.required]),checkOutAfterTheShiftEnds:new s.MJ(null,[s.k0.required]),CheckInAfterTheShiftStarts:new s.MJ(null,[s.k0.required]),endAttendeesTime:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),numberOfHours:new s.MJ(null,[s.k0.required]),startAttendeesTime:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null)}),this.editForm=new s.gE({checkInBeforeTheShiftStarts:new s.MJ(null,[s.k0.required]),checkOutAfterTheShiftEnds:new s.MJ(null,[s.k0.required]),CheckInAfterTheShiftStarts:new s.MJ(null,[s.k0.required]),endAttendeesTime:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),numberOfHours:new s.MJ(null,[s.k0.required]),startAttendeesTime:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Shift",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftService.setCulture(t),this._ShiftService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"startAttendeesTime",header:"StartAttendeesTime"},{field:"endAttendeesTime",header:"EndAttendeesTime"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this._ShiftService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._ShiftService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){let o={...t.value,startAttendeesTime:this._DatePipe.transform(t.get("startAttendeesTime").value,"HH:mm:ss"),endAttendeesTime:this._DatePipe.transform(t.get("endAttendeesTime").value,"HH:mm:ss")};this._ShiftService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null,this.startAttendeesTime=null,this.endAttendeesTime=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._ShiftService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t);let n={...o.value,id:t};o.get("startAttendeesTime").touched&&(n.startAttendeesTime=this._DatePipe.transform(o.get("startAttendeesTime").value,"HH:mm:ss")),o.get("endAttendeesTime").touched&&(n.endAttendeesTime=this._DatePipe.transform(o.get("endAttendeesTime").value,"HH:mm:ss")),console.log(o),this._ShiftService.Edit(n).subscribe({next:l=>{this.hideDialog(),l.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3}),o.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._ShiftService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Uo),e.rXU(m.bg),e.rXU(_.c$),e.rXU(u.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-shift"]],viewQuery:function(o,n){if(1&o&&e.GBs(zo,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:31,vars:42,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","card p-fluid",4,"ngIf"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"card","p-fluid"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["for","startAttendeesTime"],["formControlName","startAttendeesTime","inputId","startAttendeesTime",3,"iconDisplay","showIcon","showSeconds","timeOnly","placeholder"],["pTemplate","inputicon"],["for","endAttendeesTime"],["formControlName","endAttendeesTime","inputId","endAttendeesTime",3,"iconDisplay","showIcon","timeOnly","showSeconds","placeholder"],["htmlFor","numberOfHours"],["formControlName","numberOfHours","pInputText","","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","checkInBeforeTheShiftStarts"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"placeholder"],["htmlFor","checkOutAfterTheShiftEnds"],["pInputText","","formControlName","checkOutAfterTheShiftEnds","id","checkOutAfterTheShiftEnds","type","number",3,"placeholder"],["htmlFor","CheckInAfterTheShiftStarts"],["pInputText","","formControlName","CheckInAfterTheShiftStarts","id","CheckInAfterTheShiftStarts","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"pi","pi-clock","pointer-events-none","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","startAttendeesTimeEdit"],["formControlName","startAttendeesTime","id","startAttendeesTimeEdit",3,"ngModelChange","ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder"],["for","endAttendeesTimeEdit"],["formControlName","endAttendeesTime","id","endAttendeesTimeEdit",3,"ngModelChange","ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"ngModelChange","ngModel","placeholder"],["formControlName","checkOutAfterTheShiftEnds","pInputText","","id","checkOutAfterTheShiftEnds","type","number",3,"ngModelChange","ngModel","placeholder"],["formControlName","CheckInAfterTheShiftStarts","pInputText","","id","CheckInAfterTheShiftStarts","type","number",3,"ngModelChange","ngModel","placeholder"],["htmlFor","numberOfHoursEdit"],["formControlName","numberOfHours","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Wo,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Qo,5,7,"ng-template",5)(5,Ko,5,8,"ng-template",6),e.k0s(),e.DNE(6,ta,61,67,"div",7),e.j41(7,"p-table",8,0),e.nI1(9,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(10,na,8,7,"ng-template",9)(11,oa,43,39,"ng-template",10)(12,aa,55,49,"ng-template",11),e.k0s(),e.j41(13,"p-dialog",12),e.nI1(14,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(15,da,63,80,"ng-template",13)(16,ma,0,0,"ng-template",14),e.k0s(),e.j41(17,"p-dialog",15),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",16),e.nrm(20,"i",17),e.DNE(21,ua,6,4,"span",2),e.k0s(),e.DNE(22,ha,4,6,"ng-template",14),e.k0s(),e.j41(23,"p-dialog",15),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",16),e.nrm(26,"i",17),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,ga,4,6,"ng-template",14),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Y8G("ngIf",n.showFormNew),e.R7$(),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(9,29,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(39,on)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(14,31,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(40,on)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(18,33,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(41,on)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(24,35,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,37,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,W.Vv,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  .p-calendar input{padding-left:24px}"]})}}return a})();var ba=R(4751),I=R(5515);let fa=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var tt=R(6296);const Fa=["dt"],nt=()=>({width:"450px"}),Te=a=>({"null-color":a}),Ia=a=>({"ng-invalid ng-dirty":a});function Ra(a,c){1&a&&e.nrm(0,"pre-loading")}function ya(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ca(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ta(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-multiSelect",23),e.nI1(6,"translate"),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.changedSelected())}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedShift,n)||(l.selectedShift=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",25),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.date,n)||(l.date=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"textarea",27),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.reason,n)||(l.reason=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21),e.nrm(20,"button",28),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,18,"Select Shift")),e.R7$(2),e.Y8G("options",t.shiftDropDown),e.R50("ngModel",t.selectedShift),e.Y8G("placeholder",e.bMT(6,20,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.R7$(4),e.SpI("",e.bMT(10,22,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(12,24,"MM/DD/YYYY")),e.R50("ngModel",t.date),e.R7$(4),e.JRh(e.bMT(16,26,"Reason")),e.R7$(2),e.R50("ngModel",t.reason),e.Y8G("placeholder",e.bMT(18,28,"Enter Reason Here")),e.R7$(3),e.Y8G("label",e.bMT(21,30,"Insert New"))("disabled",t.addNewForm.invalid)}}function Ma(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function ja(a,c){1&a&&(e.j41(0,"tr")(1,"th",34),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,8,"Date")),e.R7$(3),e.JRh(e.bMT(8,10,"Holiday Name")),e.R7$(3),e.JRh(e.bMT(11,12,"Shift")),e.R7$(3),e.JRh(e.bMT(14,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(17,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(20,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(23,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(26,22,"Actions")))}function ka(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",35),e.k0s(),e.j41(3,"td",36)(4,"span",37),e.EFF(5,"Date"),e.k0s(),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",36)(9,"span",37),e.EFF(10,"Reason"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"td",36)(13,"span",37),e.EFF(14,"shiftName"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"td",36)(17,"span",37),e.EFF(18,"creationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",36)(22,"span",37),e.EFF(23,"lastModificationTime"),e.k0s(),e.EFF(24),e.nI1(25,"date"),e.k0s(),e.j41(26,"td",36)(27,"span",37),e.EFF(28,"creatorName"),e.k0s(),e.EFF(29),e.k0s(),e.j41(30,"td",36)(31,"span",37),e.EFF(32,"lastModifierName"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td")(35,"div",38)(36,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(37,"button",40),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(24,Te,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(7,15,t.date,"dd/MM/yyyy")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,Te,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,Te,!t.shiftName)),e.R7$(3),e.SpI(" ",t.shiftName?t.shiftName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,Te,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,18,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(32,Te,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(25,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,Te,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,Te,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Da(a,c){1&a&&(e.j41(0,"small",52),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Shift is required.")))}function Ea(a,c){1&a&&(e.j41(0,"small",52),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Date is required.")))}function Na(a,c){1&a&&(e.j41(0,"small",52),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Date is required.")))}function wa(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",41),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",42),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",43),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedShiftEdit,n)||(l.selectedShiftEdit=n),e.Njj(n)}),e.k0s(),e.DNE(7,Da,3,3,"small",44),e.k0s(),e.j41(8,"div",21)(9,"label",45),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p-calendar",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,n)||(l.product.date=n),e.Njj(n)}),e.k0s(),e.DNE(13,Ea,3,3,"small",44),e.k0s(),e.j41(14,"div",21)(15,"label",47),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.reason,n)||(l.product.reason=n),e.Njj(n)}),e.k0s(),e.DNE(19,Na,3,3,"small",44),e.k0s(),e.j41(20,"div",49)(21,"button",50),e.nI1(22,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(23,"button",51),e.nI1(24,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,22,"Select Shift")),e.R7$(2),e.Y8G("options",t.shiftDropDown),e.R50("ngModel",t.selectedShiftEdit),e.Y8G("placeholder",e.bMT(6,24,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.R7$(2),e.Y8G("ngIf",t.submitted&&!t.product.id),e.R7$(3),e.JRh(e.bMT(11,26,"Enter Date")),e.R7$(2),e.Y8G("timezone","UTC")("iconDisplay","input")("showIcon",!0),e.R50("ngModel",t.product.date),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.date),e.R7$(3),e.JRh(e.bMT(17,28,"Enter Reason")),e.R7$(2),e.R50("ngModel",t.product.reason),e.Y8G("ngClass",e.eq3(34,Ia,t.submitted&&!t.product.reason)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.reason),e.R7$(2),e.Y8G("label",e.bMT(22,30,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(24,32,"Save"))("disabled",t.editForm.invalid)}}function va(a,c){}function Sa(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Pa(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",54),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function xa(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",54),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Ga=(()=>{class a{constructor(t,o,n,l){this._PublicVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=l,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({date:new s.MJ(null,[s.k0.required]),shiftIds:new s.MJ([],[s.k0.required]),reason:new s.MJ(null,[s.k0.required])}),this.editForm=new s.gE({date:new s.MJ(null,[s.k0.required]),shiftIds:new s.MJ([],[s.k0.required]),reason:new s.MJ(null,[s.k0.required])})}ngOnInit(){this.endPoint="PublicVacation",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PublicVacationService.setCulture(t),this._PublicVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"date",header:"Date"},{field:"reason",header:"Reason"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.gitAllShifts(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}gitAllShifts(){this._PublicVacationService.getDropDown("Shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}convertDate(t,o){return this.DatePipe.transform(t,o)}editProduct(t){console.log(t.id),this._PublicVacationService.GetById(t.id).subscribe({next:o=>{console.log("Shift Id => "),console.log(o.data.shiftId),this.product={...o.data},console.log("shiftDropDown =>"),console.log(this.shiftDropDown),this.selectedShiftEdit=this.shiftDropDown.find(n=>this.product.shiftIds[0]==n.id),this.product.date=this.convertDate(this.product.date,"MM/dd/yyyy"),this.productDialog=!0},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}confirmDelete(t){this._PublicVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){let o={...t.value,date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")};this._PublicVacationService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.date=null,this.reason=null,this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._PublicVacationService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){let n={...o.value,id:t,ids:[t],date:this.DatePipe.transform(o.get("date").value,"yyyy-MM-ddTHH:mm:ss"),shiftIds:[this.selectedShiftEdit.id]};console.clear(),console.log("body here "),console.log(o),this._PublicVacationService.Edit(n).subscribe({next:l=>{this.hideDialog(),l.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>("shift"==i&&console.log(r.shiftName),`"${r[i]}"`)).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PublicVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(fa),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-public-vacation"]],viewQuery:function(o,n){if(1&o&&e.GBs(Fa,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:33,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["for","shift"],["formControlName","shiftIds","optionLabel","name","optionValue","id",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear","filter","filterBy"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"ngModelChange","showIcon","iconDisplay","placeholder","ngModel"],["htmlFor","reason"],["formControlName","reason","pInputTextarea","","id","reason","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"submit","formGroup"],["for","Ids"],["formControlName","shiftIds","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder","showClear","filter","filterBy"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","date"],["formControlName","date","inputId","date",3,"ngModelChange","timezone","iconDisplay","showIcon","ngModel"],["for","reason"],["formControlName","reason","type","text","pInputText","","id","reason","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ra,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,ya,5,7,"ng-template",4)(5,Ca,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Ta,22,32,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Ma,8,7,"ng-template",9)(13,ja,27,24,"ng-template",10)(14,ka,38,38,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,wa,25,36,"ng-template",7)(18,va,0,0,"ng-template",12),e.k0s(),e.j41(19,"p-dialog",13),e.nI1(20,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(21,"div",14),e.nrm(22,"i",15),e.DNE(23,Sa,6,4,"span",1),e.k0s(),e.DNE(24,Pa,4,6,"ng-template",12),e.k0s(),e.j41(25,"p-dialog",13),e.nI1(26,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(27,"div",14),e.nrm(28,"i",15),e.j41(29,"span"),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.DNE(32,xa,4,6,"ng-template",12),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,nt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,nt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(47,nt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(20,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,nt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(26,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(31,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,W.Vv,tt.KF,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  .p-multiselect-clear-icon{left:2.3rem;right:unset}  .p-dialog:has(.p-calendar.p-focus:not(.p-calendar-timeonly)){overflow:hidden!important}"]})}}return a})();var Pe=R(5780);let $a=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Va=["dt"],ot=()=>({width:"450px"}),xe=a=>({"null-color":a});function Ya(a,c){1&a&&e.nrm(0,"pre-loading")}function Ba(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Aa(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ja(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",24),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeShift())}),e.k0s()(),e.j41(6,"div",22)(7,"label",25),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-dropdown",26),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDay,n)||(l.selectedDay=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeDay())}),e.k0s()(),e.j41(11,"div",22),e.nrm(12,"button",27),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,11,"shift")),e.R7$(2),e.Y8G("options",t.shiftDropDown)("filter",!0)("filterBy","name")("showClear",!0),e.R7$(3),e.JRh(e.bMT(9,13,"Day")),e.R7$(2),e.Y8G("options",t.AllDays),e.R50("ngModel",t.selectedDay),e.Y8G("showClear",!0),e.R7$(2),e.Y8G("disabled",t.addNewForm.invalid)}}function qa(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",28)(1,"h5",29),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",30),e.nrm(5,"i",31),e.j41(6,"input",32),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter)}}function Oa(a,c){1&a&&(e.j41(0,"tr")(1,"th",33),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,7,"Day")),e.R7$(3),e.JRh(e.bMT(8,9,"Shift")),e.R7$(3),e.JRh(e.bMT(11,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(14,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(17,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(20,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(23,19,"Actions")))}function La(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",34),e.k0s(),e.j41(3,"td",35)(4,"span",36),e.EFF(5,"dayName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",35)(8,"span",36),e.EFF(9,"shiftName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",35)(12,"span",36),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",35)(17,"span",36),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",35)(22,"span",36),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",35)(26,"span",36),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",37)(31,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(32,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(19,xe,!t.dayName)),e.R7$(3),e.SpI(" ",t.dayName," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,xe,!t.shiftName)),e.R7$(3),e.SpI(" ",t.shiftName?t.shiftName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,xe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,13,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(25,xe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(27,xe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,xe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Xa(a,c){1&a&&(e.j41(0,"small",48),e.EFF(1,"Shift is required."),e.k0s())}function Ha(a,c){1&a&&(e.j41(0,"small",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"day is required.")))}function Ua(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",22)(2,"label",40),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",41),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedShiftEdit,n)||(l.selectedShiftEdit=n),e.Njj(n)}),e.k0s(),e.DNE(6,Xa,2,0,"small",42),e.k0s(),e.j41(7,"div",22)(8,"label",43),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",44),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDayEdit,n)||(l.selectedDayEdit=n),e.Njj(n)}),e.k0s(),e.DNE(12,Ha,3,3,"small",42),e.k0s(),e.j41(13,"div",45)(14,"button",46),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(15,"button",47),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,14,"Select Shift")),e.R7$(2),e.Y8G("options",t.shiftDropDown),e.R50("ngModel",t.selectedShiftEdit),e.Y8G("showClear",!0)("filter",!0)("filterBy","name"),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.shiftId),e.R7$(3),e.JRh(e.bMT(10,16,"Enter day")),e.R7$(2),e.Y8G("options",t.AllDays),e.R50("ngModel",t.selectedDayEdit),e.Y8G("showClear",!0),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.day),e.R7$(3),e.Y8G("disabled",t.editForm.invalid)}}function za(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Wa(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}}function Qa(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let Ka=(()=>{class a{constructor(t,o,n,l){this._ShiftVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=l,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({day:new s.MJ(null,[s.k0.required]),shiftId:new s.MJ(null,[s.k0.required])}),this.editForm=new s.gE({day:new s.MJ(null,[s.k0.required]),shiftId:new s.MJ(null,[s.k0.required]),id:new s.MJ(null)})}ngOnInit(){this.endPoint="ShiftVacation",this.endPoint="ShiftVacation",this._ShiftVacationService.setEndPoint(this.endPoint),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftVacationService.setCulture(t),this._ShiftVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"dayName",header:"Day"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.AllDays=[{id:0,name:"Sunday"},{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"}],this.gitAllShifts(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}gitAllShifts(){this._ShiftVacationService.getDropDown("shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this._ShiftVacationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedShiftEdit=this.shiftDropDown.find(n=>this.product.shiftId==n.id),console.log("selectedShiftEdit : ",this.selectedShiftEdit),console.log(this.product.day),console.log(this.product.day),this.selectedDayEdit=this.AllDays.find(n=>n.id==this.product.day),console.log("selectedDayEdit : ",this.selectedDayEdit)},error:o=>{console.log(o)}})}confirmDelete(t){this._ShiftVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}onChangeDay(){this.day=this.selectedDay.id}onChangeShift(){this.selectedShiftId=this.selectedShift.id}addNew(t){console.log(t),this._ShiftVacationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._ShiftVacationService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({id:t,day:this.selectedDayEdit.id,shiftId:this.selectedShiftEdit.id}),this._ShiftVacationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>("shift"==i&&console.log(r.shiftName),`"${r[i]}"`)).join(","));return l.unshift(n.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU($a),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-shift-vacation"]],viewQuery:function(o,n){if(1&o&&e.GBs(Va,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:31,vars:46,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","shift"],["formControlName","shiftId","optionLabel","name","optionValue","id","placeholder","Select a Shift",3,"onChange","options","filter","filterBy","showClear"],["htmlFor","day"],["formControlName","day","optionLabel","name","optionValue","id","placeholder","Select a Day",3,"ngModelChange","onChange","options","ngModel","showClear"],["pButton","","label","Insert New","type","submit",1,"w-25",3,"disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","shiftId"],["formControlName","shiftId","optionLabel","name","placeholder","Select a Shift",3,"ngModelChange","options","ngModel","showClear","filter","filterBy"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","day"],["formControlName","day","optionLabel","name","placeholder","Select a Day",3,"ngModelChange","options","ngModel","showClear"],[1,"field","btns"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times","type","button",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ya,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Ba,5,7,"ng-template",4)(5,Aa,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(7,Ja,13,15,"ng-template",7),e.k0s(),e.j41(8,"p-table",8,0),e.nI1(10,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(11,qa,7,4,"ng-template",9)(12,Oa,24,21,"ng-template",10)(13,La,33,31,"ng-template",11),e.k0s(),e.j41(14,"p-dialog",12),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(16,Ua,16,18,"ng-template",7),e.k0s(),e.j41(17,"p-dialog",13),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",14),e.nrm(20,"i",15),e.DNE(21,za,6,4,"span",1),e.k0s(),e.DNE(22,Wa,2,0,"ng-template",16),e.k0s(),e.j41(23,"p-dialog",13),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,Qa,2,0,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,ot)),e.R50("visible",n.showFormNew),e.Y8G("modal",!0),e.R7$(2),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(10,32,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,ot)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(15,34,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,ot)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(18,36,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,ot)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(24,38,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),Za=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-grade"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","grade"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),el=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-job"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","Job"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),tl=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-relative-relation"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","RelativeRelation"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),nl=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-contract-type"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","ContractType"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),ol=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-job-nature"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","JobNature"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),al=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-recuritment-source"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","RecuritmentSource"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),ll=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-document-required"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","DocumentRequired"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),sl=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-uniform-codes"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","UniformCodes"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),il=(()=>{class a extends E.${constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var rl=R(7480);let cl=(()=>{class a{constructor(t,o,n){this.messageService=t,this.translate=o,this._VacationSettingService=n}ngOnInit(){this.endPoint="VacationSetting",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._VacationSettingService.setEndPoint(this.endPoint),this._VacationSettingService.GetAll().subscribe({next:o=>{console.log(o.data);let n=o.data;this.startVacation=n.startVacation,this.regularVacationNumber=n.regularVacationNumber,this.maxExcuesHours=n.maxExcuesHours,this.casualVacationNumber=n.casualVacationNumber,this.id=n.id},error:o=>{console.log(o)}}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}onSubmit(){this._VacationSettingService.Register({startVacation:this.startVacation,regularVacationNumber:this.regularVacationNumber,maxExcuesHours:this.maxExcuesHours,casualVacationNumber:this.casualVacationNumber,id:this.id}).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3})},error:o=>{console.log(o)}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(m.bg),e.rXU(_.c$),e.rXU(il))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-vacation-setting"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:35,consts:[[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit"],[1,"field","col-12"],["for","startVacation"],["id","startVacation","name","startVacation","mode","decimal",3,"ngModelChange","ngModel","showButtons","min","max"],["for","regularVacationNumber"],["id","regularVacationNumber","name","regularVacationNumber","mode","decimal",3,"ngModelChange","ngModel","showButtons","min","max"],["for","maxExcuesHours"],["id","maxExcuesHours","name","maxExcuesHours","mode","decimal",3,"ngModelChange","ngModel","showButtons","min","max"],["for","casualVacationNumber"],["id","casualVacationNumber","name","casualVacationNumber","mode","decimal",3,"ngModelChange","ngModel","showButtons","min","max"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast")(1,"app-breadcrumb",0),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(9,"div",6)(10,"label",7),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"p-inputNumber",8),e.mxI("ngModelChange",function(r){return e.DH7(n.startVacation,r)||(n.startVacation=r),r}),e.k0s()(),e.j41(14,"div",6)(15,"label",9),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"p-inputNumber",10),e.mxI("ngModelChange",function(r){return e.DH7(n.regularVacationNumber,r)||(n.regularVacationNumber=r),r}),e.k0s()(),e.j41(19,"div",6)(20,"label",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"p-inputNumber",12),e.mxI("ngModelChange",function(r){return e.DH7(n.maxExcuesHours,r)||(n.maxExcuesHours=r),r}),e.k0s()(),e.j41(24,"div",6)(25,"label",13),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"p-inputNumber",14),e.mxI("ngModelChange",function(r){return e.DH7(n.casualVacationNumber,r)||(n.casualVacationNumber=r),r}),e.k0s()(),e.j41(29,"div",6),e.nrm(30,"button",15),e.nI1(31,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(7,23,"Vacation Settings")),e.R7$(5),e.JRh(e.bMT(12,25,"Start Vacation")),e.R7$(2),e.R50("ngModel",n.startVacation),e.Y8G("showButtons",!0)("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(17,27,"Regular Vacation Number")),e.R7$(2),e.R50("ngModel",n.regularVacationNumber),e.Y8G("showButtons",!0)("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(22,29,"Max Excues Hours")),e.R7$(2),e.R50("ngModel",n.maxExcuesHours),e.Y8G("showButtons",!0)("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(27,31,"Casual Vacation Number")),e.R7$(2),e.R50("ngModel",n.casualVacationNumber),e.Y8G("showButtons",!0)("min",0)("max",100),e.R7$(2),e.Y8G("label",e.bMT(31,33,"Update Setting")))},dependencies:[C.$,s.qT,s.BC,s.cb,s.vS,s.cV,N.D,_.D9,M.t,P.n,k._f,D.y8,rl.YI]})}}return a})(),pl=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-covenant-category"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:0,consts:[["endPoint","CovenantCategory"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0)},dependencies:[Z]})}}return a})(),dl=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const ml=["dt"],at=()=>({width:"450px"}),Me=a=>({"null-color":a}),Rn=a=>({"ng-invalid ng-dirty":a});function ul(a,c){1&a&&e.nrm(0,"pre-loading")}function hl(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gl(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _l(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",23),e.nI1(6,"translate"),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.changeCovenantCategory())}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenantCategory,n)||(l.selectedCovenantCategory=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",25),e.nI1(12,"translate"),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.changedSelected(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDepartment,n)||(l.selectedDepartment=n),e.Njj(n)}),e.bIt("onClear",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.selectedDepartment=null)}),e.k0s()(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",27),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.newNameEn,n)||(l.newNameEn=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",29),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.newNameAr,n)||(l.newNameAr=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"textarea",31),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.newNotes,n)||(l.newNotes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",21),e.nrm(32,"button",32),e.nI1(33,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,24,"Covenant Category")),e.R7$(2),e.Y8G("options",t.CovenantCategoryDropDown),e.R50("ngModel",t.selectedCovenantCategory),e.Y8G("placeholder",e.bMT(6,26,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(10,28,"Department")),e.R7$(2),e.Y8G("options",t.departmentDropDown),e.R50("ngModel",t.selectedDepartment),e.Y8G("placeholder",e.bMT(12,30,"Select a Department"))("showClear",!0)("filter",!0),e.R7$(4),e.SpI("",e.bMT(16,32,"Name English")," "),e.R7$(2),e.R50("ngModel",t.newNameEn),e.Y8G("placeholder",e.bMT(18,34,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(22,36,"Name Arabic")," "),e.R7$(2),e.R50("ngModel",t.newNameAr),e.Y8G("placeholder",e.bMT(24,38,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(28,40,"Notes")),e.R7$(2),e.R50("ngModel",t.newNotes),e.Y8G("placeholder",e.bMT(30,42,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(33,44,"Insert New"))}}function bl(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",35),e.nrm(5,"i",36),e.j41(6,"input",37),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function fl(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",38),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",39),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",40),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"Notes")),e.R7$(3),e.JRh(e.bMT(12,12,"Category")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function Fl(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td",42)(4,"span",43),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",42)(8,"span",43),e.EFF(9,"Notes"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",42)(12,"span",43),e.EFF(13,"Category"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",42)(16,"span",43),e.EFF(17,"CreationTime"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",42)(21,"span",43),e.EFF(22,"LastModificationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",42)(26,"span",43),e.EFF(27,"CreatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",42)(30,"span",43),e.EFF(31,"LastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",44)(35,"button",45),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(36,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(21,Me,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,Me,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,Me,!t.covenantCategoryName)),e.R7$(3),e.SpI(" ",t.covenantCategoryName?t.covenantCategoryName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,Me,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(19,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,Me,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,Me,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,Me,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Il(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",47),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",48),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenantCategoryOnEdit,n)||(l.selectedCovenantCategoryOnEdit=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",49),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selecteddepartmentOnEdit,n)||(l.selecteddepartmentOnEdit=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",50),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",21)(19,"label",52),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s()(),e.j41(23,"div",21)(24,"label",54),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"textarea",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(28,"div",56)(29,"button",57),e.nI1(30,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(31,"button",58),e.nI1(32,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,24,"Category")),e.R7$(2),e.Y8G("options",t.CovenantCategoryDropDown),e.R50("ngModel",t.selectedCovenantCategoryOnEdit),e.Y8G("placeholder",e.bMT(6,26,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(10,28,"Department")),e.R7$(2),e.Y8G("options",t.departmentDropDown),e.R50("ngModel",t.selecteddepartmentOnEdit),e.Y8G("placeholder",e.bMT(12,30,"Select a Department"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(16,32,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(42,Rn,t.submitted&&!t.product.name)),e.R7$(3),e.JRh(e.bMT(21,34,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(44,Rn,t.submitted&&!t.product.engName)),e.R7$(3),e.JRh(e.bMT(26,36,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(30,38,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(32,40,"Save"))("disabled",t.editForm.invalid)}}function Rl(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function yl(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",59),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",60),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Cl(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",59),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",60),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Tl=(()=>{class a{constructor(t,o,n){this._CovenantService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({covenantCategoryId:new s.MJ(null,[s.k0.required]),departmentId:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null)}),this.editForm=new s.gE({covenantCategoryId:new s.MJ(null,[s.k0.required]),departmentId:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Covenant",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._CovenantService.setCulture(t),this._CovenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"category",header:"Category"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDownCovenantCategory(),this.getDropDownDepartment(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getDropDownCovenantCategory(){this._CovenantService.getDropDown("CovenantCategory").subscribe({next:t=>{console.log(t.data),this.CovenantCategoryDropDown=t.data},error:t=>{console.log(t)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}getDropDownDepartment(){this._CovenantService.getDropDown("Department").subscribe({next:t=>{console.log(t.data),this.departmentDropDown=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeCovenantCategory(){this.CovenantCategoryIdSelected=this.selectedCovenantCategory.id}editProduct(t){console.log(t.id),this._CovenantService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedCovenantCategoryOnEdit=this.CovenantCategoryDropDown.find(n=>this.product.covenantCategoryId==n.id),this.selecteddepartmentOnEdit=this.departmentDropDown.find(n=>this.product.departmentId==n.id)},error:o=>{console.log(o)}})}confirmDelete(t){this._CovenantService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this._CovenantService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.CovenantCategoryIdSelected=null,this.selectedCovenantCategory=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._CovenantService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,this.selectedItemsData=this.allData},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o.value);let n={...o.value,id:t,covenantCategoryId:this.selectedCovenantCategoryOnEdit.id,departmentId:this.selecteddepartmentOnEdit.id};this._CovenantService.Edit(n).subscribe({next:l=>{this.hideDialog(),l.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItemsData),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.id=`${this.endPoint}_${(new Date).getTime()}`,r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._CovenantService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(dl),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-covenant"]],viewQuery:function(o,n){if(1&o&&e.GBs(ml,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,_.c$]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","CovenantCategory"],["id","CovenantCategory","optionLabel","name","optionValue","id","formControlName","covenantCategoryId","filterBy","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear","filter"],["for","department"],["id","department","formControlName","departmentId","optionValue","id","optionLabel","name","filterBy","name",3,"onChange","ngModelChange","onClear","options","ngModel","placeholder","showClear","filter"],["htmlFor","name-en"],["formControlName","engName","pInputText","","id","name-en","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","name-ar"],["formControlName","name","pInputText","","id","name-ar","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["formControlName","notes","pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","CovenantCategory"],["autofocus","","id","CovenantCategory","optionLabel","name","formControlName","covenantCategoryId","filterBy","name",3,"ngModelChange","options","ngModel","placeholder","showClear","filter"],["autofocus","","id","department","optionLabel","name","formControlName","departmentId","filterBy","name",3,"ngModelChange","options","ngModel","placeholder","showClear","filter"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,ul,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,hl,5,7,"ng-template",4)(5,gl,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,_l,34,46,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,bl,8,7,"ng-template",9)(13,fl,28,24,"ng-template",10)(14,Fl,37,35,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Il,33,46,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Rl,6,4,"span",1),e.k0s(),e.DNE(23,yl,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Cl,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,at)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,at)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,at)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,at)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})();var lt=R(5312);let Ml=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const jl=["dt"],st=()=>({width:"450px"}),it=a=>({"null-color":a});function kl(a,c){1&a&&e.nrm(0,"pre-loading")}function Dl(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function El(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Nl(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",24),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.arName,n)||(l.arName=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",22)(8,"label",25),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",26),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",22)(14,"label",27),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",28),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",22)(20,"label",29),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",30),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",22)(26,"label",31),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"p-fileUpload",32,1),e.nI1(31,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(30),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s()(),e.j41(32,"div",33),e.nrm(33,"button",34),e.nI1(34,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,15,"Arabic Name")," "),e.R7$(2),e.R50("ngModel",t.arName),e.Y8G("placeholder",e.bMT(6,17,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(10,19,"English Name")),e.R7$(2),e.Y8G("placeholder",e.bMT(12,21,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(16,23,"Notes")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(18,25,"Enter Notes Here")),e.R7$(4),e.SpI("",e.bMT(22,27,"Discription")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(24,29,"Enter Discription Here")),e.R7$(4),e.SpI("",e.bMT(28,31,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(31,33,"Import File"))("auto",!0),e.R7$(4),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(34,35,"Insert New"))}}function wl(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",35)(1,"h5",36),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",37),e.nrm(5,"i",38),e.j41(6,"input",39),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function vl(a,c){1&a&&(e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,9,"Name")),e.R7$(3),e.JRh(e.bMT(8,11,"Notes")),e.R7$(3),e.JRh(e.bMT(11,13,"Url")),e.R7$(3),e.JRh(e.bMT(14,15,"Description")),e.R7$(3),e.JRh(e.bMT(17,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(20,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(23,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(26,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(29,25,"Actions")))}function Sl(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td")(4,"span",42),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",42),e.EFF(9,"Notes"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",42),e.EFF(13,"Url"),e.k0s(),e.j41(14,"a",43),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.j41(17,"td")(18,"span",42),e.EFF(19,"Discreption"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"td",44)(22,"span",42),e.EFF(23,"creationTime"),e.k0s(),e.EFF(24),e.nI1(25,"date"),e.k0s(),e.j41(26,"td",44)(27,"span",42),e.EFF(28,"lastModificationTime"),e.k0s(),e.EFF(29),e.nI1(30,"date"),e.k0s(),e.j41(31,"td",44)(32,"span",42),e.EFF(33,"creatorName"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",44)(36,"span",42),e.EFF(37,"lastModifierName"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td")(40,"div",45)(41,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(42,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.name?t.name:""," "),e.R7$(4),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(4),e.Y8G("href",o.baseUrlFile.concat("/",t.url),e.B4B),e.R7$(),e.JRh(e.bMT(16,14,"View")),e.R7$(5),e.SpI(" ",t.discreption?t.discreption:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,it,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(25,16,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(24,it,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(30,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,it,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,it,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Pl(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",22)(2,"label",29),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",22)(7,"label",29),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s()(),e.j41(11,"div",22)(12,"label",29),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",50),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(16,"div",22)(17,"label",29),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discreption,n)||(l.product.discreption=n),e.Njj(n)}),e.k0s()(),e.j41(21,"div",22)(22,"label",29),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"p-fileUpload",52),e.nI1(26,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onFileSelectEdit(n))}),e.k0s()(),e.j41(27,"div",53)(28,"button",54),e.nI1(29,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(30,"button",55),e.nI1(31,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.SpI("",e.bMT(4,14,"Arabic Name")," "),e.R7$(2),e.R50("ngModel",t.product.name),e.R7$(3),e.JRh(e.bMT(9,16,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.R7$(3),e.SpI("",e.bMT(14,18,"Notes")," "),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(3),e.SpI("",e.bMT(19,20,"Discription")," "),e.R7$(2),e.R50("ngModel",t.product.discreption),e.R7$(3),e.SpI("",e.bMT(24,22,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(26,24,"Choose File")),e.R7$(3),e.Y8G("label",e.bMT(29,26,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(31,28,"Save"))("disabled",t.editForm.invalid)}}function xl(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Gl(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function $l(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Vl=(()=>{class a{constructor(t,o,n,l){this.companyPolicyService=t,this.messageService=o,this.DatePipe=n,this.translate=l,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({EngName:new s.MJ(null,[s.k0.required]),Name:new s.MJ(null,[s.k0.required]),Notes:new s.MJ(null),Discreption:new s.MJ(null,[s.k0.required]),File:new s.MJ(null,[s.k0.required])}),this.editForm=new s.gE({EngName:new s.MJ(null,[s.k0.required]),Name:new s.MJ(null,[s.k0.required]),Notes:new s.MJ(null),Discreption:new s.MJ(null,[s.k0.required]),File:new s.MJ(null),Id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="CompanyPolicy",this.baseUrlFile=lt.c.mediaUrl,this.companyPolicyService.setEndPoint(this.endPoint),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.companyPolicyService.setCulture(t),this.companyPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"url",header:"Url"},{field:"discreption",header:"Discreption"},{field:"file",header:"File"},{field:"deletFIle",header:"deletFIle"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.companyPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.currentId=o.data.id,this.product={...o.data},this.productDialog=!0,this.oldDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}changedSelectedEdit(){this.selectedShiftId=this.selectedShift.id}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDelete(t){this.companyPolicyService.DeleteRange([t]).subscribe({next:n=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){t.patchValue({File:this.fileNew});const o=new FormData;let n=t.value;console.log(t);for(const l in n)n.hasOwnProperty(l)&&o.append(l,n[l]);this.companyPolicyService.Register(o).subscribe({next:l=>{console.log(l),this.showFormNew=!1,l.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.enName=null,this.arName=null,this.notes=null,this.discreption=null}loadData(t,o,n,l,r){this.loading=!0;let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.companyPolicyService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.error(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({Id:t,File:this.fileEdit??null});let n=o.value;const l=new FormData;for(const r in n)n.hasOwnProperty(r)&&l.append(r,n[r]);console.log("body here "),console.log(n),this.companyPolicyService.Edit(l).subscribe({next:r=>{this.hideDialog(),r.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>("shift"==i&&console.log(r.shiftName),`"${r[i]}"`)).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.companyPolicyService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileNew=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity())}onFileSelectEdit(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileEdit=o,console.log(this.product),this.editForm.patchValue({File:o}),this.editForm.get("File")?.updateValueAndValidity())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ml),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-company-policy"]],viewQuery:function(o,n){if(1&o&&e.GBs(jl,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:32,vars:49,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","arName"],["formControlName","Name","pInputText","",3,"ngModelChange","ngModel","placeholder"],["htmlFor","enName"],["pInputText","","formControlName","EngName",3,"placeholder"],["htmlFor","notes"],["pInputText","","formControlName","Notes",3,"placeholder"],["htmlFor","date"],["pInputText","","formControlName","Discreption",3,"placeholder"],["htmlFor","upload"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],[1,"field","insertNew"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","Name","pInputText","",3,"ngModelChange","ngModel"],["formControlName","EngName","pInputText","",3,"ngModelChange","ngModel"],["formControlName","Notes","pInputText","",3,"ngModelChange","ngModel"],["formControlName","Discreption","pInputText","",3,"ngModelChange","ngModel"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"onSelect","chooseLabel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,kl,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Dl,5,7,"ng-template",5)(5,El,2,4,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Nl,35,37,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,wl,8,7,"ng-template",10)(13,vl,30,27,"ng-template",11)(14,Sl,43,30,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Pl,32,30,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,xl,6,4,"span",2),e.k0s(),e.DNE(23,Gl,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",13),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",14),e.nrm(27,"i",15),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,$l,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,st)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,st)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,st)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,st)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,G.m],styles:[".insertNew[_ngcontent-%COMP%]{display:flex;justify-content:end}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),Yl=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Bl=["dt"],rt=()=>({width:"450px"}),je=a=>({"null-color":a}),yn=a=>({"ng-invalid ng-dirty":a});function Al(a,c){1&a&&e.nrm(0,"pre-loading")}function Jl(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ql(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ol(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",23),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",25),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",27),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",29),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",21),e.nrm(26,"button",30),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,11,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,13,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,15,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,17,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,19,"Hours Number")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,21,"Enter number Of Hours")),e.R7$(4),e.JRh(e.bMT(22,23,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,25,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(27,27,"Insert New"))}}function Ll(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"h5",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",33),e.nrm(5,"i",34),e.j41(6,"input",35),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Xl(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",36),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",37),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",38),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"hoursNumber")),e.R7$(3),e.JRh(e.bMT(12,12,"Notes")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function Hl(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td",40)(4,"span",41),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",40)(8,"span",41),e.EFF(9,"hoursNumber"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",40)(12,"span",41),e.EFF(13,"Notes"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",40)(16,"span",41),e.EFF(17,"creationTime"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",40)(20,"span",41),e.EFF(21,"lastModificationTime"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",40)(24,"span",41),e.EFF(25,"creatorName"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",40)(28,"span",41),e.EFF(29,"lastModifierName"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td")(32,"div",42)(33,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(34,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(15,je,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,je,!t.hoursNumber)),e.R7$(3),e.SpI(" ",t.hoursNumber?t.hoursNumber:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(19,je,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,je,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,je,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,je,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,je,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ul(a,c){1&a&&(e.j41(0,"small",57),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function zl(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",21)(7,"label",47),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(11,Ul,3,3,"small",49),e.k0s(),e.j41(12,"div",21)(13,"label",50),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",51),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.hoursNumber,n)||(l.product.hoursNumber=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",21)(19,"label",52),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"textarea",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(23,"div",54)(24,"button",55),e.nI1(25,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(26,"button",56),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,16,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(30,yn,t.submitted&&!t.product.name)),e.R7$(3),e.JRh(e.bMT(9,18,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(32,yn,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(15,20,"number Of Hours")),e.R7$(2),e.R50("ngModel",t.product.hoursNumber),e.Y8G("placeholder",e.bMT(17,22,"Enter number Of Hours")),e.R7$(4),e.JRh(e.bMT(21,24,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(25,26,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(27,28,"Save"))}}function Wl(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Ql(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",58),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",59),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Kl(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",61),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let Zl=(()=>{class a{constructor(t,o,n){this.execuseTypeService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),hoursNumber:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null)}),this.editForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),hoursNumber:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="ExcuesType",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseTypeService.setCulture(t),this.execuseTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}editProduct(t){console.log(t.id),this.execuseTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.execuseTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.execuseTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.execuseTypeService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(" body Data"),this.execuseTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Yl),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-execuse-type"]],viewQuery:function(o,n){if(1&o&&e.GBs(Bl,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","hoursNumber","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["htmlFor","numberOfHoursEdit"],["formControlName","hoursNumber","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Al,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Jl,5,7,"ng-template",4)(5,ql,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Ol,28,29,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Ll,8,7,"ng-template",9)(13,Xl,28,24,"ng-template",10)(14,Hl,35,29,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,zl,28,34,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Wl,6,4,"span",1),e.k0s(),e.DNE(23,Ql,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Kl,2,0,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,rt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,rt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,rt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,rt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),es=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var ct=R(5430);const ts=["dt"],pt=()=>({width:"450px"}),le=a=>({"null-color":a}),Cn=a=>({"ng-invalid ng-dirty":a});function ns(a,c){1&a&&e.nrm(0,"pre-loading")}function os(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function as(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s(),e.j41(2,"p-fileUpload",21,1),e.nI1(4,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(3),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,4,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("chooseLabel",e.bMT(4,6,"Import File"))("auto",!0)}}function ls(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",23)(2,"label",24),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",25),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",23)(8,"label",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",27),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",23)(14,"label",28),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",29),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",23)(20,"label",30),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",31),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",23)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",32),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",33)(32,"div",34)(33,"label",35),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"p-checkbox",36),e.k0s(),e.j41(37,"div",34)(38,"label",35),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.nrm(41,"p-checkbox",37),e.k0s(),e.j41(42,"div",34)(43,"label",38),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.nrm(46,"p-checkbox",39),e.k0s(),e.j41(47,"div",34)(48,"label",40),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.nrm(51,"p-checkbox",41),e.k0s()(),e.j41(52,"div",23),e.nrm(53,"button",42),e.nI1(54,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,17,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,19,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,21,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,23,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,25,"Day Count")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,27,"Enter number Of Days")),e.R7$(4),e.JRh(e.bMT(22,29,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,31,"Enter Notes Here")),e.R7$(4),e.JRh(e.bMT(28,33,"Vacation Start After how many months")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,35,"Enter number of months to start vacation")),e.R7$(5),e.JRh(e.bMT(35,37,"Manger Approved")),e.R7$(5),e.JRh(e.bMT(40,39,"Hr Approved")),e.R7$(5),e.JRh(e.bMT(45,41,"Stock Vacation")),e.R7$(5),e.JRh(e.bMT(50,43,"Attachement Required")),e.R7$(4),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(54,45,"Insert New"))}}function ss(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",43)(1,"h5",44),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",45),e.nrm(5,"i",46),e.j41(6,"input",47),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function is(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",48),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",49),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",50),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,12,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,14,"dayCount")),e.R7$(3),e.JRh(e.bMT(12,16,"Notes")),e.R7$(3),e.JRh(e.bMT(15,18,"vacation starts after")),e.R7$(3),e.JRh(e.bMT(18,20,"managerApproved")),e.R7$(3),e.JRh(e.bMT(21,22,"hrApproved")),e.R7$(3),e.JRh(e.bMT(24,24,"stockVacation")),e.R7$(3),e.JRh(e.bMT(27,26,"creationTime")),e.R7$(3),e.JRh(e.bMT(30,28,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(33,30,"creatorName")),e.R7$(3),e.JRh(e.bMT(36,32,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(39,34,"Actions")))}function rs(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",51),e.k0s(),e.j41(3,"td",52)(4,"span",53),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",52)(8,"span",53),e.EFF(9,"dayCount"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",52)(12,"span",53),e.EFF(13,"Notes"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",52)(16,"span",53),e.EFF(17,"vacationStart"),e.k0s(),e.EFF(18),e.nI1(19,"translate"),e.nI1(20,"translate"),e.k0s(),e.j41(21,"td",52)(22,"span",53),e.EFF(23,"mangerApproved"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",52)(26,"span",53),e.EFF(27,"hrApproved"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",52)(30,"span",53),e.EFF(31,"stockVacation"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",52)(34,"span",53),e.EFF(35,"creationTime"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",52)(38,"span",53),e.EFF(39,"lastModificationTime"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td",52)(42,"span",53),e.EFF(43,"creatorName"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td",52)(46,"span",53),e.EFF(47,"lastModifierName"),e.k0s(),e.EFF(48),e.k0s(),e.j41(49,"td")(50,"div",54)(51,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(52,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,le,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,le,!t.dayCount)),e.R7$(3),e.SpI(" ",t.dayCount?t.dayCount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,le,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,le,!t.vacationStart)),e.R7$(3),e.SpI(" ",t.vacationStart>1?t.vacationStart+" "+e.bMT(19,23,"Months"):1===t.vacationStart?" "+e.bMT(20,25,"MONTH"):""," "),e.R7$(3),e.Y8G("ngClass",e.eq3(35,le,!t.mangerApproved)),e.R7$(3),e.SpI(" ",t.mangerApproved," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,le,!t.hrApproved)),e.R7$(3),e.SpI(" ",t.hrApproved," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,le,!t.stockVacation)),e.R7$(3),e.SpI(" ",t.stockVacation," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,le,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(43,le,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,le,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,le,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function cs(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",23)(2,"label",57),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",58),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",23)(7,"label",59),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",60),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s()(),e.j41(11,"div",23)(12,"label",61),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",62),e.nI1(16,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dayCount,n)||(l.product.dayCount=n),e.Njj(n)}),e.k0s()(),e.j41(17,"div",23)(18,"label",63),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"textarea",64),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(22,"div",23)(23,"label",65),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"input",66),e.nI1(27,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.vacationStart,n)||(l.product.vacationStart=n),e.Njj(n)}),e.k0s()(),e.j41(28,"div",33)(29,"div",34)(30,"label",35),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"p-checkbox",67),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.mangerApproved,n)||(l.product.mangerApproved=n),e.Njj(n)})("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.mangerApproved,n)||(l.product.mangerApproved=n),e.Njj(n)}),e.k0s()(),e.j41(34,"div",34)(35,"label",35),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"p-checkbox",68),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.hrApproved,n)||(l.product.hrApproved=n),e.Njj(n)}),e.k0s()(),e.j41(39,"div",34)(40,"label",38),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"p-checkbox",69),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.stockVacation,n)||(l.product.stockVacation=n),e.Njj(n)}),e.k0s()(),e.j41(44,"div",34)(45,"label",40),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"p-checkbox",70),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.isAttachementRequired,n)||(l.product.isAttachementRequired=n),e.Njj(n)}),e.k0s()()(),e.j41(49,"div",71)(50,"button",72),e.nI1(51,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(52,"button",73),e.nI1(53,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,27,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(53,Cn,t.submitted&&!t.product.name)),e.R7$(3),e.JRh(e.bMT(9,29,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(55,Cn,t.submitted&&!t.product.engName)),e.R7$(3),e.JRh(e.bMT(14,31,"number Of Days")),e.R7$(2),e.R50("ngModel",t.product.dayCount),e.Y8G("placeholder",e.bMT(16,33,"Enter number Of Days")),e.R7$(4),e.JRh(e.bMT(20,35,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(3),e.JRh(e.bMT(25,37,"number Of Months to start vacation")),e.R7$(2),e.R50("ngModel",t.product.vacationStart),e.Y8G("placeholder",e.bMT(27,39,"Enter number Of Months to start vacation")),e.R7$(5),e.JRh(e.bMT(32,41,"Manger Approved")),e.R7$(2),e.R50("ngModel",t.product.mangerApproved)("ngModel",t.product.mangerApproved),e.R7$(3),e.JRh(e.bMT(37,43,"Hr Approved")),e.R7$(2),e.R50("ngModel",t.product.hrApproved),e.R7$(3),e.JRh(e.bMT(42,45,"Stock Vacation")),e.R7$(2),e.R50("ngModel",t.product.stockVacation),e.R7$(3),e.JRh(e.bMT(47,47,"Attachement Required")),e.R7$(2),e.R50("ngModel",t.product.isAttachementRequired),e.R7$(2),e.Y8G("label",e.bMT(51,49,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(53,51,"Save"))("disabled",t.editForm.invalid)}}function ps(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function ds(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",74),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",75),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function ms(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",74),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",75),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let us=(()=>{class a{constructor(t,o,n){this.vacationTypeService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1,this.addNewForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),dayCount:new s.MJ(null,[s.k0.required]),vacationStart:new s.MJ(null,[s.k0.required]),mangerApproved:new s.MJ(!1,[s.k0.required]),hrApproved:new s.MJ(!1,[s.k0.required]),stockVacation:new s.MJ(!1,[s.k0.required]),isAttachementRequired:new s.MJ(!1,[s.k0.required])}),this.editForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),dayCount:new s.MJ(null,[s.k0.required]),vacationStart:new s.MJ(null,[s.k0.required]),mangerApproved:new s.MJ(!1,[s.k0.required]),hrApproved:new s.MJ(!1,[s.k0.required]),stockVacation:new s.MJ(!1,[s.k0.required]),isAttachementRequired:new s.MJ(!1,[s.k0.required]),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="VacationType",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationTypeService.setCulture(t),this.vacationTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.vacationTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.vacationTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this.vacationTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.dayCount=null,this.newVacationStart=null,this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.vacationTypeService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.vacationTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.success,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this.vacationTypeService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(es),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-vacation-type"]],viewQuery:function(o,n){if(1&o&&e.GBs(ts,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","DayCount"],["pInputText","","formControlName","dayCount","id","DayCount","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pInputText","","formControlName","vacationStart","id","new-notes","type","number",3,"placeholder"],[1,"fields-aprrove"],[1,"field","field-approve"],["for","mangerApproved"],["formControlName","mangerApproved","binary","true"],["formControlName","hrApproved","binary","true"],["for","stockVacation"],["formControlName","stockVacation","binary","true"],["for","isAttachementRequired"],["formControlName","isAttachementRequired","binary","true"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["htmlFor","numberOfDaysEdit"],["pInputText","","formControlName","dayCount","id","numberOfDaysEdit","type","number",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["htmlFor","numberOfMonthsEdit"],["formControlName","vacationStart","pInputText","","id","numberOfMonthsEdit","type","number",3,"ngModelChange","ngModel","placeholder"],["formControlName","mangerApproved","binary","true",3,"ngModelChange","ngModel"],["formControlName","hrApproved","binary","true",3,"ngModelChange","ngModel"],["formControlName","stockVacation","binary","true",3,"ngModelChange","ngModel"],["formControlName","isAttachementRequired","binary","true",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,ns,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,os,5,7,"ng-template",5)(5,as,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,ls,55,47,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,ss,8,7,"ng-template",10)(13,is,40,36,"ng-template",11)(14,rs,53,49,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,cs,54,57,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,ps,6,4,"span",2),e.k0s(),e.DNE(23,ds,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",13),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",14),e.nrm(27,"i",15),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,ms,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,pt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,pt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,pt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,pt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,ct.Sc,G.m],styles:[".field-approve[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-direction:row-reverse;width:50%;justify-content:start}.fields-aprrove[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:24px;flex-wrap:wrap}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.fields-aprrove[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}  .p-calendar input{padding-left:24px}"]})}}return a})();var hs=R(6414),gs=R(7283);let _s=(()=>{class a extends E.${constructor(t){super(t)}getEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Tn=R(3887);function bs(a,c){1&a&&e.nrm(0,"pre-loading")}function fs(a,c){if(1&a&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.Lme(" ",t.name," - ",t.size," bytes ")}}function Fs(a,c){if(1&a&&(e.j41(0,"ul"),e.DNE(1,fs,2,2,"li",84),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.uploadedFiles)}}function Is(a,c){if(1&a&&e.DNE(0,Fs,2,1,"ul",0),2&a){const t=e.XpG();e.Y8G("ngIf",t.uploadedFiles.length)}}let Rs=(()=>{class a{constructor(t,o,n,l){this._EmployeeService=t,this.messageService=o,this.DatePipe=n,this.translate=l,this.loading=!1,this.uploadedFiles=[]}ngOnInit(){this.endPoint="Employee",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeService.setCulture(t),this._EmployeeService.setEndPoint(this.endPoint),this.getAllDropDowns(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.items.AddEmployee")}]}initFormGroups(){this.registerForm=new s.gE({File:new s.MJ(null),NameAr:new s.MJ(null,s.k0.required),EnglishName:new s.MJ(null),Address:new s.MJ(null,s.k0.required),Email:new s.MJ(null),NationalId:new s.MJ(null,s.k0.required),Phone:new s.MJ(null,s.k0.required),MachineCode:new s.MJ(null),Discription:new s.MJ(null),BloodTypes:new s.MJ(null),GovernmentId:new s.MJ(null,s.k0.required),QualificationId:new s.MJ(null,s.k0.required),AttendanceConfigurationId:new s.MJ(null,s.k0.required),Gender:new s.MJ(null,s.k0.required),MaritalStatus:new s.MJ(null,s.k0.required),JobId:new s.MJ(null,s.k0.required),JobNatureId:new s.MJ(null),DepartmentId:new s.MJ(null,s.k0.required),PartationId:new s.MJ(null,s.k0.required),ShiftId:new s.MJ(null,s.k0.required),BankId:new s.MJ(null),GradeId:new s.MJ(null),ContractTypeId:new s.MJ(null),RecuritmentSourceId:new s.MJ(null),Religion:new s.MJ(null),JoiningDate:new s.MJ(null,s.k0.required),BirthDate:new s.MJ(null,s.k0.required),HiringDate:new s.MJ(null,s.k0.required),ResignationDate:new s.MJ(null),Ismanger:new s.MJ(!1),StaticShift:new s.MJ(!1),StaticVacation:new s.MJ(!1),IsInsured:new s.MJ(!1),DeleteImage:new s.MJ(!1)})}getAllDropDowns(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"})}getDropDownEnum(t){this._EmployeeService.getEnum(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}getDropDownField(t){this._EmployeeService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}onSelect(t){console.log("event file"),this.registerForm.patchValue({File:t.currentFiles[0]}),this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}onUpload(t){for(let o of t?.files)this.uploadedFiles.push(o);this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]??"");return o}resetFields(){this.registerForm.reset()}registerSubmit(t){if(t.valid){this.loading=!0;const o={...t.value,File:t.get("File").value,DeleteImage:!!t.get("File").value,JoiningDate:this.DatePipe.transform(t.get("JoiningDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(t.get("BirthDate").value,"yyyy-MM-dd"),HiringDate:this.DatePipe.transform(t.get("HiringDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(t.get("ResignationDate").value,"yyyy-MM-dd")},n=this.mapToFormData(o);this._EmployeeService.Register(n).subscribe({next:l=>{console.log(l),l.success&&(this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3}),this.resetFields()),this.loading=!1},error:l=>{console.error(l),this.loading=!1}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(_s),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee"]],standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:227,vars:263,consts:[[4,"ngIf"],[3,"items"],[3,"formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","File","accept","image/*","maxFileSize","1000000",3,"onSelect","onUpload","multiple","chooseLabel"],["pTemplate","content"],[1,"field","col-12","md:col-4","required-field"],["for","NameAr"],["pInputText","","formControlName","NameAr","id","NameAr",3,"placeholder"],["for","EnglishName"],["pInputText","","formControlName","EnglishName","id","EnglishName","type","text",3,"placeholder"],["for","NationalId"],["pInputText","","formControlName","NationalId","id","NationalId","type","text",3,"placeholder"],[1,"field","col-12","md:col-8","required-field"],["for","Address"],["pInputTextarea","","formControlName","Address","id","Address","rows","4",3,"placeholder"],["for","GovernmentId"],["formControlName","GovernmentId","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],[1,"field","col-12","md:col-3","required-field"],["for","Phone"],["pInputText","","formControlName","Phone","id","Phone","rows","4",3,"placeholder"],["for","Email"],["pInputText","","formControlName","Email","id","Email","rows","4",3,"placeholder"],["for","BirthDate"],["formControlName","BirthDate","inputId","BirthDate",3,"showIcon","iconDisplay","placeholder"],[1,"field","col-12","md:col-3"],["for","Religion"],["formControlName","Religion","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","MaritalStatus"],["formControlName","MaritalStatus","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],["for","BloodTypes"],["formControlName","BloodTypes","optionLabel","name","optionValue","id",3,"options","filter","showClear","filterBy","placeholder"],["for","Gender"],["formControlName","Gender","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Qualification"],["formControlName","QualificationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","AttendanceConfiguration"],["formControlName","AttendanceConfigurationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Job"],["formControlName","JobId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","DepartmentId"],["formControlName","DepartmentId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","PartationId"],["formControlName","PartationId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Shift"],["formControlName","ShiftId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Bank"],["formControlName","BankId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","Grade"],["formControlName","GradeId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","JobNatureId"],["formControlName","JobNatureId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],[1,"field","col-12","md:col-3","flex","gap-3","align-items-center"],["formControlName","IsInsured"],["for","IsInsured"],["formControlName","Ismanger"],["for","Ismanger"],["formControlName","StaticShift"],["for","IsStaticShift"],["formControlName","StaticVacation"],["for","IsStaticVacation"],["for","MachineCode"],["formControlName","MachineCode","pInputText","","id","MachineCode","type","text",3,"placeholder"],["for","RecuritmentSourceId"],["formControlName","RecuritmentSourceId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","ContractTypeId"],["formControlName","ContractTypeId","optionLabel","name","optionValue","id",3,"filter","showClear","filterBy","options","placeholder"],["for","JoiningDate"],["formControlName","JoiningDate","inputId","JoiningDate",3,"iconDisplay","showIcon","placeholder"],["for","HiringDate"],["formControlName","HiringDate","inputId","HiringDate",3,"iconDisplay","showIcon","placeholder"],["for","ResignationDate"],["formControlName","ResignationDate","inputId","ResignationDate",3,"iconDisplay","showIcon","placeholder"],[1,"field","col-12","md:col-6"],["for","Discription"],["formControlName","Discription","pInputTextarea","","id","Discription","rows","4",3,"placeholder"],[1,"field"],["type","hidden","formControlName","DeleteImage"],[1,"field","col-12","md:col-2","py-5"],["type","submit","pButton","","value","Register",1,"flex","justify-content-center",3,"click","disabled"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,bs,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h5"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",6)(11,"div",7)(12,"p-fileUpload",8),e.nI1(13,"translate"),e.bIt("onSelect",function(r){return n.onSelect(r)})("onUpload",function(r){return n.onUpload(r)}),e.DNE(14,Is,1,1,"ng-template",9),e.k0s()(),e.j41(15,"div",10)(16,"label",11),e.EFF(17),e.nI1(18,"translate"),e.nrm(19,"app-required-field"),e.k0s(),e.nrm(20,"input",12),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",10)(23,"label",13),e.EFF(24),e.nI1(25,"translate"),e.nrm(26,"app-required-field"),e.k0s(),e.nrm(27,"input",14),e.nI1(28,"translate"),e.k0s(),e.j41(29,"div",10)(30,"label",15),e.EFF(31),e.nI1(32,"translate"),e.nrm(33,"app-required-field"),e.k0s(),e.nrm(34,"input",16),e.nI1(35,"translate"),e.k0s(),e.j41(36,"div",17)(37,"label",18),e.EFF(38),e.nI1(39,"translate"),e.nrm(40,"app-required-field"),e.k0s(),e.nrm(41,"input",19),e.nI1(42,"translate"),e.k0s(),e.j41(43,"div",10)(44,"label",20),e.EFF(45),e.nI1(46,"translate"),e.nrm(47,"app-required-field"),e.k0s(),e.nrm(48,"p-dropdown",21),e.nI1(49,"translate"),e.k0s(),e.j41(50,"div",22)(51,"label",23),e.EFF(52),e.nI1(53,"translate"),e.nrm(54,"app-required-field"),e.k0s(),e.nrm(55,"input",24),e.nI1(56,"translate"),e.k0s(),e.j41(57,"div",22)(58,"label",25),e.EFF(59),e.nI1(60,"translate"),e.nrm(61,"app-required-field"),e.k0s(),e.nrm(62,"input",26),e.nI1(63,"translate"),e.k0s(),e.j41(64,"div",22)(65,"label",27),e.EFF(66),e.nI1(67,"translate"),e.nrm(68,"app-required-field"),e.k0s(),e.nrm(69,"p-calendar",28),e.nI1(70,"translate"),e.k0s(),e.j41(71,"div",29)(72,"label",30),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.nrm(75,"p-dropdown",31),e.nI1(76,"translate"),e.k0s(),e.j41(77,"div",22)(78,"label",32),e.EFF(79),e.nI1(80,"translate"),e.nrm(81,"app-required-field"),e.k0s(),e.nrm(82,"p-dropdown",33),e.nI1(83,"translate"),e.k0s(),e.j41(84,"div",29)(85,"label",34),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.nrm(88,"p-dropdown",35),e.nI1(89,"translate"),e.k0s(),e.j41(90,"div",22)(91,"label",36),e.EFF(92),e.nI1(93,"translate"),e.nrm(94,"app-required-field"),e.k0s(),e.nrm(95,"p-dropdown",37),e.nI1(96,"translate"),e.k0s(),e.j41(97,"div",22)(98,"label",38),e.EFF(99),e.nI1(100,"translate"),e.nrm(101,"app-required-field"),e.k0s(),e.nrm(102,"p-dropdown",39),e.nI1(103,"translate"),e.k0s(),e.j41(104,"div",22)(105,"label",40),e.EFF(106),e.nI1(107,"translate"),e.nrm(108,"app-required-field"),e.k0s(),e.nrm(109,"p-dropdown",41),e.nI1(110,"translate"),e.k0s(),e.j41(111,"div",22)(112,"label",42),e.EFF(113),e.nI1(114,"translate"),e.nrm(115,"app-required-field"),e.k0s(),e.nrm(116,"p-dropdown",43),e.nI1(117,"translate"),e.k0s(),e.j41(118,"div",22)(119,"label",44),e.EFF(120),e.nI1(121,"translate"),e.nrm(122,"app-required-field"),e.k0s(),e.nrm(123,"p-dropdown",45),e.nI1(124,"translate"),e.k0s(),e.j41(125,"div",22)(126,"label",46),e.EFF(127),e.nI1(128,"translate"),e.nrm(129,"app-required-field"),e.k0s(),e.nrm(130,"p-dropdown",47),e.nI1(131,"translate"),e.k0s(),e.j41(132,"div",22)(133,"label",48),e.EFF(134),e.nI1(135,"translate"),e.nrm(136,"app-required-field"),e.k0s(),e.nrm(137,"p-dropdown",49),e.nI1(138,"translate"),e.k0s(),e.j41(139,"div",29)(140,"label",50),e.EFF(141),e.nI1(142,"translate"),e.k0s(),e.nrm(143,"p-dropdown",51),e.nI1(144,"translate"),e.k0s(),e.j41(145,"div",29)(146,"label",52),e.EFF(147),e.nI1(148,"translate"),e.k0s(),e.nrm(149,"p-dropdown",53),e.nI1(150,"translate"),e.k0s(),e.j41(151,"div",29)(152,"label",54),e.EFF(153),e.nI1(154,"translate"),e.k0s(),e.nrm(155,"p-dropdown",55),e.nI1(156,"translate"),e.k0s(),e.j41(157,"div",56),e.nrm(158,"p-inputSwitch",57),e.j41(159,"label",58),e.EFF(160),e.nI1(161,"translate"),e.k0s()(),e.j41(162,"div",56),e.nrm(163,"p-inputSwitch",59),e.j41(164,"label",60),e.EFF(165),e.nI1(166,"translate"),e.k0s()(),e.j41(167,"div",56),e.nrm(168,"p-inputSwitch",61),e.j41(169,"label",62),e.EFF(170),e.nI1(171,"translate"),e.k0s()(),e.j41(172,"div",56),e.nrm(173,"p-inputSwitch",63),e.j41(174,"label",64),e.EFF(175),e.nI1(176,"translate"),e.k0s()(),e.j41(177,"div",29)(178,"label",65),e.EFF(179),e.nI1(180,"translate"),e.k0s(),e.nrm(181,"input",66),e.nI1(182,"translate"),e.k0s(),e.j41(183,"div",29)(184,"label",67),e.EFF(185),e.nI1(186,"translate"),e.k0s(),e.nrm(187,"p-dropdown",68),e.nI1(188,"translate"),e.k0s(),e.j41(189,"div",29)(190,"label",69),e.EFF(191),e.nI1(192,"translate"),e.k0s(),e.nrm(193,"p-dropdown",70),e.nI1(194,"translate"),e.k0s(),e.j41(195,"div",22)(196,"label",71),e.EFF(197),e.nI1(198,"translate"),e.nrm(199,"app-required-field"),e.k0s(),e.nrm(200,"p-calendar",72),e.nI1(201,"translate"),e.k0s(),e.j41(202,"div",22)(203,"label",73),e.EFF(204),e.nI1(205,"translate"),e.nrm(206,"app-required-field"),e.k0s(),e.nrm(207,"p-calendar",74),e.nI1(208,"translate"),e.k0s(),e.j41(209,"div",29)(210,"label",75),e.EFF(211),e.nI1(212,"translate"),e.k0s(),e.nrm(213,"p-calendar",76),e.nI1(214,"translate"),e.k0s(),e.j41(215,"div",77)(216,"label",78),e.EFF(217),e.nI1(218,"translate"),e.k0s(),e.nrm(219,"input",79),e.nI1(220,"translate"),e.k0s(),e.j41(221,"div",80),e.nrm(222,"input",81),e.k0s(),e.j41(223,"div",82)(224,"button",83),e.bIt("click",function(){return n.registerSubmit(n.registerForm)}),e.EFF(225),e.nI1(226,"translate"),e.k0s()()()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("formGroup",n.registerForm),e.R7$(5),e.JRh(e.bMT(9,137,"Add New Employee")),e.R7$(4),e.Y8G("multiple",!1)("chooseLabel",e.bMT(13,139,"Insert Personal Image")),e.R7$(5),e.SpI("",e.bMT(18,141,"Full Name with Arabic")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(21,143,"Enter Arabic Name")),e.R7$(4),e.SpI("",e.bMT(25,145,"Full Name with English")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(28,147,"Enter English Name")),e.R7$(4),e.SpI("",e.bMT(32,149,"National Id")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(35,151,"Enter National Id")),e.R7$(4),e.SpI("",e.bMT(39,153,"Address")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(42,155,"Enter Address")),e.R7$(4),e.SpI("",e.bMT(46,157,"Government")," "),e.R7$(3),e.Y8G("options",n.dropdownItemsGovernment)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.bMT(49,159,"Select Government")),e.R7$(4),e.SpI("",e.bMT(53,161,"Phone")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(56,163,"Select Phone")),e.R7$(4),e.SpI("",e.bMT(60,165,"Email")," "),e.R7$(3),e.Y8G("placeholder",e.bMT(63,167,"Select Email")),e.R7$(4),e.SpI("",e.bMT(67,169,"BirthDate")," "),e.R7$(3),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(70,171,"Select BirthDate")),e.R7$(4),e.SpI("",e.bMT(74,173,"Religion")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsReligin)("placeholder",e.bMT(76,175,"Select Religion")),e.R7$(4),e.SpI("",e.bMT(80,177,"Marital Status")," "),e.R7$(3),e.Y8G("options",n.dropdownItemsMaritalStatus)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.bMT(83,179,"Select Marital Status")),e.R7$(4),e.JRh(e.bMT(87,181,"Blood Types")),e.R7$(2),e.Y8G("options",n.dropdownItemsBloodTypes)("filter",!0)("showClear",!0)("filterBy","name")("placeholder",e.bMT(89,183,"Select Blood Types")),e.R7$(4),e.SpI("",e.bMT(93,185,"Gender")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsGender)("placeholder",e.bMT(96,187,"Select Gender")),e.R7$(4),e.SpI("",e.bMT(100,189,"Qualification")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsQualification)("placeholder",e.bMT(103,191,"Select Qualification")),e.R7$(4),e.SpI("",e.bMT(107,193,"Attendance Configuration")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsAttendanceConfiguration)("placeholder",e.bMT(110,195,"Select Attendance Configuration")),e.R7$(4),e.SpI("",e.bMT(114,197,"Job")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsJob)("placeholder",e.bMT(117,199,"Select Job")),e.R7$(4),e.SpI("",e.bMT(121,201,"Department")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsDepartment)("placeholder",e.bMT(124,203,"Select Department")),e.R7$(4),e.SpI("",e.bMT(128,205,"Partition")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsPartition)("placeholder",e.bMT(131,207,"Select Partition")),e.R7$(4),e.SpI("",e.bMT(135,209,"Shift")," "),e.R7$(3),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsShift)("placeholder",e.bMT(138,211,"Select Shift")),e.R7$(4),e.JRh(e.bMT(142,213,"Bank")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsBank)("placeholder",e.bMT(144,215,"Select Bank")),e.R7$(4),e.JRh(e.bMT(148,217,"Grade")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsGrade)("placeholder",e.bMT(150,219,"Select Grade")),e.R7$(4),e.JRh(e.bMT(154,221,"Job Nature")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsJobNature)("placeholder",e.bMT(156,223,"Select Job Nature")),e.R7$(5),e.JRh(e.bMT(161,225,"Is Insured")),e.R7$(5),e.JRh(e.bMT(166,227,"Is Manager")),e.R7$(5),e.JRh(e.bMT(171,229,"Is Static Shift")),e.R7$(5),e.JRh(e.bMT(176,231,"Is Static Vacation")),e.R7$(4),e.JRh(e.bMT(180,233,"Machine Code")),e.R7$(2),e.Y8G("placeholder",e.bMT(182,235,"Select Machine Code")),e.R7$(4),e.JRh(e.bMT(186,237,"Recuritment Source")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsRecuritmentSource)("placeholder",e.bMT(188,239,"Select Recuritment Source")),e.R7$(4),e.JRh(e.bMT(192,241,"Contract Type")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",n.dropdownItemsContractType)("placeholder",e.bMT(194,243,"Select Contract Type")),e.R7$(4),e.SpI("",e.bMT(198,245,"Join In Date")," "),e.R7$(3),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(201,247,"Join In Date")),e.R7$(4),e.SpI("",e.bMT(205,249,"Contract Start Date")," "),e.R7$(3),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(208,251,"Contract Start Date")),e.R7$(4),e.JRh(e.bMT(212,253,"Contract End Date")),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(214,255,"Contract End Date")),e.R7$(4),e.JRh(e.bMT(218,257,"Description")),e.R7$(2),e.Y8G("placeholder",e.bMT(220,259,"Enter Description")),e.R7$(5),e.Y8G("disabled",!n.registerForm.valid),e.R7$(),e.SpI(" ",e.bMT(226,261,"Register")," "))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,S.q,Tn.t,N.D,_.D9,M.t,m.Ei,X.N,k._f,D.y8,v.S,f.Z,Y.ms,W.Vv,ae.HW],styles:[".field{margin-bottom:unset!important;padding:10px}  .p-fileupload .p-button{background-color:#fff!important;border:none}  .p-fluid .p-button-icon-only{border:none!important}  .p-fileupload-buttonbar .ng-star-inserted{display:none}"]})}}return a})(),ys=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Cs=["dt"],dt=()=>({width:"450px"}),mt=a=>({"null-color":a}),Mn=a=>({"ng-invalid ng-dirty":a});function Ts(a,c){1&a&&e.nrm(0,"pre-loading")}function Ms(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function js(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ks(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20)(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",23),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",25),e.nI1(12,"translate"),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.changedSelectedUniformCode())}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedUnifromCode,n)||(l.selectedUnifromCode=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",27),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedDate,n)||(l.selectedDate=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",29),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCost,n)||(l.selectedCost=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",31),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedNotes,n)||(l.selectedNotes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",21)(32,"button",32),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,24,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployee),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,26,"Select Employee"))("filter",!0),e.R7$(4),e.JRh(e.bMT(10,28,"Uniform Code")),e.R7$(2),e.Y8G("options",t.uniformCodesDropDown),e.R50("ngModel",t.selectedUnifromCode),e.Y8G("placeholder",e.bMT(12,30,"Select Uniform Code"))("showClear",!0),e.R7$(4),e.SpI("",e.bMT(16,32,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(18,34,"MM/DD/YYYY")),e.R50("ngModel",t.selectedDate),e.R7$(4),e.SpI("",e.bMT(22,36,"Cost")," "),e.R7$(2),e.R50("ngModel",t.selectedCost),e.Y8G("placeholder",e.bMT(24,38,"Enter Cost Here")),e.R7$(4),e.SpI("",e.bMT(28,40,"Notes")," "),e.R7$(2),e.R50("ngModel",t.selectedNotes),e.Y8G("placeholder",e.bMT(30,42,"Enter notes Here")),e.R7$(3),e.Y8G("disabled",!t.addNewForm.valid)("label",e.bMT(33,44,"Insert New"))}}function Ds(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",35),e.nrm(5,"i",36),e.j41(6,"input",37),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Es(a,c){1&a&&(e.j41(0,"tr")(1,"th",38),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,10,"UniformCodeName")),e.R7$(3),e.JRh(e.bMT(8,12,"Employee")),e.R7$(3),e.JRh(e.bMT(11,14,"Date")),e.R7$(3),e.JRh(e.bMT(14,16,"Cost")),e.R7$(3),e.JRh(e.bMT(17,18,"Notes")),e.R7$(3),e.JRh(e.bMT(20,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(23,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(26,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(29,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(32,28,"Actions")))}function Ns(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",39),e.k0s(),e.j41(3,"td")(4,"span",40),e.EFF(5,"uniformCodeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",40),e.EFF(9,"employeeName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",40),e.EFF(13,"date"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td")(17,"span",40),e.EFF(18,"cost"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td")(21,"span",40),e.EFF(22,"nots"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"td",41)(25,"span",40),e.EFF(26,"creationTime"),e.k0s(),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.j41(29,"td",41)(30,"span",40),e.EFF(31,"lastModificationTime"),e.k0s(),e.EFF(32),e.nI1(33,"date"),e.k0s(),e.j41(34,"td",41)(35,"span",40),e.EFF(36,"creatorName"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td",41)(39,"span",40),e.EFF(40,"lastModifierName"),e.k0s(),e.EFF(41),e.k0s(),e.j41(42,"td")(43,"div",42)(44,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(45,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.uniformCodeName?t.uniformCodeName:""," "),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",e.i5U(15,14,t.date,"yyyy-MM-dd")," "),e.R7$(5),e.SpI(" ",t.cost?t.cost:""," "),e.R7$(4),e.SpI(" ",t.nots?t.nots:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,mt,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(28,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(25,mt,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(33,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(27,mt,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,mt,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ws(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20)(1,"div",21)(2,"label",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",46),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployeeEdit,n)||(l.selectedEmployeeEdit=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCovenantEditFun(n))}),e.k0s()(),e.j41(7,"div",21)(8,"label",47),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-calendar",48),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,n)||(l.product.date=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",24),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",49),e.nI1(18,"translate"),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.changedSelectedUniformCode())}),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedUnifromCodeEdit,n)||(l.selectedUnifromCodeEdit=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",29),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.cost,n)||(l.product.cost=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",50),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.nots,n)||(l.product.nots=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",51)(32,"button",52),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(34,"button",53),e.nI1(35,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,28,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployeeEdit),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,30,"All Employees"))("filter",!0),e.R7$(4),e.JRh(e.bMT(10,32,"Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(12,34,"MM/DD/YYYY")),e.R50("ngModel",t.product.date),e.Y8G("ngClass",e.eq3(52,Mn,t.submitted&&!t.product.date)),e.R7$(4),e.JRh(e.bMT(16,36,"Uniform Code")),e.R7$(2),e.Y8G("options",t.uniformCodesDropDown),e.R50("ngModel",t.selectedUnifromCodeEdit),e.Y8G("placeholder",e.bMT(18,38,"Select Uniform Code"))("showClear",!0)("filter",!0)("ngClass",e.eq3(54,Mn,t.submitted&&!t.product.uniformCodeId)),e.R7$(4),e.SpI("",e.bMT(22,40,"Cost")," "),e.R7$(2),e.R50("ngModel",t.product.cost),e.Y8G("placeholder",e.bMT(24,42,"Enter cost")),e.R7$(4),e.SpI("",e.bMT(28,44,"Notes")," "),e.R7$(2),e.R50("ngModel",t.product.nots),e.Y8G("placeholder",e.bMT(30,46,"Enter nots Here")),e.R7$(3),e.Y8G("label",e.bMT(33,48,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(35,50,"Save"))("disabled",!t.editForm.valid)}}function vs(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,2,"Are you sure you want to delete")),e.R7$(3),e.JRh(t.product.name)}}function Ss(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",54),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",55),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Ps(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",54),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",55),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let xs=(()=>{class a{constructor(t,o,n,l,r){this._EmployeeUniformService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeUniform",T.R.getMainLangChanges().subscribe(t=>{this._EmployeeUniformService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"uniformCodeName",header:"UniformCodeName"},{field:"date",header:"Date"},{field:"cost",header:"Cost"},{field:"notes",header:"notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown(),this.getDropDownEmployee(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}initFormGroups(){this.addNewForm=new s.gE({employeeId:new s.MJ(null,s.k0.required),uniformCodeId:new s.MJ(null,s.k0.required),date:new s.MJ(null,s.k0.required),cost:new s.MJ(null,s.k0.required),nots:new s.MJ(null)}),this.editForm=new s.gE({id:new s.MJ(null,s.k0.required),employeeId:new s.MJ(null,s.k0.required),uniformCodeId:new s.MJ(null,s.k0.required),date:new s.MJ(null,s.k0.required),cost:new s.MJ(null,s.k0.required),nots:new s.MJ(null)})}getDropDownEmployee(){this._EmployeeUniformService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getDropDown(){this._EmployeeUniformService.getDropDown("UniformCodes").subscribe({next:t=>{this.uniformCodesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeUniformService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.selectedUnifromCodeEdit=this.uniformCodesDropDown.find(n=>n.id==this.product.uniformCodeId),this.editForm.patchValue({id:this.product.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots})}})}confirmDelete(t){this._EmployeeUniformService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.selectedDate=this.DatePipe.transform(this.selectedDate,"yyyy-MM-dd"),this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,uniformCodeId:this.selectedUnifromCode?.id,date:this.selectedDate,cost:this.selectedCost,nots:this.selectedNotes}),this.addNewForm.valid&&this._EmployeeUniformService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,console.log("FilteredData"),console.log(i),this._EmployeeUniformService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,this.selectedDateEdit=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.product.date=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.editForm.patchValue({id:o.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots}),this.editForm.valid&&this._EmployeeUniformService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeUniformService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(ys),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-uniform"]],viewQuery:function(o,n){if(1&o&&e.GBs(Cs,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["formControlName","employeeId","optionLabel","name","filterBy","name",3,"ngModelChange","ngModel","options","placeholder","filter"],["htmlFor","uniformCode"],["formControlName","uniformCodeId","optionLabel","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"ngModelChange","showIcon","iconDisplay","placeholder","ngModel"],["htmlFor","cost"],["pInputText","","formControlName","cost","id","cost","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","nots"],["pInputText","","id","nots","formControlName","nots","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId","filterBy","name",3,"ngModelChange","onChange","ngModel","options","placeholder","filter"],["for","date"],["formControlName","date","inputId","icon","autofocus","",3,"ngModelChange","showIcon","iconDisplay","placeholder","ngModel","ngClass"],["optionLabel","name","formControlName","uniformCodeId","filterBy","name",3,"onChange","ngModelChange","options","ngModel","placeholder","showClear","filter","ngClass"],["pInputText","","formControlName","nots","id","nots","type","text",3,"ngModelChange","ngModel","placeholder"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ts,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Ms,5,7,"ng-template",4)(5,js,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,ks,34,46,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Ds,8,7,"ng-template",9)(13,Es,33,30,"ng-template",10)(14,Ns,46,31,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,ws,36,56,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,vs,6,4,"span",1),e.k0s(),e.DNE(23,Ss,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Ps,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,dt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,dt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,dt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,dt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,W.Vv,G.m],styles:[".p-dialog{overflow:hidden}"]})}}return a})(),Gs=(()=>{class a extends E.${constructor(t){super(t)}getDropDownManager(t){return this.http.get(`${this.baseurl}/${t}/GetMangerDropDown/?culture=${this.culture}`)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const $s=["dt"],ut=()=>({width:"450px"}),ht=a=>({"null-color":a});function Vs(a,c){1&a&&e.nrm(0,"pre-loading")}function Ys(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Bs(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function As(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20)(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",23),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",25),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedManager,n)||(l.selectedManager=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeManager())}),e.k0s()(),e.j41(13,"div",21)(14,"button",26),e.nI1(15,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,16,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployee),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,18,"Select Employee"))("filter",!0)("filterBy","name"),e.R7$(4),e.JRh(e.bMT(10,20,"Manager")),e.R7$(2),e.Y8G("options",t.managerDropDown),e.R50("ngModel",t.selectedManager),e.Y8G("placeholder",e.bMT(12,22,"Select a manager"))("showClear",!0)("filter",!0)("filterBy","name"),e.R7$(3),e.Y8G("disabled",!t.addNewForm.valid)("label",e.bMT(15,24,"Insert New"))}}function Js(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",27)(1,"h5",28),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",29),e.nrm(5,"i",30),e.j41(6,"input",31),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function qs(a,c){1&a&&(e.j41(0,"tr")(1,"th",32),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,7,"Employee")),e.R7$(3),e.JRh(e.bMT(8,9,"Manager")),e.R7$(3),e.JRh(e.bMT(11,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(14,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(17,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(20,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(23,19,"Actions")))}function Os(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",33),e.k0s(),e.j41(3,"td")(4,"span",34),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",34),e.EFF(9,"mangerName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",35)(12,"span",34),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",35)(17,"span",34),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",35)(22,"span",34),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",35)(26,"span",34),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",36)(31,"button",37),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(32,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",t.mangerName?t.mangerName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,ht,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,ht,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(21,ht,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,ht,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ls(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20)(1,"div",21)(2,"label",39),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",40),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployeeEdit,n)||(l.selectedEmployeeEdit=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCovenantEditFun(n))}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",41),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedManagerEdit,n)||(l.selectedManagerEdit=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeManagerEdit())}),e.k0s()(),e.j41(13,"div",42)(14,"button",43),e.nI1(15,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(16,"button",44),e.nI1(17,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,13,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployeeEdit),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,15,"All Employees")),e.R7$(4),e.JRh(e.bMT(10,17,"Manager")),e.R7$(2),e.Y8G("options",t.managerDropDown),e.R50("ngModel",t.selectedManagerEdit),e.Y8G("placeholder",e.bMT(12,19,"Select a manager"))("showClear",!0),e.R7$(3),e.Y8G("label",e.bMT(15,21,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(17,23,"Save"))("disabled",!t.editForm.valid)}}function Xs(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Hs(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",45),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",46),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Us(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",45),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",46),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let zs=(()=>{class a{constructor(t,o,n,l){this._EmployeeManagerService=t,this.messageService=o,this.route=n,this.translate=l,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeManager",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeManagerService.setCulture(t),this._EmployeeManagerService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation(),this.getDropDownEmployee(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}getLocation(){this._EmployeeManagerService.getDropDownManager("Employee").subscribe({next:t=>{console.log(t.data),this.managerDropDown=t.data}})}getDropDownEmployee(){this._EmployeeManagerService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}initFormGroups(){this.addNewForm=new s.gE({employeeId:new s.MJ(null,s.k0.required),mangerId:new s.MJ(null,s.k0.required)}),this.editForm=new s.gE({id:new s.MJ(null,s.k0.required),employeeId:new s.MJ(null,s.k0.required),mangerId:new s.MJ(null,s.k0.required)})}editProduct(t){this._EmployeeManagerService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedManagerEdit=this.managerDropDown.find(n=>n.id==this.product.mangerId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({id:this.product.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id})}})}confirmDelete(t){this._EmployeeManagerService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee?.id,mangerId:this.selectedManager?.id}),this.loading=!0,this.addNewForm.valid&&this._EmployeeManagerService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.loading=!1,this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,!1)}setFieldsNulls(){this.selectedManager=null}loadData(t,o,n,l,r,i){let d={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};d.sortType=this.sortOrder,console.log("FilteredData"),this.loading=null==i||i,console.log(d),this._EmployeeManagerService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({id:t.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),this.editForm.valid&&this._EmployeeManagerService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeManagerService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Gs),e.rXU(m.bg),e.rXU(U.nX),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-manager"]],viewQuery:function(o,n){if(1&o&&e.GBs($s,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","ngModel","options","placeholder","filter","filterBy"],["htmlFor","manager"],["optionLabel","name","formControlName","mangerId",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear","filter","filterBy"],["pButton","",1,"w-25",3,"click","disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","onChange","ngModel","options","placeholder"],["optionLabel","name","formControlName","mangerId",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Vs,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Ys,5,7,"ng-template",4)(5,Bs,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,As,16,26,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Js,8,7,"ng-template",9)(13,qs,24,21,"ng-template",10)(14,Os,33,25,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Ls,18,25,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Xs,6,4,"span",1),e.k0s(),e.DNE(23,Hs,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Us,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,ut)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,ut)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,ut)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,ut)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,G.m],styles:[".p-dialog{height:100%;box-shadow:none;justify-content:center;overflow:hidden}"]})}}return a})(),Ws=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Qs=["dt"],gt=()=>({width:"450px"}),_t=a=>({"null-color":a});function Ks(a,c){1&a&&e.nrm(0,"pre-loading")}function Zs(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ei(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",20,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",21),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ti(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22)(1,"div",23)(2,"label",24),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",25),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",23)(8,"label",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",27),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedLocation,n)||(l.selectedLocation=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeLocation())}),e.k0s()(),e.j41(13,"div",23)(14,"button",28),e.nI1(15,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,18,"Select Employee")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name"),e.R50("ngModel",t.selectedEmployee),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,20,"Select Employee")),e.R7$(4),e.JRh(e.bMT(10,22,"Location")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",t.locationDropDown),e.R50("ngModel",t.selectedLocation),e.Y8G("placeholder",e.bMT(12,24,"Select a Location"))("showClear",!0),e.R7$(3),e.Y8G("disabled",!t.addNewForm.valid)("label",e.bMT(15,26,"Insert New"))}}function ni(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",29)(1,"h5",30),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",31),e.nrm(5,"i",32),e.j41(6,"input",33),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function oi(a,c){1&a&&(e.j41(0,"tr")(1,"th",34),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,7,"Employee")),e.R7$(3),e.JRh(e.bMT(8,9,"Location")),e.R7$(3),e.JRh(e.bMT(11,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(14,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(17,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(20,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(23,19,"Actions")))}function ai(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",35),e.k0s(),e.j41(3,"td")(4,"span",36),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",36),e.EFF(9,"locationName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",37)(12,"span",36),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",37)(17,"span",36),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",37)(22,"span",36),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",37)(26,"span",36),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",38)(31,"button",39),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(32,"button",40),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",t.locationName?t.locationName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,_t,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,11,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(19,_t,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(21,_t,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,_t,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function li(a,c){1&a&&(e.j41(0,"small",48),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"location is required.")))}function si(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",22)(1,"div",23)(2,"label",41),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",42),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployeeEdit,n)||(l.selectedEmployeeEdit=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCovenantEditFun(n))}),e.k0s()(),e.j41(7,"div",23)(8,"label",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",43),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedLocationEdit,n)||(l.selectedLocationEdit=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeLocationEdit())}),e.k0s(),e.DNE(13,li,3,3,"small",44),e.k0s(),e.j41(14,"div",45)(15,"button",46),e.nI1(16,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(17,"button",47),e.nI1(18,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,20,"Select Employee")),e.R7$(2),e.Y8G("filter",!0)("showClear",!0)("filterBy","name"),e.R50("ngModel",t.selectedEmployeeEdit),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,22,"All Employees")),e.R7$(4),e.JRh(e.bMT(10,24,"Location")),e.R7$(2),e.FS9("placeholder",e.bMT(12,26,"Select a Location")),e.Y8G("filter",!0)("showClear",!0)("filterBy","name")("options",t.locationDropDown),e.R50("ngModel",t.selectedLocationEdit),e.Y8G("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.submitted&&!t.product.locationId),e.R7$(2),e.Y8G("label",e.bMT(16,28,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(18,30,"Save"))("disabled",!t.editForm.valid)}}function ii(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function ri(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",50),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function ci(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",50),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let jn=(()=>{class a{constructor(t,o,n,l){this._EmployeeLocationService=t,this.messageService=o,this.translate=n,this.route=l,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeLocation",this._EmployeeLocationService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeLocationService.setCulture(t),this._EmployeeLocationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.getLocation(),this.getDropDownEmployee(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}initFormGroups(){this.addNewForm=new s.gE({employeeId:new s.MJ(null,s.k0.required),locationId:new s.MJ(null,s.k0.required)}),this.editForm=new s.gE({Id:new s.MJ(null,s.k0.required),employeeId:new s.MJ(null,s.k0.required),locationId:new s.MJ(null,s.k0.required)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}getDropDownEmployee(){this._EmployeeLocationService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getLocation(){this._EmployeeLocationService.getDropDown("Location").subscribe({next:t=>{console.log(t.data),this.locationDropDown=t.data}})}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._EmployeeLocationService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}editProduct(t){console.log("edit works"),this._EmployeeLocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedLocationEdit=this.locationDropDown.find(n=>n.id==this.product.locationId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({Id:this.product.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.log(this.editForm.value)}})}confirmDelete(t){let o=[t];this.loading=!0,this._EmployeeLocationService.DeleteRange(o).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,locationId:this.selectedLocationId}),this.loading=!0,this.addNewForm.valid&&this._EmployeeLocationService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedLocation=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}onChangeLocation(){this.selectedLocationId=this.selectedLocation?.id}onChangeLocationEdit(){this.selectedLocationEditId=this.selectedLocationEdit?.id}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,console.log("FilteredData"),console.log(i),this.loading=!0,this._EmployeeLocationService.GetPage(i).subscribe({next:d=>{this.loading=!1,console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({Id:t.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.clear(),this.editForm.valid?(console.log("edited Form here =====================> ",this.editForm.value),this.loading=!0,this._EmployeeLocationService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})):console.log("Form Not Valid because body is : ",this.editForm.value)}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EmployeeLocationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ws),e.rXU(m.bg),e.rXU(_.c$),e.rXU(U.nX))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-location"]],viewQuery:function(o,n){if(1&o&&e.GBs(Qs,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:32,vars:49,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","filter","showClear","filterBy","ngModel","options","placeholder"],["htmlFor","location"],["optionLabel","name","formControlName","locationId",3,"ngModelChange","onChange","filter","showClear","filterBy","options","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","onChange","filter","showClear","filterBy","ngModel","options","placeholder"],["formControlName","locationId","optionLabel","name",3,"ngModelChange","onChange","filter","showClear","filterBy","options","ngModel","placeholder"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ks,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Zs,5,7,"ng-template",5)(5,ei,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,ti,16,28,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,ni,8,7,"ng-template",10)(13,oi,24,21,"ng-template",11)(14,ai,33,25,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,si,19,32,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,ii,6,4,"span",2),e.k0s(),e.DNE(23,ri,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",13),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",14),e.nrm(27,"i",15),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,ci,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,gt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,gt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,gt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,gt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,Y.ms,G.m]})}}return a})(),pi=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const di=["dt"],bt=()=>({width:"450px"}),Ie=a=>({"null-color":a});function mi(a,c){1&a&&e.nrm(0,"pre-loading")}function ui(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function hi(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gi(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20)(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",23),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",25),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,n)||(l.selectedRelativeRelation=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectRelativeRelation(n))}),e.k0s()(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",27),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.date,n)||(l.date=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"textarea",29),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.discreption,n)||(l.discreption=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"p-fileUpload",31),e.nI1(30,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onFileSelect(n))}),e.k0s()(),e.j41(31,"div",21)(32,"button",32),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,23,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployee),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(6,25,"Select Employee"))("filter",!0)("showClear",!0),e.R7$(4),e.JRh(e.bMT(10,27,"Document Required Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType)("placeholder",e.bMT(12,29,"Enter Document Required Type")),e.R7$(4),e.JRh(e.bMT(16,31,"Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(18,33,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Discription")),e.R7$(2),e.R50("ngModel",t.discreption),e.Y8G("placeholder",e.bMT(24,37,"Enter Discription Here")),e.R7$(4),e.SpI("",e.bMT(28,39,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(30,41,"Choose")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Insert New"))("disabled",!t.addNewForm.valid)}}function _i(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"label",24),e.EFF(2,"RelativeRelation Type"),e.k0s(),e.j41(3,"p-dropdown",34),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelation,n)||(l.selectedRelativeRelation=n),e.Njj(n)}),e.k0s()(),e.j41(4,"div",21)(5,"label",26),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p-calendar",35),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.date,n)||(l.date=n),e.Njj(n)}),e.k0s()(),e.j41(9,"div",21)(10,"label",36),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"input",37),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,n)||(l.cost=n),e.Njj(n)}),e.k0s()(),e.j41(14,"div",21)(15,"label",28),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"textarea",38),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nots,n)||(l.nots=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.R50("ngModel",t.selectedRelativeRelation),e.Y8G("options",t.dropdownItemsRelativeRelationType),e.R7$(3),e.JRh(e.bMT(7,10,"Date")),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.R7$(3),e.JRh(e.bMT(12,12,"Cost")),e.R7$(2),e.R50("ngModel",t.cost),e.R7$(3),e.JRh(e.bMT(17,14,"Notes")),e.R7$(2),e.R50("ngModel",t.nots)}}function bi(a,c){1&a&&(e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Document Required Name")," "),e.R7$(3),e.JRh(e.bMT(8,12,"Employee Name")),e.R7$(3),e.JRh(e.bMT(11,14,"Date")),e.R7$(3),e.JRh(e.bMT(14,16,"Url")),e.R7$(3),e.JRh(e.bMT(17,18,"Discription")),e.R7$(3),e.JRh(e.bMT(20,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(23,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(26,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(29,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(32,28,"Actions")))}function fi(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td",42)(4,"span",43),e.EFF(5,"documentRequiredName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",42)(8,"span",43),e.EFF(9,"employeeName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",42)(12,"span",43),e.EFF(13,"date"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td")(17,"span",43),e.EFF(18,"Url"),e.k0s(),e.j41(19,"a",44),e.EFF(20),e.nI1(21,"translate"),e.k0s()(),e.j41(22,"td",42)(23,"span",43),e.EFF(24,"discreption"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"td",42)(27,"span",43),e.EFF(28,"creationTime"),e.k0s(),e.EFF(29),e.k0s(),e.j41(30,"td",42)(31,"span",43),e.EFF(32,"lastModificationTime"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",42)(35,"span",43),e.EFF(36,"creatorName"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td",42)(39,"span",43),e.EFF(40,"lastModifierName"),e.k0s(),e.EFF(41),e.k0s(),e.j41(42,"td")(43,"div",45)(44,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(45,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(24,Ie,!t.documentRequiredName)),e.R7$(3),e.SpI(" ",t.documentRequiredName," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,Ie,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,Ie,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(15,19,t.date,"dd/MM/YYYY")," "),e.R7$(5),e.Y8G("href",o.baseUrlFile.concat("/",t.url),e.B4B),e.R7$(),e.JRh(e.bMT(21,22,"View")),e.R7$(2),e.Y8G("ngClass",e.eq3(30,Ie,!t.discreption)),e.R7$(3),e.SpI(" ",t.discreption?t.discreption:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,Ie,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,Ie,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,Ie,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,Ie,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Fi(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",21)(1,"label",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",49),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployeeEdit,n)||(l.selectedEmployeeEdit=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCovenantEditFun(n))}),e.k0s()(),e.j41(6,"div",21)(7,"label",24),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-dropdown",49),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedRelativeRelationEdit,n)||(l.selectedRelativeRelationEdit=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedRelativeRelationEditFun(n))}),e.k0s()(),e.j41(12,"div",21)(13,"label",26),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-calendar",50),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,n)||(l.product.date=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",21)(19,"label",28),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"textarea",51),e.nI1(23,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discreption,n)||(l.product.discreption=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",21)(25,"label",30),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"p-fileUpload",52,1),e.nI1(30,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(29),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,19,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployeeEdit),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(5,21,"All Employees")),e.R7$(4),e.JRh(e.bMT(9,23,"Document Required Type")),e.R7$(2),e.R50("ngModel",t.selectedRelativeRelationEdit),e.Y8G("options",t.dropdownItemsRelativeRelationType)("placeholder",e.bMT(11,25,"Enter Document Required Type")),e.R7$(4),e.SpI("",e.bMT(15,27,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.date),e.Y8G("placeholder",e.bMT(17,29,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(21,31,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discreption),e.Y8G("placeholder",e.bMT(23,33,"Enter Discription Here")),e.R7$(4),e.SpI(" ",e.bMT(27,35,"Upload File")," "),e.R7$(2),e.Y8G("chooseLabel",e.bMT(30,37,"Import File"))("auto",!0)}}function Ii(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",54),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function Ri(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function yi(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",54),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Ci(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",54),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Ti=(()=>{class a{constructor(t,o,n,l,r){this.employeeFileService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.baseUrlFile=lt.c.mediaUrl}ngOnInit(){this.endPoint="EmployeeFile",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFileService.setCulture(t),this.employeeFileService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes(),this.getDropDownEmployee(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}initFormGroups(){this.addNewForm=new s.gE({DocumentRequiredId:new s.MJ(null,s.k0.required),EmployeeId:new s.MJ(null,s.k0.required),Date:new s.MJ(null,s.k0.required),Discreption:new s.MJ(null,s.k0.required),File:new s.MJ(null)}),this.editForm=new s.gE({Id:new s.MJ(null,s.k0.required),DocumentRequiredId:new s.MJ(null,s.k0.required),EmployeeId:new s.MJ(null,s.k0.required),Date:new s.MJ(null,s.k0.required),Discreption:new s.MJ(null,s.k0.required),File:new s.MJ(null)})}editProduct(t){console.log(t.id),this.loading=!0,t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeFileService.GetById(t.id).subscribe({next:o=>{this.loading=!1,console.log(o.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(n=>n.id==o.data.documentRequiredId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==o.data.employeeId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),o.data.date=this.convertDate(o.data.date,"MM/dd/yyyy"),console.log(o.data.date),this.product={...o.data},this.productDialog=!0},error:()=>{this.loading=!1}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.loading=!0,this.employeeFileService.DeleteRange([t]).subscribe({next:()=>{this.loading=!1,this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}getDropDownEmployee(){this.employeeFileService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}addNew(){if(this.addNewForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationType,EmployeeId:this.selectedEmployee.id,Date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),Discreption:this.discreption,File:this.file}),this.addNewForm.valid){const t=this.mapToFormData(this.addNewForm.value);this.loading=!0,this.employeeFileService.Register(t).subscribe({next:o=>{this.loading=!1,console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.date=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.loading=!0,this.employeeFileService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,console.log(this.selectedItems),this.loading=!1},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){if(this.submitted=!0,this.editForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationEdit.id,Id:o.id,EmployeeId:this.selectedEmployeeEdit.id,Date:this.convertDate(o.date,"yyyy-MM-ddTHH:mm:ss"),PersonName:o.personName,Discreption:o.discreption,File:this.file}),this.editForm.valid){const n=this.mapToFormData(this.editForm.value);this.loading=!0,this.employeeFileService.Edit(n).subscribe({next:()=>{this.loading=!1,this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this.employeeFileService.DeleteRange(t).subscribe({next:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getRelativeRelationTypes(){this.employeeFileService.getDropdownField("DocumentRequired").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(pi),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-file"]],viewQuery:function(o,n){if(1&o&&e.GBs(di,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:32,vars:46,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","EmployeeId","filterBy","name",3,"ngModelChange","ngModel","options","placeholder","filter","showClear"],["htmlFor","ContractType"],["optionLabel","name","formControlName","DocumentRequiredId",3,"ngModelChange","onChange","ngModel","options","placeholder"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","Date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Discreption","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","date"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","formControlName","File","maxFileSize","1000000","accept",".pdf",3,"onSelect","chooseLabel"],["pButton","",1,"w-25",3,"click","label","disabled"],[1,"field","col-12"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModelChange","ngModel","options"],["name","date","inputId","date","placeholder","date",3,"ngModelChange","showIcon","iconDisplay","ngModel"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModelChange","ngModel"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModelChange","ngModel"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name",3,"ngModelChange","onChange","ngModel","options","placeholder"],["name","date","inputId","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,mi,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,ui,5,7,"ng-template",5)(5,hi,2,4,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,gi,34,45,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,_i,21,16,"ng-template",8)(13,bi,33,30,"ng-template",10)(14,fi,46,40,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Fi,31,39,"ng-template",8)(18,Ii,4,6,"ng-template",12),e.k0s(),e.j41(19,"p-dialog",13),e.nI1(20,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(21,"div",14),e.nrm(22,"i",15),e.DNE(23,Ri,6,4,"span",2),e.k0s(),e.DNE(24,yi,4,6,"ng-template",12),e.k0s(),e.j41(25,"p-dialog",13),e.nI1(26,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(27,"div",14),e.nrm(28,"i",15),e.j41(29,"span"),e.EFF(30,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(31,Ci,4,6,"ng-template",12),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,bt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,bt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,36,"Item Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(44,bt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(20,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,bt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(26,40,"Confirm Delete"))("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,Y.ms,W.Vv,G.m]})}}return a})(),Mi=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const ji=["dt"],ft=()=>({width:"450px"}),re=a=>({"null-color":a});function ki(a,c){1&a&&e.nrm(0,"pre-loading")}function Di(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",15)(1,"button",16),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",17),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ei(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Ni(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenant,n)||(l.selectedCovenant=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectCovenant(n))}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",26),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.date,n)||(l.date=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,n)||(l.cost=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",20)(26,"label",27),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",29),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.serialNumber,n)||(l.serialNumber=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",20)(32,"label",30),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"textarea",31),e.nI1(36,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.notes,n)||(l.notes=n),e.Njj(n)}),e.k0s()(),e.j41(37,"div",20)(38,"button",32),e.nI1(39,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,29,"Covenant Type")),e.R7$(2),e.R50("ngModel",t.selectedCovenant),e.Y8G("options",t.dropdownItemsCovenantType)("placeholder",e.bMT(6,31,"Enter Covenant Type"))("filter",!0)("filterBy","name"),e.R7$(4),e.JRh(e.bMT(10,33,"Select Employee")),e.R7$(2),e.R50("ngModel",t.selectedEmployee),e.Y8G("options",t.dropdownItemsEmployee)("filterBy","name")("placeholder",e.bMT(12,35,"Select Employee"))("filter",!0),e.R7$(4),e.SpI("",e.bMT(16,37,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(18,39,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(22,41,"Cost")),e.R7$(2),e.R50("ngModel",t.cost),e.Y8G("placeholder",e.bMT(24,43,"Enter Cost Here")),e.R7$(4),e.JRh(e.bMT(28,45,"serialNumber")),e.R7$(2),e.R50("ngModel",t.serialNumber),e.Y8G("placeholder",e.bMT(30,47,"Enter serialNumber Here")),e.R7$(4),e.JRh(e.bMT(34,49,"Notes")),e.R7$(2),e.R50("ngModel",t.notes),e.Y8G("placeholder",e.bMT(36,51,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",!t.addNewForm.valid)("label",e.bMT(39,53,"Insert New"))}}function wi(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p-dropdown",34),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedCovenant,n)||(l.selectedCovenant=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",20)(7,"label",25),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",35),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.date,n)||(l.date=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",20)(13,"label",27),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",36),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.cost,n)||(l.cost=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",20)(19,"label",27),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",37),e.nI1(23,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.serialNumber,n)||(l.serialNumber=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",20)(25,"label",30),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"textarea",38),e.nI1(29,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.notes,n)||(l.notes=n),e.Njj(n)}),e.k0s()(),e.j41(30,"div",20)(31,"button",39),e.nI1(32,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,19,"Covenant Type")),e.R7$(2),e.R50("ngModel",t.selectedCovenant),e.Y8G("options",t.dropdownItemsCovenantType)("placeholder",e.bMT(5,21,"Enter Covenant Type")),e.R7$(4),e.SpI(" ",e.bMT(9,23,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.date),e.Y8G("placeholder",e.bMT(11,25,"Date")),e.R7$(4),e.JRh(e.bMT(15,27,"Cost")),e.R7$(2),e.R50("ngModel",t.cost),e.Y8G("placeholder",e.bMT(17,29,"Enter Cost here")),e.R7$(4),e.JRh(e.bMT(21,31,"serialNumber")),e.R7$(2),e.R50("ngModel",t.serialNumber),e.Y8G("placeholder",e.bMT(23,33,"Enter serialNumber here")),e.R7$(4),e.JRh(e.bMT(27,35,"Notes")),e.R7$(2),e.R50("ngModel",t.notes),e.Y8G("placeholder",e.bMT(29,37,"Enter notes Here")),e.R7$(3),e.Y8G("label",e.bMT(32,39,"Insert New"))}}function vi(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",40),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",41),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",42),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,11,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,13,"Employee Name")),e.R7$(3),e.JRh(e.bMT(12,15,"Date")),e.R7$(3),e.JRh(e.bMT(15,17,"Cost")),e.R7$(3),e.JRh(e.bMT(18,19,"serialNumber")),e.R7$(3),e.JRh(e.bMT(21,21,"Notes")),e.R7$(3),e.JRh(e.bMT(24,23,"creationTime")),e.R7$(3),e.JRh(e.bMT(27,25,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(30,27,"creatorName")),e.R7$(3),e.JRh(e.bMT(33,29,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(36,31,"Actions")))}function Si(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",43),e.k0s(),e.j41(3,"td",44)(4,"span",45),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",44)(8,"span",45),e.EFF(9,"employeeName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",44)(12,"span",45),e.EFF(13,"date"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",44)(16,"span",45),e.EFF(17,"cost"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",44)(20,"span",45),e.EFF(21,"serialNumber"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",44)(24,"span",45),e.EFF(25,"notes"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",44)(28,"span",45),e.EFF(29,"creationTime"),e.k0s(),e.EFF(30),e.nI1(31,"date"),e.k0s(),e.j41(32,"td",44)(33,"span",45),e.EFF(34,"lastModificationTime"),e.k0s(),e.EFF(35),e.nI1(36,"date"),e.k0s(),e.j41(37,"td",44)(38,"span",45),e.EFF(39,"creatorName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td",44)(42,"span",45),e.EFF(43,"lastModifierName"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td")(46,"div",46)(47,"button",47),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(48,"button",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,re,!t.covenantName)),e.R7$(3),e.SpI(" ",t.covenantName?t.covenantName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,re,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,re,!t.date)),e.R7$(3),e.SpI(" ",t.date," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,re,!t.cost)),e.R7$(3),e.SpI(" ",t.cost," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,re,!t.serialNumber)),e.R7$(3),e.SpI(" ",t.serialNumber," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,re,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,re,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(31,21,t.creationTime,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(41,re,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(36,24,t.lastModificationTime,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,re,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,re,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Pi(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",49),e.nI1(6,"translate"),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedCovenantEditFun(n))}),e.k0s()(),e.j41(7,"div",20)(8,"label",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"p-dropdown",51),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-calendar",26),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.date,n)||(l.product.date=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",28),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.cost,n)||(l.product.cost=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",20)(26,"label",27),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",52),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.serialNumber,n)||(l.product.serialNumber=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",20)(32,"label",30),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"textarea",31),e.nI1(36,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(37,"div",53)(38,"button",54),e.nI1(39,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(40,"button",55),e.nI1(41,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,26,"Covenant Type")),e.R7$(2),e.Y8G("options",t.dropdownItemsCovenantType)("placeholder",e.bMT(6,28,"Enter Covenant Type"))("filter",!0)("showClear",!0),e.R7$(4),e.JRh(e.bMT(10,30,"Select Employee")),e.R7$(2),e.Y8G("options",t.dropdownItemsEmployee)("placeholder",e.bMT(12,32,"All Employees"))("filter",!0),e.R7$(4),e.SpI("",e.bMT(16,34,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.date),e.Y8G("placeholder",e.bMT(18,36,"Enter Date Here")),e.R7$(4),e.JRh(e.bMT(22,38,"Cost")),e.R7$(2),e.R50("ngModel",t.product.cost),e.Y8G("placeholder",e.bMT(24,40,"Enter Cost Here")),e.R7$(4),e.JRh(e.bMT(28,42,"serialNumber")),e.R7$(2),e.R50("ngModel",t.product.serialNumber),e.Y8G("placeholder",e.bMT(30,44,"Enter serialNumber here")),e.R7$(4),e.JRh(e.bMT(34,46,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(36,48,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(39,50,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(41,52,"Save"))}}function xi(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Gi(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function $i(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Vi=(()=>{class a{constructor(t,o,n,l,r){this.employeeConvenantService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCovenant",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeConvenantService.setCulture(t),this.employeeConvenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getCovenantTypes(),this.getDropDownEmployee(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}initFormGroups(){this.addNewForm=new s.gE({covenantId:new s.MJ("",s.k0.required),employeeId:new s.MJ("",s.k0.required),date:new s.MJ("",s.k0.required),cost:new s.MJ("",s.k0.required),serialNumber:new s.MJ("",s.k0.required),notes:new s.MJ("")}),this.editForm=new s.gE({id:new s.MJ("",s.k0.required),covenantId:new s.MJ("",s.k0.required),employeeId:new s.MJ("",s.k0.required),date:new s.MJ("",s.k0.required),cost:new s.MJ("",s.k0.required),serialNumber:new s.MJ("",s.k0.required),notes:new s.MJ("")})}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.loading=!0,this.employeeConvenantService.GetById(t.id).subscribe({next:o=>{this.loading=!1,console.log("edit here data"),console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedCovenantEdit=this.dropdownItemsCovenantType.find(n=>n.id==this.product.covenantId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),console.log("selectedCovenantEdit => "),console.log(this.selectedCovenantEdit),console.log("dropdownItemsEmployee => "),console.log(this.dropdownItemsEmployee),this.product.date=this.convertDate(this.product.date,"MM/dd/yyyy"),console.log(this.product.date)},error:()=>{this.loading=!1}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.loading=!0,this.employeeConvenantService.DeleteRange([t]).subscribe({next:()=>{this.loading=!1,this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}addNew(){this.addNewForm.patchValue({covenantId:this.selectedCovenant?.id,employeeId:this.selectedCovenant?.id}),this.addNewForm.valid&&this.employeeConvenantService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.addNewForm.clearValidators(),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}setFieldsNulls(){this.selectedCovenantType=null,this.date=null,this.cost=null,this.notes=null,this.selectedCovenant=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}loadData(t,o,n,l,r){let i={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r};i.SortType=this.sortOrder,this.loading=!0;let d=this.mapToFormData(i);this.employeeConvenantService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({id:t.id}),console.clear(),console.log(this.editForm.value),this.editForm.valid&&this.employeeConvenantService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.employeeConvenantService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getCovenantTypes(){this.employeeConvenantService.getDropdownField("Covenant").subscribe({next:t=>{console.log(t),this.dropdownItemsCovenantType=t.data,console.log(this.dropdownItemsCovenantType)}})}getDropDownEmployee(){this.employeeConvenantService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}selectCovenant(t){console.log(t),this.selectedCovenantType=t.value.id,this.selectedCovenant=t.value}selectedCovenantEditFun(t){this.selectedCovenantEdit=t.value}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Mi),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-covenant"]],viewQuery:function(o,n){if(1&o&&e.GBs(ji,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","ContractType"],["formControlName","covenantId","optionLabel","name",3,"ngModelChange","onChange","ngModel","options","placeholder","filter","filterBy"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","ngModel","options","filterBy","placeholder","filter"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","cost","id","Cost","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","serialNumber","id","serialNumber","type","number",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","disabled","label"],[1,"field","col-12"],["optionLabel","name",3,"ngModelChange","ngModel","options","placeholder"],["name","date","inputId","date",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["pInputText","","id","Cost","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputText","","id","serialNumber","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","",1,"w-25",3,"click","label"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","covenantId","optionLabel","name","optionValue","id","filterBy","name",3,"onChange","options","placeholder","filter","showClear"],["htmlFor","Employee"],["formControlName","employeeId","optionLabel","name","optionValue","id","filterPlaceholder","Search...",3,"options","placeholder","filter"],["pInputText","","id","serialNumberEdit","type","number",3,"ngModelChange","ngModel","placeholder"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,ki,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Di,5,7,"ng-template",4)(5,Ei,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Ni,40,55,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,wi,33,41,"ng-template",7)(13,vi,37,33,"ng-template",9)(14,Si,49,47,"ng-template",10),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Pi,42,54,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",11),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",12),e.nrm(21,"i",13),e.DNE(22,xi,6,4,"span",1),e.k0s(),e.DNE(23,Gi,4,6,"ng-template",14),e.k0s(),e.j41(24,"p-dialog",11),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",12),e.nrm(27,"i",13),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,$i,4,6,"ng-template",14),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,ft)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,ft)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,ft)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,ft)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,W.Vv,G.m]})}}return a})(),Yi=(()=>{class a extends E.${constructor(t){super(t)}updateUserLocked(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateUserLocked`,t)}assignRoles(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/assignroles/${t}`,o)}changePassword(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/changepassword/${t}`,o)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Bi=["dt"],Xe=()=>({width:"450px"}),he=a=>({"null-color":a});function Ai(a,c){1&a&&e.nrm(0,"pre-loading")}function Ji(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qi(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"h5",26),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",27),e.nrm(5,"i",28),e.j41(6,"input",29),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Oi(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",30),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",31),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Employee Name")," "),e.R7$(3),e.JRh(e.bMT(8,12,"Username")),e.R7$(3),e.JRh(e.bMT(11,14,"Email")),e.R7$(3),e.JRh(e.bMT(14,16,"Roles")),e.R7$(3),e.JRh(e.bMT(17,18,"Locked")),e.R7$(3),e.JRh(e.bMT(20,20,"Change Password")),e.R7$(3),e.JRh(e.bMT(23,22,"creationTime")),e.R7$(3),e.JRh(e.bMT(26,24,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(29,26,"creatorName")),e.R7$(3),e.JRh(e.bMT(32,28,"lastModifierName")))}function Li(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.JRh(t)}}function Xi(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",32),e.k0s(),e.j41(3,"td",33)(4,"span",34),e.EFF(5,"employeeNameAr"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",33)(8,"span",34),e.EFF(9,"UserName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",33)(12,"span",34),e.EFF(13,"Email"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",33)(16,"span",34),e.EFF(17,"Roles"),e.k0s(),e.j41(18,"div",35)(19,"div",36),e.DNE(20,Li,2,1,"span",37),e.k0s(),e.j41(21,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s()()(),e.j41(22,"td",33)(23,"span",34),e.EFF(24,"Locked"),e.k0s(),e.j41(25,"div",39)(26,"p-inputSwitch",40),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.isLocked,n)||(l.isLocked=n),e.Njj(n)}),e.k0s(),e.j41(27,"button",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProductLock(n))}),e.k0s()()(),e.j41(28,"td")(29,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changePassword(n.id))}),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"td",33)(33,"span",34),e.EFF(34,"creationTime"),e.k0s(),e.EFF(35),e.k0s(),e.j41(36,"td",33)(37,"span",34),e.EFF(38,"lastModificationTime"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"td",33)(41,"span",34),e.EFF(42,"creatorName"),e.k0s(),e.EFF(43),e.k0s(),e.j41(44,"td",33)(45,"span",34),e.EFF(46,"lastModifierName"),e.k0s(),e.EFF(47),e.k0s()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(23,he,!t.employeeNameAr)),e.R7$(3),e.SpI(" ",t.employeeNameAr?t.employeeNameAr:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,he,!t.userName)),e.R7$(3),e.SpI(" ",t.userName?t.userName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,he,!t.email)),e.R7$(3),e.SpI(" ",t.email?t.email:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,he,!t.roles)),e.R7$(5),e.Y8G("ngForOf",t.roles),e.R7$(2),e.Y8G("ngClass",e.eq3(31,he,!t.isLocked)),e.R7$(4),e.R50("ngModel",t.isLocked),e.Y8G("disabled",!0),e.R7$(4),e.SpI(" ",e.bMT(31,21,"Change Password")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,he,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,he,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,he,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,he,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Hi(a,c){if(1&a&&(e.j41(0,"div",49)(1,"span",50),e.EFF(2),e.k0s()()),2&a){const t=c.$implicit;e.R7$(2),e.JRh(t.name)}}function Ui(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",42)(1,"div",15)(2,"label",43),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-multiSelect",44),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedMulti,n)||(l.selectedMulti=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectMultiItems(n))}),e.DNE(6,Hi,3,1,"ng-template",45),e.k0s()(),e.j41(7,"div",46)(8,"button",47),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(10,"button",48),e.nI1(11,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveRoles(n.product.id))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.rolesForm),e.R7$(3),e.JRh(e.bMT(4,7,"Roles")),e.R7$(2),e.R50("ngModel",t.selectedMulti),e.Y8G("options",t.rolesDropdown),e.R7$(3),e.Y8G("label",e.bMT(9,9,"Cancel")),e.R7$(2),e.Y8G("disabled",!t.rolesForm.valid||!t.rolesForm.get("roles").touched)("label",e.bMT(11,11,"Save"))}}function zi(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.JRh(t.product.name)}}function Wi(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}}function Qi(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}function Ki(a,c){1&a&&(e.j41(0,"small"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Password is required.")))}function Zi(a,c){1&a&&(e.j41(0,"small"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Password must be at least 5 characters."),""))}function er(a,c){if(1&a&&(e.j41(0,"div",53),e.DNE(1,Ki,3,3,"small",1)(2,Zi,3,3,"small",1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.changePassForm.get("password").errors.required),e.R7$(),e.Y8G("ngIf",t.changePassForm.get("password").errors.minlength)}}function tr(a,c){1&a&&(e.j41(0,"small"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Confirmation password is required.")))}function nr(a,c){1&a&&(e.j41(0,"small"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Confirmation password must be at least 5 characters."),""))}function or(a,c){if(1&a&&(e.j41(0,"div",53),e.DNE(1,tr,3,3,"small",1)(2,nr,3,3,"small",1),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.changePassForm.get("rePassword").errors.required),e.R7$(),e.Y8G("ngIf",t.changePassForm.get("rePassword").errors.minlength)}}function ar(a,c){1&a&&(e.j41(0,"div",53)(1,"small"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Passwords do not match.")))}function lr(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",54)(1,"div",55)(2,"label",56),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",57)(6,"p-inputSwitch",58),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.locked,n)||(l.locked=n),e.Njj(n)}),e.k0s()()(),e.j41(7,"div",46)(8,"button",47),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialogLock())}),e.k0s(),e.j41(10,"button",48),e.nI1(11,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveLock(n.product.id))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.lockForm),e.R7$(3),e.JRh(e.bMT(4,6,"Locked")),e.R7$(3),e.R50("ngModel",t.locked),e.R7$(2),e.Y8G("label",e.bMT(9,8,"Cancel")),e.R7$(2),e.Y8G("disabled",!t.lockForm.valid)("label",e.bMT(11,10,"Save"))}}const sr=a=>{const c=a.get("password")?.value,t=a.get("rePassword")?.value;return c!==t?{passwordMismatch:!0}:null};let ir=(()=>{class a{constructor(t,o){this.usersService=t,this.messageService=o,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.productLockDialog=!1,this.changePassDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.locked=!1,this.allYears=[],this.lockForm=new s.gE({locked:new s.MJ(!1,s.k0.required)}),this.rolesForm=new s.gE({roles:new s.MJ(this.rolesDropdown,s.k0.required)}),this.changePassForm=new s.gE({password:new s.MJ(null,[s.k0.required,s.k0.minLength(5)]),rePassword:new s.MJ(null,[s.k0.required,s.k0.minLength(5)])},{validators:sr})}ngOnInit(){this.endPoint="UsersApp",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.usersService.setCulture(t),this.usersService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions(),this.getRolesDropdown(),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]})}editProduct(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedMulti=this.product.roles},error:o=>{console.log(o)}}),console.log(t.id)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.locked=!1}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.usersService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let l=t-3;l<=n;l++)this.allYears.push(l)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}changePassword(t){this.changePassDialog=!0,console.log(t),this.userId=t}getRolesDropdown(){this.usersService.getDropdownField("Roles").subscribe({next:t=>{this.rolesDropdown=t.data,console.log("rolesDropdown =>"),console.log(this.rolesDropdown)},error:t=>{console.log(t)}})}selectMultiItems(t){console.log(t),console.log(this.selectedMulti),this.selectedMulti=t.value}saveRoles(t){console.clear(),console.log(t),console.log(this.selectedMulti);let o=[];this.selectedMulti.forEach(n=>{o.push(n.id)}),console.log(o),this.usersService.assignRoles(t,o).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Role assigned successfully",life:3e3}),this.productDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n),this.productDialog=!1}}),o=[]}editProductLock(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.productLockDialog=!0,this.product={...o.data},this.locked=this.product.isLocked},error:o=>{console.log(o)}}),console.log(t.id)}saveLock(t){this.usersService.updateUserLocked({isLocked:this.locked,userId:t}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Lock Updated Successfully",life:3e3}),this.productLockDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}submitChangePassForm(t,o){console.log(t),"VALID"==o.status&&this.usersService.changePassword(t,o.value).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"You Changed Password Successfully",life:3e3}),this.changePassDialog=!1},error:n=>{console.log(n)}})}hideDialogPassword(){this.changePassDialog=!1}hideDialogLock(){this.productLockDialog=!1}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Yi),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-users"]],viewQuery:function(o,n){if(1&o&&e.GBs(Bi,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:50,vars:70,consts:[["dt",""],[4,"ngIf"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[3,"submit","formGroup"],[1,"field"],["for","password"],["pInputText","","type","password","formControlName","password",3,"placeholder"],["class","error",4,"ngIf"],["for","rePassword"],["pInputText","","type","password","formControlName","rePassword",3,"placeholder"],[1,"actions"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"table-data-container"],[1,"roles-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","p-button-secondary",3,"click"],[1,"lock-container"],[3,"ngModelChange","ngModel","disabled"],["pButton","","pRipple","",1,"p-button-outlined","p-button-secondary","changePassBtn",3,"click"],[1,"rolesForm",3,"formGroup"],["for","roles"],["formControlName","roles","placeholder","Select Roles","optionLabel","name","display","chip",1,"multiselect-custom",3,"ngModelChange","onChange","ngModel","options"],["pTemplate","item"],[1,"btns"],["type","button","pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["type","submit","pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","disabled","label"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"error"],[3,"formGroup"],[1,"field","locked-container"],["for","locked"],[1,"field","field-locked"],["id","locked","formControlName","locked",3,"ngModelChange","ngModel"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ai,1,0,"pre-loading",1),e.j41(2,"p-toolbar",2),e.DNE(3,Ji,2,4,"ng-template",3),e.k0s(),e.j41(4,"p-table",4,0),e.nI1(6,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(7,qi,8,7,"ng-template",5)(8,Oi,33,30,"ng-template",6)(9,Xi,48,41,"ng-template",7),e.k0s(),e.j41(10,"p-dialog",8),e.nI1(11,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(12,Ui,12,13,"ng-template",9),e.k0s(),e.j41(13,"p-dialog",10),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(14,"div",11),e.nrm(15,"i",12),e.DNE(16,zi,5,1,"span",1),e.k0s(),e.DNE(17,Wi,2,0,"ng-template",13),e.k0s(),e.j41(18,"p-dialog",10),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(19,"div",11),e.nrm(20,"i",12),e.j41(21,"span"),e.EFF(22,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(23,Qi,2,0,"ng-template",13),e.k0s(),e.j41(24,"p-dialog",8),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.changePassDialog,i)||(n.changePassDialog=i),e.Njj(i)}),e.j41(26,"form",14),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitChangePassForm(n.userId,n.changePassForm))}),e.j41(27,"div",15)(28,"label",16),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.nrm(31,"input",17),e.nI1(32,"translate"),e.DNE(33,er,3,2,"div",18),e.k0s(),e.j41(34,"div",15)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"input",20),e.nI1(39,"translate"),e.DNE(40,or,3,2,"div",18),e.k0s(),e.DNE(41,ar,4,3,"div",18),e.j41(42,"div",21)(43,"button",22),e.nI1(44,"translate"),e.bIt("click",function(){return e.eBV(l),e.Njj(n.hideDialogPassword())}),e.k0s(),e.nrm(45,"button",23),e.nI1(46,"translate"),e.k0s()()(),e.j41(47,"p-dialog",8),e.nI1(48,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productLockDialog,i)||(n.productLockDialog=i),e.Njj(i)}),e.DNE(49,lr,12,12,"ng-template",9),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(6,45,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(65,Xe)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(11,47,"User Roles"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(66,Xe)),e.R50("visible",n.deleteProductDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(67,Xe)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(6),e.Aen(e.lJ4(68,Xe)),e.R50("visible",n.changePassDialog),e.Y8G("header",e.bMT(25,49,"User Password"))("modal",!0),e.R7$(2),e.Y8G("formGroup",n.changePassForm),e.R7$(3),e.JRh(e.bMT(30,51,"Password")),e.R7$(2),e.Y8G("placeholder",e.bMT(32,53,"Enter New Password")),e.R7$(2),e.Y8G("ngIf",n.changePassForm.get("password").invalid&&(n.changePassForm.get("password").touched||n.changePassForm.get("password").dirty)),e.R7$(3),e.JRh(e.bMT(37,55,"Confirm Password")),e.R7$(2),e.Y8G("placeholder",e.bMT(39,57,"Confirm New Password")),e.R7$(2),e.Y8G("ngIf",n.changePassForm.get("rePassword").invalid&&(n.changePassForm.get("rePassword").touched||n.changePassForm.get("rePassword").dirty)),e.R7$(),e.Y8G("ngIf",(null==n.changePassForm.errors?null:n.changePassForm.errors.passwordMismatch)&&(n.changePassForm.touched||n.changePassForm.dirty)),e.R7$(2),e.Y8G("label",e.bMT(44,59,"Cancel")),e.R7$(2),e.Y8G("disabled",!n.changePassForm.valid)("label",e.bMT(46,61,"Save")),e.R7$(2),e.Aen(e.lJ4(69,Xe)),e.R50("visible",n.productLockDialog),e.Y8G("header",e.bMT(48,63,"User Lock"))("modal",!0))},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,tt.KF,ae.HW,G.m],styles:[".roles-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.roles-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;border:1px solid #ecb100;border-radius:8px;-webkit-user-select:none;user-select:none}.p-button[_ngcontent-%COMP%]{gap:0!important}.table-data-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;justify-content:center}.changePassBtn[_ngcontent-%COMP%]{min-width:max-content}.lock-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}.locked-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.field-locked[_ngcontent-%COMP%]{margin-bottom:0}.actions[_ngcontent-%COMP%]{display:flex;width:200px;margin-top:2rem;align-items:center}  .error{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}  div[role=dialog]{box-shadow:none}  div[role=dialog]:has(.rolesForm){height:50%}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td.p-frozen-column{background-color:#fff;z-index:1}"]})}}return a})(),rr=(()=>{class a extends E.${constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMissionTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getMissionType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}addExternalMissonRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}deleteExternalMissonById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var ee=R(5473);const cr=["dt"],Ft=()=>({width:"450px"}),ke=a=>({"null-color":a}),pr=(a,c,t,o)=>({"pending-missionType":a,"accepted-missionType":c,"rejected-missionType":t,"complete-missionType":o}),dr=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t});function mr(a,c){1&a&&e.nrm(0,"pre-loading")}function ur(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",50)(1,"button",51),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",52),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function hr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",53),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gr(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",54)(1,"h5",55),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",56),e.nrm(5,"i",57),e.j41(6,"input",58),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function _r(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",59),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",60),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",61),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,11,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,13,"Day Count")),e.R7$(3),e.JRh(e.bMT(12,15,"Date From")),e.R7$(3),e.JRh(e.bMT(15,17,"Date To")),e.R7$(3),e.JRh(e.bMT(18,19,"Misson Type")),e.R7$(3),e.JRh(e.bMT(21,21,"Response")),e.R7$(3),e.JRh(e.bMT(24,23,"Location")),e.R7$(3),e.JRh(e.bMT(27,25,"Change Status")),e.R7$(3),e.JRh(e.bMT(30,27,"creatorName")),e.R7$(3),e.JRh(e.bMT(33,29,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(36,31,"Actions")))}function br(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",62),e.k0s(),e.j41(3,"td",63)(4,"span",64),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",65)(8,"span",64),e.EFF(9,"dayCount"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",63)(12,"span",64),e.EFF(13,"fromDay"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",63)(17,"span",64),e.EFF(18,"toDay"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",63)(22,"span"),e.EFF(23),e.k0s()(),e.j41(24,"td",63)(25,"span"),e.EFF(26),e.k0s()(),e.j41(27,"td",63)(28,"span",64),e.EFF(29,"location"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td")(32,"div",66)(33,"button",67),e.nI1(34,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changeStatus(n))}),e.k0s()()(),e.j41(35,"td",63)(36,"span",64),e.EFF(37,"creatorName"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td",63)(40,"span",64),e.EFF(41,"lastModifierName"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"td")(44,"div",66)(45,"button",68),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(30,ke,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,ke,!t.dayCount)),e.R7$(3),e.SpI(" ",t.dayCount?t.dayCount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,ke,!t.fromDay)),e.R7$(3),e.SpI(" ",e.i5U(15,22,t.fromDay,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(36,ke,!t.toDay)),e.R7$(3),e.SpI(" ",e.i5U(20,25,t.toDay,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.ziG(38,pr,0==(null==t?null:t.missionType),1==(null==t?null:t.missionType),2==(null==t?null:t.missionType),3==(null==t?null:t.missionType))),e.R7$(2),e.SpI(" ",t.missionTypeName," "),e.R7$(),e.Y8G("ngClass",e.sMw(43,dr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.R7$(2),e.SpI(" ",t.requestTypeValue," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,ke,!t.location)),e.R7$(3),e.SpI(" ",t.location?t.location:""," "),e.R7$(3),e.Y8G("label",e.bMT(34,28,"Change Status"))("disabled",0!==(null==t?null:t.requestType)),e.R7$(2),e.Y8G("ngClass",e.eq3(49,ke,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,ke,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(3),e.Y8G("disabled",0!==t.requestType)}}function fr(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",69),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveStatus(n.changeStatusForm,n.product))}),e.j41(1,"div",70)(2,"label",71),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",72),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.print(n.changeStatusForm))}),e.k0s()(),e.j41(7,"div",70)(8,"div",73),e.nrm(9,"button",74),e.nI1(10,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.changeStatusForm),e.R7$(3),e.JRh(e.bMT(4,7,"All Status")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"Select Status")),e.Y8G("options",t.all_Status_DropDown),e.R50("ngModel",t.selectedStatus),e.R7$(4),e.FS9("label",e.bMT(10,11,"Save")),e.Y8G("disabled",t.changeStatusForm.invalid)}}function Fr(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.JRh(t.product.name)}}function Ir(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product))}),e.k0s()}}function Rr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}const yr=a=>{const c=a.get("fromDay")?.value,t=a.get("toDay")?.value;return c&&!t||!c&&t?{dateRangeIncomplete:!0}:null};let Cr=(()=>{class a{constructor(t,o,n,l,r){this.externalMissonService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.gE({EmployeeId:new s.MJ(null),MangerId:new s.MJ(null),DateFrom:new s.MJ(null),DateTo:new s.MJ(null),RequestType:new s.MJ(null)}),this.changeStatusForm=new s.gE({Status:new s.MJ(null,s.k0.required)}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),reason:new s.MJ(null,[s.k0.required]),fromDay:new s.MJ(null,[s.k0.required]),toDay:new s.MJ(null,[s.k0.required]),missionType:new s.MJ(null,[s.k0.required]),location:new s.MJ(null,[s.k0.required])},{validators:yr})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="ExternalMissionRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.externalMissonService.setCulture(t),this.externalMissonService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDowns(){this.externalMissonService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getMissionTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsMissionTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeStatus(t){this.externalMissonService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?this.externalMissonService.deleteExternalMissonById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"External Misson Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,missionType:this.newMissonTypeId?.id??null,fromDay:this.DatePipe.transform(t.get("fromDay")?.value??null,"yyyy-MM-dd"),toDay:this.DatePipe.transform(t.get("toDay")?.value??null,"yyyy-MM-dd")}),"VALID"==t.status&&this.externalMissonService.addExternalMissonRequest(t.value).subscribe({next:o=>{console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"External Mission Added Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]);i.sortType=this.sortOrder,this.externalMissonService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.externalMissonService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const l=this.mapToFormData(n);this.externalMissonService.changeStatus(l).subscribe({next:r=>{r.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(t.value);const i={...Object.fromEntries(Object.entries(o).filter(([J,L])=>null!==L)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t);const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]),"VALID"==t.status&&this.externalMissonService.GetPage(d).subscribe({next:J=>{this.allData=J.data,console.log(J.data)},error:J=>{console.log(J)}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(rr),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-external-misson"]],viewQuery:function(o,n){if(1&o&&e.GBs(cr,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:112,vars:140,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"ngModelChange","options","ngModel","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","RequestType"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],[3,"submit","formGroup"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","options","ngModel","placeholder"],["optionLabel","name","formControlName","missionType",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","fromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","toDay",3,"showIcon","iconDisplay","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","location",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text","formControlName","reason",3,"ngModelChange","ngModel","placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click","disabled"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"ngModelChange","options","ngModel","placeholder"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,mr,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.j41(5,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",11),e.nI1(15,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedEmployee,i)||(n.selectedEmployee=i),e.Njj(i)}),e.k0s()(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"p-calendar",14),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",12)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-calendar",16),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",12)(29,"label",17),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"p-dropdown",18),e.nI1(33,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedManager,i)||(n.selectedManager=i),e.Njj(i)}),e.k0s()(),e.j41(34,"div",12)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"p-dropdown",20),e.nI1(39,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedRequstType,i)||(n.selectedRequstType=i),e.Njj(i)}),e.k0s()(),e.j41(40,"div",21)(41,"div",22)(42,"button",23),e.nrm(43,"i",24),e.j41(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()()()()(),e.j41(47,"p-toolbar",25),e.DNE(48,ur,5,7,"ng-template",26)(49,hr,2,4,"ng-template",27),e.k0s(),e.j41(50,"p-dialog",28),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.j41(52,"form",29),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.addNew(n.addNewForm))}),e.j41(53,"div",22)(54,"label",30),e.EFF(55),e.nI1(56,"translate"),e.k0s(),e.j41(57,"p-dropdown",31),e.nI1(58,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newEmplyeeId,i)||(n.newEmplyeeId=i),e.Njj(i)}),e.k0s()(),e.j41(59,"div",22)(60,"label",30),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"p-dropdown",32),e.nI1(64,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newMissonTypeId,i)||(n.newMissonTypeId=i),e.Njj(i)}),e.k0s()(),e.j41(65,"div",22)(66,"label",33),e.EFF(67),e.nI1(68,"translate"),e.k0s(),e.nrm(69,"p-calendar",34),e.nI1(70,"translate"),e.k0s(),e.j41(71,"div",22)(72,"label",33),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.nrm(75,"p-calendar",35),e.nI1(76,"translate"),e.k0s(),e.j41(77,"div",22)(78,"label",36),e.EFF(79),e.nI1(80,"translate"),e.k0s(),e.j41(81,"input",37),e.nI1(82,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.location,i)||(n.location=i),e.Njj(i)}),e.k0s()(),e.j41(83,"div",22)(84,"label",38),e.EFF(85),e.nI1(86,"translate"),e.k0s(),e.j41(87,"textarea",39),e.nI1(88,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.reason,i)||(n.reason=i),e.Njj(i)}),e.k0s()(),e.j41(89,"div",22),e.nrm(90,"button",40),e.nI1(91,"translate"),e.k0s()()(),e.j41(92,"p-table",41,0),e.nI1(94,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(95,gr,8,7,"ng-template",42)(96,_r,37,33,"ng-template",43)(97,br,46,53,"ng-template",44),e.k0s(),e.j41(98,"p-dialog",28),e.nI1(99,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(100,fr,11,13,"ng-template",45),e.k0s(),e.j41(101,"p-dialog",46),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(102,"div",47),e.nrm(103,"i",48),e.DNE(104,Fr,5,1,"span",1),e.k0s(),e.DNE(105,Ir,2,0,"ng-template",49),e.k0s(),e.j41(106,"p-dialog",46),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(107,"div",47),e.nrm(108,"i",48),e.j41(109,"span"),e.EFF(110,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(111,Rr,2,0,"ng-template",49),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,80,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,82,"Employee")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployees),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(15,84,"Enter Employee Name Here")),e.R7$(4),e.SpI(" ",e.bMT(19,86,"From"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(21,88,"From")),e.R7$(4),e.SpI(" ",e.bMT(25,90,"To"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(27,92,"To")),e.R7$(4),e.JRh(e.bMT(31,94,"Manager")),e.R7$(2),e.Y8G("options",n.dropdownItemsManagers),e.R50("ngModel",n.selectedManager),e.Y8G("placeholder",e.bMT(33,96,"Enter Manager Name Here")),e.R7$(4),e.JRh(e.bMT(37,98,"Response Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsRequestTypes),e.R50("ngModel",n.selectedRequstType),e.Y8G("placeholder",e.bMT(39,100,"Enter Response Type Here")),e.R7$(7),e.SpI(" ",e.bMT(46,102,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(136,Ft)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(51,104,"Add New"))("modal",!0),e.R7$(2),e.Y8G("formGroup",n.addNewForm),e.R7$(3),e.SpI("",e.bMT(56,106,"Employee Name")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployees),e.R50("ngModel",n.newEmplyeeId),e.Y8G("placeholder",e.bMT(58,108,"Enter Employee Name Here")),e.R7$(4),e.SpI("",e.bMT(62,110,"Mission Type")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsMissionTypes),e.R50("ngModel",n.newMissonTypeId),e.Y8G("placeholder",e.bMT(64,112,"Enter Mission Type Here")),e.R7$(4),e.SpI("",e.bMT(68,114,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(70,116,"From")),e.R7$(4),e.SpI("",e.bMT(74,118,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(76,120,"To")),e.R7$(4),e.JRh(e.bMT(80,122,"Location")),e.R7$(2),e.R50("ngModel",n.location),e.Y8G("placeholder",e.bMT(82,124,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(86,126,"Reason")),e.R7$(2),e.R50("ngModel",n.reason),e.Y8G("placeholder",e.bMT(88,128,"Enter Reason Here")),e.R7$(3),e.Y8G("label",e.bMT(91,130,"Insert New"))("disabled",n.addNewForm.invalid),e.R7$(2),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(94,132,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(137,Ft)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(99,134,"Status"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(138,Ft)),e.R50("visible",n.deleteProductDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(139,Ft)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,ee.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#e2e6eb;border-radius:8px;display:flex;justify-content:center;align-items:center}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#dcfadc;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#d2fcdc;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-missionType[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}button.p-ripple.p-element.p-button-help.change-status-btn.mx-2.px-1.p-button.p-component[_ngcontent-%COMP%]{width:148px;padding:10px;display:flex;justify-content:center}"]})}}return a})(),Tr=(()=>{class a extends E.${constructor(t){super(t)}addVacationRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Add`,t)}deleteVacationRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Mr=["dt"],jr=["fileUpload"],It=()=>({width:"450px"}),ge=a=>({"null-color":a}),kr=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t});function Dr(a,c){1&a&&e.nrm(0,"pre-loading")}function Er(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",53)(1,"button",54),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function Nr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function wr(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",56)(1,"h5",57),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",58),e.nrm(5,"i",59),e.j41(6,"input",60),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function vr(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",61),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",62),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",63),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,12,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,14,"Day Count")),e.R7$(3),e.JRh(e.bMT(12,16,"Date From")),e.R7$(3),e.JRh(e.bMT(15,18,"Date To")),e.R7$(3),e.JRh(e.bMT(18,20,"Vacation Type")),e.R7$(3),e.JRh(e.bMT(21,22,"Response")),e.R7$(3),e.JRh(e.bMT(24,24,"Reason")),e.R7$(3),e.JRh(e.bMT(27,26,"File")),e.R7$(3),e.JRh(e.bMT(30,28,"creatorName")),e.R7$(3),e.JRh(e.bMT(33,30,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(36,32,"change status")),e.R7$(3),e.JRh(e.bMT(39,34,"Actions")))}function Sr(a,c){if(1&a&&(e.j41(0,"a",73),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=e.XpG().$implicit,o=e.XpG();e.Y8G("href",o.baseUrlFile.concat("/",t.fileUrl),e.B4B),e.R7$(),e.JRh(e.bMT(2,2,"View"))}}function Pr(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",64),e.k0s(),e.j41(3,"td",65)(4,"span",66),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",67)(8,"span",66),e.EFF(9,"dayCount"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",65)(12,"span",66),e.EFF(13,"fromDay"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",65)(17,"span",66),e.EFF(18,"toDay"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",68)(22,"span",66),e.EFF(23,"vacationTypeName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",65)(26,"span"),e.EFF(27),e.k0s()(),e.j41(28,"td",65)(29,"span",66),e.EFF(30,"reason"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"td",65)(33,"span",66),e.EFF(34,"fileUrl"),e.k0s(),e.DNE(35,Sr,3,4,"a",69),e.k0s(),e.j41(36,"td",65)(37,"span",66),e.EFF(38,"creatorName"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"td",65)(41,"span",66),e.EFF(42,"lastModifierName"),e.k0s(),e.EFF(43),e.k0s(),e.j41(44,"td")(45,"div",70)(46,"button",71),e.nI1(47,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changeStatus(n))}),e.k0s()()(),e.j41(48,"td")(49,"div",70)(50,"button",72),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(31,ge,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,ge,!t.dayCount)),e.R7$(3),e.SpI(" ",t.dayCount?t.dayCount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,ge,!t.fromDay)),e.R7$(3),e.SpI(" ",e.i5U(15,23,t.fromDay,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(37,ge,!t.toDay)),e.R7$(3),e.SpI(" ",e.i5U(20,26,t.toDay,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(39,ge,!t.vacationTypeName)),e.R7$(3),e.SpI(" ",t.vacationTypeName," "),e.R7$(),e.Y8G("ngClass",e.sMw(41,kr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.R7$(2),e.JRh(t.requestTypeValue),e.R7$(),e.Y8G("ngClass",e.eq3(45,ge,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,ge,!t.fileUrl)),e.R7$(3),e.Y8G("ngIf",t.fileUrl),e.R7$(),e.Y8G("ngClass",e.eq3(49,ge,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,ge,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(3),e.Y8G("label",e.bMT(47,29,"Change Status"))("disabled",0!==(null==t?null:t.requestType))}}function xr(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",74),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveStatus(n.changeStatusForm,n.product))}),e.j41(1,"div",75)(2,"label",76),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",77),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.print(n.changeStatusForm))}),e.k0s()(),e.j41(7,"div",75)(8,"div",78),e.nrm(9,"button",79),e.nI1(10,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.changeStatusForm),e.R7$(3),e.JRh(e.bMT(4,7,"All Status")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"Select Status")),e.Y8G("options",t.all_Status_DropDown),e.R50("ngModel",t.selectedStatus),e.R7$(4),e.FS9("label",e.bMT(10,11,"Save")),e.Y8G("disabled",t.changeStatusForm.invalid)}}function Gr(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.JRh(t.product.name)}}function $r(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product))}),e.k0s()}}function Vr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",81),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}const Yr=a=>{const c=a.get("FromDay")?.value,t=a.get("ToDay")?.value;return c&&!t||!c&&t?{dateRangeIncomplete:!0}:null};let Br=(()=>{class a{constructor(t,o,n,l,r){this.vacationRequestService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.baseUrlFile=lt.c.mediaUrl,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new s.gE({EmployeeId:new s.MJ(null),MangerId:new s.MJ(null),DateFrom:new s.MJ(null),DateTo:new s.MJ(null),VacationTypeId:new s.MJ(null),RequestType:new s.MJ(null)}),this.changeStatusForm=new s.gE({RequestType:new s.MJ(null,s.k0.required)}),this.addNewForm=new s.gE({EmployeeId:new s.MJ(null,[s.k0.required]),FromDay:new s.MJ(null,[s.k0.required]),ToDay:new s.MJ(null,[s.k0.required]),VacationTypeId:new s.MJ(null,[s.k0.required]),Reason:new s.MJ(null,[s.k0.required]),File:new s.MJ(null)},{validators:Yr})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="VacationRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationRequestService.setCulture(t),this.vacationRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const l=this.mapToFormData(n);this.vacationRequestService.changeStatus(l).subscribe({next:r=>{r.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}changeStatus(t){this.vacationRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}getDropDowns(){this.vacationRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getDropdownField("VacationType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.vacationRequestService.deleteVacationRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Vacation Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({EmployeeId:this.newEmplyeeId?.id??null,VacationTypeId:this.newMissonTypeId?.id??null,File:this.file??null,FromDay:this.DatePipe.transform(t.get("FromDay")?.value??null,"yyyy-MM-dd"),ToDay:this.DatePipe.transform(t.get("ToDay")?.value??null,"yyyy-MM-dd")}),console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);"VALID"==t.status&&this.vacationRequestService.addVacationRequest(o).subscribe({next:n=>{console.log(n.data),n.success&&(this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Vacation Request Sent Successfully",life:3e3}),t.reset(),this.fileUpload.clear(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]);i.sortType=this.sortOrder,this.vacationRequestService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1,console.log(this.selectedItems)},error:F=>{console.log(F),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")};console.log(o);const i={...Object.fromEntries(Object.entries(o).filter(([J,L])=>null!==L)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(i);const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]),"VALID"==t.status&&this.vacationRequestService.GetPage(d).subscribe({next:J=>{this.allData=J.data,console.log(J.data)},error:J=>{console.log(J)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.file=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity()),console.log(o)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Tr),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-vacation-request"]],viewQuery:function(o,n){if(1&o&&(e.GBs(Mr,5),e.GBs(jr,5)),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first),e.mGM(l=e.lsd())&&(n.fileUpload=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:117,vars:147,consts:[["fileUpload",""],["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","VacationTypeId","optionValue","id","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["optionValue","id","formControlName","MangerId","optionLabel","name",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visibleChange","visible","modal"],[3,"submit","formGroup"],["htmlFor","name-en"],["optionLabel","name","formControlName","EmployeeId",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","FromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","ToDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","VacationTypeId",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","Reason",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","formControlName","File",3,"onSelect"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],["class","text-white bg-blue-500 border-none","pButton","","pRipple","",3,"href",4,"ngIf"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","RequestType","showClear","true",3,"ngModelChange","options","ngModel","placeholder"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Dr,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-panel",4),e.nI1(4,"translate"),e.j41(5,"form",5),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",12),e.nI1(15,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedEmployee,i)||(n.selectedEmployee=i),e.Njj(i)}),e.k0s()(),e.j41(16,"div",13)(17,"label",14),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"p-dropdown",15),e.nI1(21,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedVacationType,i)||(n.selectedVacationType=i),e.Njj(i)}),e.k0s()(),e.j41(22,"div",13)(23,"label",16),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-calendar",17),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",13)(29,"label",18),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"p-calendar",19),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",13)(35,"label",20),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"p-dropdown",21),e.nI1(39,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedManager,i)||(n.selectedManager=i),e.Njj(i)}),e.k0s()(),e.j41(40,"div",13)(41,"label",14),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.j41(44,"p-dropdown",22),e.nI1(45,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedRequstType,i)||(n.selectedRequstType=i),e.Njj(i)}),e.k0s()(),e.j41(46,"div",23)(47,"div",24)(48,"button",25),e.nrm(49,"i",26),e.j41(50,"span"),e.EFF(51),e.nI1(52,"translate"),e.k0s()()()()()()()()()(),e.j41(53,"p-toolbar",27),e.DNE(54,Er,3,3,"ng-template",28)(55,Nr,2,4,"ng-template",29),e.k0s(),e.j41(56,"p-dialog",30),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.j41(57,"form",31),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.addNew(n.addNewForm))}),e.j41(58,"div",24)(59,"label",32),e.EFF(60),e.nI1(61,"translate"),e.k0s(),e.j41(62,"p-dropdown",33),e.nI1(63,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newEmplyeeId,i)||(n.newEmplyeeId=i),e.Njj(i)}),e.k0s()(),e.j41(64,"div",24)(65,"label",34),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.nrm(68,"p-calendar",35),e.nI1(69,"translate"),e.k0s(),e.j41(70,"div",24)(71,"label",34),e.EFF(72),e.nI1(73,"translate"),e.k0s(),e.nrm(74,"p-calendar",36),e.nI1(75,"translate"),e.k0s(),e.j41(76,"div",24)(77,"label",32),e.EFF(78),e.nI1(79,"translate"),e.k0s(),e.j41(80,"p-dropdown",37),e.nI1(81,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newMissonTypeId,i)||(n.newMissonTypeId=i),e.Njj(i)}),e.k0s()(),e.j41(82,"div",24)(83,"label",38),e.EFF(84),e.nI1(85,"translate"),e.k0s(),e.j41(86,"input",39),e.nI1(87,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.location,i)||(n.location=i),e.Njj(i)}),e.k0s()(),e.j41(88,"div",24)(89,"label",40),e.EFF(90),e.nI1(91,"translate"),e.k0s(),e.j41(92,"p-fileUpload",41,0),e.bIt("onSelect",function(i){return e.eBV(l),e.Njj(n.onFileSelect(i))}),e.k0s()(),e.j41(94,"div",24),e.nrm(95,"button",42),e.nI1(96,"translate"),e.k0s()()(),e.j41(97,"p-table",43,1),e.nI1(99,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(100,wr,8,7,"ng-template",44)(101,vr,40,36,"ng-template",45)(102,Pr,51,53,"ng-template",46),e.k0s(),e.j41(103,"p-dialog",47),e.nI1(104,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(105,xr,11,13,"ng-template",48),e.k0s(),e.j41(106,"p-dialog",49),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(107,"div",50),e.nrm(108,"i",51),e.DNE(109,Gr,5,1,"span",2),e.k0s(),e.DNE(110,$r,2,0,"ng-template",52),e.k0s(),e.j41(111,"p-dialog",49),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(112,"div",50),e.nrm(113,"i",51),e.j41(114,"span"),e.EFF(115,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(116,Vr,2,0,"ng-template",52),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,87,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,89,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(15,91,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(19,93,"Vacation Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsVacationTypes),e.R50("ngModel",n.selectedVacationType),e.Y8G("placeholder",e.bMT(21,95,"Enter Vacation Type Here")),e.R7$(4),e.SpI(" ",e.bMT(25,97,"From"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(27,99,"From")),e.R7$(4),e.SpI(" ",e.bMT(31,101,"To"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(33,103,"To")),e.R7$(4),e.JRh(e.bMT(37,105,"Manager")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers),e.R50("ngModel",n.selectedManager),e.Y8G("placeholder",e.bMT(39,107,"Enter Manager Name Here")),e.R7$(4),e.JRh(e.bMT(43,109,"Response Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsRequestTypes),e.R50("ngModel",n.selectedRequstType),e.Y8G("placeholder",e.bMT(45,111,"Enter Response Type Here")),e.R7$(7),e.SpI(" ",e.bMT(52,113,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(143,It)),e.R50("visible",n.showFormNew),e.Y8G("modal",!0),e.R7$(),e.Y8G("formGroup",n.addNewForm),e.R7$(3),e.SpI("",e.bMT(61,115,"Employee Name")," "),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees),e.R50("ngModel",n.newEmplyeeId),e.Y8G("placeholder",e.bMT(63,117,"Enter Employee Name Here")),e.R7$(4),e.SpI("",e.bMT(67,119,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(69,121,"From")),e.R7$(4),e.SpI("",e.bMT(73,123,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(75,125,"To")),e.R7$(4),e.SpI("",e.bMT(79,127,"Vacation Type")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsVacationTypes),e.R50("ngModel",n.newMissonTypeId),e.Y8G("placeholder",e.bMT(81,129,"Enter Vacation Type Here")),e.R7$(4),e.JRh(e.bMT(85,131,"Reason")),e.R7$(2),e.R50("ngModel",n.location),e.Y8G("placeholder",e.bMT(87,133,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(91,135,"Attach File")),e.R7$(5),e.Y8G("disabled",n.addNewForm.invalid)("label",e.bMT(96,137,"Insert New")),e.R7$(2),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(99,139,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(144,It)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(104,141,"Status"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(145,It)),e.R50("visible",n.deleteProductDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(146,It)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}}return a})(),Ar=(()=>{class a extends E.${constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}addExecuseRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}deleteExecuseRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Jr=["dt"],Rt=()=>({width:"450px"}),ce=a=>({"null-color":a}),qr=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t});function Or(a,c){1&a&&e.nrm(0,"pre-loading")}function Lr(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",50)(1,"button",51),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function Xr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",52),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Hr(a,c){if(1&a){const t=e.RV6();e.j41(0,"i",53),e.bIt("click",function(n){const l=e.eBV(t).clickCallBack;return e.Njj(l(n))}),e.k0s()}}function Ur(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",54)(1,"h5",55),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",56),e.nrm(5,"i",57),e.j41(6,"input",58),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function zr(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",59),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",60),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",61),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,13,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,15,"Day")),e.R7$(3),e.JRh(e.bMT(12,17,"Start Time")),e.R7$(3),e.JRh(e.bMT(15,19,"End Time")),e.R7$(3),e.JRh(e.bMT(18,21,"Execuse Type")),e.R7$(3),e.JRh(e.bMT(21,23,"Count Hours")),e.R7$(3),e.JRh(e.bMT(24,25,"Response")),e.R7$(3),e.JRh(e.bMT(27,27,"Reason")),e.R7$(3),e.JRh(e.bMT(30,29,"Notes")),e.R7$(3),e.JRh(e.bMT(33,31,"creatorName")),e.R7$(3),e.JRh(e.bMT(36,33,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(39,35,"change status")),e.R7$(3),e.JRh(e.bMT(42,37,"Actions")))}function Wr(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",62),e.k0s(),e.j41(3,"td",63)(4,"span",64),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",65)(8,"span",64),e.EFF(9,"dateOfDay"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",63)(12,"span",64),e.EFF(13,"startTime"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",63)(16,"span",64),e.EFF(17,"endTime"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",63)(20,"span",64),e.EFF(21,"excuesTypeName"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",63)(24,"span",64),e.EFF(25,"countHours"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",63)(28,"span"),e.EFF(29),e.k0s()(),e.j41(30,"td",63)(31,"span",64),e.EFF(32,"reason"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",63)(35,"span",64),e.EFF(36,"notes"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td",63)(39,"span",64),e.EFF(40,"creatorName"),e.k0s(),e.EFF(41),e.k0s(),e.j41(42,"td",63)(43,"span",64),e.EFF(44,"lastModifierName"),e.k0s(),e.EFF(45),e.k0s(),e.j41(46,"td")(47,"div",66)(48,"button",67),e.nI1(49,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changeStatus(n))}),e.k0s()()(),e.j41(50,"td")(51,"div",66)(52,"button",68),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,ce,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,ce,!t.dateOfDay)),e.R7$(3),e.SpI(" ",t.dateOfDay?t.dateOfDay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,ce,!t.startTime)),e.R7$(3),e.SpI(" ",o.transformTime(t.startTime)," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,ce,!t.endTime)),e.R7$(3),e.SpI(" ",o.transformTime(t.endTime)," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,ce,!t.excuesTypeName)),e.R7$(3),e.SpI(" ",t.excuesTypeName," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,ce,!t.countHours)),e.R7$(3),e.SpI(" ",t.countHours," "),e.R7$(),e.Y8G("ngClass",e.sMw(39,qr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.R7$(2),e.JRh(t.requestTypeValue),e.R7$(),e.Y8G("ngClass",e.eq3(43,ce,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,ce,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,ce,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(49,ce,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(3),e.Y8G("label",e.bMT(49,25,"Change Status"))("disabled",0!==(null==t?null:t.requestType))}}function Qr(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",69),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveStatus(n.changeStatusForm,n.product))}),e.j41(1,"div",70)(2,"label",71),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",72),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.print(n.changeStatusForm))}),e.k0s()(),e.j41(7,"div",70)(8,"div",73),e.nrm(9,"button",74),e.nI1(10,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.changeStatusForm),e.R7$(3),e.JRh(e.bMT(4,7,"All Status")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"Select Status")),e.Y8G("options",t.all_Status_DropDown),e.R50("ngModel",t.selectedStatus),e.R7$(4),e.FS9("label",e.bMT(10,11,"Save")),e.Y8G("disabled",t.changeStatusForm.invalid)}}function Kr(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete "),e.j41(2,"b"),e.EFF(3),e.k0s(),e.EFF(4,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(3),e.JRh(t.product.name)}}function Zr(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product))}),e.k0s()}}function ec(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let tc=(()=>{class a{constructor(t,o,n,l,r){this.execuseRequestService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.baseUrlFile=lt.c.mediaUrl,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.reason="",this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new s.gE({EmployeeId:new s.MJ(null),MangerId:new s.MJ(null),DateFrom:new s.MJ(null),DateTo:new s.MJ(null),RequestType:new s.MJ(null)}),this.changeStatusForm=new s.gE({Status:new s.MJ(null,s.k0.required)}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),dateOfDay:new s.MJ(null,[s.k0.required]),excuesTypeId:new s.MJ(null,[s.k0.required]),startTime:new s.MJ(null,[s.k0.required]),reason:new s.MJ(null,[s.k0.required])})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="ExcuesRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseRequestService.setCulture(t),this.execuseRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Accepted"},{id:2,name:"Rejected"}]:[{id:0,name:"\u0627\u0646\u062a\u0638\u0627\u0631"},{id:1,name:"\u0645\u0648\u0627\u0641\u0642\u0629"},{id:2,name:"\u0645\u0631\u0641\u0648\u0636"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const l=this.mapToFormData(n);this.execuseRequestService.changeStatus(l).subscribe({next:r=>{r.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}getDropDowns(){this.execuseRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getDropdownField("ExcuesType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeStatus(t){this.execuseRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.execuseRequestService.deleteExecuseRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Execuse Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,excuesTypeId:this.newMissonTypeId?.id??null,dateOfDay:this.DatePipe.transform(t.get("dateOfDay")?.value??null,"yyyy-MM-dd"),startTime:t.get("startTime")?.value.toLocaleTimeString("en-US",{hour12:!1})}),console.log(t),"VALID"==t.status&&this.execuseRequestService.addExecuseRequest(t.value).subscribe({next:o=>{o.success&&(console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}),t.patchValue({startTime:null,reason:null})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]);i.sortType=this.sortOrder,this.execuseRequestService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(o),console.log(t.value);const i={...Object.fromEntries(Object.entries(o).filter(([J,L])=>null!==L)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(i);const d=new FormData;for(const F in i)i.hasOwnProperty(F)&&d.append(F,i[F]),"VALID"==t.status&&this.execuseRequestService.GetPage(d).subscribe({next:J=>{this.allData=J.data,console.log(J.data)},error:J=>{console.log(J)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}transformTime(t){if(!t)return null;const[o,n,l]=t.split(":"),[r,i]=l.split("."),d=new Date;return d.setHours(+o),d.setMinutes(+n),d.setSeconds(+r),d.setMilliseconds(i?+i.slice(0,3):0),this.DatePipe.transform(d,"h:mm:ss a")}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ar),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-execuse-request"]],viewQuery:function(o,n){if(1&o&&e.GBs(Jr,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:106,vars:137,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"ngModelChange","showClear","filter","filterBy","options","ngModel","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"iconDisplay","showIcon","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"iconDisplay","showIcon","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["htmlFor","RequestType"],["formControlName","RequestType","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],[3,"submit","formGroup"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","dateOfDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","excuesTypeId",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","new-notes"],["inputId","templatedisplay","placeholder","00:00","formControlName","startTime",1,"timeInput",3,"iconDisplay","showIcon","timeOnly"],["pTemplate","inputicon"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","reason",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"pi","pi-clock","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"ngModelChange","options","ngModel","placeholder"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Or,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.j41(5,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",11),e.nI1(15,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedEmployee,i)||(n.selectedEmployee=i),e.Njj(i)}),e.k0s()(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"p-calendar",14),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",12)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-calendar",16),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",12)(29,"label",17),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"p-dropdown",18),e.nI1(33,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedManager,i)||(n.selectedManager=i),e.Njj(i)}),e.k0s()(),e.j41(34,"div",12)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"p-dropdown",20),e.nI1(39,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedRequstType,i)||(n.selectedRequstType=i),e.Njj(i)}),e.k0s()(),e.j41(40,"div",21)(41,"div",22)(42,"button",23),e.nrm(43,"i",24),e.j41(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()()()()(),e.j41(47,"p-toolbar",25),e.DNE(48,Lr,3,3,"ng-template",26)(49,Xr,2,4,"ng-template",27),e.k0s(),e.j41(50,"p-dialog",28),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.j41(52,"form",29),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.addNew(n.addNewForm))}),e.j41(53,"div",22)(54,"label",30),e.EFF(55),e.nI1(56,"translate"),e.k0s(),e.j41(57,"p-dropdown",31),e.nI1(58,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newEmplyeeId,i)||(n.newEmplyeeId=i),e.Njj(i)}),e.k0s()(),e.j41(59,"div",22)(60,"label",32),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.nrm(63,"p-calendar",33),e.nI1(64,"translate"),e.k0s(),e.j41(65,"div",22)(66,"label",30),e.EFF(67),e.nI1(68,"translate"),e.k0s(),e.j41(69,"p-dropdown",34),e.nI1(70,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.newMissonTypeId,i)||(n.newMissonTypeId=i),e.Njj(i)}),e.k0s()(),e.j41(71,"div",22)(72,"label",35),e.EFF(73),e.nI1(74,"translate"),e.k0s(),e.j41(75,"p-calendar",36),e.DNE(76,Hr,1,0,"ng-template",37),e.k0s()(),e.j41(77,"div",22)(78,"label",38),e.EFF(79),e.nI1(80,"translate"),e.k0s(),e.nrm(81,"input",39),e.nI1(82,"translate"),e.k0s(),e.j41(83,"div",22),e.nrm(84,"button",40),e.nI1(85,"translate"),e.k0s()()(),e.j41(86,"p-table",41,0),e.nI1(88,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(89,Ur,8,7,"ng-template",42)(90,zr,43,39,"ng-template",43)(91,Wr,53,51,"ng-template",44),e.k0s(),e.j41(92,"p-dialog",28),e.nI1(93,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(94,Qr,11,13,"ng-template",45),e.k0s(),e.j41(95,"p-dialog",46),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(96,"div",47),e.nrm(97,"i",48),e.DNE(98,Kr,5,1,"span",1),e.k0s(),e.DNE(99,Zr,2,0,"ng-template",49),e.k0s(),e.j41(100,"p-dialog",46),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(101,"div",47),e.nrm(102,"i",48),e.j41(103,"span"),e.EFF(104,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(105,ec,2,0,"ng-template",49),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,83,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,85,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(15,87,"Enter Employee Name Here")),e.R7$(4),e.SpI(" ",e.bMT(19,89,"From"),""),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(21,91,"From")),e.R7$(4),e.SpI(" ",e.bMT(25,93,"To"),""),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(27,95,"To")),e.R7$(4),e.JRh(e.bMT(31,97,"Manager")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers),e.R50("ngModel",n.selectedManager),e.Y8G("placeholder",e.bMT(33,99,"Enter Manager Name Here")),e.R7$(4),e.JRh(e.bMT(37,101,"Response Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsRequestTypes),e.R50("ngModel",n.selectedRequstType),e.Y8G("placeholder",e.bMT(39,103,"Enter Response Type Here")),e.R7$(7),e.SpI(" ",e.bMT(46,105,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(133,Rt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(51,107,"Add New"))("modal",!0),e.R7$(2),e.Y8G("formGroup",n.addNewForm),e.R7$(3),e.SpI("",e.bMT(56,109,"Employee Name")," "),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees),e.R50("ngModel",n.newEmplyeeId),e.Y8G("placeholder",e.bMT(58,111,"Enter Employee Name Here")),e.R7$(4),e.SpI("",e.bMT(62,113,"Date")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(64,115,"MM/DD/YYYY")),e.R7$(4),e.SpI("",e.bMT(68,117,"Execuse Type")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsVacationTypes),e.R50("ngModel",n.newMissonTypeId),e.Y8G("placeholder",e.bMT(70,119,"Enter Execuse Type Here")),e.R7$(4),e.JRh(e.bMT(74,121,"Start Time")),e.R7$(2),e.Y8G("iconDisplay","input")("showIcon",!0)("timeOnly",!0),e.R7$(4),e.JRh(e.bMT(80,123,"Reason")),e.R7$(2),e.Y8G("placeholder",e.bMT(82,125,"Enter Reason Here")),e.R7$(3),e.Y8G("label",e.bMT(85,127,"Insert New"))("disabled",n.addNewForm.invalid),e.R7$(2),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(88,129,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(134,Rt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(93,131,"Status"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(135,Rt)),e.R50("visible",n.deleteProductDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(136,Rt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}}return a})(),kn=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const nc=["dt"],yt=()=>({width:"450px"}),Ge=a=>({"null-color":a}),oc=a=>({"ng-invalid ng-dirty":a});function ac(a,c){1&a&&e.nrm(0,"pre-loading")}function lc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function sc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ic(a,c){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"div",41)(2,"label",42),e.EFF(3),e.k0s(),e.nrm(4,"input",43),e.j41(5,"button",44),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.removeRequirement(n))}),e.k0s()()()}if(2&a){const t=c.index;e.R7$(),e.Y8G("formGroupName",t),e.R7$(),e.Y8G("for","requirement-"+t),e.R7$(),e.SpI("Requirement ",t+1,":"),e.R7$(),e.Y8G("id","requirement-"+t)}}function rc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",21)(1,"span",22),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showFormNew=!1)}),e.k0s()(),e.j41(5,"form",24),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.jobForm))}),e.j41(6,"div",25)(7,"label",26),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.nrm(10,"input",27),e.nI1(11,"translate"),e.k0s(),e.j41(12,"div",25)(13,"label",28),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.nrm(16,"input",29),e.nI1(17,"translate"),e.k0s(),e.j41(18,"div",30)(19,"label",31),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.nrm(22,"p-inputSwitch",32),e.k0s(),e.j41(23,"div",25)(24,"label",33),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.nrm(27,"p-calendar",34),e.nI1(28,"translate"),e.k0s(),e.j41(29,"div",35),e.DNE(30,ic,6,4,"div",36),e.k0s(),e.j41(31,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addRequirement())}),e.k0s(),e.j41(32,"div",25)(33,"label",38),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.nrm(36,"textarea",39),e.nI1(37,"translate"),e.k0s(),e.j41(38,"div",25),e.nrm(39,"button",40),e.nI1(40,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,18,"Add New")),e.R7$(3),e.Y8G("formGroup",t.jobForm),e.R7$(3),e.SpI("",e.bMT(9,20,"Name Of Job")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(11,22,"Enter Name Of Job Here")),e.R7$(4),e.SpI("",e.bMT(15,24,"Job Description")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(17,26,"Enter Description Here")),e.R7$(4),e.SpI("",e.bMT(21,28,"Status")," "),e.R7$(5),e.JRh(e.bMT(26,30,"Date")),e.R7$(2),e.Y8G("showTime",!0)("showSeconds",!0)("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(28,32,"MM/DD/YYYY")),e.R7$(3),e.Y8G("ngForOf",t.jobRequirements.controls),e.R7$(4),e.JRh(e.bMT(35,34,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(37,36,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(40,38,"Insert New"))("disabled",t.jobForm.invalid)}}function cc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",45)(1,"h5",46),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",47),e.nrm(5,"i",48),e.j41(6,"input",49),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function pc(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",50),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",51),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",52),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,7,"nameOfJob")," "),e.R7$(4),e.JRh(e.bMT(9,9,"Date")),e.R7$(3),e.JRh(e.bMT(12,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(15,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(18,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(21,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(24,19,"Actions")))}function dc(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editJob(n))}),e.j41(1,"td")(2,"p-tableCheckbox",54),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())}),e.k0s()(),e.j41(3,"td",55)(4,"span",56),e.EFF(5,"nameOfJob"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",55)(8,"span",56),e.EFF(9,"date"),e.k0s(),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"td",55)(13,"span",56),e.EFF(14,"creationTime"),e.k0s(),e.EFF(15),e.nI1(16,"date"),e.k0s(),e.j41(17,"td",55)(18,"span",56),e.EFF(19,"lastModificationTime"),e.k0s(),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.j41(22,"td",55)(23,"span",56),e.EFF(24,"creatorName"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"td",55)(27,"span",56),e.EFF(28,"lastModifierName"),e.k0s(),e.EFF(29),e.k0s(),e.j41(30,"td")(31,"div",57)(32,"button",58),e.bIt("click",function(n){const l=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.deleteProduct(l,n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(22,Ge,!t.nameOfJob)),e.R7$(3),e.SpI(" ",t.nameOfJob?t.nameOfJob:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,Ge,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(11,13,t.date,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,Ge,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(16,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(28,Ge,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(21,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(30,Ge,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,Ge,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function mc(a,c){1&a&&(e.j41(0,"small",70),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function uc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"label",59),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",60),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.nameOfJob,n)||(l.product.nameOfJob=n),e.Njj(n)}),e.k0s(),e.DNE(5,mc,3,3,"small",61),e.k0s(),e.j41(6,"div",25)(7,"label",62),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",63),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.DateEdit,n)||(l.DateEdit=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",25)(13,"label",64),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"textarea",65),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.description,n)||(l.product.description=n),e.Njj(n)}),e.k0s()(),e.j41(17,"div",25)(18,"label",66),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"textarea",67),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.requirment,n)||(l.product.requirment=n),e.Njj(n)}),e.k0s()(),e.j41(22,"div",25)(23,"label",68),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"textarea",69),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,16,"Name Of Job")),e.R7$(2),e.R50("ngModel",t.product.nameOfJob),e.Y8G("ngClass",e.eq3(28,oc,t.submitted&&!t.product.nameOfJob)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.nameOfJob),e.R7$(3),e.JRh(e.bMT(9,18,"Date")),e.R7$(2),e.R50("ngModel",t.DateEdit),e.Y8G("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("placeholder",e.bMT(11,20,"MM/DD/YYYY")),e.R7$(4),e.JRh(e.bMT(15,22,"Description")),e.R7$(2),e.R50("ngModel",t.product.description),e.R7$(3),e.JRh(e.bMT(20,24,"Requirment")),e.R7$(2),e.R50("ngModel",t.product.requirment),e.R7$(3),e.JRh(e.bMT(25,26,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes)}}function hc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",71),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",72),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function gc(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function _c(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",71),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",72),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function bc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",71),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",72),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let fc=(()=>{class a{constructor(t,o,n,l,r,i,d){this._InternalJobService=t,this.messageService=o,this.DatePipe=n,this.fb=l,this.translate=r,this.datePipe=i,this.router=d,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="InternalJob",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._InternalJobService.setCulture(t),this._InternalJobService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"nameOfJob",header:"NameOfJob"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.jobForm=this.fb.group({nameOfJob:new s.MJ(null,s.k0.required),description:new s.MJ(null,s.k0.required),status:new s.MJ(!1,s.k0.required),notes:new s.MJ(null),date:new s.MJ(null,s.k0.required),jobRequirements:this.fb.array([this.createRequirement()])}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}editProduct(t){console.log(t.id),this._InternalJobService.GetById(t.id).subscribe({next:o=>{this.product={...o.data},this.productDialog=!0,console.log(o.data),this.DateEdit=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}confirmDelete(t){this._InternalJobService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){t.patchValue({date:this.datePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss"),status:t.get("status").value?1:0}),console.log(t),this._InternalJobService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.nameOfJob=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._InternalJobService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.product.date=this.DatePipe.transform(this.DateEdit,"yyyy-MM-ddTHH:mm:ss"),this._InternalJobService.Edit({id:o.id,nameOfJob:o.nameOfJob,notes:o.notes,description:o.description,requirment:o.requirment,date:o.date}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:l=>{console.log(l)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._InternalJobService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="nameOfJob"}createRequirement(){return this.fb.group({requirement:new s.MJ(null,[s.k0.required])})}addRequirement(){this.jobForm.get("jobRequirements").push(this.createRequirement())}removeRequirement(t){this.jobForm.get("jobRequirements").removeAt(t)}get jobRequirements(){return this.jobForm.get("jobRequirements")}editJob(t){t.id&&this.router.navigate(["/info/InternalJobs/edit",t.id])}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(kn),e.rXU(m.bg),e.rXU(u.vh),e.rXU(s.ok),e.rXU(_.c$),e.rXU(u.vh),e.rXU(U.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-internal-jobs"]],viewQuery:function(o,n){if(1&o&&e.GBs(nc,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:31,vars:43,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"custom-header","flex","justify-content-between","align-items-center"],[1,"text"],["type","button","pButton","","icon","pi pi-times",1,"p-button-text","p-button-sm",3,"click"],[3,"submit","formGroup"],[1,"field"],["htmlFor","nameOfJob"],["pInputText","","id","nameOfJob","formControlName","nameOfJob","type","text",3,"placeholder"],["htmlFor","description"],["pInputText","","id","description","formControlName","description","type","text",3,"placeholder"],[1,"field","field-switch"],["htmlFor","status"],["id","status","formControlName","status"],["htmlFor","newDate"],["formControlName","date","inputId","newDate",3,"showTime","showSeconds","iconDisplay","showIcon","placeholder"],["formArrayName","jobRequirements",1,"requirements-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button","p-button-text","p-button-success","w-fit",3,"click"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"field",3,"formGroupName"],[3,"for"],["pInputText","","formControlName","requirement","placeholder","Enter Requirement",3,"id"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button","p-button-text","p-button-danger","w-fit",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","nameOfJob"],[1,"tableRow",3,"click"],[3,"click","value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations","justify-content-center"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","nameOfJob"],["type","text","pInputText","","id","nameOfJob","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","DateEdit"],["inputId","DateEdit",3,"ngModelChange","ngModel","iconDisplay","showIcon","showSeconds","placeholder"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","requirment"],["id","requirment","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,ac,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,lc,5,7,"ng-template",4)(5,sc,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(7,rc,41,40,"ng-template",7),e.k0s(),e.j41(8,"p-table",8,0),e.nI1(10,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(11,cc,8,7,"ng-template",9)(12,pc,25,21,"ng-template",10)(13,dc,33,34,"ng-template",11),e.k0s(),e.j41(14,"p-dialog",12),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(15,uc,27,30,"ng-template",7)(16,hc,4,6,"ng-template",13),e.k0s(),e.j41(17,"p-dialog",14),e.nI1(18,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(19,"div",15),e.nrm(20,"i",16),e.DNE(21,gc,6,4,"span",1),e.k0s(),e.DNE(22,_c,4,6,"ng-template",13),e.k0s(),e.j41(23,"p-dialog",14),e.nI1(24,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",15),e.nrm(26,"i",16),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,bc,4,6,"ng-template",13),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(39,yt)),e.R50("visible",n.showFormNew),e.Y8G("modal",!0),e.R7$(2),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(10,31,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(40,yt)),e.R50("visible",n.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(41,yt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(18,33,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(42,yt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(24,35,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(29,37,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,s.$R,s.v8,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,W.Vv,ae.HW,G.m],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.requirements-container[_ngcontent-%COMP%]{max-height:150px;overflow:auto}.requirements-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:8px}.tableRow[_ngcontent-%COMP%]{cursor:pointer}  .p-dialog .p-dialog-header{display:none}  .p-dialog .custom-header{padding:20px 0}  .p-dialog .custom-header span.text{font-weight:600;font-size:1.25rem}  .p-dialog .custom-header button{width:2rem;height:2rem;color:#6c757d;border:0 none;background:transparent;border-radius:50%;transition:background-color .2s,color .2s,box-shadow .2s;margin-right:.5rem}"]})}}return a})(),Dn=(()=>{class a extends E.${constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Fc=["dt"],an=()=>({width:"450px"}),Ic=a=>({"ng-invalid ng-dirty":a});function Rc(a,c){1&a&&e.nrm(0,"pre-loading")}function yc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New Attendance Configuration")),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Cc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}2&a&&e.Y8G("label",e.bMT(1,1,"Export"))}function Tc(a,c){1&a&&(e.EFF(0),e.nI1(1,"translate")),2&a&&e.SpI(" ",e.bMT(1,1,c.$implicit.name)," ")}function Mc(a,c){if(1&a&&(e.EFF(0),e.nI1(1,"translate"),e.nI1(2,"translate")),2&a){const t=c.$implicit;e.SpI(" ",t?e.bMT(1,1,t.name):e.bMT(2,3,"Excuse Calculation Types")," ")}}function jc(a,c){1&a&&(e.EFF(0),e.nI1(1,"translate")),2&a&&e.SpI(" ",e.bMT(1,1,c.$implicit.name)," ")}function kc(a,c){if(1&a&&(e.EFF(0),e.nI1(1,"translate"),e.nI1(2,"translate")),2&a){const t=c.$implicit;e.SpI(" ",t?e.bMT(1,1,t.name):e.bMT(2,3,"Early Leave Calculation Type")," ")}}function Dc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",57)(1,"h6"),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",23)(6,"label"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.nrm(9,"input",58),e.k0s(),e.j41(10,"div",23)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"input",59),e.k0s(),e.j41(15,"div",23)(16,"label"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"input",60),e.k0s(),e.j41(20,"div",23)(21,"label"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"input",61),e.k0s(),e.j41(25,"div",23)(26,"label"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",62),e.k0s(),e.j41(30,"div",23)(31,"label"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"input",63),e.k0s(),e.j41(35,"div",23)(36,"label"),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.nrm(39,"input",64),e.k0s(),e.j41(40,"div",23)(41,"label"),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.nrm(44,"input",65),e.k0s(),e.j41(45,"div",23)(46,"label"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.nrm(49,"input",66),e.k0s(),e.j41(50,"div",26),e.nrm(51,"p-checkbox",67),e.j41(52,"label",68),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.j41(55,"div",26),e.nrm(56,"p-checkbox",69),e.j41(57,"label",70),e.EFF(58),e.nI1(59,"translate"),e.k0s()(),e.j41(60,"div",26),e.nrm(61,"p-checkbox",71),e.j41(62,"label",72),e.EFF(63),e.nI1(64,"translate"),e.k0s()(),e.j41(65,"button",73),e.nI1(66,"translate"),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG(2);return e.Njj(l.removeLateSetting(n))}),e.k0s()()}if(2&a){const t=c.index;e.Y8G("formGroupName",t),e.R7$(2),e.E5c("",e.bMT(3,17,"Late Settings")," ",e.bMT(4,19,"LIST")," [",t+1,"] : "),e.R7$(5),e.SpI("",e.bMT(8,21,"Deduction From Minutes"),":"),e.R7$(5),e.SpI("",e.bMT(13,23,"Deduction To Minutes"),":"),e.R7$(5),e.SpI("",e.bMT(18,25,"Deduction Factor"),":"),e.R7$(5),e.SpI("",e.bMT(23,27,"Deduction Time In Minutes"),":"),e.R7$(5),e.SpI("",e.bMT(28,29,"First Penalty In Days"),":"),e.R7$(5),e.SpI("",e.bMT(33,31,"Second Penalty In Days"),":"),e.R7$(5),e.SpI("",e.bMT(38,33,"Third Penalty In Days"),":"),e.R7$(5),e.SpI("",e.bMT(43,35,"Fourth Penalty In Days"),":"),e.R7$(5),e.SpI("",e.bMT(48,37,"Deduction In Money"),":"),e.R7$(6),e.JRh(e.bMT(54,39,"Deduct The Latency")),e.R7$(5),e.JRh(e.bMT(59,41,"Is Deducted From Total Excuses")),e.R7$(5),e.JRh(e.bMT(64,43,"Is Performed Only One Time")),e.R7$(2),e.Y8G("label",e.bMT(66,45,"Remove"))}}function Ec(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",21)(1,"h5"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"form",22),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.attendanceForm))}),e.j41(5,"div",23)(6,"label"),e.EFF(7),e.nI1(8,"translate"),e.nrm(9,"input",24),e.k0s()(),e.j41(10,"div",23)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.nrm(14,"input",25),e.k0s()(),e.j41(15,"div",26),e.nrm(16,"p-checkbox",27),e.j41(17,"label",28),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"div",23)(21,"label"),e.EFF(22),e.nI1(23,"translate"),e.nrm(24,"input",29),e.k0s()(),e.j41(25,"div",23)(26,"label"),e.EFF(27),e.nI1(28,"translate"),e.nrm(29,"input",30),e.k0s()(),e.j41(30,"div",23)(31,"label"),e.EFF(32),e.nI1(33,"translate"),e.nrm(34,"input",31),e.k0s()(),e.j41(35,"div",23)(36,"label"),e.EFF(37),e.nI1(38,"translate"),e.nrm(39,"input",32),e.k0s()(),e.j41(40,"div",23)(41,"label"),e.EFF(42),e.nI1(43,"translate"),e.nrm(44,"input",33),e.k0s()(),e.j41(45,"div",26),e.nrm(46,"p-checkbox",34),e.j41(47,"label",35),e.EFF(48),e.nI1(49,"translate"),e.k0s()(),e.j41(50,"div",26),e.nrm(51,"p-checkbox",36),e.j41(52,"label",37),e.EFF(53),e.nI1(54,"translate"),e.k0s()(),e.j41(55,"div",23)(56,"label",38),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.j41(59,"p-dropdown",39),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedExecuseCalculationType,n)||(l.selectedExecuseCalculationType=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedExecuseCalculationTypeFun(n))}),e.DNE(60,Tc,2,3,"ng-template",40)(61,Mc,3,5,"ng-template",41),e.k0s()(),e.j41(62,"div",23)(63,"label",42),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.j41(66,"p-dropdown",43),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEarlyLeaveCalculationType,n)||(l.selectedEarlyLeaveCalculationType=n),e.Njj(n)}),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.selectedEarlyLeaveCalculationTypeFun(n))}),e.DNE(67,jc,2,3,"ng-template",40)(68,kc,3,5,"ng-template",41),e.k0s()(),e.j41(69,"div",23)(70,"label"),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.nrm(73,"input",44),e.k0s(),e.j41(74,"div",23)(75,"label"),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.nrm(78,"input",45),e.k0s(),e.j41(79,"div",23)(80,"label"),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.nrm(83,"input",46),e.k0s(),e.j41(84,"div",23)(85,"label"),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.nrm(88,"input",47),e.k0s(),e.j41(89,"div",23)(90,"label"),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.nrm(93,"input",48),e.k0s(),e.j41(94,"div",23)(95,"label"),e.EFF(96),e.nI1(97,"translate"),e.k0s(),e.nrm(98,"input",49),e.k0s(),e.j41(99,"div",23)(100,"label"),e.EFF(101),e.nI1(102,"translate"),e.k0s(),e.nrm(103,"input",50),e.k0s(),e.j41(104,"div",23)(105,"label"),e.EFF(106),e.nI1(107,"translate"),e.k0s(),e.nrm(108,"input",51),e.k0s(),e.j41(109,"div",23)(110,"label"),e.EFF(111),e.nI1(112,"translate"),e.k0s(),e.nrm(113,"input",52),e.k0s(),e.j41(114,"div",53),e.DNE(115,Dc,67,47,"div",54),e.j41(116,"button",55),e.nI1(117,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addLateSetting())}),e.k0s()(),e.j41(118,"button",56),e.EFF(119),e.nI1(120,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,33,"Add New")),e.R7$(2),e.Y8G("formGroup",t.attendanceForm),e.R7$(3),e.SpI(" ",e.bMT(8,35,"Name (Arabic)"),": "),e.R7$(5),e.SpI(" ",e.bMT(13,37,"Name (English)"),": "),e.R7$(6),e.SpI("",e.bMT(19,39,"Include Days Off Between Absent Days"),":"),e.R7$(4),e.SpI(" ",e.bMT(23,41,"First Day Penalty Deduction")," "),e.R7$(5),e.SpI(" ",e.bMT(28,43,"Second Day Penalty Deduction")," "),e.R7$(5),e.SpI(" ",e.bMT(33,45,"Third Day Penalty Deduction")," "),e.R7$(5),e.SpI(" ",e.bMT(38,47,"Fourth Day Penalty Deduction")," "),e.R7$(5),e.SpI(" ",e.bMT(43,49,"Fifth Day Penalty Deduction")," "),e.R7$(6),e.JRh(e.bMT(49,51,"Calculate Late Attendance In Time")),e.R7$(5),e.JRh(e.bMT(54,53,"Calculate Late Attendance Per Month")),e.R7$(4),e.JRh(e.bMT(58,55,"Excuse Calculation Type")),e.R7$(2),e.R50("ngModel",t.selectedExecuseCalculationType),e.Y8G("options",t.execuseCalculationTypes)("showClear",!0),e.R7$(5),e.JRh(e.bMT(65,57,"Early Leave Calculation Type")),e.R7$(2),e.R50("ngModel",t.selectedEarlyLeaveCalculationType),e.Y8G("options",t.earlyLeaveCalculationTypes)("showClear",!0),e.R7$(5),e.JRh(e.bMT(72,59,"Early Leave Penalty In Days For Each Hour")),e.R7$(5),e.JRh(e.bMT(77,61,"Max Monthly Late Minutes")),e.R7$(5),e.JRh(e.bMT(82,63,"Max Excuse Duration In Minutes")),e.R7$(5),e.JRh(e.bMT(87,65,"Max Number Of Excuses Per Month")),e.R7$(5),e.JRh(e.bMT(92,67,"First Missing Fingerprint")),e.R7$(5),e.JRh(e.bMT(97,69,"Second Missing Fingerprint")),e.R7$(5),e.JRh(e.bMT(102,71,"Third Missing Fingerprint")),e.R7$(5),e.JRh(e.bMT(107,73,"Fourth Missing Fingerprint")),e.R7$(5),e.JRh(e.bMT(112,75,"Fifth Missing Fingerprint")),e.R7$(4),e.Y8G("ngForOf",t.attendanceForm.get("lateSettingsList").controls),e.R7$(),e.Y8G("label",e.bMT(117,77,"Add Late Setting")),e.R7$(2),e.Y8G("disabled",t.attendanceForm.invalid),e.R7$(),e.SpI(" ",e.bMT(120,79,"Add New")," ")}}function Nc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",74)(1,"h5",75),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",76),e.nrm(5,"i",77),e.j41(6,"input",78),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.FS9("placeholder",e.bMT(7,5,"Search...")),e.R50("ngModel",t.nameFilter)}}function wc(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",79),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",80),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortById(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",81),e.k0s(),e.j41(7,"th",82),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(8),e.nI1(9,"translate"),e.nrm(10,"p-sortIcon",83),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,5,"Id")," "),e.R7$(4),e.SpI(" ",e.bMT(9,7,"Name")," "),e.R7$(4),e.JRh(e.bMT(13,9,"Calculate Late Attendance In Time")),e.R7$(3),e.JRh(e.bMT(16,11,"Calculate Late Attendance Per Month")),e.R7$(3),e.JRh(e.bMT(19,13,"Actions")))}function vc(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr",84),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.j41(1,"td"),e.nrm(2,"p-tableCheckbox",85),e.k0s(),e.j41(3,"td")(4,"span",86),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"span",86),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td")(14,"span",86),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"td")(19,"span",86),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td")(24,"div",87)(25,"button",88),e.nI1(26,"translate"),e.bIt("click",function(n){const l=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.deleteProduct(l,n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(3),e.JRh(e.bMT(6,10,"Id")),e.R7$(2),e.SpI(" ",t.id,""),e.R7$(3),e.JRh(e.bMT(11,12,"Name")),e.R7$(2),e.SpI(" ",t.name,""),e.R7$(3),e.JRh(e.bMT(16,14,"Calculate Late Attendance In Time")),e.R7$(2),e.SpI(" ",t.calculateLateAttendanceInTime," "),e.R7$(3),e.JRh(e.bMT(21,16,"Calculate Late Attendance Per Month")),e.R7$(2),e.SpI(" ",t.calculateLateAttendancePerMonth," "),e.R7$(3),e.Y8G("label",e.bMT(26,18,"Delete"))}}function Sc(a,c){1&a&&(e.j41(0,"small",95),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Name is required.")))}function Pc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",89)(1,"label",90),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",91),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(5,Sc,3,3,"small",92),e.k0s(),e.j41(6,"div",89)(7,"label",93),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"textarea",94),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,6,"Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(10,Ic,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(9,8,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes)}}function xc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",96),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",97),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.FS9("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.FS9("label",e.bMT(3,4,"Save")))}function Gc(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function $c(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",96),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",97),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.FS9("label",e.bMT(1,2,"No")),e.R7$(2),e.FS9("label",e.bMT(3,4,"Yes")))}function Vc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",96),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",97),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.FS9("label",e.bMT(1,2,"No")),e.R7$(2),e.FS9("label",e.bMT(3,4,"Yes")))}let Yc=(()=>{class a{constructor(t,o,n,l,r){this.messageService=t,this.attendenceConfigurationService=o,this.fb=n,this.router=l,this.translate=r,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.valCheck=!1}ngOnInit(){this.endPoint="AttendanceConfiguration",this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"}],T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.attendenceConfigurationService.setCulture(t),this.attendenceConfigurationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.attendanceForm=this.fb.group({includeDaysOffBetweenTwoAbsentDays:[!1,s.k0.required],nameAr:["",s.k0.required],englishName:["",s.k0.required],firstDayPenaltyDeduction:[0,s.k0.required],secondDayPenaltyDeduction:[0,s.k0.required],thirdDayPenaltyDeduction:[0,s.k0.required],fourthDayPenaltyDeduction:[0,s.k0.required],fifthAndAboveDayPenaltyDeduction:[0,s.k0.required],calculateLateAttendanceInTime:[!1,s.k0.required],calculateLateAttendancePerMonth:[!1,s.k0.required],excuseCalculationType:[null,s.k0.required],earlyLeaveCalculationType:[null,s.k0.required],earlyLeavePenalityInDaysForEachHour:[0,s.k0.required],maxMonthlyLateMinutes:[0,s.k0.required],maxExuseDurationInMinutes:[0,s.k0.required],maxNumberOfExcusesPerMonth:[0,s.k0.required],firstMissingFingerprint:[0,s.k0.required],secondMissingFingerprint:[0,s.k0.required],thirdMissingFingerprint:[0,s.k0.required],fourthMissingFingerprint:[0,s.k0.required],fifthMissingFingerprint:[0,s.k0.required],lateSettingsList:this.fb.array([this.createLateSettingGroup()])}),this.getExecuseCalculationTypesDropdown(),this.getEarlyLeaveCalculationTypeDropDown(),console.log(this.execuseCalculationTypes),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}createLateSettingGroup(){return this.fb.group({deductionFromMinutes:[0,s.k0.required],deductionToMinutes:[0,s.k0.required],deductionFactor:[0,s.k0.required],deductedTimeInMinutes:[0,s.k0.required],firstPenaltyInDays:[0,s.k0.required],secondPenaltyInDays:[0,s.k0.required],thirdPenaltyInDays:[0,s.k0.required],fourthPenaltyInDays:[0,s.k0.required],deductTheLatency:[!1,s.k0.required],isDeductedFromTotalExcuses:[!1,s.k0.required],isPerformedOnlyOneTime:[!1,s.k0.required],deductionInMoney:[0,s.k0.required]})}addLateSetting(){this.attendanceForm.get("lateSettingsList").push(this.createLateSettingGroup())}removeLateSetting(t){this.attendanceForm.get("lateSettingsList").removeAt(t)}editProduct(t){this.product={...t},this.router.navigate(["/info/attendenceConfig/edit",t.id]),console.log(t)}confirmDelete(t){this.attendenceConfigurationService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log("Form Data:",t),t.valid&&(t.patchValue({excuseCalculationType:this.selectedExecuseCalculationType?.id,earlyLeaveCalculationType:this.selectedEarlyLeaveCalculationType?.id}),console.log("Form Data:",t),this.attendenceConfigurationService.Register(t.value).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Added an Item Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}))}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r="asc"){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.attendenceConfigurationService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems),console.log(r)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.attendenceConfigurationService.Edit({id:o.id,name:o.name,notes:o.notes}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.attendenceConfigurationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}getExecuseCalculationTypesDropdown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.execuseCalculationTypes=t.data}})}getEarlyLeaveCalculationTypeDropDown(){this.attendenceConfigurationService.getDropdownEnum("getEarlyLeaveCalculationType").subscribe({next:t=>{console.log(t),this.earlyLeaveCalculationTypes=t.data}})}selectedExecuseCalculationTypeFun(t){this.selectedExecuseCalculationType=t.value,this.selectedExecuseCalculationTypeId=t.value.id}selectedEarlyLeaveCalculationTypeFun(t){this.selectedEarlyLeaveCalculationType=t.value,this.selectedEarlyLeaveCalculationTypeId=t.value.id}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(m.bg),e.rXU(Dn),e.rXU(s.ok),e.rXU(U.Ix),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-attendence-configuration"]],viewQuery:function(o,n){if(1&o&&e.GBs(Fc,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,_.c$,u.vh]),e.aNF],decls:34,vars:52,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","card p-fluid",4,"ngIf"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"card","p-fluid"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:col-4"],["pInputText","","formControlName","nameAr","type","text"],["pInputText","","formControlName","englishName","type","text"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","ny","value","","binary","true"],["for","ny"],["formControlName","firstDayPenaltyDeduction","type","number","pInputText",""],["formControlName","secondDayPenaltyDeduction","type","number","pInputText",""],["formControlName","thirdDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fourthDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fifthAndAboveDayPenaltyDeduction","type","number","pInputText",""],["formControlName","calculateLateAttendanceInTime","inputId","calculateLateAttendanceInTime","value","","binary","true"],["for","calculateLateAttendanceInTime"],["formControlName","calculateLateAttendancePerMonth","inputId","calculateLateAttendancePerMonth","value","","binary","true"],["for","calculateLateAttendancePerMonth"],["htmlFor","Employee"],["optionLabel","name","formControlName","excuseCalculationType",1,"w-fit",3,"ngModelChange","onChange","ngModel","options","showClear"],["pTemplate","item"],["pTemplate","selectedItem"],["htmlFor","EarlyLeaveCalculationType"],["optionLabel","name","formControlName","earlyLeaveCalculationType",1,"w-fit",3,"ngModelChange","onChange","ngModel","options","showClear"],["formControlName","earlyLeavePenalityInDaysForEachHour","type","number","pInputText",""],["formControlName","maxMonthlyLateMinutes","type","number","pInputText",""],["formControlName","maxExuseDurationInMinutes","type","number","pInputText",""],["formControlName","maxNumberOfExcusesPerMonth","type","number","pInputText",""],["formControlName","firstMissingFingerprint","type","number","pInputText",""],["formControlName","secondMissingFingerprint","type","number","pInputText",""],["formControlName","thirdMissingFingerprint","type","number","pInputText",""],["formControlName","fourthMissingFingerprint","type","number","pInputText",""],["formControlName","fifthMissingFingerprint","type","number","pInputText",""],["formArrayName","lateSettingsList",1,"lateSettingsLists"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click","label"],["pButton","","pRipple","","type","submit",1,"w-fit",3,"disabled"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["for","isPerformedOnlyOneTime"],["pButton","","pRipple","","type","button","icon","pi pi-minus",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[1,"tableRow",3,"click"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click","label"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Rc,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,yc,5,7,"ng-template",4)(5,Cc,2,3,"ng-template",5),e.k0s(),e.DNE(6,Ec,121,81,"div",6),e.j41(7,"p-table",7,0),e.nI1(9,"translate"),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nI1(12,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(13,Nc,8,7,"ng-template",8)(14,wc,20,15,"ng-template",9)(15,vc,27,20,"ng-template",10),e.k0s(),e.j41(16,"p-dialog",11),e.nI1(17,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(18,Pc,11,12,"ng-template",12)(19,xc,4,6,"ng-template",13),e.k0s(),e.j41(20,"p-dialog",14),e.nI1(21,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(22,"div",15),e.nrm(23,"i",16),e.DNE(24,Gc,6,4,"span",1),e.k0s(),e.DNE(25,$c,4,6,"ng-template",13),e.k0s(),e.j41(26,"p-dialog",14),e.nI1(27,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(28,"div",15),e.nrm(29,"i",16),e.j41(30,"span"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.DNE(33,Vc,4,6,"ng-template",13),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Y8G("ngIf",n.showFormNew),e.R7$(),e.FRS("currentPageReportTemplate","",e.bMT(9,33,"Showing")," {first} ",e.bMT(10,35,"to")," {last} ",e.bMT(11,37,"of")," {totalRecords} ",e.bMT(12,39,"entries"),""),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("lazy",!0),e.R7$(9),e.Aen(e.lJ4(49,an)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(17,41,"Product Details"))("modal",!0),e.R7$(4),e.Aen(e.lJ4(50,an)),e.FS9("header",e.bMT(21,43,"Confirm")),e.R50("visible",n.deleteProductDialog),e.Y8G("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(51,an)),e.FS9("header",e.bMT(27,45,"Confirm")),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(5),e.JRh(e.bMT(32,47,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,s.$R,s.v8,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,ct.Sc,G.m],styles:[".btn-add[_ngcontent-%COMP%]{display:flex;margin-top:24px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0!important}.lateSettingsLists[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}.crud-operations[_ngcontent-%COMP%]{justify-content:center}.tableRow[_ngcontent-%COMP%]{cursor:pointer}"]})}}return a})();var En=R(8141),Nn=R(6354);const Bc=["manageItems"],Ac=()=>({width:"450px"});function Jc(a,c){1&a&&e.nrm(0,"pre-loading")}function qc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",59)(1,"h6"),e.EFF(2),e.k0s(),e.j41(3,"div",10)(4,"label"),e.EFF(5," Deduction From Minutes: "),e.nrm(6,"input",60),e.k0s()(),e.j41(7,"div",10)(8,"label"),e.EFF(9," Deduction To Minutes: "),e.nrm(10,"input",61),e.k0s()(),e.j41(11,"div",10)(12,"label"),e.EFF(13," Deduction Factor: "),e.nrm(14,"input",62),e.k0s()(),e.j41(15,"div",10)(16,"label"),e.EFF(17," Deduction Time In Minutes: "),e.nrm(18,"input",63),e.k0s()(),e.j41(19,"div",10)(20,"label"),e.EFF(21," First Penalty In Days: "),e.nrm(22,"input",64),e.k0s()(),e.j41(23,"div",10)(24,"label"),e.EFF(25," Second Penalty In Days: "),e.nrm(26,"input",65),e.k0s()(),e.j41(27,"div",10)(28,"label"),e.EFF(29," Third Penalty In Days: "),e.nrm(30,"input",66),e.k0s()(),e.j41(31,"div",10)(32,"label"),e.EFF(33," Fourth Penalty In Days: "),e.nrm(34,"input",67),e.k0s()(),e.j41(35,"div",10)(36,"label"),e.EFF(37," Deduction In Money: "),e.nrm(38,"input",68),e.k0s()(),e.j41(39,"div",18),e.nrm(40,"p-checkbox",69),e.j41(41,"label",70),e.EFF(42," Deduct The Latency"),e.k0s()(),e.j41(43,"div",18),e.nrm(44,"p-checkbox",71),e.j41(45,"label",72),e.EFF(46," Is Deducted From Total Excuses"),e.k0s()(),e.j41(47,"div",18),e.nrm(48,"p-checkbox",73),e.j41(49,"label",20),e.EFF(50," Is Performed Only One Time"),e.k0s()(),e.j41(51,"button",74),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG();return e.Njj(l.removeLateSetting(n))}),e.k0s()()}if(2&a){const t=c.index;e.Y8G("formGroupName",t),e.R7$(2),e.SpI("Late Settings ",t+1," List :")}}function Oc(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",75)(1,"p-fileUpload",76,0),e.nI1(3,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(2),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s()()}2&a&&(e.R7$(),e.Y8G("chooseLabel",e.bMT(3,2,"Import File"))("auto",!0))}function Lc(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",77),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",78),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateImage())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}let Xc=(()=>{class a{constructor(t,o,n,l,r,i,d,F){this.attendenceConfigurationService=t,this.messageService=o,this.DatePipe=n,this.router=l,this.route=r,this.activatedRoute=i,this.translate=d,this.fb=F,this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.editForm=new s.gE({Id:new s.MJ({value:this.currentId,disabled:!0}),calculateLateAttendanceInTime:new s.MJ,calculateLateAttendancePerMonth:new s.MJ,includeDaysOffBetweenTwoAbsentDays:new s.MJ,firstMissingFingerprint:new s.MJ,secondMissingFingerprint:new s.MJ,thirdMissingFingerprint:new s.MJ,fourthMissingFingerprint:new s.MJ,fifthMissingFingerprint:new s.MJ,firstDayPenaltyDeduction:new s.MJ,secondDayPenaltyDeduction:new s.MJ,thirdDayPenaltyDeduction:new s.MJ,fourthDayPenaltyDeduction:new s.MJ,fifthAndAboveDayPenaltyDeduction:new s.MJ,maxMissingFingerPrintWithoutDeduction:new s.MJ,maxMonthlyLateMinutes:new s.MJ,maxNumberOfExcusesPerMonth:new s.MJ,maxExuseDurationInMinutes:new s.MJ,lateSettingsList:this.fb.array([]),excuseCalculationType:new s.MJ,nameAr:new s.MJ,englishName:new s.MJ}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="AttendanceConfiguration",T.R.getMainLangChanges().subscribe(o=>{console.log("Main language changed to:",o),this.translate.use(o),this.attendenceConfigurationService.setCulture(o),this.attendenceConfigurationService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDown(),this.getData().pipe((0,En.M)(o=>{this.allData=o.data,this.patchFormValues(this.allData),this.loading=!1,console.log("Data fetched:",this.allData)}),(0,Nn.T)(o=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.joininDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.hirDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy"),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.calculateLateAttendanceInTime=t.calculateLateAttendanceInTime,this.calculateLateAttendancePerMonth=t.calculateLateAttendancePerMonth,this.includeDaysOffBetweenTwoAbsentDays=t.includeDaysOffBetweenTwoAbsentDays,this.firstMissingFingerprint=t.firstMissingFingerprint,this.secondMissingFingerprint=t.secondMissingFingerprint,this.thirdMissingFingerprint=t.thirdMissingFingerprint,this.fourthMissingFingerprint=t.fourthMissingFingerprint,this.fifthMissingFingerprint=t.fifthMissingFingerprint,this.firstDayPenaltyDeduction=t.firstDayPenaltyDeduction,this.secondDayPenaltyDeduction=t.secondDayPenaltyDeduction,this.thirdDayPenaltyDeduction=t.thirdDayPenaltyDeduction,this.fourthDayPenaltyDeduction=t.fourthDayPenaltyDeduction,this.fifthAndAboveDayPenaltyDeduction=t.fifthAndAboveDayPenaltyDeduction,this.maxMissingFingerPrintWithoutDeduction=t.maxMissingFingerPrintWithoutDeduction,this.maxMonthlyLateMinutes=t.maxMonthlyLateMinutes,this.maxNumberOfExcusesPerMonth=t.maxNumberOfExcusesPerMonth,this.maxExuseDurationInMinutes=t.maxExuseDurationInMinutes,this.patchFormData(t.lateSettingsList),this.nameAr=t.nameAr,this.englishName=t.englishName,this.selectedexcuseCalculationType=this.getObject(t.excuseCalculationType,this.dropdownItemsexcuseCalculationType)}submitForm(t){t.patchValue({excuseCalculationType:this.selectedexcuseCalculationType?.id}),this.editForm.get("Id").enable(),console.log(t.value),this.attendenceConfigurationService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(o),this.loading=!1,this.editForm.get("Id").disable()}}),console.log(t.value)}onGovernmentChange(t){console.log(t)}getData(){return this.attendenceConfigurationService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get lateSettingsList(){return this.editForm.get("lateSettingsList")}createLateSettingGroup(t){return this.fb.group({id:[t.id],attendanceConfigurationId:[t.attendanceConfigurationId],deductionFromMinutes:[t.deductionFromMinutes,s.k0.required],deductionToMinutes:[t.deductionToMinutes,s.k0.required],deductionFactor:[t.deductionFactor,s.k0.required],firstPenaltyInDays:[t.firstPenaltyInDays,s.k0.required],secondPenaltyInDays:[t.secondPenaltyInDays,s.k0.required],thirdPenaltyInDays:[t.thirdPenaltyInDays,s.k0.required],fourthPenaltyInDays:[t.fourthPenaltyInDays,s.k0.required],deductTheLatency:[t.deductTheLatency],deductedTimeInMinutes:[t.deductedTimeInMinutes,s.k0.required],isDeductedFromTotalExcuses:[t.isDeductedFromTotalExcuses],deductionInMoney:[t.deductionInMoney,s.k0.required],isPerformedOnlyOneTime:[t.isPerformedOnlyOneTime]})}patchFormData(t){this.lateSettingsList.clear(),t.forEach(o=>{this.lateSettingsList.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({deductionFromMinutes:[0,s.k0.required],deductionToMinutes:[0,s.k0.required],deductionFactor:[0,s.k0.required],deductedTimeInMinutes:[0,s.k0.required],firstPenaltyInDays:[0,s.k0.required],secondPenaltyInDays:[0,s.k0.required],thirdPenaltyInDays:[0,s.k0.required],fourthPenaltyInDays:[0,s.k0.required],deductTheLatency:[!1,s.k0.required],isDeductedFromTotalExcuses:[!1,s.k0.required],isPerformedOnlyOneTime:[!1,s.k0.required],deductionInMoney:[0,s.k0.required]})}addLateSetting(){this.editForm.get("lateSettingsList").push(this.createLateSettingGroupAdd())}getDropDown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.dropdownItemsexcuseCalculationType=t.data}})}removeLateSetting(t){this.editForm.get("lateSettingsList").removeAt(t)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Dn),e.rXU(m.bg),e.rXU(u.vh),e.rXU(U.Ix),e.rXU(U.nX),e.rXU(U.nX),e.rXU(_.c$),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-attendence-config-edit"]],viewQuery:function(o,n){if(1&o&&e.GBs(Bc,5),2&o){let l;e.mGM(l=e.lsd())&&(n.manageItems=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:123,vars:90,consts:[["fileUploader",""],[4,"ngIf"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","Id",3,"ngModelChange","ngModel"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameAr",3,"ngModelChange","ngModel"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","englishName",3,"ngModelChange","ngModel"],[1,"field","col-12","md:col-3"],["htmlFor","excuseCalculationType"],["formControlName","excuseCalculationType","optionLabel","name",3,"ngModelChange","options","ngModel"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","calculateLateAttendanceInTime","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModelChange","ngModel"],["for","isPerformedOnlyOneTime"],["formControlName","calculateLateAttendancePerMonth","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModelChange","ngModel"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModelChange","ngModel"],["htmlFor","firstMissingFingerprint"],["pInputText","","id","firstMissingFingerprint","formControlName","firstMissingFingerprint","type","number",3,"ngModelChange","ngModel"],["pInputText","","id","secondMissingFingerprint","formControlName","secondMissingFingerprint","type","number",3,"ngModelChange","ngModel"],["htmlFor","thirdMissingFingerprint"],["pInputText","","id","thirdMissingFingerprint","formControlName","thirdMissingFingerprint","type","number",3,"ngModelChange","ngModel"],["htmlFor","fourthMissingFingerprint"],["pInputText","","id","fourthMissingFingerprint","formControlName","fourthMissingFingerprint",3,"ngModelChange","ngModel"],["htmlFor","fifthMissingFingerprint"],["pInputText","","id","fifthMissingFingerprint","formControlName","fifthMissingFingerprint",3,"ngModelChange","ngModel"],["htmlFor","firstDayPenaltyDeduction"],["pInputText","","id","firstDayPenaltyDeduction","formControlName","firstDayPenaltyDeduction","type","number",3,"ngModelChange","ngModel"],["pInputText","","id","secondDayPenaltyDeduction","formControlName","secondDayPenaltyDeduction","type","number",3,"ngModelChange","ngModel"],["htmlFor","thirdDayPenaltyDeduction"],["pInputText","","id","thirdDayPenaltyDeduction","formControlName","thirdDayPenaltyDeduction","type","number",3,"ngModelChange","ngModel"],["htmlFor","fourthDayPenaltyDeduction"],["pInputText","","id","fourthDayPenaltyDeduction","formControlName","fourthDayPenaltyDeduction",3,"ngModelChange","ngModel"],["htmlFor","fifthAndAboveDayPenaltyDeduction"],["pInputText","","id","fifthAndAboveDayPenaltyDeduction","formControlName","fifthAndAboveDayPenaltyDeduction",3,"ngModelChange","ngModel"],["htmlFor","maxExuseDurationInMinutes"],["pInputText","","id","maxExuseDurationInMinutes","formControlName","maxExuseDurationInMinutes",3,"ngModelChange","ngModel"],["htmlFor","maxMissingFingerPrintWithoutDeduction"],["pInputText","","id","maxMissingFingerPrintWithoutDeduction","formControlName","maxMissingFingerPrintWithoutDeduction",3,"ngModelChange","ngModel"],["htmlFor","maxMonthlyLateMinutes"],["pInputText","","id","maxMonthlyLateMinutes","formControlName","maxMonthlyLateMinutes",3,"ngModelChange","ngModel"],["htmlFor","maxNumberOfExcusesPerMonth"],["pInputText","","id","maxNumberOfExcusesPerMonth","formControlName","maxNumberOfExcusesPerMonth",3,"ngModelChange","ngModel"],["formArrayName","lateSettingsList",1,"lateSettingsList","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Late Setting",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,Jc,1,0,"pre-loading",1),e.j41(2,"form",2),e.bIt("submit",function(){return n.submitForm(n.editForm)}),e.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"label",8),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",9),e.mxI("ngModelChange",function(r){return e.DH7(n.currentId,r)||(n.currentId=r),r}),e.k0s()(),e.j41(12,"div",10)(13,"label",11),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",12),e.mxI("ngModelChange",function(r){return e.DH7(n.nameAr,r)||(n.nameAr=r),r}),e.k0s()(),e.j41(17,"div",10)(18,"label",13),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",14),e.mxI("ngModelChange",function(r){return e.DH7(n.englishName,r)||(n.englishName=r),r}),e.k0s()(),e.j41(22,"div",15)(23,"label",16),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"p-dropdown",17),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedexcuseCalculationType,r)||(n.selectedexcuseCalculationType=r),r}),e.k0s()(),e.j41(27,"div",18)(28,"p-checkbox",19),e.mxI("ngModelChange",function(r){return e.DH7(n.calculateLateAttendanceInTime,r)||(n.calculateLateAttendanceInTime=r),r}),e.k0s(),e.j41(29,"label",20),e.EFF(30," Calculate Late Attendance In Time"),e.k0s()(),e.j41(31,"div",18)(32,"p-checkbox",21),e.mxI("ngModelChange",function(r){return e.DH7(n.calculateLateAttendancePerMonth,r)||(n.calculateLateAttendancePerMonth=r),r}),e.k0s(),e.j41(33,"label",20),e.EFF(34," Calculate Late Attendance Per Month"),e.k0s()(),e.j41(35,"div",18)(36,"p-checkbox",22),e.mxI("ngModelChange",function(r){return e.DH7(n.includeDaysOffBetweenTwoAbsentDays,r)||(n.includeDaysOffBetweenTwoAbsentDays=r),r}),e.k0s(),e.j41(37,"label",20),e.EFF(38," Include Days Off Between Two Absent Days"),e.k0s()(),e.j41(39,"div",10)(40,"label",23),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"input",24),e.mxI("ngModelChange",function(r){return e.DH7(n.firstMissingFingerprint,r)||(n.firstMissingFingerprint=r),r}),e.k0s()(),e.j41(44,"div",10)(45,"label",23),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"input",25),e.mxI("ngModelChange",function(r){return e.DH7(n.secondMissingFingerprint,r)||(n.secondMissingFingerprint=r),r}),e.k0s()(),e.j41(49,"div",10)(50,"label",26),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"input",27),e.mxI("ngModelChange",function(r){return e.DH7(n.thirdMissingFingerprint,r)||(n.thirdMissingFingerprint=r),r}),e.k0s()(),e.j41(54,"div",10)(55,"label",28),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"input",29),e.mxI("ngModelChange",function(r){return e.DH7(n.fourthMissingFingerprint,r)||(n.fourthMissingFingerprint=r),r}),e.k0s()(),e.j41(59,"div",10)(60,"label",30),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"input",31),e.mxI("ngModelChange",function(r){return e.DH7(n.fifthMissingFingerprint,r)||(n.fifthMissingFingerprint=r),r}),e.k0s()(),e.j41(64,"div",10)(65,"label",32),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"input",33),e.mxI("ngModelChange",function(r){return e.DH7(n.firstDayPenaltyDeduction,r)||(n.firstDayPenaltyDeduction=r),r}),e.k0s()(),e.j41(69,"div",10)(70,"label",32),e.EFF(71),e.nI1(72,"translate"),e.k0s(),e.j41(73,"input",34),e.mxI("ngModelChange",function(r){return e.DH7(n.secondDayPenaltyDeduction,r)||(n.secondDayPenaltyDeduction=r),r}),e.k0s()(),e.j41(74,"div",10)(75,"label",35),e.EFF(76),e.nI1(77,"translate"),e.k0s(),e.j41(78,"input",36),e.mxI("ngModelChange",function(r){return e.DH7(n.thirdDayPenaltyDeduction,r)||(n.thirdDayPenaltyDeduction=r),r}),e.k0s()(),e.j41(79,"div",10)(80,"label",37),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.j41(83,"input",38),e.mxI("ngModelChange",function(r){return e.DH7(n.fourthDayPenaltyDeduction,r)||(n.fourthDayPenaltyDeduction=r),r}),e.k0s()(),e.j41(84,"div",10)(85,"label",39),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.j41(88,"input",40),e.mxI("ngModelChange",function(r){return e.DH7(n.fifthAndAboveDayPenaltyDeduction,r)||(n.fifthAndAboveDayPenaltyDeduction=r),r}),e.k0s()(),e.j41(89,"div",10)(90,"label",41),e.EFF(91),e.nI1(92,"translate"),e.k0s(),e.j41(93,"input",42),e.mxI("ngModelChange",function(r){return e.DH7(n.maxExuseDurationInMinutes,r)||(n.maxExuseDurationInMinutes=r),r}),e.k0s()(),e.j41(94,"div",10)(95,"label",43),e.EFF(96),e.nI1(97,"translate"),e.k0s(),e.j41(98,"input",44),e.mxI("ngModelChange",function(r){return e.DH7(n.maxMissingFingerPrintWithoutDeduction,r)||(n.maxMissingFingerPrintWithoutDeduction=r),r}),e.k0s()(),e.j41(99,"div",10)(100,"label",45),e.EFF(101),e.nI1(102,"translate"),e.k0s(),e.j41(103,"input",46),e.mxI("ngModelChange",function(r){return e.DH7(n.maxMonthlyLateMinutes,r)||(n.maxMonthlyLateMinutes=r),r}),e.k0s()(),e.j41(104,"div",10)(105,"label",47),e.EFF(106),e.nI1(107,"translate"),e.k0s(),e.j41(108,"input",48),e.mxI("ngModelChange",function(r){return e.DH7(n.maxNumberOfExcusesPerMonth,r)||(n.maxNumberOfExcusesPerMonth=r),r}),e.k0s()(),e.j41(109,"div",49),e.DNE(110,qc,52,2,"div",50),e.j41(111,"button",51),e.bIt("click",function(){return n.addLateSetting()}),e.k0s()(),e.j41(112,"div",52)(113,"div",53)(114,"button",54),e.nrm(115,"i",55),e.j41(116,"span"),e.EFF(117),e.nI1(118,"translate"),e.k0s()()()()()()()()(),e.j41(119,"p-dialog",56),e.nI1(120,"translate"),e.mxI("visibleChange",function(r){return e.DH7(n.uploadImageDialog,r)||(n.uploadImageDialog=r),r}),e.DNE(121,Oc,4,4,"ng-template",57)(122,Lc,4,6,"ng-template",58),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("formGroup",n.editForm),e.R7$(7),e.JRh(e.bMT(10,49,"Id")),e.R7$(2),e.R50("ngModel",n.currentId),e.R7$(3),e.JRh(e.bMT(15,51,"Arabic Name")),e.R7$(2),e.R50("ngModel",n.nameAr),e.R7$(3),e.JRh(e.bMT(20,53,"English Name")),e.R7$(2),e.R50("ngModel",n.englishName),e.R7$(3),e.JRh(e.bMT(25,55,"excuseCalculationType")),e.R7$(2),e.Y8G("options",n.dropdownItemsexcuseCalculationType),e.R50("ngModel",n.selectedexcuseCalculationType),e.R7$(2),e.R50("ngModel",n.calculateLateAttendanceInTime),e.R7$(4),e.R50("ngModel",n.calculateLateAttendancePerMonth),e.R7$(4),e.R50("ngModel",n.includeDaysOffBetweenTwoAbsentDays),e.R7$(5),e.JRh(e.bMT(42,57,"firstMissingFingerprint")),e.R7$(2),e.R50("ngModel",n.firstMissingFingerprint),e.R7$(3),e.JRh(e.bMT(47,59,"secondMissingFingerprint")),e.R7$(2),e.R50("ngModel",n.secondMissingFingerprint),e.R7$(3),e.JRh(e.bMT(52,61,"thirdMissingFingerprint")),e.R7$(2),e.R50("ngModel",n.thirdMissingFingerprint),e.R7$(3),e.JRh(e.bMT(57,63,"fourthMissingFingerprint")),e.R7$(2),e.R50("ngModel",n.fourthMissingFingerprint),e.R7$(3),e.JRh(e.bMT(62,65,"fifthMissingFingerprint")),e.R7$(2),e.R50("ngModel",n.fifthMissingFingerprint),e.R7$(3),e.JRh(e.bMT(67,67,"firstDayPenaltyDeduction")),e.R7$(2),e.R50("ngModel",n.firstDayPenaltyDeduction),e.R7$(3),e.JRh(e.bMT(72,69,"secondDayPenaltyDeduction")),e.R7$(2),e.R50("ngModel",n.secondDayPenaltyDeduction),e.R7$(3),e.JRh(e.bMT(77,71,"thirdDayPenaltyDeduction")),e.R7$(2),e.R50("ngModel",n.thirdDayPenaltyDeduction),e.R7$(3),e.JRh(e.bMT(82,73,"fourthDayPenaltyDeduction")),e.R7$(2),e.R50("ngModel",n.fourthDayPenaltyDeduction),e.R7$(3),e.JRh(e.bMT(87,75,"fifthAndAboveDayPenaltyDeduction")),e.R7$(2),e.R50("ngModel",n.fifthAndAboveDayPenaltyDeduction),e.R7$(3),e.JRh(e.bMT(92,77,"maxExuseDurationInMinutes")),e.R7$(2),e.R50("ngModel",n.maxExuseDurationInMinutes),e.R7$(3),e.JRh(e.bMT(97,79,"maxMissingFingerPrintWithoutDeduction")),e.R7$(2),e.R50("ngModel",n.maxMissingFingerPrintWithoutDeduction),e.R7$(3),e.JRh(e.bMT(102,81,"maxMonthlyLateMinutes")),e.R7$(2),e.R50("ngModel",n.maxMonthlyLateMinutes),e.R7$(3),e.JRh(e.bMT(107,83,"maxNumberOfExcusesPerMonth")),e.R7$(2),e.R50("ngModel",n.maxNumberOfExcusesPerMonth),e.R7$(2),e.Y8G("ngForOf",n.lateSettingsList.controls),e.R7$(7),e.SpI(" ",e.bMT(118,85,"Save")," "),e.R7$(2),e.Aen(e.lJ4(89,Ac)),e.R50("visible",n.uploadImageDialog),e.Y8G("header",e.bMT(120,87,"Update Profile Image"))("modal",!0))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8,S.q,_.D9,M.t,m.Ei,P.n,X.N,k._f,x.l,D.y8,v.S,Y.ms,ct.Sc],styles:[".lateSettingsList[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})}}return a})(),Hc=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getEmployeeByDepartment(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeesByDepartmentId?DepartmentId=${t}&culture=${this.culture}`)}UpdateEmployeesShift(t){return this.http.get(`${this.baseurl}/Employee/UpdateEmployeesShift`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Uc(a,c){1&a&&e.nrm(0,"pre-loading")}let zc=(()=>{class a{constructor(t,o,n){this._SetEmployeeShiftsService=t,this.messageService=o,this.translate=n,this.loading=!1,this.selectedEmployeeIds=[],this.registerForm={}}ngOnInit(){this.endPoint="Employee",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._SetEmployeeShiftsService.setCulture(t),this._SetEmployeeShiftsService.setEndPoint(this.endPoint),this.getALlDropDown(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getDropDownField(t){this._SetEmployeeShiftsService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"})}ChangeEmployees(t){console.log(t.id),this.loading=!0,this._SetEmployeeShiftsService.getEmployeeByDepartment(t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,console.log(o),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onSelectEmployees(t){this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.id)}),console.log(this.selectedEmployeeIds)}onSelectShift(t){console.log(t),this.selectedShiftId=t.value.id,console.log(this.selectedShiftId)}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.items.EmployeeShift")}]}registerSubmit(){this.registerForm={shiftId:this.selectedShiftId,employeeIds:this.selectedEmployeeIds},this.loading=!0,this._SetEmployeeShiftsService.UpdateEmployeesShift(this.registerForm).subscribe({next:t=>{console.log(t),this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3})},error:()=>{this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Hc),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-set-employee-shifts"]],standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:37,vars:31,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],[1,"p-fluid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder"],["htmlFor","employee"],["optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder"],["htmlFor","shift"],["optionLabel","name",3,"onChange","options","placeholder"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["type","submit","pButton","","value","Save",1,"flex","justify-content-center"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,Uc,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("ngSubmit",function(){return n.registerSubmit()}),e.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",12),e.nI1(18,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedDepartment,r)||(n.selectedDepartment=r),r}),e.bIt("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.k0s()()()(),e.j41(19,"div",10)(20,"label",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"p-multiSelect",14),e.nI1(24,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedEmployee,r)||(n.selectedEmployee=r),r}),e.bIt("onChange",function(r){return n.onSelectEmployees(r)}),e.k0s()(),e.j41(25,"div",10)(26,"label",15),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"p-dropdown",16),e.nI1(30,"translate"),e.bIt("onChange",function(r){return n.onSelectShift(r)}),e.k0s()(),e.j41(31,"div",17)(32,"div",9)(33,"div",18)(34,"button",19),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()()()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,15,"Assign New Shift For Some Employees")),e.R7$(8),e.JRh(e.bMT(16,17,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartment),e.R50("ngModel",n.selectedDepartment),e.Y8G("placeholder",e.bMT(18,19,"Select Department")),e.R7$(4),e.JRh(e.bMT(22,21,"Department Employees")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployee),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(24,23,"Select Employees")),e.R7$(4),e.JRh(e.bMT(28,25,"Shift")),e.R7$(2),e.Y8G("options",n.dropdownItemsShift)("placeholder",e.bMT(30,27,"Select Shift")),e.R7$(6),e.SpI(" ",e.bMT(36,29,"Save")," "))},dependencies:[C.$,u.bT,s.qT,s.BC,s.cb,s.vS,s.cV,S.q,N.D,_.D9,M.t,k._f,D.y8,Y.ms,tt.KF]})}}return a})(),Wc=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getDropDownManager(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}getPartationByDepartmentId(t){return this.http.get(`${this.baseurl}/Partation/GetByDepartmentId?DepartmentId=${t}&culture=${this.culture}`)}GetEmployeeOfMangerDropDown(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeeOfMangerDropDown?MangerId=${t}&culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/GetEmployeeFingerprint/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var He=R(2011);const Qc=["dt"];function Kc(a,c){1&a&&e.nrm(0,"pre-loading")}function Zc(a,c){if(1&a&&(e.EFF(0),e.nI1(1,"translate"),e.nI1(2,"translate")),2&a){const t=c.$implicit;e.SpI(" ",t?e.bMT(1,1,t.name):e.bMT(2,3,"Select Department Firstly")," ")}}function ep(a,c){if(1&a&&(e.EFF(0),e.nI1(1,"translate"),e.nI1(2,"translate")),2&a){const t=c.$implicit;e.SpI(" ",t?e.bMT(1,1,t.name):e.bMT(2,3,"Select Employee")," ")}}function tp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",35),e.nrm(5,"i",36),e.j41(6,"input",37),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function np(a,c){if(1&a&&(e.j41(0,"th",39),e.EFF(1),e.nI1(2,"translate"),e.nrm(3,"p-treeTableSortIcon",40),e.k0s()),2&a){const t=c.$implicit;e.Y8G("ttSortableColumn",t.field),e.R7$(),e.SpI(" ",e.bMT(2,3,t.header)," "),e.R7$(2),e.Y8G("field",t.field)}}function op(a,c){if(1&a&&(e.j41(0,"tr"),e.DNE(1,np,4,5,"th",38),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function ap(a,c){if(1&a&&e.nrm(0,"p-treeTableToggler",44),2&a){const t=e.XpG(2).$implicit;e.Y8G("rowNode",t)}}function lp(a,c){if(1&a&&(e.j41(0,"td"),e.DNE(1,ap,1,1,"p-treeTableToggler",43),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&a){const t=c.$implicit,o=c.index,n=e.XpG().rowData;e.R7$(),e.Y8G("ngIf",0===o),e.R7$(2),e.SpI(" ",n[t.field]," ")}}function sp(a,c){if(1&a&&(e.j41(0,"tr",41),e.DNE(1,lp,4,2,"td",42),e.k0s()),2&a){const o=c.columns;e.Y8G("ttRow",c.$implicit),e.R7$(),e.Y8G("ngForOf",o)}}let ip=(()=>{class a{constructor(t,o,n,l){this._AllEmployeeFingerPrintsService=t,this.messageService=o,this.datePipe=n,this.translate=l,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.submitted=!1,this.productDialog=!1,this.sortField="id",this.sortOrder="asc",this.selectedEmployee=null,this.selectedPartition=null,this.selectedEmployeeManager=null,this.selectedDepartment=null,this.selectedShift=null,this.selectedJob=null,this.selectedLocation=null,this.selectedDateFrom=null,this.selectedDateTo=null}ngOnInit(){this.endPoint="FingerPrint",this.isCollapsed=!0,T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._AllEmployeeFingerPrintsService.setEndPoint(this.endPoint),this._AllEmployeeFingerPrintsService.setCulture(t),this.cols=[{field:"employeeName",header:"Employee Name"},{field:"locationName",header:"Location Names"},{field:"dateAndTime",header:"Date And Times"}],this.getAllDropDowns(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}getDistinctNumberLocations(t){let o=[];return t.map(l=>o.push(l.locationName)),[...new Set(o)].length}getTreeTable(t){return this.parentData=[],t.forEach(o=>{let n=this.getDistinctNumberLocations(o.timelocation),l={data:{employeeName:o.employeeName,dateAndTime:this.datePipe.transform(o.date,"dd/MM/yyyy"),locationName:`${n} ${this.translate.instant(n>1?"LOCATIONS":"LOCATION")}`},children:[]};o.timelocation.map(r=>{const F=this.datePipe.transform(new Date(`1970-01-01T${r.fingerprintTimes}`),"hh:mm a");l.children.push({data:{employeeName:1,dateAndTime:F,locationName:r.locationName}})}),this.parentData.push(l)}),console.log("parentData"),console.log(this.parentData),this.parentData}getAllDropDowns(){this.getDropDownFieldManager({field:"dropdownItemsEmployeeManager"}),this.getDropDownField({field:"dropdownItemsLocations",enum:"Location"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"})}getDropDownField(t){this._AllEmployeeFingerPrintsService.getDropDown(t.enum).subscribe({next:o=>{this[t.field]=o.data}})}getDropDownFieldManager(t){this._AllEmployeeFingerPrintsService.getDropDownManager().subscribe({next:o=>{this[t.field]=o.data}})}onFilterClickButton(){this.isCollapsed=!this.isCollapsed}onFilter(){let t,o;console.log(this.isCollapsed),(this.selectedDateFrom||this.selectedDateTo)&&(t=this.datePipe.transform(this.selectedDateFrom,"yyyy-MM-dd"),o=this.datePipe.transform(this.selectedDateTo,"yyyy-MM-dd")),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob,t,o)}onChangeDepartment(){}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}setFieldsNulls(){this.selectedEmployee=null,this.selectedDepartment=null,this.selectedEmployeeManager=null,this.selectedLocation=null,this.selectedShift=null,this.selectedPartition=null,this.selectedJob=null}jsonToFormData(t){const o=new FormData;return Object.keys(t).forEach(n=>{o.append(n,t[n])}),o}loadData(t,o,n,l,r,i,d,F,J,L,z,Oe,hf,gf){this.loading=!0,console.log("selected Employee"),console.log(i);let _n={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r,EmployeeId:i?.id,DepartmentId:d?.id,MangerId:F?.id,LocationId:J?.id,ShiftId:L?.id,PartationId:z?.id,JobId:Oe?.id,DateFrom:hf,DateTo:gf};_n.SortType=this.sortOrder,console.log("FilteredData From here"),console.log(_n);let _f=this.jsonToFormData(_n);this._AllEmployeeFingerPrintsService.GetPage(_f).subscribe({next:Vn=>{this.allData=Vn.data,this.getTreeTable(this.allData),this.totalItems=Vn.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}whenChangeDepartment(){this._AllEmployeeFingerPrintsService.getPartationByDepartmentId(this.selectedDepartment.id).subscribe({next:t=>{this.dropdownItemsPartition=t.data}})}whenChangeManager(){this._AllEmployeeFingerPrintsService.GetEmployeeOfMangerDropDown(this.selectedEmployeeManager.id).subscribe({next:t=>{this.dropdownItemsEmployee=t.data}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}selectSpecEmployee(t){this.selectedEmployee=t.value}selectDateTo(t){console.log(t),this.selectedDateTo=t}selectDateFrom(t){console.log(t),this.selectedDateFrom=t}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Wc),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-employees-fingerPrints"]],viewQuery:function(o,n){if(1&o&&e.GBs(Qc,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:72,vars:97,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"collapsedChange","header","toggleable","collapsed"],[1,"p-fluid","grid",3,"ngSubmit"],[1,"field","col-4"],["htmlFor","department"],["name","selectedDepartment","optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder","showClear"],["htmlFor","partition"],["optionLabel","name","name","selectedPartition",3,"ngModelChange","options","ngModel","disabled","showClear"],["pTemplate","selectedItem"],["htmlFor","EmployeeManager"],["name","selectedEmployeeManager","optionLabel","name",3,"ngModelChange","onChange","ngModel","options","showClear","placeholder"],["htmlFor","selectEmployee"],["optionLabel","name","name","selectedEmployee",3,"ngModelChange","onChange","ngModel","options","showClear","disabled"],["htmlFor","location"],["name","selectedLocation","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","shift"],["name","selectedShift","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","job"],["optionLabel","name","name","selectedJob",3,"ngModelChange","options","ngModel","placeholder","showClear"],["for","selectedDateFrom"],["name","selectedDateFrom","inputId","selectedDateFrom",3,"ngModelChange","onSelect","ngModel","iconDisplay","showIcon","placeholder"],["for","selectedDateTo"],["name","selectedDateTo","inputId","selectedDateTo",3,"ngModelChange","onSelect","ngModel","iconDisplay","showIcon","placeholder"],[1,"field","action-filter","col-12","sm:col-4","md:col-4","xl:col-2"],["type","submit","pButton","",1,"ms-5","text-center",3,"click"],[1,"pi","pi-filter"],[1,"px-2"],["selectionMode","multiple","dataKey","id",3,"onLazyLoad","value","paginator","rows","columns","totalRecords","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","",3,"ngModelChange","input","ngModel","placeholder"],[3,"ttSortableColumn",4,"ngFor","ngForOf"],[3,"ttSortableColumn"],[3,"field"],[3,"ttRow"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[3,"rowNode"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Kc,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.mxI("collapsedChange",function(i){return e.eBV(l),e.DH7(n.isCollapsed,i)||(n.isCollapsed=i),e.Njj(i)}),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return e.eBV(l),e.Njj(n.onFilter())}),e.j41(6,"div",5)(7,"label",6),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-dropdown",7),e.nI1(11,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedDepartment,i)||(n.selectedDepartment=i),e.Njj(i)}),e.bIt("onChange",function(){return e.eBV(l),e.Njj(n.whenChangeDepartment())}),e.k0s()(),e.j41(12,"div",5)(13,"label",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-dropdown",9),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedPartition,i)||(n.selectedPartition=i),e.Njj(i)}),e.DNE(17,Zc,3,5,"ng-template",10),e.k0s()(),e.j41(18,"div",5)(19,"label",11),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"p-dropdown",12),e.nI1(23,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedEmployeeManager,i)||(n.selectedEmployeeManager=i),e.Njj(i)}),e.bIt("onChange",function(){return e.eBV(l),e.Njj(n.whenChangeManager())}),e.k0s()(),e.j41(24,"div",5)(25,"label",13),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"p-dropdown",14),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedEmployee,i)||(n.selectedEmployee=i),e.Njj(i)}),e.bIt("onChange",function(i){return e.eBV(l),e.Njj(n.selectSpecEmployee(i))}),e.DNE(29,ep,3,5,"ng-template",10),e.k0s()(),e.j41(30,"div",5)(31,"label",15),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"p-dropdown",16),e.nI1(35,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedLocation,i)||(n.selectedLocation=i),e.Njj(i)}),e.k0s()(),e.j41(36,"div",5)(37,"label",17),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"p-dropdown",18),e.nI1(41,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedShift,i)||(n.selectedShift=i),e.Njj(i)}),e.k0s()(),e.j41(42,"div",5)(43,"label",19),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"p-dropdown",20),e.nI1(47,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedJob,i)||(n.selectedJob=i),e.Njj(i)}),e.k0s()(),e.j41(48,"div",5)(49,"label",21),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"p-calendar",22),e.nI1(53,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedDateFrom,i)||(n.selectedDateFrom=i),e.Njj(i)}),e.bIt("onSelect",function(i){return e.eBV(l),e.Njj(n.selectDateFrom(i))}),e.k0s()(),e.j41(54,"div",5)(55,"label",23),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"p-calendar",24),e.nI1(59,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.selectedDateTo,i)||(n.selectedDateTo=i),e.Njj(i)}),e.bIt("onSelect",function(i){return e.eBV(l),e.Njj(n.selectDateTo(i))}),e.k0s()(),e.j41(60,"div",25)(61,"button",26),e.bIt("click",function(){return e.eBV(l),e.Njj(n.onFilterClickButton())}),e.nrm(62,"i",27),e.j41(63,"span",28),e.EFF(64),e.nI1(65,"translate"),e.k0s()()()()(),e.j41(66,"p-treeTable",29,0),e.nI1(68,"translate"),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(69,tp,8,7,"ng-template",30)(70,op,2,1,"ng-template",31)(71,sp,2,2,"ng-template",32),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,59,"Filter"))("toggleable",!0),e.R50("collapsed",n.isCollapsed),e.R7$(5),e.JRh(e.bMT(9,61,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartment),e.R50("ngModel",n.selectedDepartment),e.Y8G("placeholder",e.bMT(11,63,"Select a Department"))("showClear",!0),e.R7$(4),e.JRh(e.bMT(15,65,"Partition")),e.R7$(2),e.Y8G("options",n.dropdownItemsPartition),e.R50("ngModel",n.selectedPartition),e.Y8G("disabled",!n.selectedDepartment)("showClear",!0),e.R7$(4),e.JRh(e.bMT(21,67,"Employee Managers")),e.R7$(2),e.R50("ngModel",n.selectedEmployeeManager),e.Y8G("options",n.dropdownItemsEmployeeManager)("showClear",!0)("placeholder",e.bMT(23,69,"Select Employee Manager")),e.R7$(4),e.JRh(e.bMT(27,71,"Employees")),e.R7$(2),e.R50("ngModel",n.selectedEmployee),e.Y8G("options",n.dropdownItemsEmployee)("showClear",!0)("disabled",!n.selectedEmployeeManager),e.R7$(4),e.JRh(e.bMT(33,73,"Location")),e.R7$(2),e.Y8G("options",n.dropdownItemsLocations),e.R50("ngModel",n.selectedLocation),e.Y8G("placeholder",e.bMT(35,75,"Select a Location"))("showClear",!0),e.R7$(4),e.JRh(e.bMT(39,77,"Shift")),e.R7$(2),e.Y8G("options",n.dropdownItemsShift),e.R50("ngModel",n.selectedShift),e.Y8G("placeholder",e.bMT(41,79,"Select Shift"))("showClear",!0),e.R7$(4),e.JRh(e.bMT(45,81,"Job")),e.R7$(2),e.Y8G("options",n.dropdownItemsJob),e.R50("ngModel",n.selectedJob),e.Y8G("placeholder",e.bMT(47,83,"Select Job"))("showClear",!0),e.R7$(4),e.JRh(e.bMT(51,85,"Date From")),e.R7$(2),e.R50("ngModel",n.selectedDateFrom),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(53,87,"MM/DD/YYYY")),e.R7$(4),e.JRh(e.bMT(57,89,"Date To")),e.R7$(2),e.R50("ngModel",n.selectedDateTo),e.Y8G("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(59,91,"MM/DD/YYYY")),e.R7$(6),e.SpI(" ",e.bMT(65,93,"Filter Finger Print")," "),e.R7$(2),e.Y8G("value",n.parentData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(68,95,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.cV,S.q,N.D,_.D9,M.t,m.Ei,k._f,D.y8,v.S,Y.ms,ee.Z,He.zU,He.ZH,He.lr,He.Ww,He.no,W.Vv],styles:['tr[aria-level="1"][_ngcontent-%COMP%]{background-color:#fcfcfc}.field.action-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   [_ngcontent-%COMP%]:lang(ar)   tr[aria-level="1"][_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]   [_ngcontent-%COMP%]:lang(ar)   .field.action-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-direction:row}']})}}return a})(),rp=(()=>{class a extends E.${constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const cp=["dt"],$e=()=>({width:"450px"}),ne=a=>({"null-color":a}),pp=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t}),dp=a=>({cursor:a});function mp(a,c){1&a&&e.nrm(0,"pre-loading")}function up(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",45)(1,"button",46),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptAllDialogue=!0)}),e.k0s(),e.j41(3,"button",47),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectAllDialogue=!0)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,4,"Accept All"))("disabled",t.isDisabled()),e.R7$(2),e.Y8G("label",e.bMT(4,6,"Reject All"))("disabled",t.isDisabled())}}function hp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function gp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptAllDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAcceptAll())}),e.k0s()}}function _p(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectAllDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmRejectAll())}),e.k0s()}}function bp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",51)(1,"h5",52),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",53),e.nrm(5,"i",54),e.j41(6,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter)}}function fp(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",56),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",57),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",58),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,14,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,16,"Job")),e.R7$(3),e.JRh(e.bMT(12,18,"Month")),e.R7$(3),e.JRh(e.bMT(15,20,"Year")),e.R7$(3),e.JRh(e.bMT(18,22,"Basic Amount")),e.R7$(3),e.JRh(e.bMT(21,24,"Actual Amount")),e.R7$(3),e.JRh(e.bMT(24,26,"Response Type")),e.R7$(3),e.JRh(e.bMT(27,28,"Reason")),e.R7$(3),e.JRh(e.bMT(30,30,"Notes")),e.R7$(3),e.JRh(e.bMT(33,32,"creationTime")),e.R7$(3),e.JRh(e.bMT(36,34,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(39,36,"creatorName")),e.R7$(3),e.JRh(e.bMT(42,38,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(45,40,"Actions")))}function Fp(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",59),e.k0s(),e.j41(3,"td",60)(4,"span",61),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",62)(8,"span",61),e.EFF(9,"jobName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",60)(12,"span",61),e.EFF(13,"month"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",60)(16,"span",61),e.EFF(17,"year"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",63)(20,"span",61),e.EFF(21,"basicAmount"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",63)(24,"span",61),e.EFF(25,"actualAmount"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",60)(28,"span"),e.EFF(29),e.k0s()(),e.j41(30,"td",60)(31,"span",61),e.EFF(32,"reason"),e.k0s(),e.EFF(33),e.k0s(),e.j41(34,"td",60)(35,"span",61),e.EFF(36,"notes"),e.k0s(),e.EFF(37),e.k0s(),e.j41(38,"td",60)(39,"span",61),e.EFF(40,"creationTime"),e.k0s(),e.EFF(41),e.k0s(),e.j41(42,"td",60)(43,"span",61),e.EFF(44,"lastModificationTime"),e.k0s(),e.EFF(45),e.k0s(),e.j41(46,"td",60)(47,"span",61),e.EFF(48,"creatorName"),e.k0s(),e.EFF(49),e.k0s(),e.j41(50,"td",60)(51,"span",61),e.EFF(52,"lastModifierName"),e.k0s(),e.EFF(53),e.k0s(),e.j41(54,"td")(55,"div",64)(56,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.acceptRequest(n))}),e.k0s(),e.j41(57,"button",66),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.rejectRequest(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(2),e.Y8G("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.R7$(),e.Y8G("ngClass",e.eq3(31,ne,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,ne,!t.jobName)),e.R7$(3),e.SpI(" ",t.jobName?t.jobName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,ne,!t.month)),e.R7$(3),e.SpI(" ",o.getMonthNameById(t.month)," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,ne,!t.year)),e.R7$(3),e.SpI(" ",t.year," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,ne,!t.basicAmount)),e.R7$(3),e.SpI(" ",t.basicAmount," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,ne,!t.actualAmount)),e.R7$(3),e.SpI(" ",t.actualAmount," "),e.R7$(),e.Y8G("ngClass",e.sMw(43,pp,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.R7$(2),e.SpI(" ",t.requestTypeValue," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,ne,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(49,ne,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,ne,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(53,ne,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,ne,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(57,ne,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(59,dp,0!==t.requestType?"not-allowed":"default")),e.R7$(),e.Y8G("disabled",0!==t.requestType),e.R7$(),e.Y8G("disabled",0!==t.requestType)}}function Ip(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",22)(1,"label",67),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",68),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.courseName,n)||(l.product.courseName=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",22)(7,"label",69),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",70),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateFrom,n)||(l.product.dateFrom=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",22)(13,"label",69),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-calendar",71),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateTo,n)||(l.product.dateTo=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",22)(19,"label",72),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",73),e.nI1(23,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.location,n)||(l.product.location=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",22)(25,"label",74),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"textarea",75),e.nI1(29,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,n)||(l.product.discription=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,19,"Course Name")," "),e.R7$(2),e.R50("ngModel",t.product.courseName),e.Y8G("placeholder",e.bMT(5,21,"Enter Course Name Here")),e.R7$(4),e.SpI("",e.bMT(9,23,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateFrom),e.Y8G("placeholder",e.bMT(11,25,"From")),e.R7$(4),e.SpI("",e.bMT(15,27,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateTo),e.Y8G("placeholder",e.bMT(17,29,"To")),e.R7$(4),e.JRh(e.bMT(21,31,"Location")),e.R7$(2),e.R50("ngModel",t.product.location),e.Y8G("placeholder",e.bMT(23,33,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(27,35,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.Y8G("placeholder",e.bMT(29,37,"Enter Discription Here"))}}function Rp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",76),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",77),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function yp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAccept(n.product))}),e.k0s()}}function Cp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}function Tp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let Mp=(()=>{class a{constructor(t,o,n,l,r){this.kpiService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),mangerId:new s.MJ(null),year:new s.MJ(null),month:new s.MJ(null),requestType:new s.MJ(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.gE({employeeId:new s.MJ(null),reason:new s.MJ(null),fromDay:new s.MJ(null),toDay:new s.MJ(null),missionType:new s.MJ(null),location:new s.MJ(null)}),this.items=[],this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="Kpi",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.kpiService.setCulture(t),this.kpiService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.payrollManagement.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.payrollManagement.items.${this.endPoint}`)}]}getDropDowns(){this.kpiService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.kpiService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.kpiService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.kpiService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.kpiService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;console.log(t.value);const i={...Object.fromEntries(Object.entries(t.value).filter(([F,J])=>null!==J)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.kpiService.GetPage(i).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let l=t-3;l<=n;l++)this.allYears.push(l)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,1).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,2).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(rp),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-kpi"]],viewQuery:function(o,n){if(1&o&&e.GBs(cp,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:101,vars:95,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["filter","true","optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","to"],["inputId","to","optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visibleChange","visible","modal"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModelChange","ngModel","placeholder"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModelChange","ngModel","placeholder"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"click","disabled"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModelChange","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["name","dateTo","inputId","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,mp,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.j41(5,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"p-dropdown",11),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"input",14),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",12)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-dropdown",16),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",12)(29,"label",17),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"p-dropdown",18),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",12)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"p-dropdown",20),e.nI1(39,"translate"),e.k0s(),e.j41(40,"div",21)(41,"div",22)(42,"button",23),e.nrm(43,"i",24),e.j41(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()()()()(),e.j41(47,"p-toolbar",25),e.DNE(48,up,5,8,"ng-template",26)(49,hp,2,4,"ng-template",27),e.k0s(),e.j41(50,"p-dialog",28),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptAllDialogue,i)||(n.acceptAllDialogue=i),e.Njj(i)}),e.j41(51,"div",29),e.nrm(52,"i",30),e.j41(53,"span"),e.EFF(54,"Are you sure you want to Accept All Requests ?"),e.k0s()(),e.DNE(55,gp,2,0,"ng-template",31),e.k0s(),e.j41(56,"p-dialog",32),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectAllDialogue,i)||(n.rejectAllDialogue=i),e.Njj(i)}),e.j41(57,"div",29),e.nrm(58,"i",30),e.j41(59,"span"),e.EFF(60,"Are you sure you want to Reject All Requests ?"),e.k0s()(),e.DNE(61,_p,2,0,"ng-template",31),e.k0s(),e.j41(62,"p-table",33,0),e.nI1(64,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(65,bp,7,4,"ng-template",34)(66,fp,46,42,"ng-template",35)(67,Fp,58,61,"ng-template",36),e.k0s(),e.j41(68,"p-dialog",37),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(69,Ip,30,39,"ng-template",38)(70,Rp,4,6,"ng-template",31),e.k0s(),e.j41(71,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptRequestDialogue,i)||(n.acceptRequestDialogue=i),e.Njj(i)}),e.j41(72,"div",40)(73,"div",29),e.nrm(74,"i",30),e.j41(75,"span"),e.EFF(76,"Are you sure you want to Accept ?"),e.k0s()(),e.j41(77,"div",22)(78,"label",41),e.EFF(79,"Notes"),e.k0s(),e.j41(80,"input",42),e.nI1(81,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesAccept,i)||(n.notesAccept=i),e.Njj(i)}),e.k0s()()(),e.DNE(82,yp,2,0,"ng-template",31),e.k0s(),e.j41(83,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectRequestDialogue,i)||(n.rejectRequestDialogue=i),e.Njj(i)}),e.j41(84,"div",40)(85,"div",29),e.nrm(86,"i",30),e.j41(87,"span"),e.EFF(88,"Are you sure you want to Reject ?"),e.k0s()(),e.j41(89,"div",22)(90,"label",43),e.EFF(91,"Notes"),e.k0s(),e.j41(92,"input",44),e.nI1(93,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesReject,i)||(n.notesReject=i),e.Njj(i)}),e.k0s()()(),e.DNE(94,Cp,2,0,"ng-template",31),e.k0s(),e.j41(95,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(96,"div",29),e.nrm(97,"i",30),e.j41(98,"span"),e.EFF(99,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(100,Tp,2,0,"ng-template",31),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,59,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,61,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.bMT(15,63,"Enter Employee Name Here")),e.R7$(4),e.SpI(" ",e.bMT(19,65,"Year"),""),e.R7$(2),e.Y8G("placeholder",e.bMT(21,67,"Enter Year Here")),e.R7$(4),e.SpI(" ",e.bMT(25,69,"Month"),""),e.R7$(2),e.Y8G("options",n.allMonths)("placeholder",e.bMT(27,71,"Month")),e.R7$(4),e.JRh(e.bMT(31,73,"Manager")),e.R7$(2),e.Y8G("options",n.dropdownItemsManagers)("placeholder",e.bMT(33,75,"Enter Manager Name Here")),e.R7$(4),e.JRh(e.bMT(37,77,"Response Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsRequestTypes)("placeholder",e.bMT(39,79,"Enter Response Type Here")),e.R7$(7),e.SpI(" ",e.bMT(46,81,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(89,$e)),e.R50("visible",n.acceptAllDialogue),e.Y8G("modal",!0),e.R7$(6),e.Aen(e.lJ4(90,$e)),e.R50("visible",n.rejectAllDialogue),e.Y8G("modal",!0),e.R7$(6),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(64,83,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(91,$e)),e.R50("visible",n.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(92,$e)),e.R50("visible",n.acceptRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesAccept),e.Y8G("placeholder",e.bMT(81,85,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(93,$e)),e.R50("visible",n.rejectRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesReject),e.Y8G("placeholder",e.bMT(93,87,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(94,$e)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,u.B3,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,ee.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}}return a})(),jp=(()=>{class a extends E.${constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const kp=["dt"],Ve=()=>({width:"450px"}),se=a=>({"null-color":a}),Dp=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t}),Ep=a=>({cursor:a});function Np(a,c){1&a&&e.nrm(0,"pre-loading")}function wp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",45)(1,"button",46),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptAllDialogue=!0)}),e.k0s(),e.j41(3,"button",47),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectAllDialogue=!0)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,4,"Accept All"))("disabled",t.isDisabled()),e.R7$(2),e.Y8G("label",e.bMT(4,6,"Reject All"))("disabled",t.isDisabled())}}function vp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Sp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptAllDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAcceptAll())}),e.k0s()}}function Pp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectAllDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmRejectAll())}),e.k0s()}}function xp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",51)(1,"h5",52),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",53),e.nrm(5,"i",54),e.j41(6,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter)}}function Gp(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",56),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",57),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",58),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,13,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,15,"Job")),e.R7$(3),e.JRh(e.bMT(12,17,"Date")),e.R7$(3),e.JRh(e.bMT(15,19,"Day Count")),e.R7$(3),e.JRh(e.bMT(18,21,"Amount")),e.R7$(3),e.JRh(e.bMT(21,23,"Response Type")),e.R7$(3),e.JRh(e.bMT(24,25,"Reason")),e.R7$(3),e.JRh(e.bMT(27,27,"Notes")),e.R7$(3),e.JRh(e.bMT(30,29,"creationTime")),e.R7$(3),e.JRh(e.bMT(33,31,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(36,33,"creatorName")),e.R7$(3),e.JRh(e.bMT(39,35,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(42,37,"Actions")))}function $p(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",59),e.k0s(),e.j41(3,"td",60)(4,"span",61),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",62)(8,"span",61),e.EFF(9,"jobName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",60)(12,"span",61),e.EFF(13,"date"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",60)(17,"span",61),e.EFF(18,"dayCount"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",63)(21,"span",61),e.EFF(22,"amount"),e.k0s(),e.EFF(23),e.k0s(),e.j41(24,"td",60)(25,"span"),e.EFF(26),e.k0s()(),e.j41(27,"td",60)(28,"span",61),e.EFF(29,"reason"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",60)(32,"span",61),e.EFF(33,"notes"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",60)(36,"span",61),e.EFF(37,"creationTime"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td",60)(40,"span",61),e.EFF(41,"lastModificationTime"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"td",60)(44,"span",61),e.EFF(45,"creatorName"),e.k0s(),e.EFF(46),e.k0s(),e.j41(47,"td",60)(48,"span",61),e.EFF(49,"lastModifierName"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"td")(52,"div",64)(53,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.acceptRequest(n))}),e.k0s(),e.j41(54,"button",66),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.rejectRequest(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.R7$(),e.Y8G("ngClass",e.eq3(32,se,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,se,!t.jobName)),e.R7$(3),e.SpI(" ",t.jobName?t.jobName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,se,!t.date)),e.R7$(3),e.SpI(" ",e.i5U(15,29,t.date,"MM/dd/yyyy")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(38,se,!t.dayCount)),e.R7$(3),e.SpI(" ",t.dayCount," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,se,!t.amount)),e.R7$(3),e.SpI(" ",t.amount," "),e.R7$(),e.Y8G("ngClass",e.sMw(42,Dp,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.R7$(2),e.SpI(" ",t.requestTypeValue," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,se,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(48,se,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,se,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(52,se,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(54,se,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(56,se,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(58,Ep,0!==t.requestType?"not-allowed":"default")),e.R7$(),e.Y8G("disabled",0!==t.requestType),e.R7$(),e.Y8G("disabled",0!==t.requestType)}}function Vp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",22)(1,"label",67),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",68),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.courseName,n)||(l.product.courseName=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",22)(7,"label",69),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",70),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateFrom,n)||(l.product.dateFrom=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",22)(13,"label",69),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-calendar",71),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateTo,n)||(l.product.dateTo=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",22)(19,"label",72),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",73),e.nI1(23,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.location,n)||(l.product.location=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",22)(25,"label",74),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"textarea",75),e.nI1(29,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,n)||(l.product.discription=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,19,"Course Name")," "),e.R7$(2),e.R50("ngModel",t.product.courseName),e.Y8G("placeholder",e.bMT(5,21,"Enter Course Name Here")),e.R7$(4),e.SpI("",e.bMT(9,23,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateFrom),e.Y8G("placeholder",e.bMT(11,25,"From")),e.R7$(4),e.SpI("",e.bMT(15,27,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateTo),e.Y8G("placeholder",e.bMT(17,29,"To")),e.R7$(4),e.JRh(e.bMT(21,31,"Location")),e.R7$(2),e.R50("ngModel",t.product.location),e.Y8G("placeholder",e.bMT(23,33,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(27,35,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.Y8G("placeholder",e.bMT(29,37,"Enter Discription Here"))}}function Yp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",76),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",77),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function Bp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAccept(n.product))}),e.k0s()}}function Ap(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}function Jp(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let qp=(()=>{class a{constructor(t,o,n,l,r){this.penaltiesAndDeductionService=t,this.messageService=o,this.translate=n,this.route=l,this.DatePipe=r,this.items=[],this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!1,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.ids=[],this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),mangerId:new s.MJ(null),dateFrom:new s.MJ,dateTo:new s.MJ(null),requestType:new s.MJ(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.gE({employeeId:new s.MJ(null),reason:new s.MJ(null),fromDay:new s.MJ(null),toDay:new s.MJ(null),missionType:new s.MJ(null),location:new s.MJ(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.payrollManagement.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.payrollManagement.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="PenaltiesAndDeduction",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.penaltiesAndDeductionService.setCulture(t),this.penaltiesAndDeductionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}getDropDowns(){this.penaltiesAndDeductionService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t);let o={id:t.id,requestType:1,notes:this.notesAccept};this.loading=!0,this.penaltiesAndDeductionService.updateRequestType(o).subscribe({next:n=>{this.loading=!1,console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}}),this.notesAccept=""}confirmReject(t){console.log(t);let o={id:t.id,requestType:2,notes:this.notesReject};this.loading=!0,this.penaltiesAndDeductionService.updateRequestType(o).subscribe({next:n=>{this.loading=!1,console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.penaltiesAndDeductionService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this.penaltiesAndDeductionService.DeleteRange(t).subscribe({next:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.loading=!1,this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value,n={...t.value,dateFrom:this.DatePipe.transform(t.value.dateFrom,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(t.value.dateTo,"yyyy-MM-dd")};console.log(t.value);const d={...Object.fromEntries(Object.entries(n).filter(([J,L])=>null!==L)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&(this.loading=!0,this.penaltiesAndDeductionService.GetPage(d).subscribe({next:F=>{this.loading=!1,this.allData=F.data,console.log(F.data)},error:F=>{this.loading=!1,console.log(F)}})),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let l=t-3;l<=n;l++)this.allYears.push(l)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),console.log(this.ids),this.loading=!0,this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,1).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:t=>{this.loading=!1}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),this.loading=!0,this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,2).subscribe({next:t=>{this.loading=!1,console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:t=>{console.log(t)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(jp),e.rXU(m.bg),e.rXU(_.c$),e.rXU(U.nX),e.rXU(u.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-penalties-and-deduction"]],viewQuery:function(o,n){if(1&o&&e.GBs(kp,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:101,vars:98,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["name","from","inputId","from","formControlName","dateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["name","to","inputId","to","formControlName","dateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visibleChange","visible","modal"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModelChange","ngModel","placeholder"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModelChange","ngModel","placeholder"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"click","disabled"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModelChange","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["name","dateTo","inputId","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Np,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.j41(5,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"p-dropdown",11),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"p-calendar",14),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",12)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-calendar",16),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",12)(29,"label",17),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"p-dropdown",18),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",12)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"p-dropdown",20),e.nI1(39,"translate"),e.k0s(),e.j41(40,"div",21)(41,"div",22)(42,"button",23),e.nrm(43,"i",24),e.j41(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()()()()(),e.j41(47,"p-toolbar",25),e.DNE(48,wp,5,8,"ng-template",26)(49,vp,2,4,"ng-template",27),e.k0s(),e.j41(50,"p-dialog",28),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptAllDialogue,i)||(n.acceptAllDialogue=i),e.Njj(i)}),e.j41(51,"div",29),e.nrm(52,"i",30),e.j41(53,"span"),e.EFF(54,"Are you sure you want to Accept All Requests ?"),e.k0s()(),e.DNE(55,Sp,2,0,"ng-template",31),e.k0s(),e.j41(56,"p-dialog",32),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectAllDialogue,i)||(n.rejectAllDialogue=i),e.Njj(i)}),e.j41(57,"div",29),e.nrm(58,"i",30),e.j41(59,"span"),e.EFF(60,"Are you sure you want to Reject All Requests ?"),e.k0s()(),e.DNE(61,Pp,2,0,"ng-template",31),e.k0s(),e.j41(62,"p-table",33,0),e.nI1(64,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(65,xp,7,4,"ng-template",34)(66,Gp,43,39,"ng-template",35)(67,$p,55,60,"ng-template",36),e.k0s(),e.j41(68,"p-dialog",37),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(69,Vp,30,39,"ng-template",38)(70,Yp,4,6,"ng-template",31),e.k0s(),e.j41(71,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptRequestDialogue,i)||(n.acceptRequestDialogue=i),e.Njj(i)}),e.j41(72,"div",40)(73,"div",29),e.nrm(74,"i",30),e.j41(75,"span"),e.EFF(76,"Are you sure you want to Accept ?"),e.k0s()(),e.j41(77,"div",22)(78,"label",41),e.EFF(79,"Notes"),e.k0s(),e.j41(80,"input",42),e.nI1(81,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesAccept,i)||(n.notesAccept=i),e.Njj(i)}),e.k0s()()(),e.DNE(82,Bp,2,0,"ng-template",31),e.k0s(),e.j41(83,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectRequestDialogue,i)||(n.rejectRequestDialogue=i),e.Njj(i)}),e.j41(84,"div",40)(85,"div",29),e.nrm(86,"i",30),e.j41(87,"span"),e.EFF(88,"Are you sure you want to Reject ?"),e.k0s()(),e.j41(89,"div",22)(90,"label",43),e.EFF(91,"Notes"),e.k0s(),e.j41(92,"input",44),e.nI1(93,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesReject,i)||(n.notesReject=i),e.Njj(i)}),e.k0s()()(),e.DNE(94,Ap,2,0,"ng-template",31),e.k0s(),e.j41(95,"p-dialog",39),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(96,"div",29),e.nrm(97,"i",30),e.j41(98,"span"),e.EFF(99,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(100,Jp,2,0,"ng-template",31),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,62,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,64,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.bMT(15,66,"Enter Employee Name Here")),e.R7$(4),e.SpI(" ",e.bMT(19,68,"From"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(21,70,"From")),e.R7$(4),e.SpI(" ",e.bMT(25,72,"To"),""),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input")("placeholder",e.bMT(27,74,"To")),e.R7$(4),e.JRh(e.bMT(31,76,"Manager")),e.R7$(2),e.Y8G("options",n.dropdownItemsManagers)("placeholder",e.bMT(33,78,"Enter Manager Name Here")),e.R7$(4),e.JRh(e.bMT(37,80,"Response Type")),e.R7$(2),e.Y8G("options",n.dropdownItemsRequestTypes)("placeholder",e.bMT(39,82,"Enter Response Type Here")),e.R7$(7),e.SpI(" ",e.bMT(46,84,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(92,Ve)),e.R50("visible",n.acceptAllDialogue),e.Y8G("modal",!0),e.R7$(6),e.Aen(e.lJ4(93,Ve)),e.R50("visible",n.rejectAllDialogue),e.Y8G("modal",!0),e.R7$(6),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(64,86,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(94,Ve)),e.R50("visible",n.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(95,Ve)),e.R50("visible",n.acceptRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesAccept),e.Y8G("placeholder",e.bMT(81,88,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(96,Ve)),e.R50("visible",n.rejectRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesReject),e.Y8G("placeholder",e.bMT(93,90,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(97,Ve)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,u.B3,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,ee.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}}return a})(),Op=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Lp=["dt"],Ct=()=>({width:"450px"}),_e=a=>({"null-color":a});function Xp(a,c){1&a&&e.nrm(0,"pre-loading")}function Hp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"button",39),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",40),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New Bonus")),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Up(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",41),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function zp(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",42),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",22)(2,"label",43),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p-dropdown",44),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",22)(8,"label",45),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",46),e.nI1(12,"translate"),e.bIt("onChange",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.changeMonth(n))}),e.k0s()(),e.j41(13,"div",22)(14,"label",47),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",18),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",22)(20,"label",47),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",48),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",22)(26,"label",47),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",49),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",22),e.nrm(32,"button",50),e.nI1(33,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,18,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.bMT(6,20,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(10,22,"Month")),e.R7$(2),e.Y8G("options",t.allMonths)("placeholder",e.bMT(12,24,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,26,"Year")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,28,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,30,"Value")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,32,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,34,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,36,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(33,38,"Insert New"))}}function Wp(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",51)(1,"h5",52),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",53),e.nrm(5,"i",54),e.j41(6,"input",55),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Qp(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",56),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",57),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",58),e.k0s(),e.j41(7,"th",59),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.SpI(" ",e.bMT(9,12,"Month")," "),e.R7$(3),e.JRh(e.bMT(12,14,"Year")),e.R7$(3),e.JRh(e.bMT(15,16,"Value")),e.R7$(3),e.JRh(e.bMT(18,18,"Notes")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function Kp(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",60),e.k0s(),e.j41(3,"td",61)(4,"span",62),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",61)(8,"span",62),e.EFF(9,"monthName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",61)(12,"span",62),e.EFF(13,"year"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",61)(16,"span",62),e.EFF(17,"Value"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",61)(20,"span",62),e.EFF(21,"notes"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",61)(24,"span",62),e.EFF(25,"creationTime"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",61)(28,"span",62),e.EFF(29,"lastModificationTime"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",61)(32,"span",62),e.EFF(33,"creatorName"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",61)(36,"span",62),e.EFF(37,"lastModifierName"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td")(40,"div",63)(41,"button",64),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(42,"button",65),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(19,_e,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,_e,!t.name)),e.R7$(3),e.SpI(" ",t.monthName?t.monthName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,_e,!t.hoursNumber)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,_e,!t.value)),e.R7$(3),e.SpI(" ",t.value?t.value:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,_e,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,_e,!t.creationTime)),e.R7$(3),e.SpI(" ",t.creationTime?t.creationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,_e,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,_e,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,_e,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Zp(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",66),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",22)(2,"label",67),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",68),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",22)(8,"label",69),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",70),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",22)(14,"label",71),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",72),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",22)(20,"label",73),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",74),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",22)(26,"label",75),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",76),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",77)(32,"button",78),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",79),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function ed(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function td(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",80),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",81),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function nd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",80),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",81),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let od=(()=>{class a{constructor(t,o,n){this.bonusService=t,this.messageService=o,this.translate=n,this.selectedEmployee=null,this.selectedManager=null,this.selectedVacationType=null,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.items=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),mangerId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null),year:new s.MJ(null)}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.payrollManagement.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.payrollManagement.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="Bouns",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.bonusService.setCulture(t),this.bonusService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.bonusService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.selectedYear=null}editProduct(t){this.bonusService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.bonusService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this.bonusService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.bonusService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.bonusService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.bonusService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);const r={...Object.fromEntries(Object.entries(t.value).filter(([d,F])=>null!==F)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(r),"VALID"==t.status&&this.bonusService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i.data)},error:i=>{console.log(i)}})}getDropDowns(){this.bonusService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.bonusService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Op),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-bonus"]],viewQuery:function(o,n){if(1&o&&e.GBs(Lp,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:76,vars:97,consts:[["dt",""],[4,"ngIf"],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon"," pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],["htmlFor","Employee"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"onChange","options","placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","value","type","number",3,"placeholder"],["pInputText","","formControlName","notes",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Xp,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-panel",3),e.nI1(4,"translate"),e.j41(5,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"p-dropdown",11),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",12)(17,"label",13),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"p-dropdown",14),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",12)(23,"label",15),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"p-dropdown",16),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",12)(29,"label",17),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"input",18),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",12)(35,"label",19),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.nrm(38,"p-dropdown",20),e.nI1(39,"translate"),e.k0s(),e.j41(40,"div",21)(41,"div",22)(42,"button",23),e.nrm(43,"i",24),e.j41(44,"span"),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()()()()(),e.j41(47,"p-toolbar",25),e.DNE(48,Hp,5,7,"ng-template",26)(49,Up,2,4,"ng-template",27),e.k0s(),e.j41(50,"p-dialog",28),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(52,zp,34,40,"ng-template",29),e.k0s(),e.j41(53,"p-table",30,0),e.nI1(55,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(56,Wp,8,7,"ng-template",31)(57,Qp,34,30,"ng-template",32)(58,Kp,43,37,"ng-template",33),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(61,Zp,36,47,"ng-template",29),e.k0s(),e.j41(62,"p-dialog",34),e.nI1(63,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(64,"div",35),e.nrm(65,"i",36),e.DNE(66,ed,6,4,"span",1),e.k0s(),e.DNE(67,td,4,6,"ng-template",37),e.k0s(),e.j41(68,"p-dialog",34),e.nI1(69,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(70,"div",35),e.nrm(71,"i",36),e.j41(72,"span"),e.EFF(73),e.nI1(74,"translate"),e.k0s()(),e.DNE(75,nd,4,6,"ng-template",37),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(4,57,"Filter"))("toggleable",!0)("collapsed",!0),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(13,59,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(15,61,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(19,63,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(21,65,"Select a Department")),e.R7$(4),e.JRh(e.bMT(25,67,"Month")),e.R7$(2),e.Y8G("options",n.allMonths)("placeholder",e.bMT(27,69,"Select a Month")),e.R7$(4),e.JRh(e.bMT(31,71,"Year")),e.R7$(2),e.Y8G("placeholder",e.bMT(33,73,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(37,75,"Manager")),e.R7$(2),e.Y8G("options",n.dropdownItemsManagers)("placeholder",e.bMT(39,77,"Enter Manager Name Here")),e.R7$(7),e.SpI(" ",e.bMT(46,79,"Filter")," "),e.R7$(5),e.Aen(e.lJ4(93,Ct)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(51,81,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(55,83,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(94,Ct)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(60,85,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(95,Ct)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(63,87,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(96,Ct)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(69,89,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(74,91,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})();const ad=["manageItems"],ld=()=>({width:"450px"});function sd(a,c){1&a&&e.nrm(0,"pre-loading")}function id(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"h6"),e.EFF(2),e.k0s(),e.j41(3,"div",9)(4,"label"),e.EFF(5," Requirement : "),e.nrm(6,"input",32),e.k0s()(),e.j41(7,"button",33),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG();return e.Njj(l.removeLateSetting(n))}),e.k0s()()}if(2&a){const t=c.index;e.Y8G("formGroupName",t),e.R7$(2),e.SpI("Requirement ",t+1," :")}}function rd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"p-fileUpload",35),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onSelect(n))}),e.k0s()()}2&a&&(e.R7$(),e.Y8G("chooseLabel",e.bMT(2,1,"Choose Image")))}function cd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",36),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",37),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateImage())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}let pd=(()=>{class a{constructor(t,o,n,l,r,i,d,F){this.internalJobService=t,this.messageService=o,this.DatePipe=n,this.router=l,this.route=r,this.activatedRoute=i,this.translate=d,this.fb=F,this.editForm=new s.gE({id:new s.MJ({value:this.currentId,disabled:!0}),jobRequirements:this.fb.array([]),status:new s.MJ,description:new s.MJ(null,[s.k0.required]),nameOfJob:new s.MJ(null,[s.k0.required]),date:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null,[s.k0.required])}),this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="InternalJob",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.translate.use(t),this.internalJobService.setCulture(t),this.internalJobService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getData().pipe((0,En.M)(t=>{this.allData=t.data,this.patchFormValues(this.allData),console.log("Data fetched:",this.allData)}),(0,Nn.T)(t=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.nameOfJob=t.nameOfJob,this.description=t.description,this.notes=t.notes,this.date=this.DatePipe.transform(t.date,"MM/dd/yyyy hh:mm:ss a"),this.status=!!t.status,this.patchFormData(t.jobRequirements),console.log(this.status)}submitForm(t){t.get("id").enable(),t.patchValue({status:t.get("status").value?1:0,date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")}),console.log(t),this.internalJobService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message}),console.log(o),this.editForm.get("id").disable(),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}onGovernmentChange(t){console.log(t)}getData(){return this.internalJobService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get jobRequirements(){return this.editForm.get("jobRequirements")}createLateSettingGroup(t){return this.fb.group({requirement:[t.requirement,s.k0.required]})}patchFormData(t){this.jobRequirements.clear(),t.forEach(o=>{this.jobRequirements.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({requirement:[null,s.k0.required]})}addLateSetting(){this.editForm.get("jobRequirements").push(this.createLateSettingGroupAdd())}removeLateSetting(t){this.editForm.get("jobRequirements").removeAt(t)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(kn),e.rXU(m.bg),e.rXU(u.vh),e.rXU(U.Ix),e.rXU(U.nX),e.rXU(U.nX),e.rXU(_.c$),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-internal-jobs-edit"]],viewQuery:function(o,n){if(1&o&&e.GBs(ad,5),2&o){let l;e.mGM(l=e.lsd())&&(n.manageItems=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([u.vh,m.bg]),e.aNF],decls:54,vars:53,consts:[[4,"ngIf"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","id",3,"ngModelChange","ngModel"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameOfJob",3,"ngModelChange","ngModel"],["htmlFor","description"],["pInputText","","id","description","formControlName","description",3,"ngModelChange","placeholder","ngModel"],["htmlFor","notes"],["pInputText","","id","notes","formControlName","notes",3,"ngModelChange","placeholder","ngModel"],["htmlFor","date"],["inputId","date","formControlName","date",3,"ngModelChange","showTime","ngModel","showSeconds","hourFormat","iconDisplay","showIcon","placeholder"],[1,"field","field-switch","col-12","md:col-4"],["htmlFor","status"],["id","status","formControlName","status",3,"ngModelChange","ngModel"],["formArrayName","jobRequirements",1,"jobRequirements","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit",3,"disabled"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","requirement","pInputText",""],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-image","name","demo[]","accept","image/*","maxFileSize","1000000",1,"p-button-info","p-button-text",3,"onSelect","chooseLabel"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,sd,1,0,"pre-loading",0),e.j41(2,"form",1),e.bIt("submit",function(){return n.submitForm(n.editForm)}),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",8),e.mxI("ngModelChange",function(r){return e.DH7(n.currentId,r)||(n.currentId=r),r}),e.k0s()(),e.j41(12,"div",9)(13,"label",10),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"input",11),e.mxI("ngModelChange",function(r){return e.DH7(n.nameOfJob,r)||(n.nameOfJob=r),r}),e.k0s()(),e.j41(17,"div",9)(18,"label",12),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"input",13),e.nI1(22,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.description,r)||(n.description=r),r}),e.k0s()(),e.j41(23,"div",9)(24,"label",14),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",15),e.nI1(28,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.notes,r)||(n.notes=r),r}),e.k0s()(),e.j41(29,"div",9)(30,"label",16),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"p-calendar",17),e.nI1(34,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.date,r)||(n.date=r),r}),e.k0s()(),e.j41(35,"div",18)(36,"label",19),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"p-inputSwitch",20),e.mxI("ngModelChange",function(r){return e.DH7(n.status,r)||(n.status=r),r}),e.k0s()(),e.j41(40,"div",21),e.DNE(41,id,8,2,"div",22),e.j41(42,"button",23),e.bIt("click",function(){return n.addLateSetting()}),e.k0s()(),e.j41(43,"div",24)(44,"div",25)(45,"button",26),e.nrm(46,"i",27),e.j41(47,"span"),e.EFF(48),e.nI1(49,"translate"),e.k0s()()()()()()()()(),e.j41(50,"p-dialog",28),e.nI1(51,"translate"),e.mxI("visibleChange",function(r){return e.DH7(n.uploadImageDialog,r)||(n.uploadImageDialog=r),r}),e.DNE(52,rd,3,3,"ng-template",29)(53,cd,4,6,"ng-template",30),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("formGroup",n.editForm),e.R7$(7),e.JRh(e.bMT(10,30,"Id")),e.R7$(2),e.R50("ngModel",n.currentId),e.R7$(3),e.JRh(e.bMT(15,32,"Name Of Job")),e.R7$(2),e.R50("ngModel",n.nameOfJob),e.R7$(3),e.JRh(e.bMT(20,34,"Description")),e.R7$(2),e.Y8G("placeholder",e.bMT(22,36,"Enter Description Here")),e.R50("ngModel",n.description),e.R7$(4),e.JRh(e.bMT(26,38,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(28,40,"Enter Notes Here")),e.R50("ngModel",n.notes),e.R7$(4),e.JRh(e.bMT(32,42,"Date")),e.R7$(2),e.Y8G("showTime",!0),e.R50("ngModel",n.date),e.Y8G("showSeconds",!0)("hourFormat","12")("iconDisplay","input")("showIcon",!0)("placeholder",e.bMT(34,44,"MM/DD/YYYY")),e.R7$(4),e.SpI("",e.bMT(38,46,"Status")," "),e.R7$(2),e.R50("ngModel",n.status),e.R7$(2),e.Y8G("ngForOf",n.jobRequirements.controls),e.R7$(4),e.Y8G("disabled",n.editForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(49,48,"Save")," "),e.R7$(2),e.Aen(e.lJ4(52,ld)),e.R50("visible",n.uploadImageDialog),e.Y8G("header",e.bMT(51,50,"Update Profile Image"))("modal",!0))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8,S.q,_.D9,M.t,m.Ei,P.n,X.N,k._f,x.l,D.y8,v.S,W.Vv,ae.HW,W.rO,s.X1],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.jobRequirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:24px}"]})}}return a})(),dd=(()=>{class a extends E.${constructor(t){super(t)}updateHrAccept(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const md=["dt"],Tt=()=>({width:"450px"}),oe=a=>({"null-color":a}),ud=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t});function hd(a,c){1&a&&e.nrm(0,"pre-loading")}function gd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",21),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _d(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",22)(1,"h5",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",24),e.nrm(5,"i",25),e.j41(6,"input",26),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function bd(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",27),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",28),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",29),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,14,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,16,"Job")),e.R7$(3),e.JRh(e.bMT(12,18,"Last Working Date")),e.R7$(3),e.JRh(e.bMT(15,20,"Resignation Reason")),e.R7$(3),e.JRh(e.bMT(18,22,"Response Type")),e.R7$(3),e.JRh(e.bMT(21,24,"Manager Notes")),e.R7$(3),e.JRh(e.bMT(24,26,"HR Notes")),e.R7$(3),e.JRh(e.bMT(27,28,"Manager Approve")),e.R7$(3),e.JRh(e.bMT(30,30,"HR Approve")),e.R7$(3),e.JRh(e.bMT(33,32,"creationTime")),e.R7$(3),e.JRh(e.bMT(36,34,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(39,36,"creatorName")),e.R7$(3),e.JRh(e.bMT(42,38,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(45,40,"HR Accept")))}function fd(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",30),e.k0s(),e.j41(3,"td",31)(4,"span",32),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",33)(8,"span",32),e.EFF(9,"jobName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",31)(12,"span",32),e.EFF(13,"lastWorkingDate"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",31)(17,"span",32),e.EFF(18,"resignationReason"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"td",31)(21,"span"),e.EFF(22),e.k0s()(),e.j41(23,"td",34)(24,"span",32),e.EFF(25,"managerNotes"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",34)(28,"span",32),e.EFF(29,"hrNotes"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",34)(32,"span",32),e.EFF(33,"isApprovedByManager"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",34)(36,"span",32),e.EFF(37,"isApprovedByHR"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td",31)(40,"span",32),e.EFF(41,"creationTime"),e.k0s(),e.EFF(42),e.nI1(43,"date"),e.k0s(),e.j41(44,"td",31)(45,"span",32),e.EFF(46,"lastModificationTime"),e.k0s(),e.EFF(47),e.nI1(48,"date"),e.k0s(),e.j41(49,"td",31)(50,"span",32),e.EFF(51,"creatorName"),e.k0s(),e.EFF(52),e.k0s(),e.j41(53,"td",31)(54,"span",32),e.EFF(55,"lastModifierName"),e.k0s(),e.EFF(56),e.k0s(),e.j41(57,"td")(58,"div",35)(59,"button",36),e.nI1(60,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.acceptRequest(n))}),e.k0s(),e.j41(61,"button",37),e.nI1(62,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.rejectRequest(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",0==t.status?t:t.status)("disabled",0!==t.status),e.R7$(),e.Y8G("ngClass",e.eq3(43,oe,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,oe,!t.jobName)),e.R7$(3),e.SpI(" ",t.jobName?t.jobName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,oe,!t.lastWorkingDate)),e.R7$(3),e.SpI(" ",e.i5U(15,30,t.lastWorkingDate,"MM/dd/yyyy HH:mm:ss")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(49,oe,!t.resignationReason)),e.R7$(3),e.SpI(" ",t.resignationReason," "),e.R7$(),e.Y8G("ngClass",e.sMw(51,ud,2==(null==t?null:t.status),4==(null==t?null:t.status),4!==(null==t?null:t.status)&&2!==(null==t?null:t.status))),e.R7$(2),e.SpI(" ",t.statusValue," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,oe,!t.managerNotes)),e.R7$(3),e.SpI(" ",t.managerNotes," "),e.R7$(),e.Y8G("ngClass",e.eq3(57,oe,!t.hrNotes)),e.R7$(3),e.SpI(" ",t.hrNotes," "),e.R7$(),e.Y8G("ngClass",e.eq3(59,oe,!t.isApprovedByManager)),e.R7$(3),e.SpI(" ",t.isApprovedByManager," "),e.R7$(),e.Y8G("ngClass",e.eq3(61,oe,!t.isApprovedByHR)),e.R7$(3),e.SpI(" ",t.isApprovedByHR," "),e.R7$(),e.Y8G("ngClass",e.eq3(63,oe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(43,33,t.creationTime,"MM/dd/yyyy HH:mm:ss")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(65,oe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(48,36,t.lastModificationTime,"MM/dd/yyyy HH:mm:ss")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(67,oe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(69,oe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(3),e.Y8G("label",e.bMT(60,39,"Accept")),e.R7$(2),e.Y8G("label",e.bMT(62,41,"Reject"))}}function Fd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"label",38),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"input",39),e.nI1(5,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.courseName,n)||(l.product.courseName=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",16)(7,"label",40),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"p-calendar",41),e.nI1(11,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateFrom,n)||(l.product.dateFrom=n),e.Njj(n)}),e.k0s()(),e.j41(12,"div",16)(13,"label",40),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-calendar",42),e.nI1(17,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.dateTo,n)||(l.product.dateTo=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",16)(19,"label",43),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",44),e.nI1(23,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.location,n)||(l.product.location=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",16)(25,"label",45),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"textarea",46),e.nI1(29,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.discription,n)||(l.product.discription=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,19,"Course Name")," "),e.R7$(2),e.R50("ngModel",t.product.courseName),e.Y8G("placeholder",e.bMT(5,21,"Enter Course Name Here")),e.R7$(4),e.SpI("",e.bMT(9,23,"Date From")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateFrom),e.Y8G("placeholder",e.bMT(11,25,"From")),e.R7$(4),e.SpI("",e.bMT(15,27,"Date To")," "),e.R7$(2),e.Y8G("showIcon",!0)("iconDisplay","input"),e.R50("ngModel",t.product.dateTo),e.Y8G("placeholder",e.bMT(17,29,"To")),e.R7$(4),e.JRh(e.bMT(21,31,"Location")),e.R7$(2),e.R50("ngModel",t.product.location),e.Y8G("placeholder",e.bMT(23,33,"Enter Location Here")),e.R7$(4),e.JRh(e.bMT(27,35,"Discription")),e.R7$(2),e.R50("ngModel",t.product.discription),e.Y8G("placeholder",e.bMT(29,37,"Enter Discription Here"))}}function Id(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",47),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(2,"button",48),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.product))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Save")))}function Rd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAccept(n.product))}),e.k0s()}}function yd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}function Cd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let Td=(()=>{class a{constructor(t,o,n,l,r){this.resignationService=t,this.messageService=o,this.route=n,this.DatePipe=l,this.translate=r,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),mangerId:new s.MJ(null),dateFrom:new s.MJ,dateTo:new s.MJ(null),requestType:new s.MJ(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.gE({employeeId:new s.MJ(null),reason:new s.MJ(null),fromDay:new s.MJ(null),toDay:new s.MJ(null),missionType:new s.MJ(null),location:new s.MJ(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="Resignation",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationService.setCulture(t),this.resignationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t);let o={id:t.id,isAccepting:!0,notes:this.notesAccept};const n=new FormData;for(const l in o)o.hasOwnProperty(l)&&n.append(l,o[l]);this.resignationService.updateHrAccept(n).subscribe({next:l=>{l.success&&(console.log(l),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3})),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t);let o={id:t.id,isAccepting:!1,notes:this.notesReject};const n=new FormData;for(const l in o)o.hasOwnProperty(l)&&n.append(l,o[l]);this.resignationService.updateHrAccept(n).subscribe({next:l=>{l.success&&(console.log(l),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3})),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.resignationService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.messageService.add({severity:"error",summary:"Error",detail:d,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.resignationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;t.patchValue({employeeId:this.selectedEmployee?.id??null,mangerId:this.selectedManager?.id??null,requestType:this.selectedRequstType?.id??null,dateFrom:this.DatePipe.transform(this.filterForm.get("dateFrom").value,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(this.filterForm.get("dateTo").value,"yyyy-MM-dd")}),console.log(t.value);const i={...Object.fromEntries(Object.entries(t.value).filter(([F,J])=>null!==J)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.resignationService.GetPage(i).subscribe({next:d=>{this.allData=d.data,console.log(d.data)},error:d=>{console.log(d)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let l=t-3;l<=n;l++)this.allYears.push(l)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(dd),e.rXU(m.bg),e.rXU(U.nX),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-resignation"]],viewQuery:function(o,n){if(1&o&&e.GBs(md,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:44,vars:41,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"notes-container"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModelChange","ngModel","placeholder"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[3,"ngClass"],[1,"p-column-title"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-outlined","p-button-success",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"click","label"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModelChange","ngModel","placeholder"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["name","dateTo","inputId","dateTo",3,"ngModelChange","showIcon","iconDisplay","ngModel","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModelChange","ngModel","placeholder"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,hd,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,gd,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-table",5,0),e.nI1(7,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(8,_d,8,7,"ng-template",6)(9,bd,46,42,"ng-template",7)(10,fd,63,71,"ng-template",8),e.k0s(),e.j41(11,"p-dialog",9),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(12,Fd,30,39,"ng-template",10)(13,Id,4,6,"ng-template",11),e.k0s(),e.j41(14,"p-dialog",12),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptRequestDialogue,i)||(n.acceptRequestDialogue=i),e.Njj(i)}),e.j41(15,"div",13)(16,"div",14),e.nrm(17,"i",15),e.j41(18,"span"),e.EFF(19,"Are you sure you want to Accept ?"),e.k0s()(),e.j41(20,"div",16)(21,"label",17),e.EFF(22,"Notes"),e.k0s(),e.j41(23,"input",18),e.nI1(24,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesAccept,i)||(n.notesAccept=i),e.Njj(i)}),e.k0s()()(),e.DNE(25,Rd,2,0,"ng-template",11),e.k0s(),e.j41(26,"p-dialog",12),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectRequestDialogue,i)||(n.rejectRequestDialogue=i),e.Njj(i)}),e.j41(27,"div",13)(28,"div",14),e.nrm(29,"i",15),e.j41(30,"span"),e.EFF(31,"Are you sure you want to Reject ?"),e.k0s()(),e.j41(32,"div",16)(33,"label",19),e.EFF(34,"Notes"),e.k0s(),e.j41(35,"input",20),e.nI1(36,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesReject,i)||(n.notesReject=i),e.Njj(i)}),e.k0s()()(),e.DNE(37,yd,2,0,"ng-template",11),e.k0s(),e.j41(38,"p-dialog",12),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(39,"div",14),e.nrm(40,"i",15),e.j41(41,"span"),e.EFF(42,"Are you sure you want to delete selected products?"),e.k0s()(),e.DNE(43,Cd,2,0,"ng-template",11),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(7,31,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(37,Tt)),e.R50("visible",n.productDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(38,Tt)),e.R50("visible",n.acceptRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesAccept),e.Y8G("placeholder",e.bMT(24,33,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(39,Tt)),e.R50("visible",n.rejectRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesReject),e.Y8G("placeholder",e.bMT(36,35,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(40,Tt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.me,s.BC,s.YS,s.vS,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,W.Vv,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}}return a})(),Md=(()=>{class a{constructor(t){this.translate=t,this.customVar=!0,this.translate.onLangChange.subscribe(()=>{this.updateTranslationsCustom()}),this.updateTranslationsCustom()}ngOnInit(){this.endPoint="LoanTypes",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.translate.onLangChange.subscribe(()=>{this.updateTranslationsCustom()}),this.updateTranslationsCustom()})}updateTranslationsCustom(){this.breadItems=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-loan-types"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:1,vars:2,consts:[["endPoint","LoanTypes",3,"items","custom"]],template:function(o,n){1&o&&e.nrm(0,"app-std-paginations-with-popup",0),2&o&&e.Y8G("items",n.breadItems)("custom",n.customVar)},dependencies:[Z]})}}return a})(),jd=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t,o){return this.http.get(o?`${this.baseurl}/${t}/getDropDown/?CategoryId=${o}&culture=${this.culture}`:`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}registerRange(t){return this.http.post(`${this.baseurl}/AssetCoordinator/RegisterRange?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function kd(a,c){1&a&&e.nrm(0,"pre-loading")}let Dd=(()=>{class a{constructor(t,o,n){this.setAssetCoordinatorService=t,this.messageService=o,this.translate=n,this.loading=!1,this.selectedEmployeeIds=[]}ngOnInit(){this.endPoint="AssetCoordinator",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.setAssetCoordinatorService.setCulture(t),this.setAssetCoordinatorService.setEndPoint(this.endPoint),this.getALlDropDown(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getDropDownField(t){this.loading=!0,this.setAssetCoordinatorService.getDropdownField(t.enum).subscribe({next:o=>{this.loading=!1,this[t.field]=o.data},error:o=>{this.loading=!0,console.log(`error in ${t.field}`),console.log(o)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.employeeProfiles.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.employeeProfiles.items.${this.endPoint}`)}]}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"CovenantCategory"})}ChangeEmployees(t){console.log(t.id),this.loading=!0,this.setAssetCoordinatorService.getDropdownField("AssetCoordinator",t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,this.loading=!1,this.selectedEmployeeIds=[],this.selectedEmployee=this.dropdownItemsEmployee.filter(n=>!!n.isCoordinator&&(this.selectedEmployeeIds.push(n.employeeId),!0)),console.log(this.selectedEmployee)},error:o=>{this.loading=!1,console.log(o)}})}onSelectEmployees(t){this.selectedEmployee=t.value,this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.employeeId)}),console.log("Selected Employees:",this.selectedEmployeeIds)}registerSubmit(){let t={covenantCategoryId:this.selectedDepartment.id,employeesIds:this.selectedEmployeeIds};console.log(t),this.loading=!0,this.setAssetCoordinatorService.registerRange(t).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"Assets Coordinator Assigned successfully",life:3e3}),this.loading=!1},error:o=>{console.log(o),this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(jd),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-set-asset-coordinator"]],standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:32,vars:25,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"p-fluid","grid"],[1,"field","col-12"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder"],[1,"field","col-12","md:col-12"],[1,"p-fluid","p-formgrid","grid"],["htmlFor","employee"],["name","selectedEmployees","optionLabel","employeeName",3,"ngModelChange","onChange","options","ngModel","showToggleAll","placeholder"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["pButton","","value","Save",1,"flex","justify-content-center",3,"click"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,kd,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",6)(10,"div",7)(11,"div",6)(12,"div",8)(13,"label",9),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"p-dropdown",10),e.nI1(17,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedDepartment,r)||(n.selectedDepartment=r),r}),e.bIt("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.k0s()()()(),e.j41(18,"div",11)(19,"div",12)(20,"div",8)(21,"label",13),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"p-multiSelect",14),e.nI1(25,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedEmployee,r)||(n.selectedEmployee=r),r}),e.bIt("onChange",function(r){return n.onSelectEmployees(r)}),e.k0s()(),e.j41(26,"div",15)(27,"div",6)(28,"div",16)(29,"button",17),e.bIt("click",function(){return n.registerSubmit()}),e.EFF(30),e.nI1(31,"translate"),e.k0s()()()()()()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,13,"Assign Assets Coordinators")),e.R7$(7),e.JRh(e.bMT(15,15,"Assets Category")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartment),e.R50("ngModel",n.selectedDepartment),e.Y8G("placeholder",e.bMT(17,17,"Select Assets Category")),e.R7$(6),e.JRh(e.bMT(23,19,"Assets Coordinators")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployee),e.R50("ngModel",n.selectedEmployee),e.Y8G("showToggleAll",!1)("placeholder",e.bMT(25,21,"Select Assets Coordinators")),e.R7$(6),e.SpI(" ",e.bMT(31,23,"Save")," "))},dependencies:[C.$,u.bT,s.BC,s.vS,S.q,N.D,_.D9,M.t,k._f,D.y8,Y.ms,tt.KF]})}}return a})(),Ed=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Nd=["dt"],Mt=()=>({width:"450px"}),Ye=a=>({"null-color":a}),wn=a=>({"ng-invalid ng-dirty":a});function wd(a,c){1&a&&e.nrm(0,"pre-loading")}function vd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",19),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Sd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",20),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Pd(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",24),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",22)(8,"label",25),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",26),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",22)(14,"label",27),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",28),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",22),e.nrm(20,"button",29),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,9,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,11,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,15,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,17,"value")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,19,"Enter value Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(21,21,"Insert New"))}}function xd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h5",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",32),e.nrm(5,"i",33),e.j41(6,"input",34),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Gd(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",35),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",36),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",37),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,7,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,9,"value")),e.R7$(3),e.JRh(e.bMT(12,11,"creationTime")),e.R7$(3),e.JRh(e.bMT(15,13,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(18,15,"creatorName")),e.R7$(3),e.JRh(e.bMT(21,17,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(24,19,"Actions")))}function $d(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",38),e.k0s(),e.j41(3,"td",39)(4,"span",40),e.EFF(5,"name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",40),e.EFF(9,"value"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39)(12,"span",40),e.EFF(13,"creationTime"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",39)(17,"span",40),e.EFF(18,"lastModificationTime"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"td",39)(22,"span",40),e.EFF(23,"creatorName"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",39)(26,"span",40),e.EFF(27,"lastModifierName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td")(30,"div",41)(31,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(32,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(19,Ye,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,Ye,!t.value)),e.R7$(3),e.SpI(" ",t.value," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,Ye,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(15,13,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(25,Ye,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(20,16,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(27,Ye,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,Ye,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Vd(a,c){1&a&&(e.j41(0,"small",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function Yd(a,c){1&a&&(e.j41(0,"small",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function Bd(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",21),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",22)(2,"label",44),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",45),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,Vd,3,3,"small",46),e.k0s(),e.j41(7,"div",22)(8,"label",47),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,Yd,3,3,"small",46),e.k0s(),e.j41(13,"div",22)(14,"label",49),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"textarea",50),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",51)(19,"button",52),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(21,"button",53),e.nI1(22,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,14,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(24,wn,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,16,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(26,wn,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,18,"value")),e.R7$(2),e.R50("ngModel",t.product.value),e.R7$(2),e.Y8G("label",e.bMT(20,20,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(22,22,"Save"))("disabled",t.editForm.invalid)}}function Ad(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Jd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",56),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function qd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",56),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Od=(()=>{class a{constructor(t,o,n){this._AllowanceService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),value:new s.MJ(0,[s.k0.required])}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),value:new s.MJ(0,[s.k0.required])})}ngOnInit(){this.endPoint="Allowance",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._AllowanceService.setCulture(t),this._AllowanceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"value",header:"Value"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}editProduct(t){console.log(t.id),this._AllowanceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._AllowanceService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._AllowanceService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,"name",this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newvalue=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._AllowanceService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id,value:Number(o.value)}),this._AllowanceService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._AllowanceService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ed),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-allowance"]],viewQuery:function(o,n){if(1&o&&e.GBs(Nd,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:31,vars:46,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"totalRecordsChange","selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-value"],["pInputText","","formControlName","value","id","new-value","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","value"],["id","value","pInputTextarea","","formControlName","value","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,wd,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,vd,5,7,"ng-template",4)(5,Sd,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Pd,22,23,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("totalRecordsChange",function(i){return e.eBV(l),e.DH7(n.totalItems,i)||(n.totalItems=i),e.Njj(i)})("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,xd,8,7,"ng-template",9)(13,Gd,25,21,"ng-template",10)(14,$d,33,31,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Bd,23,28,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Ad,6,4,"span",1),e.k0s(),e.DNE(23,Jd,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",16),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,qd,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,Mt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols),e.R50("totalRecords",n.totalItems)("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,Mt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,36,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,Mt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,Mt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),Ld=(()=>{class a extends E.${constructor(t){super(t)}register(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register/?culture=${this.culture}`,t)}getData(){return this.http.get(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Xd=(()=>{class a{constructor(t,o,n){this._CompanyBasicDataService=t,this.messageService=o,this.translate=n,this.companyData=new s.gE({companyName:new s.MJ(null,s.k0.required),companyAddress:new s.MJ(null,s.k0.required),companyPhone:new s.MJ(null,s.k0.required),hrEmail:new s.MJ(null,s.k0.required),payRollAccountantPhone:new s.MJ(null,s.k0.required)}),this.company={companyName:"",companyAddress:"",companyPhone:"",hrEmail:"",payRollAccountantPhone:""}}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="CompanyBasicData",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._CompanyBasicDataService.setCulture(t),this._CompanyBasicDataService.setEndPoint(this.endPoint),this.getCompanyDate(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getCompanyDate(){this._CompanyBasicDataService.getData().subscribe({next:t=>{this.company=t.data}})}registerData(t){t.valid&&this._CompanyBasicDataService.register(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ld),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-company-basic-data"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:42,vars:44,consts:[[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"submit","formGroup"],[1,"field","col-12"],["htmlFor","companyName"],["pInputText","","formControlName","companyName","id","companyName","type","text",3,"ngModelChange","placeholder","ngModel"],["htmlFor","companyAddress"],["pInputText","","formControlName","companyAddress","id","companyAddress","type","text",3,"ngModelChange","placeholder","ngModel"],["htmlFor","companyPhone"],["pInputText","","formControlName","companyPhone","id","companyPhone","type","text",3,"ngModelChange","placeholder","ngModel"],["htmlFor","hrEmail"],["pInputText","","formControlName","hrEmail","id","hrEmail","type","text",3,"ngModelChange","placeholder","ngModel"],["htmlFor","PayRollAccountantPhone"],["pInputText","","formControlName","payRollAccountantPhone","id","PayRollAccountantPhone","type","text",3,"ngModelChange","placeholder","ngModel"],["pButton","","type","submit",1,"w-25",3,"disabled","label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast")(1,"app-breadcrumb",0),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",5),e.bIt("submit",function(){return n.registerData(n.companyData)}),e.j41(9,"div",6)(10,"label",7),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"input",8),e.nI1(14,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.company.companyName,r)||(n.company.companyName=r),r}),e.k0s()(),e.j41(15,"div",6)(16,"label",9),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"input",10),e.nI1(20,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.company.companyAddress,r)||(n.company.companyAddress=r),r}),e.k0s()(),e.j41(21,"div",6)(22,"label",11),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"input",12),e.nI1(26,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.company.companyPhone,r)||(n.company.companyPhone=r),r}),e.k0s()(),e.j41(27,"div",6)(28,"label",13),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"input",14),e.nI1(32,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.company.hrEmail,r)||(n.company.hrEmail=r),r}),e.k0s()(),e.j41(33,"div",6)(34,"label",15),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"input",16),e.nI1(38,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.company.payRollAccountantPhone,r)||(n.company.payRollAccountantPhone=r),r}),e.k0s()(),e.j41(39,"div",6),e.nrm(40,"button",17),e.nI1(41,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(7,20,"COMPANYBASICDATA")),e.R7$(2),e.Y8G("formGroup",n.companyData),e.R7$(3),e.SpI("",e.bMT(12,22,"companyName")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(14,24,"Enter companyName Here")),e.R50("ngModel",n.company.companyName),e.R7$(4),e.SpI("",e.bMT(18,26,"companyAddress")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(20,28,"Enter companyAddress Here")),e.R50("ngModel",n.company.companyAddress),e.R7$(4),e.SpI("",e.bMT(24,30,"companyPhone")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(26,32,"Enter companyPhone Here")),e.R50("ngModel",n.company.companyPhone),e.R7$(4),e.SpI("",e.bMT(30,34,"hrEmail")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(32,36,"Enter hrEmail Here")),e.R50("ngModel",n.company.hrEmail),e.R7$(4),e.SpI("",e.bMT(36,38,"PayRollAccountantPhone")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(38,40,"Enter PayRollAccountantPhone Here")),e.R50("ngModel",n.company.payRollAccountantPhone),e.R7$(3),e.Y8G("disabled",n.companyData.invalid)("label",e.bMT(41,42,"Send")))},dependencies:[C.$,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,N.D,_.D9,M.t,k._f,D.y8,v.S]})}}return a})(),Hd=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Ud=["dt"],jt=()=>({width:"450px"});function zd(a,c){1&a&&e.nrm(0,"pre-loading")}function Wd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Qd(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Kd(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployee,n)||(l.selectedEmployee=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedAllowance,n)||(l.selectedAllowance=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",26),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",28),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",30),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",20)(32,"button",31),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew())}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,18,"Select Employee")),e.R7$(2),e.Y8G("options",t.dropdownItemsEmployee),e.R50("ngModel",t.selectedEmployee),e.Y8G("placeholder",e.bMT(6,20,"All Employees")),e.R7$(4),e.JRh(e.bMT(10,22,"allowance")),e.R7$(2),e.Y8G("options",t.allowanceDropDown),e.R50("ngModel",t.selectedAllowance),e.Y8G("placeholder",e.bMT(12,24,"Select Allowance"))("showClear",!0),e.R7$(4),e.JRh(e.bMT(16,26,"year")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,28,"Enter Year")),e.R7$(4),e.JRh(e.bMT(22,30,"month")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,32,"Enter Month")),e.R7$(4),e.JRh(e.bMT(28,34,"Value")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,36,"Enter Value")),e.R7$(3),e.Y8G("disabled",!t.addNewForm.valid)("label",e.bMT(33,38,"Insert New"))}}function Zd(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function em(a,c){1&a&&(e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,6,"Employee")),e.R7$(3),e.JRh(e.bMT(8,8,"Allowance")),e.R7$(3),e.JRh(e.bMT(11,10,"Year")),e.R7$(3),e.JRh(e.bMT(14,12,"Month")),e.R7$(3),e.JRh(e.bMT(17,14,"Value")),e.R7$(3),e.JRh(e.bMT(20,16,"Actions")))}function tm(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",38),e.k0s(),e.j41(3,"td")(4,"span",39),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"span",39),e.EFF(9,"allowanceName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"span",39),e.EFF(13,"year"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"span",39),e.EFF(17,"month"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td")(20,"span",39),e.EFF(21,"value"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td")(24,"div",40)(25,"button",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(26,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(4),e.SpI(" ",t.allowanceName?t.allowanceName:""," "),e.R7$(4),e.SpI(" ",t.year?t.year:""," "),e.R7$(4),e.SpI(" ",t.month?t.month:""," "),e.R7$(4),e.SpI(" ",t.value?t.value:""," ")}}function nm(a,c){1&a&&(e.j41(0,"small",50),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"allowance is required.")))}function om(a,c){1&a&&(e.j41(0,"small",50),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"year is required.")))}function am(a,c){1&a&&(e.j41(0,"small",50),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Month is required.")))}function lm(a,c){1&a&&(e.j41(0,"small",50),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"value is required.")))}function sm(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19)(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",22),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedEmployeeEdit,n)||(l.selectedEmployeeEdit=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",24),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedAllowanceEdit,n)||(l.selectedAllowanceEdit=n),e.Njj(n)}),e.k0s(),e.DNE(13,nm,3,3,"small",43),e.k0s(),e.j41(14,"div",20)(15,"label",25),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"input",44),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s(),e.DNE(19,om,3,3,"small",43),e.k0s(),e.j41(20,"div",20)(21,"label",27),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"input",45),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s(),e.DNE(25,am,3,3,"small",43),e.k0s(),e.j41(26,"div",20)(27,"label",29),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s(),e.DNE(31,lm,3,3,"small",43),e.k0s(),e.j41(32,"div",47)(33,"button",48),e.nI1(34,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(35,"button",49),e.nI1(36,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Select Employee")),e.R7$(2),e.Y8G("options",t.dropdownItemsEmployee),e.R50("ngModel",t.selectedEmployeeEdit),e.Y8G("placeholder",e.bMT(6,25,"All Employees")),e.R7$(4),e.JRh(e.bMT(10,27,"allowance")),e.R7$(2),e.Y8G("options",t.allowanceDropDown),e.R50("ngModel",t.selectedAllowanceEdit),e.Y8G("placeholder",e.bMT(12,29,"Select Allowance"))("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.submitted&&!t.product.allowanceId),e.R7$(3),e.JRh(e.bMT(17,31,"year")),e.R7$(2),e.R50("ngModel",t.product.year),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.year),e.R7$(3),e.JRh(e.bMT(23,33,"month")),e.R7$(2),e.R50("ngModel",t.product.month),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.month),e.R7$(3),e.JRh(e.bMT(29,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.value),e.R7$(2),e.Y8G("label",e.bMT(34,37,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(36,39,"Save"))("disabled",!t.editForm.valid)}}function im(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function rm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",52),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function cm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",51),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",52),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let pm=(()=>{class a{constructor(t,o,n){this._MonthlyAllowenceService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.items=[]}ngOnInit(){this.endPoint="AllowanceValues",T.R.getMainLangChanges().subscribe(t=>{this._MonthlyAllowenceService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"allowanceName",header:"Allowance"},{field:"year",header:"Year"},{field:"month",header:"Month"},{field:"value",header:"Value"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownEmployee(),this.getDropDownAllowance(),this.initFormGroups(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.payrollManagement.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.payrollManagement.items.${this.endPoint}`)}]}initFormGroups(){this.addNewForm=new s.gE({employeeId:new s.MJ(null,s.k0.required),allowanceId:new s.MJ(null,s.k0.required),year:new s.MJ(null,s.k0.required),month:new s.MJ(null,s.k0.required),value:new s.MJ(null,s.k0.required)}),this.editForm=new s.gE({id:new s.MJ(null,s.k0.required),employeeId:new s.MJ(null,s.k0.required),allowanceId:new s.MJ(null,s.k0.required),year:new s.MJ(null,s.k0.required),month:new s.MJ(null,s.k0.required),value:new s.MJ(null,s.k0.required)})}getDropDownEmployee(){this._MonthlyAllowenceService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getDropDownAllowance(){this._MonthlyAllowenceService.getDropDown("Allowance").subscribe({next:t=>{console.log(t),this.allowanceDropDown=t.data,console.log(this.allowanceDropDown)}})}editProduct(t){console.log("edit works"),this._MonthlyAllowenceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.selectedAllowanceEdit=this.allowanceDropDown.find(n=>n.id==this.product.allowanceId),this.editForm.patchValue({id:this.product.id})}})}confirmDelete(t){this._MonthlyAllowenceService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee?.id,allowanceId:this.selectedAllowance?.id,month:Number(this.addNewForm.get("month").value),year:Number(this.addNewForm.get("year").value),value:Number(this.addNewForm.get("value").value)}),this.addNewForm.valid&&this._MonthlyAllowenceService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,t.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedEmployee=null,this.selectedEmployeeEdit=null,this.selectedAllowance=null,this.selectedAllowanceEdit=null,this.addNewForm.patchValue({year:null,month:null,value:null})}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,console.log("FilteredData"),console.log(i),this._MonthlyAllowenceService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:()=>{this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(){this.submitted=!0,this.editForm.valid?(console.log("edited Form here =====================> ",this.editForm.value),this.editForm.patchValue({employeeId:this.selectedEmployeeEdit?.id,allowanceId:this.selectedAllowanceEdit?.id,month:Number(this.editForm.get("month").value),year:Number(this.editForm.get("year").value),value:Number(this.editForm.get("value").value)}),this._MonthlyAllowenceService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})):console.log("Form Not Valid because body is : ",this.editForm.value)}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_`+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._MonthlyAllowenceService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Hd),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-monthly-allowence"]],viewQuery:function(o,n){if(1&o&&e.GBs(Ud,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,Pe.C]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[3,"formGroup"],[1,"field"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModelChange","options","ngModel","placeholder"],["htmlFor","allowance"],["formControlName","allowanceId","optionLabel","name",3,"ngModelChange","options","ngModel","placeholder","showClear"],["htmlFor","year"],["type","text","pInputText","","formControlName","year",3,"placeholder"],["htmlFor","month"],["type","text","pInputText","","formControlName","month",3,"placeholder"],["htmlFor","value"],["type","text","pInputText","","formControlName","value",3,"placeholder"],["pButton","",1,"w-25",3,"click","disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","text","pInputText","","formControlName","year",3,"ngModelChange","ngModel"],["type","text","pInputText","","formControlName","month",3,"ngModelChange","ngModel"],["type","text","pInputText","","formControlName","value",3,"ngModelChange","ngModel"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,zd,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Wd,3,3,"ng-template",4)(5,Qd,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Kd,34,40,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Zd,8,7,"ng-template",9)(13,em,21,18,"ng-template",10)(14,tm,27,6,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,sm,37,41,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,im,6,4,"span",1),e.k0s(),e.DNE(23,rm,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,cm,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,jt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,jt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,jt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,jt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,G.m]})}}return a})(),dm=(()=>{class a extends E.${constructor(t){super(t)}register(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register/?culture=${this.culture}`,t)}getData(){return this.http.get(`${this.baseurl}/${this.endPoint}/GetForDashboard/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function mm(a,c){1&a&&e.nrm(0,"pre-loading")}function um(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"label"),e.EFF(4," Arabic Instruction: "),e.k0s(),e.nrm(5,"input",17),e.k0s(),e.j41(6,"div",16)(7,"label"),e.EFF(8," English Instruction: "),e.k0s(),e.nrm(9,"input",18),e.k0s(),e.j41(10,"div",16)(11,"button",19),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG();return e.Njj(l.removeInstruction(n))}),e.EFF(12,"Remove"),e.k0s()()()()}2&a&&e.Y8G("formGroupName",c.index)}let hm=(()=>{class a{constructor(t,o,n){this.fb=t,this._ResignationSettingService=o,this.messageService=n,this.resignationForm=new s.gE({noticePeriodInDays:new s.MJ(null,s.k0.required),resignationInstructions:this.fb.array([])}),this.resignData={},this.loading=!1,this.endPoint="ResignationSetting"}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ResignationSettingService.setCulture(t),this._ResignationSettingService.setEndPoint(this.endPoint),this.getResignDate()})}getResignDate(){this.loading=!0,this._ResignationSettingService.getData().subscribe({next:t=>{let o=t.data;console.log(o),this.loading=!1,o&&(this.resignationForm.patchValue({noticePeriodInDays:o.noticePeriodInDays||null}),o.resignationInstructions&&Array.isArray(o.resignationInstructions)&&o.resignationInstructions.forEach(n=>{this.resignationInstructionsArray.push(new s.gE({instructionArabic:new s.MJ(n.instructionArabic||null,[s.k0.required]),instructionEnglish:new s.MJ(n.instructionEnglish||null,[s.k0.required])}))}))},error:t=>{console.log(t)}})}get resignationInstructionsArray(){return this.resignationForm.get("resignationInstructions")}addInstruction(){const t=this.fb.group({instructionArabic:[null,s.k0.required],instructionEnglish:[null,s.k0.required]});this.resignationInstructionsArray.push(t)}removeInstruction(t){this.resignationInstructionsArray.removeAt(t)}registerData(t){t.valid&&(this.loading=!0,this._ResignationSettingService.register(t.value).subscribe({next:o=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Success",detail:o.message,life:3e3})},error:()=>{this.loading=!1}}))}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(s.ok),e.rXU(dm),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-resignation-setting"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:23,vars:19,consts:[[4,"ngIf"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit","formGroup"],[1,"field","col-12"],["for","noticePeriodInDays"],["pInputText","","formControlName","noticePeriodInDays","id","noticePeriodInDays","type","text",3,"placeholder"],["formArrayName","resignationInstructions",1,"field","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"field","col-12","custom"],["pButton","","type","button","icon","pi pi-plus",1,"bordered-pill","col-12","p-button-sm","p-button-success","mt-2",3,"click","label"],["pButton","","pButton","","type","submit",1,"w-25",3,"disabled","label"],[3,"formGroupName"],[1,"md:flex","gap-2","align-items-end","m-0"],[1,"field"],["pInputText","","formControlName","instructionArabic",1,"mt-2"],["pInputText","","formControlName","instructionEnglish",1,"mt-2"],["pButton","","type","button",3,"click"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,mm,1,0,"pre-loading",0),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return n.registerData(n.resignationForm)}),e.j41(9,"div",6)(10,"label",7),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"input",8),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",9),e.DNE(16,um,13,1,"div",10),e.k0s(),e.j41(17,"div",11)(18,"button",12),e.nI1(19,"translate"),e.bIt("click",function(){return n.addInstruction()}),e.k0s()(),e.j41(20,"div",6),e.nrm(21,"button",13),e.nI1(22,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(5),e.JRh(e.bMT(7,9,"Resignation Setting")),e.R7$(2),e.Y8G("formGroup",n.resignationForm),e.R7$(3),e.JRh(e.bMT(12,11,"noticePeriodInDays")),e.R7$(2),e.Y8G("placeholder",e.bMT(14,13,"Enter noticePeriodInDays Here")),e.R7$(3),e.Y8G("ngForOf",n.resignationInstructionsArray.controls),e.R7$(2),e.Y8G("label",e.bMT(19,15,"Add Instruction")),e.R7$(3),e.Y8G("disabled",n.resignationForm.invalid)("label",e.bMT(22,17,"Send")))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.$R,s.v8,S.q,_.D9,M.t,k._f,D.y8,v.S],styles:[".bordered-pill[_ngcontent-%COMP%]{border-radius:50px}.field.custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;width:-moz-fit-content;width:fit-content;gap:5px}.field.custom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f36f28;color:#fff;transition:.3s}  .field.custom button .p-button-icon{padding:5px 0 0;margin:0}"]})}}return a})(),gm=(()=>{class a extends E.${constructor(t){super(t)}SendNotificationToAll(t){return this.http.post(`${this.baseurl}/${this.endPoint}/SendNotificationToAll?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function _m(a,c){1&a&&e.nrm(0,"pre-loading")}let bm=(()=>{class a{constructor(t,o,n){this.sendToAllNotificationService=t,this.messageService=o,this.translate=n,this.loading=!1,this.sendAllNotificationForm=new s.gE({title:new s.MJ(null,[s.k0.required]),titleEng:new s.MJ(null,[s.k0.required]),body:new s.MJ(null,[s.k0.required]),bodyEng:new s.MJ(null,[s.k0.required]),isOpened:new s.MJ(!1)})}ngOnInit(){this.endPoint="Notification",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.sendToAllNotificationService.setCulture(t),this.sendToAllNotificationService.setEndPoint(this.endPoint),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.notifications.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.notifications.items.${this.endPoint}`)}]}sendAllNotification(t){let o={...t.value,isOpened:!0};this.loading=!0,this.sendToAllNotificationService.SendNotificationToAll(o).subscribe({next:n=>{this.loading=!1,n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"Notification sent successfully !",life:3e3}),t.reset())},error:()=>{this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(gm),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-send-notification-to-all"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:37,vars:34,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"submit","formGroup"],[1,"field","col-12"],["htmlFor","name-ar"],["pInputText","","formControlName","title","id","name-ar","type","text",3,"placeholder"],["pInputText","","formControlName","titleEng","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","body","id","name-en","type","text",3,"placeholder"],["pInputText","","formControlName","bodyEng","id","name-en","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,_m,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("submit",function(){return n.sendAllNotification(n.sendAllNotificationForm)}),e.j41(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"input",9),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",7)(17,"label",8),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.nrm(20,"input",10),e.nI1(21,"translate"),e.k0s(),e.j41(22,"div",7)(23,"label",11),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"input",12),e.nI1(27,"translate"),e.k0s(),e.j41(28,"div",7)(29,"label",11),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.nrm(32,"input",13),e.nI1(33,"translate"),e.k0s(),e.j41(34,"div",7),e.nrm(35,"button",14),e.nI1(36,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,14,"Notify All Employees")),e.R7$(2),e.Y8G("formGroup",n.sendAllNotificationForm),e.R7$(3),e.SpI("",e.bMT(13,16,"Arabic Title")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(15,18,"Enter Arabic Title Here")),e.R7$(4),e.SpI("",e.bMT(19,20,"English Title")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(21,22,"Enter English Title Here")),e.R7$(4),e.SpI("",e.bMT(25,24,"Arabic Body")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(27,26,"Enter Arabic Body Here")),e.R7$(4),e.SpI("",e.bMT(31,28,"English Body")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(33,30,"Enter English Body Here")),e.R7$(3),e.Y8G("disabled",n.sendAllNotificationForm.invalid)("label",e.bMT(36,32,"Send")))},dependencies:[C.$,u.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,S.q,N.D,_.D9,M.t,k._f,D.y8,v.S]})}}return a})(),fm=(()=>{class a extends E.${constructor(t){super(t)}DeleteSoftById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Fm=["dt"],kt=()=>({width:"450px"}),Re=a=>({"null-color":a}),Dt=a=>({"ng-invalid ng-dirty":a});function Im(a,c){1&a&&e.nrm(0,"pre-loading")}function Rm(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",18),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ym(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Cm(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",23),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",25),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",21)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",27),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",21)(20,"label",28),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",29),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",21)(26,"label",30),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"textarea",31),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",21),e.nrm(32,"button",32),e.nI1(33,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,15,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,17,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,19,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,21,"Employee Percent")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,23,"Enter Employee Percent Here")),e.R7$(4),e.JRh(e.bMT(22,25,"Company Percent")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,27,"Enter Company Percent Here")),e.R7$(4),e.JRh(e.bMT(28,29,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,31,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(33,33,"Insert New"))}}function Tm(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"h5",34),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",35),e.nrm(5,"i",36),e.j41(6,"input",37),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Mm(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",38),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",39),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",40),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,9,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,11,"Employee Percent")),e.R7$(3),e.JRh(e.bMT(12,13,"Company Percent")),e.R7$(3),e.JRh(e.bMT(15,15,"Notes")),e.R7$(3),e.JRh(e.bMT(18,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(21,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(24,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(27,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(30,25,"Actions")))}function jm(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",41),e.k0s(),e.j41(3,"td",42)(4,"span",43),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",42)(8,"span",43),e.EFF(9,"employeePercent"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",42)(12,"span",43),e.EFF(13,"companyPercent"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",42)(16,"span",43),e.EFF(17,"Notes"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",42)(20,"span",43),e.EFF(21,"creationTime"),e.k0s(),e.EFF(22),e.nI1(23,"date"),e.k0s(),e.j41(24,"td",42)(25,"span",43),e.EFF(26,"lastModificationTime"),e.k0s(),e.EFF(27),e.nI1(28,"date"),e.k0s(),e.j41(29,"td",42)(30,"span",43),e.EFF(31,"creatorName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",42)(34,"span",43),e.EFF(35,"lastModifierName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td")(38,"div",44)(39,"button",45),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(40,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(23,Re,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,Re,!t.employeePercent)),e.R7$(3),e.SpI(" ",t.employeePercent?t.employeePercent+"%":""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,Re,!t.companyPercent)),e.R7$(3),e.SpI(" ",t.companyPercent?t.companyPercent+"%":""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,Re,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,Re,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(23,17,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,Re,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(28,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(35,Re,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,Re,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function km(a,c){1&a&&(e.j41(0,"small",61),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function Dm(a,c){1&a&&(e.j41(0,"small",61),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function Em(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",47),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,km,3,3,"small",49),e.k0s(),e.j41(7,"div",21)(8,"label",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,Dm,3,3,"small",49),e.k0s(),e.j41(13,"div",21)(14,"label",52),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeePercent,n)||(l.product.employeePercent=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",21)(19,"label",54),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.companyPercent,n)||(l.product.companyPercent=n),e.Njj(n)}),e.k0s()(),e.j41(23,"div",21)(24,"label",56),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"textarea",57),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(28,"div",58)(29,"button",59),e.nI1(30,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(31,"button",60),e.nI1(32,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,20,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(34,Dt,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,22,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(36,Dt,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,24,"Employee Percent")),e.R7$(2),e.R50("ngModel",t.product.employeePercent),e.Y8G("ngClass",e.eq3(38,Dt,t.submitted&&!t.product.employeePercent)),e.R7$(3),e.JRh(e.bMT(21,26,"Company Percent")),e.R7$(2),e.R50("ngModel",t.product.companyPercent),e.Y8G("ngClass",e.eq3(40,Dt,t.submitted&&!t.product.companyPercent)),e.R7$(3),e.JRh(e.bMT(26,28,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(30,30,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(32,32,"Save"))}}function Nm(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function wm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",62),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",63),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function vm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",64),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",65),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}const Sm=a=>(a.get("companyPercent")?.value||0)+(a.get("employeePercent")?.value||0)<=100?null:{percentExceed100:!0};let Pm=(()=>{class a{constructor(t,o,n){this.insuranceConfigService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),companyPercent:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),employeePercent:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),notes:new s.MJ(null)},{validators:Sm}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),companyPercent:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),employeePercent:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),notes:new s.MJ(null)})}ngOnInit(){this.endPoint="InsuranceConfiguration",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.insuranceConfigService.setCulture(t),this.insuranceConfigService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}editProduct(t){console.log(t.id),this.insuranceConfigService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.insuranceConfigService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.insuranceConfigService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.insuranceConfigService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.insuranceConfigService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.insuranceConfigService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(fm),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-insurance-config"]],viewQuery:function(o,n){if(1&o&&e.GBs(Fm,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","employeePercent","id","new-longitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","companyPercent","id","new-latitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","latitude"],["formControlName","employeePercent","type","number","pInputText","","id","latitude","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","longitude"],["formControlName","companyPercent","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Im,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Rm,5,7,"ng-template",4)(5,ym,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Cm,34,35,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Tm,8,7,"ng-template",9)(13,Mm,31,27,"ng-template",10)(14,jm,41,39,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Em,33,42,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Nm,6,4,"span",1),e.k0s(),e.DNE(23,wm,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,vm,2,0,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,kt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,kt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,kt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,kt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.VZ,s.zX,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),xm=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Gm=["dt"],Et=()=>({width:"450px"}),De=a=>({"null-color":a}),ln=a=>({"ng-invalid ng-dirty":a});function $m(a,c){1&a&&e.nrm(0,"pre-loading")}function Vm(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}2&a&&(e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ","Loan Policy"))))}function Ym(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Bm(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",22),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",24),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",26),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"textarea",28),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20),e.nrm(26,"button",29),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,11,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,13,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,15,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,17,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,19,"Number Of Months")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,21,"Enter Number Of Months Here")),e.R7$(4),e.JRh(e.bMT(22,23,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,25,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(27,27,"Insert New"))}}function Am(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h5",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",32),e.nrm(5,"i",33),e.j41(6,"input",34),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Jm(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",35),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",36),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",37),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"Number Of Months")),e.R7$(3),e.JRh(e.bMT(12,12,"Notes")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function qm(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",38),e.k0s(),e.j41(3,"td",39)(4,"span",40),e.EFF(5,"Name"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",40),e.EFF(9,"numOFMonths"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39)(12,"span",40),e.EFF(13,"Notes"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",39)(16,"span",40),e.EFF(17,"creationTime"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",39)(21,"span",40),e.EFF(22,"lastModificationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",39)(26,"span",40),e.EFF(27,"creatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",39)(30,"span",40),e.EFF(31,"lastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",41)(35,"button",42),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(36,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(21,De,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,De,!t.numOFMonths)),e.R7$(3),e.SpI(" ",t.numOFMonths?t.numOFMonths:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,De,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,De,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(19,15,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,De,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,18,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,De,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,De,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Om(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",20)(2,"label",44),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",45),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s()(),e.j41(6,"div",20)(7,"label",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"input",47),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s()(),e.j41(11,"div",20)(12,"label",48),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.numOFMonths,n)||(l.product.numOFMonths=n),e.Njj(n)}),e.k0s()(),e.j41(16,"div",20)(17,"label",50),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"textarea",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(21,"div",52)(22,"button",53),e.nI1(23,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(24,"button",54),e.nI1(25,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,15,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(27,ln,t.submitted&&!t.product.name)),e.R7$(3),e.JRh(e.bMT(9,17,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(29,ln,t.submitted&&!t.product.engName)),e.R7$(3),e.JRh(e.bMT(14,19,"Number Of Months")),e.R7$(2),e.R50("ngModel",t.product.numOFMonths),e.Y8G("ngClass",e.eq3(31,ln,t.submitted&&!t.product.numOFMonths)),e.R7$(3),e.JRh(e.bMT(19,21,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(23,23,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(25,25,"Save"))}}function Lm(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Xm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",56),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Hm(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}let Um=(()=>{class a{constructor(t,o,n){this.loanPolicyService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),numOFMonths:new s.MJ(null,[s.k0.required,s.k0.min(0)]),notes:new s.MJ(null)}),this.editForm=new s.gE({engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),numOFMonths:new s.MJ(null,[s.k0.required,s.k0.min(0)]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="RepaymentTerms",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanPolicyService.setCulture(t),this.loanPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}editProduct(t){console.log(t.id),this.loanPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanPolicyService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.loanPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.loanPolicyService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanPolicyService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanPolicyService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(xm),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-loan-policy"]],viewQuery:function(o,n){if(1&o&&e.GBs(Gm,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","numOFMonths","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","latitude"],["formControlName","numOFMonths","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,$m,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Vm,3,3,"ng-template",4)(5,Ym,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Bm,28,29,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Am,8,7,"ng-template",9)(13,Jm,28,24,"ng-template",10)(14,qm,37,35,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,Om,26,33,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,Lm,6,4,"span",1),e.k0s(),e.DNE(23,Xm,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Hm,2,0,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,Et)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,Et)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,Et)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,Et)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),zm=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Wm(a,c){1&a&&e.nrm(0,"pre-loading")}let Qm=(()=>{class a{constructor(t,o,n){this.messageService=t,this.loanSettingsService=o,this.translate=n,this.loading=!1,this.loansConfigForm=new s.gE({name:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),loansIsOpened:new s.MJ(null,[s.k0.required]),loansPerSalary:new s.MJ(null,[s.k0.required]),numOfMonthsOfHiringDate:new s.MJ(null,[s.k0.required]),maximumLoanAmount:new s.MJ(null,[s.k0.required]),termsAgreement:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null,[s.k0.required])})}ngOnInit(){this.endPoint="LoanSettings",this.loanSettingsService.setEndPoint("LoansConfiguration"),T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanSettingsService.setCulture(t),this.loanSettingsService.setEndPoint("LoansConfiguration"),this.loading=!0,this.loanSettingsService.GetAll({}).subscribe({next:o=>{this.loading=!1;let n=o.data[o.data.length-1];console.log(n),n&&this.loansConfigForm.patchValue({name:n.name||null,engName:n.engName||null,loansIsOpened:n.loansIsOpened||null,loansPerSalary:n.loansPerSalary||null,numOfMonthsOfHiringDate:n.numOfMonthsOfHiringDate||null,maximumLoanAmount:n.maximumLoanAmount||null,termsAgreement:n.termsAgreement||null,notes:n.notes||null,id:n.id||null})},error:()=>{this.loading=!1}}),this.loanSettingsService.GetAll({}).subscribe({next:o=>{let n=o.data[o.data.length-1];console.log(n),this.loading=!1,n&&this.loansConfigForm.patchValue({name:n.name||null,loansIsOpened:n.loansIsOpened||null,loansPerSalary:n.loansPerSalary||null,numOfMonthsOfHiringDate:n.numOfMonthsOfHiringDate||null,maximumLoanAmount:n.maximumLoanAmount||null,termsAgreement:n.termsAgreement||null,notes:n.notes||null,id:n.id||null})},error:()=>{this.loading=!1}}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}onSubmit(t){console.log(t),this.loading=!0,this.loanSettingsService.Register(t.value).subscribe({next:o=>{this.loading=!1,console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:"You Updated Loan Settings Successfully",life:3e3})},error:()=>{this.loading=!1}}),console.log(t)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(m.bg),e.rXU(zm),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-loan-settings"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:53,vars:44,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"submit","formGroup"],[1,"field","col-12"],["for","startVacation"],["pInputText","","id","startVacation","name","startVacation","formControlName","name",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","engName",3,"min","max"],["pInputText","","type","number","id","startVacation","name","startVacation","formControlName","loansPerSalary",3,"min","max"],["for","regularVacationNumber"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","numOfMonthsOfHiringDate","mode","decimal",3,"min","max"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","maximumLoanAmount","mode","decimal",3,"min"],["pInputText","","id","regularVacationNumber","name","regularVacationNumber","formControlName","termsAgreement","mode","decimal",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","notes"],[1,"field","col-12","btns"],["formControlName","loansIsOpened"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,Wm,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("submit",function(){return n.onSubmit(n.loansConfigForm)}),e.j41(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"input",9),e.k0s(),e.j41(15,"div",7)(16,"label",8),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"input",10),e.k0s(),e.j41(20,"div",7)(21,"label",8),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"input",11),e.k0s(),e.j41(25,"div",7)(26,"label",12),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",13),e.k0s(),e.j41(30,"div",7)(31,"label",12),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"input",14),e.k0s(),e.j41(35,"div",7)(36,"label",12),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.nrm(39,"input",15),e.k0s(),e.j41(40,"div",7)(41,"label",8),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.nrm(44,"input",16),e.k0s(),e.j41(45,"div",17)(46,"label"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.nrm(49,"p-inputSwitch",18),e.k0s(),e.j41(50,"div",7),e.nrm(51,"button",19),e.nI1(52,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,24,"Loan Settings")),e.R7$(2),e.Y8G("formGroup",n.loansConfigForm),e.R7$(3),e.JRh(e.bMT(13,26,"Name Arabic")),e.R7$(2),e.Y8G("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(18,28,"Name English")),e.R7$(2),e.Y8G("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(23,30,"Loans Per Salary")),e.R7$(2),e.Y8G("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(28,32,"Number of Months of Hiring Date")),e.R7$(2),e.Y8G("min",1)("max",100),e.R7$(3),e.JRh(e.bMT(33,34,"Maximum Loan Amount")),e.R7$(2),e.Y8G("min",0),e.R7$(3),e.JRh(e.bMT(38,36,"Terms Agreement")),e.R7$(2),e.Y8G("min",0)("max",100),e.R7$(3),e.JRh(e.bMT(43,38,"Notes")),e.R7$(5),e.JRh(e.bMT(48,40,"Loan Is Opened")),e.R7$(4),e.Y8G("label",e.bMT(52,42,"Update Setting")))},dependencies:[C.$,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.VZ,s.zX,s.j4,s.JD,S.q,N.D,_.D9,M.t,P.n,k._f,D.y8,v.S,ae.HW],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"]})}}return a})(),Km=(()=>{class a extends E.${constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getPageOfAcceptedLoan(t){return this.http.post(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`,t)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Accept/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Zm=["dt"],Ee=()=>({width:"450px"}),be=a=>({"null-color":a}),eu=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t}),tu=a=>({cursor:a});function nu(a,c){1&a&&e.nrm(0,"pre-loading")}function ou(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",25)(1,"button",26),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}2&a&&(e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ","Loan Request"))))}function au(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",27),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function lu(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",28),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",18)(2,"label",29),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p-dropdown",30),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",18)(8,"label",29),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"p-dropdown",31),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",18)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-dropdown",32),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",18)(20,"label",33),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",34),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",18)(26,"label",35),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",36),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",18)(32,"label",37),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"textarea",38),e.nI1(36,"translate"),e.k0s(),e.j41(37,"div",18),e.nrm(38,"button",39),e.nI1(39,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,27,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.bMT(6,29,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(10,31,"Loan Type")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.bMT(12,33,"Enter Loan Type Here")),e.R7$(4),e.JRh(e.bMT(16,35,"Loan Policy")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.bMT(18,37,"Enter Loan Policy Here")),e.R7$(4),e.SpI("",e.bMT(22,39,"Reason")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(24,41,"Enter Reason Here")),e.R7$(4),e.JRh(e.bMT(28,43,"Amount")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,45,"Enter Amount Here")),e.R7$(4),e.JRh(e.bMT(34,47,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(36,49,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(39,51,"Insert New"))}}function su(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",40)(1,"h5",41),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",42),e.nrm(5,"i",43),e.j41(6,"input",44),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function iu(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",45),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",46),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",47),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,12,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,14,"Loan Type")),e.R7$(3),e.JRh(e.bMT(12,16,"Response Type")),e.R7$(3),e.JRh(e.bMT(15,18,"Loan Policy")),e.R7$(3),e.JRh(e.bMT(18,20,"Reason")),e.R7$(3),e.JRh(e.bMT(21,22,"Notes")),e.R7$(3),e.JRh(e.bMT(24,24,"creationTime")),e.R7$(3),e.JRh(e.bMT(27,26,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(30,28,"creatorName")),e.R7$(3),e.JRh(e.bMT(33,30,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(36,32,"Actions")),e.R7$(3),e.JRh(e.bMT(39,34,"Accept or Reject")))}function ru(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",48),e.k0s(),e.j41(3,"td",49)(4,"span",50),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",49)(8,"span",50),e.EFF(9,"loanTypeName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",49)(12,"span"),e.EFF(13),e.k0s()(),e.j41(14,"td",49)(15,"span",50),e.EFF(16,"repaymentTermName"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"td",49)(19,"span",50),e.EFF(20,"reason"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"td",49)(23,"span",50),e.EFF(24,"Notes"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"td",49)(27,"span",50),e.EFF(28,"creationTime"),e.k0s(),e.EFF(29),e.nI1(30,"date"),e.k0s(),e.j41(31,"td",49)(32,"span",50),e.EFF(33,"lastModificationTime"),e.k0s(),e.EFF(34),e.nI1(35,"date"),e.k0s(),e.j41(36,"td",49)(37,"span",50),e.EFF(38,"creatorName"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"td",49)(41,"span",50),e.EFF(42,"lastModifierName"),e.k0s(),e.EFF(43),e.k0s(),e.j41(44,"td")(45,"div",51)(46,"button",52),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(47,"button",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()(),e.j41(48,"td")(49,"div",54)(50,"button",55),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.acceptRequest(n))}),e.k0s(),e.j41(51,"button",56),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.rejectRequest(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(30,be,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,be,!t.loanTypeName)),e.R7$(3),e.SpI(" ",t.loanTypeName?t.loanTypeName:""," "),e.R7$(),e.Y8G("ngClass",e.sMw(34,eu,1==(null==t?null:t.status),2==(null==t?null:t.status),0==(null==t?null:t.status))),e.R7$(2),e.JRh(t.statusValue),e.R7$(),e.Y8G("ngClass",e.eq3(38,be,!t.repaymentTermName)),e.R7$(3),e.SpI(" ",t.repaymentTermName?t.repaymentTermName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,be,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(42,be,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,be,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(30,24,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(46,be,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(35,27,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(48,be,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,be,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(6),e.Y8G("ngStyle",e.eq3(52,tu,0!==t.status?"not-allowed":"default")),e.R7$(),e.Y8G("disabled",0!==t.status),e.R7$(),e.Y8G("disabled",0!==t.status)}}function cu(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",28),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",18)(2,"label",29),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",57),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",18)(8,"label",29),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",58),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.loanTypeId,n)||(l.product.loanTypeId=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",18)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",59),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.repaymentTermId,n)||(l.product.repaymentTermId=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",18)(20,"label",35),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",60),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.amount,n)||(l.product.amount=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",18)(26,"label",35),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",61),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.reason,n)||(l.product.reason=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",18)(32,"label",62),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"textarea",63),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(36,"div",64)(37,"button",65),e.nI1(38,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(39,"button",66),e.nI1(40,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,33,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.employeeId),e.Y8G("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.bMT(6,35,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(10,37,"Loan Type")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.loanTypeId),e.Y8G("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.bMT(12,39,"Enter Loan Type Here")),e.R7$(4),e.JRh(e.bMT(16,41,"Loan Policy")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.repaymentTermId),e.Y8G("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.bMT(18,43,"Enter Loan Policy Here")),e.R7$(4),e.JRh(e.bMT(22,45,"Amount")),e.R7$(2),e.R50("ngModel",t.product.amount),e.Y8G("placeholder",e.bMT(24,47,"Enter Amount Here")),e.R7$(4),e.JRh(e.bMT(28,49,"Reason")),e.R7$(2),e.R50("ngModel",t.product.reason),e.Y8G("placeholder",e.bMT(30,51,"Enter Reason Here")),e.R7$(4),e.JRh(e.bMT(34,53,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(38,55,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(40,57,"Save"))}}function pu(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function du(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function mu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}function uu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAccept(n.product))}),e.k0s()}}function hu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}function gu(a,c){if(1&a&&(e.j41(0,"div",71)(1,"div",72)(2,"span",73)(3,"strong"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"div",72)(9,"span",73)(10,"strong"),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"div",72)(16,"span",73)(17,"strong"),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"span"),e.EFF(21),e.nI1(22,"currency"),e.k0s()(),e.j41(23,"div",72)(24,"span",73)(25,"strong"),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.j41(28,"span"),e.EFF(29),e.nI1(30,"currency"),e.k0s()()()),2&a){const t=c.$implicit,o=e.XpG();e.AVh("payment-isPaid",o.isPaid-t),e.R7$(4),e.JRh(e.bMT(5,10,"paymentLoans.Month")),e.R7$(3),e.SpI(" ",t.month," "),e.R7$(4),e.JRh(e.bMT(12,12,"paymentLoans.Year")),e.R7$(3),e.SpI(" ",t.year," "),e.R7$(4),e.SpI(" ",e.bMT(19,14,"paymentLoans.AmountPaid:")," "),e.R7$(3),e.SpI(" ",e.bMT(22,16,t.amountPaid)," "),e.R7$(5),e.SpI("",e.bMT(27,18,"paymentLoans.RemainingAmount:")," "),e.R7$(3),e.SpI(" ",e.bMT(30,20,t.remainingAmount)," ")}}function _u(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}let bu=(()=>{class a{constructor(t,o,n){this.loanRequestService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.acceptAllDialogue=!1,this.rejectAllDialogue=!1,this.tableLoans=!1,this.addNewForm=new s.gE({EmployeeId:new s.MJ(null,[s.k0.required]),LoanTypeId:new s.MJ(null,[s.k0.required]),RepaymentTermId:new s.MJ(null,[s.k0.required]),Reason:new s.MJ(null,[s.k0.required]),Amount:new s.MJ(null,[s.k0.required]),Notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),loanTypeId:new s.MJ(null,[s.k0.required]),repaymentTermId:new s.MJ(null,[s.k0.required]),reason:new s.MJ(null,[s.k0.required]),amount:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="LoanRequests",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanRequestService.setCulture(t),this.loanRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.getAllDropdowns(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}getAllDropdowns(){this.loanRequestService.getDropdownEnum("getRequestType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsResponseTypes=t.data,console.log(this.dropdownItemsResponseTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data,console.log(this.dropdownItemsEmployees)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("LoanTypes").subscribe({next:t=>{console.log(t.data),this.dropdownItemsLoanTypes=t.data,console.log(this.dropdownItemsLoanTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("RepaymentTerms").subscribe({next:t=>{console.log(t.data),this.dropdownItemsRepaymentTerms=t.data,console.log(this.dropdownItemsRepaymentTerms)},error:t=>{console.log(t)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}editProduct(t){console.log(t.id),this.loanRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanRequestService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);this.loanRequestService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&(this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){this.loading=!0,this.loanRequestService.getPageOfAcceptedLoan({pageNumber:t,pageSize:o}).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanRequestService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanRequestService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}confirmAccept(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.payments=n?.data,this.tableLoans=!0}}),this.notesAccept=""}getColor(t,o){const n=t/o,l=Math.round(255*n);return`rgb(${Math.round(255*(1-n))}, ${l}, 0)`}confirmReject(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Km),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-loan-request"]],viewQuery:function(o,n){if(1&o&&e.GBs(Zm,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:61,vars:73,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"notes-container"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModelChange","ngModel","placeholder"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModelChange","ngModel","placeholder"],[1,"payment-boxes"],["class","payment-box",3,"payment-isPaid",4,"ngFor","ngForOf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","LoanTypeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","RepaymentTermId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","Reason","id","name-ar","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","Amount","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"click","disabled"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","loanTypeId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","repaymentTermId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["pInputText","","formControlName","amount","id","new-latitude","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","reason","id","new-latitude",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"payment-box"],[1,"payment-item"],[1,"attr"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,nu,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,ou,3,3,"ng-template",4)(5,au,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,lu,40,53,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,su,8,7,"ng-template",9)(13,iu,40,36,"ng-template",10)(14,ru,52,54,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,cu,41,59,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,pu,6,4,"span",1),e.k0s(),e.DNE(23,du,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,mu,2,0,"ng-template",15),e.k0s(),e.j41(32,"p-dialog",16),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptRequestDialogue,i)||(n.acceptRequestDialogue=i),e.Njj(i)}),e.j41(33,"div",17)(34,"div",13),e.nrm(35,"i",14),e.j41(36,"span"),e.EFF(37,"Are you sure you want to Accept ?"),e.k0s()(),e.j41(38,"div",18)(39,"label",19),e.EFF(40,"Notes"),e.k0s(),e.j41(41,"input",20),e.nI1(42,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesAccept,i)||(n.notesAccept=i),e.Njj(i)}),e.k0s()()(),e.DNE(43,uu,2,0,"ng-template",15),e.k0s(),e.j41(44,"p-dialog",16),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectRequestDialogue,i)||(n.rejectRequestDialogue=i),e.Njj(i)}),e.j41(45,"div",17)(46,"div",13),e.nrm(47,"i",14),e.j41(48,"span"),e.EFF(49,"Are you sure you want to Reject ?"),e.k0s()(),e.j41(50,"div",18)(51,"label",21),e.EFF(52,"Notes"),e.k0s(),e.j41(53,"input",22),e.nI1(54,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesReject,i)||(n.notesReject=i),e.Njj(i)}),e.k0s()()(),e.DNE(55,hu,2,0,"ng-template",15),e.k0s(),e.j41(56,"p-dialog",16),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.tableLoans,i)||(n.tableLoans=i),e.Njj(i)}),e.j41(57,"div",17)(58,"div",23),e.DNE(59,gu,31,22,"div",24),e.k0s()(),e.DNE(60,_u,2,0,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(66,Ee)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,50,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,52,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(67,Ee)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,54,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(68,Ee)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,56,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(69,Ee)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,58,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,60,"Are you sure you want to delete selected products?")),e.R7$(3),e.Aen(e.lJ4(70,Ee)),e.R50("visible",n.acceptRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesAccept),e.Y8G("placeholder",e.bMT(42,62,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(71,Ee)),e.R50("visible",n.rejectRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesReject),e.Y8G("placeholder",e.bMT(54,64,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(72,Ee)),e.R50("visible",n.tableLoans),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngForOf",n.payments))},dependencies:[C.$,u.YU,u.Sq,u.bT,u.B3,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.oe,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   html[lang=ar][_ngcontent-%COMP%]   .notes-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start}  .p-dialog-header{margin-top:40px}  .p-dialog-content{overflow:auto!important}.payment-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:16px;margin:10px 0;box-shadow:2px 2px 8px #0000001a;transition:background-color .3s ease}.payment-isPaid[_ngcontent-%COMP%]{background-color:#4caf5033}.payment-box[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.payment-box[_ngcontent-%COMP%]:hover{background-color:#ffff001a;cursor:pointer}.payment-item[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}return a})(),fu=(()=>{class a extends E.${constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}/GetForDashboard/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Fu(a,c){1&a&&e.nrm(0,"pre-loading")}function Iu(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"div",16),e.nrm(3,"input",17),e.nI1(4,"translate"),e.k0s(),e.j41(5,"div",16),e.nrm(6,"input",18),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",19)(9,"button",20),e.bIt("click",function(){const n=e.eBV(t).index,l=e.XpG();return e.Njj(l.removeInstruction(n))}),e.k0s()()()()}2&a&&(e.Y8G("formGroupName",c.index),e.R7$(3),e.Y8G("placeholder",e.bMT(4,3,"Instruction Arabic")),e.R7$(3),e.Y8G("placeholder",e.bMT(7,5,"Instruction English")))}let Ru=(()=>{class a{constructor(t,o,n,l){this.messageService=t,this.resignationPolicyService=o,this.translate=n,this.fb=l,this.loading=!1,this.resignationSettingForm=new s.gE({noticePeriodInDays:new s.MJ(null,[s.k0.required]),resignationInstructions:this.fb.array([])})}ngOnInit(){this.endPoint="ResignationSetting",this.loading=!0,T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationPolicyService.setCulture(t),this.resignationPolicyService.setEndPoint(this.endPoint),this.resignationPolicyService.GetAll().subscribe({next:o=>{let n=o.data;if(console.log(n),this.loading=!1,n){this.resignationSettingForm.patchValue({noticePeriodInDays:n.noticePeriodInDays||null});const l=this.resignationSettingForm.get("resignationInstructions");l.clear(),n.resignationInstructions&&Array.isArray(n.resignationInstructions)&&n.resignationInstructions.forEach(r=>{l.push(new s.gE({instructionArabic:new s.MJ(r.instructionArabic||null,[s.k0.required]),instructionEnglish:new s.MJ(r.instructionEnglish||null,[s.k0.required])}))})}},error:()=>{this.loading=!1}}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}get resignationInstructions(){return this.resignationSettingForm.get("resignationInstructions")}onSubmit(t){console.log(t),this.resignationPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3})},error:o=>{console.log(o)}}),console.log(t.value)}addInstruction(){const t=this.fb.group({instructionArabic:[null,s.k0.required],instructionEnglish:[null,s.k0.required]});this.resignationInstructions.push(t)}removeInstruction(t){this.resignationInstructions.removeAt(t)}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(m.bg),e.rXU(fu),e.rXU(_.c$),e.rXU(s.ok))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-resignation-policy"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:27,vars:25,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit","formGroup"],[1,"field","col-12"],["for","noticePeriod"],["pInputText","","id","noticePeriod","name","noticePeriod","type","number","formControlName","noticePeriodInDays",3,"placeholder","min","max"],["formArrayName","resignationInstructions"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-plus",1,"p-button-sm","p-button-success","mt-2",3,"click","label"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"disabled","label"],[3,"formGroupName"],[1,"p-fluid","grid"],[1,"field","col-5"],["pInputText","","type","text","formControlName","instructionArabic",3,"placeholder"],["pInputText","","type","text","formControlName","instructionEnglish",3,"placeholder"],[1,"field","col-2"],["pButton","","icon","pi pi-times","type","button",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,Fu,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("ngSubmit",function(){return n.onSubmit(n.resignationSettingForm)}),e.j41(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.nrm(14,"input",9),e.nI1(15,"translate"),e.k0s(),e.j41(16,"div",7)(17,"label"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",10),e.DNE(21,Iu,10,7,"div",11),e.k0s(),e.j41(22,"button",12),e.nI1(23,"translate"),e.bIt("click",function(){return n.addInstruction()}),e.k0s()(),e.j41(24,"div",7),e.nrm(25,"button",13),e.nI1(26,"translate"),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,13,"Resignation Settings")),e.R7$(2),e.Y8G("formGroup",n.resignationSettingForm),e.R7$(3),e.JRh(e.bMT(13,15,"Notice Period (Days)")),e.R7$(2),e.Y8G("placeholder",e.bMT(15,17,"Enter Notice Period in Days"))("min",1)("max",365),e.R7$(4),e.JRh(e.bMT(19,19,"Resignation Instructions")),e.R7$(3),e.Y8G("ngForOf",n.resignationInstructions.controls),e.R7$(),e.Y8G("label",e.bMT(23,21,"Add Instruction")),e.R7$(3),e.Y8G("disabled",n.resignationSettingForm.invalid)("label",e.bMT(26,23,"Update Setting")))},dependencies:[C.$,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.VZ,s.zX,s.j4,s.JD,s.$R,s.v8,S.q,N.D,_.D9,M.t,P.n,k._f,D.y8,v.S],styles:[".p-button-icon-only[_ngcontent-%COMP%]:after{display:none}"]})}}return a})(),yu=(()=>{class a extends E.${constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Accept/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Cu=["dt"],Ue=()=>({width:"450px"}),fe=a=>({"null-color":a}),Tu=(a,c,t)=>({"accepted-request":a,"rejected-request":c,"pending-request":t});function Mu(a,c){1&a&&e.nrm(0,"pre-loading")}function ju(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ku(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.nrm(5,"i",26),e.j41(6,"input",27),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Du(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",28),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",29),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",30),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,12,"Loan Type")),e.R7$(3),e.JRh(e.bMT(12,14,"Response Type")),e.R7$(3),e.JRh(e.bMT(15,16,"Loan Policy")),e.R7$(3),e.JRh(e.bMT(18,18,"Reason")),e.R7$(3),e.JRh(e.bMT(21,20,"Notes")),e.R7$(3),e.JRh(e.bMT(24,22,"creationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(30,26,"creatorName")),e.R7$(3),e.JRh(e.bMT(33,28,"lastModifierName")))}function Eu(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr",31),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.getLoanDetails(n))}),e.j41(1,"td"),e.nrm(2,"p-tableCheckbox",32),e.k0s(),e.j41(3,"td",33)(4,"span",34),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",33)(8,"span",34),e.EFF(9,"loanTypeName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",33)(12,"span"),e.EFF(13),e.k0s()(),e.j41(14,"td",33)(15,"span",34),e.EFF(16,"repaymentTermName"),e.k0s(),e.EFF(17),e.k0s(),e.j41(18,"td",33)(19,"span",34),e.EFF(20,"reason"),e.k0s(),e.EFF(21),e.k0s(),e.j41(22,"td",33)(23,"span",34),e.EFF(24,"Notes"),e.k0s(),e.EFF(25),e.k0s(),e.j41(26,"td",33)(27,"span",34),e.EFF(28,"creationTime"),e.k0s(),e.EFF(29),e.nI1(30,"date"),e.k0s(),e.j41(31,"td",33)(32,"span",34),e.EFF(33,"lastModificationTime"),e.k0s(),e.EFF(34),e.nI1(35,"date"),e.k0s(),e.j41(36,"td",33)(37,"span",34),e.EFF(38,"creatorName"),e.k0s(),e.EFF(39),e.k0s(),e.j41(40,"td",33)(41,"span",34),e.EFF(42,"lastModifierName"),e.k0s(),e.EFF(43),e.k0s()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,fe,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,fe,!t.loanTypeName)),e.R7$(3),e.SpI(" ",t.loanTypeName?t.loanTypeName:""," "),e.R7$(),e.Y8G("ngClass",e.sMw(31,Tu,1==(null==t?null:t.status),2==(null==t?null:t.status),0==(null==t?null:t.status))),e.R7$(2),e.JRh(t.statusValue),e.R7$(),e.Y8G("ngClass",e.eq3(35,fe,!t.repaymentTermName)),e.R7$(3),e.SpI(" ",t.repaymentTermName?t.repaymentTermName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,fe,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,fe,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,fe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(30,21,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,fe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(35,24,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(45,fe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,fe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Nu(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",35),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",17)(2,"label",36),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",37),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",17)(8,"label",36),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",38),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.loanTypeId,n)||(l.product.loanTypeId=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",17)(14,"label",36),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",39),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.repaymentTermId,n)||(l.product.repaymentTermId=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",17)(20,"label",40),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",41),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.amount,n)||(l.product.amount=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",17)(26,"label",40),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",42),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.reason,n)||(l.product.reason=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",17)(32,"label",43),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"textarea",44),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(36,"div",45)(37,"button",46),e.nI1(38,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(39,"button",47),e.nI1(40,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,33,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.employeeId),e.Y8G("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.bMT(6,35,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(10,37,"Loan Type")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.loanTypeId),e.Y8G("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.bMT(12,39,"Enter Loan Type Here")),e.R7$(4),e.JRh(e.bMT(16,41,"Loan Policy")),e.R7$(2),e.Y8G("showClear",!0)("filter",!0),e.R50("ngModel",t.product.repaymentTermId),e.Y8G("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.bMT(18,43,"Enter Loan Policy Here")),e.R7$(4),e.JRh(e.bMT(22,45,"Amount")),e.R7$(2),e.R50("ngModel",t.product.amount),e.Y8G("placeholder",e.bMT(24,47,"Enter Amount Here")),e.R7$(4),e.JRh(e.bMT(28,49,"Reason")),e.R7$(2),e.R50("ngModel",t.product.reason),e.Y8G("placeholder",e.bMT(30,51,"Enter Reason Here")),e.R7$(4),e.JRh(e.bMT(34,53,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(38,55,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(40,57,"Save"))}}function wu(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function vu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",48),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",49),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Su(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}function Pu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.acceptRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmAccept(n.product))}),e.k0s()}}function xu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectRequestDialogue=!1)}),e.k0s(),e.j41(1,"button",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmReject(n.product))}),e.k0s()}}let Gu=(()=>{class a{constructor(t,o,n,l){this.allLoansService=t,this.messageService=o,this.translate=n,this.router=l,this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.acceptAllDialogue=!1,this.rejectAllDialogue=!1,this.addNewForm=new s.gE({EmployeeId:new s.MJ(null,[s.k0.required]),LoanTypeId:new s.MJ(null,[s.k0.required]),RepaymentTermId:new s.MJ(null,[s.k0.required]),Reason:new s.MJ(null,[s.k0.required]),Amount:new s.MJ(null,[s.k0.required]),Notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),loanTypeId:new s.MJ(null,[s.k0.required]),repaymentTermId:new s.MJ(null,[s.k0.required]),reason:new s.MJ(null,[s.k0.required]),amount:new s.MJ(null,[s.k0.required]),notes:new s.MJ(null),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="LoanRequests",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.allLoansService.setCulture(t),this.allLoansService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.getAllDropdowns(),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getAllDropdowns(){this.allLoansService.getDropdownEnum("getRequestType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsResponseTypes=t.data,console.log(this.dropdownItemsResponseTypes)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data,console.log(this.dropdownItemsEmployees)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("LoanTypes").subscribe({next:t=>{console.log(t.data),this.dropdownItemsLoanTypes=t.data,console.log(this.dropdownItemsLoanTypes)},error:t=>{console.log(t)}}),this.allLoansService.getDropdownField("RepaymentTerms").subscribe({next:t=>{console.log(t.data),this.dropdownItemsRepaymentTerms=t.data,console.log(this.dropdownItemsRepaymentTerms)},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this.allLoansService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}getLoanDetails(t){this.product={...t},this.router.navigate(["/info/loans/details",t.id]),console.log(t)}confirmDelete(t){this.allLoansService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);this.allLoansService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&(this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,console.log(n)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r,status:1};i.sortType=this.sortOrder,this.allLoansService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.allLoansService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.allLoansService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}confirmAccept(t){console.log(t),this.allLoansService.updateRequestType({id:t.id,status:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.allLoansService.updateRequestType({id:t.id,status:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(yu),e.rXU(m.bg),e.rXU(_.c$),e.rXU(U.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-loans"]],viewQuery:function(o,n){if(1&o&&e.GBs(Cu,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:52,vars:59,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"notes-container"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModelChange","ngModel","placeholder"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModelChange","ngModel","placeholder"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"click"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["action","",3,"submit","formGroup"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","loanTypeId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","repaymentTermId",3,"ngModelChange","showClear","filter","ngModel","filterBy","options","placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","amount","id","new-latitude","type","number",3,"ngModelChange","ngModel","placeholder"],["pInputText","","formControlName","reason","id","new-latitude",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Mu,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,ju,2,4,"ng-template",4),e.k0s(),e.j41(5,"p-table",5,0),e.nI1(7,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(8,ku,8,7,"ng-template",6)(9,Du,34,30,"ng-template",7)(10,Eu,44,49,"ng-template",8),e.k0s(),e.j41(11,"p-dialog",9),e.nI1(12,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(13,Nu,41,59,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",11),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(16,"div",12),e.nrm(17,"i",13),e.DNE(18,wu,6,4,"span",1),e.k0s(),e.DNE(19,vu,4,6,"ng-template",14),e.k0s(),e.j41(20,"p-dialog",11),e.nI1(21,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(22,"div",12),e.nrm(23,"i",13),e.j41(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.DNE(27,Su,2,0,"ng-template",14),e.k0s(),e.j41(28,"p-dialog",15),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.acceptRequestDialogue,i)||(n.acceptRequestDialogue=i),e.Njj(i)}),e.j41(29,"div",16)(30,"div",12),e.nrm(31,"i",13),e.j41(32,"span"),e.EFF(33,"Are you sure you want to Accept ?"),e.k0s()(),e.j41(34,"div",17)(35,"label",18),e.EFF(36,"Notes"),e.k0s(),e.j41(37,"input",19),e.nI1(38,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesAccept,i)||(n.notesAccept=i),e.Njj(i)}),e.k0s()()(),e.DNE(39,Pu,2,0,"ng-template",14),e.k0s(),e.j41(40,"p-dialog",15),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.rejectRequestDialogue,i)||(n.rejectRequestDialogue=i),e.Njj(i)}),e.j41(41,"div",16)(42,"div",12),e.nrm(43,"i",13),e.j41(44,"span"),e.EFF(45,"Are you sure you want to Reject ?"),e.k0s()(),e.j41(46,"div",17)(47,"label",20),e.EFF(48,"Notes"),e.k0s(),e.j41(49,"input",21),e.nI1(50,"translate"),e.mxI("ngModelChange",function(i){return e.eBV(l),e.DH7(n.notesReject,i)||(n.notesReject=i),e.Njj(i)}),e.k0s()()(),e.DNE(51,xu,2,0,"ng-template",14),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(7,40,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(54,Ue)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(12,42,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(55,Ue)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(15,44,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(56,Ue)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(21,46,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(26,48,"Are you sure you want to delete selected products?")),e.R7$(3),e.Aen(e.lJ4(57,Ue)),e.R50("visible",n.acceptRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesAccept),e.Y8G("placeholder",e.bMT(38,50,"Enter Notes Here")),e.R7$(3),e.Aen(e.lJ4(58,Ue)),e.R50("visible",n.rejectRequestDialogue),e.Y8G("modal",!0),e.R7$(9),e.R50("ngModel",n.notesReject),e.Y8G("placeholder",e.bMT(50,52,"Enter Notes Here")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}}return a})(),$u=(()=>{class a extends E.${constructor(t){super(t)}getLoanDetails(t){return this.http.get(`${this.baseurl}/LoanPayment/GetLoanDetails/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Vu=()=>({"min-width":"50rem"});function Yu(a,c){if(1&a&&(e.j41(0,"div",5)(1,"p",6),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",7),e.EFF(5),e.k0s()()()),2&a){const t=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,2,"Total Amount :")," "),e.R7$(3),e.JRh(t.allData[0].totalAmount)}}function Bu(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,4,"Year")),e.R7$(3),e.JRh(e.bMT(6,6,"Month")),e.R7$(3),e.JRh(e.bMT(9,8,"Amount Paid")),e.R7$(3),e.JRh(e.bMT(12,10,"Remaining Amount")))}function Au(a,c){if(1&a&&(e.j41(0,"tr",9)(1,"td",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a){const t=e.XpG().$implicit;e.R7$(2),e.Lme(" ",e.bMT(3,2,"Year:")," ",t.year," ")}}function Ju(a,c){if(1&a&&(e.DNE(0,Au,4,4,"tr",8),e.j41(1,"tr")(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s()()),2&a){const t=c.$implicit,o=c.rowIndex,n=e.XpG();e.Y8G("ngIf",(0===o||n.allData[o].year!==n.allData[o-1].year)&&n.allData.length>12),e.R7$(3),e.JRh(t.year),e.R7$(2),e.JRh(t.month),e.R7$(2),e.JRh(t.amountPaid),e.R7$(2),e.JRh(t.remainingAmount)}}let qu=(()=>{class a{constructor(t,o){this.route=t,this.loanDetailsService=o}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.getDetails()}getDetails(){this.loanDetailsService.getLoanDetails(this.currentId).subscribe({next:t=>{console.log(t.data),this.allData=t.data},error:t=>{console.log(t)}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(U.nX),e.rXU($u))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-loan-details"]],standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:5,vars:3,consts:[[1,"card"],["stripedRows","",1,"pt-table-striped",3,"value","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-bold"],[1,"totalAmount"],["class","breakline-row",4,"ngIf"],[1,"breakline-row"],["colspan","4",1,"text-center","font-bold","bg-gray-200"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"p-table",1),e.DNE(2,Yu,6,4,"ng-template",2)(3,Bu,13,12,"ng-template",3)(4,Ju,10,5,"ng-template",4),e.k0s()()),2&o&&(e.R7$(),e.Y8G("value",n.allData)("tableStyle",e.lJ4(2,Vu)))},dependencies:[C.$,u.bT,_.D9,M.t,h.XI,m.Ei],styles:[".details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-block:24px}  .pt-table-striped tbody tr:nth-child(2n){background-color:#f9f9f9}  .pt-table-striped tbody tr:nth-child(odd){background-color:#fff}.totalAmount[_ngcontent-%COMP%]{color:#f36f28}"]})}}return a})(),Ou=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Lu=["dt"],Nt=()=>({width:"450px"}),ye=a=>({"null-color":a}),ze=a=>({"ng-invalid ng-dirty":a});function Xu(a,c){1&a&&e.nrm(0,"pre-loading")}function Hu(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Uu(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function zu(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",22),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",24),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",26),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",28),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",30),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",20)(32,"label",31),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"textarea",32),e.nI1(36,"translate"),e.k0s(),e.j41(37,"div",20),e.nrm(38,"button",33),e.nI1(39,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,15,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,17,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,19,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,21,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,23,"Level")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,25,"Enter Level Here")),e.R7$(4),e.JRh(e.bMT(22,27,"Salary From")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,29,"Salary From")),e.R7$(4),e.JRh(e.bMT(28,31,"Salary To")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,33,"Salary To")),e.R7$(4),e.JRh(e.bMT(34,35,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(36,37,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(39,39,"Insert New"))}}function Wu(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",36),e.nrm(5,"i",37),e.j41(6,"input",38),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Qu(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",39),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",40),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(7),e.nI1(8,"translate"),e.nrm(9,"p-sortIcon",41),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,10,"Level")," "),e.R7$(3),e.SpI(" ",e.bMT(8,12,"Name")," "),e.R7$(4),e.JRh(e.bMT(12,14,"Salary From")),e.R7$(3),e.JRh(e.bMT(15,16,"Salary To")),e.R7$(3),e.JRh(e.bMT(18,18,"Notes")),e.R7$(3),e.JRh(e.bMT(21,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(24,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(27,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(30,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(33,28,"Actions")))}function Ku(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",42),e.k0s(),e.j41(3,"td")(4,"span",43),e.EFF(5,"Level"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",44)(8,"span",43),e.EFF(9,"Name"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",44)(12,"span",43),e.EFF(13,"annualsalaryFrom"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",44)(16,"span",43),e.EFF(17,"annualsalaryTo"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",44)(20,"span",43),e.EFF(21,"Notes"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",44)(24,"span",43),e.EFF(25,"creationTime"),e.k0s(),e.EFF(26),e.nI1(27,"date"),e.k0s(),e.j41(28,"td",44)(29,"span",43),e.EFF(30,"lastModificationTime"),e.k0s(),e.EFF(31),e.nI1(32,"date"),e.k0s(),e.j41(33,"td",44)(34,"span",43),e.EFF(35,"creatorName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",44)(38,"span",43),e.EFF(39,"lastModifierName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td")(42,"div",45)(43,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.level,""),e.R7$(),e.Y8G("ngClass",e.eq3(24,ye,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,ye,!t.annualsalaryFrom)),e.R7$(3),e.SpI(" ",t.annualsalaryFrom," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,ye,!t.annualsalaryTo)),e.R7$(3),e.SpI(" ",t.annualsalaryTo?t.annualsalaryTo:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,ye,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,ye,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(27,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,ye,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(32,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(36,ye,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,ye,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Zu(a,c){1&a&&(e.j41(0,"small",63),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function eh(a,c){1&a&&(e.j41(0,"small",63),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function th(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",20)(2,"label",47),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,Zu,3,3,"small",49),e.k0s(),e.j41(7,"div",20)(8,"label",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,eh,3,3,"small",49),e.k0s(),e.j41(13,"div",20)(14,"label",52),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.level,n)||(l.product.level=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",20)(19,"label",54),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.annualsalaryFrom,n)||(l.product.annualsalaryFrom=n),e.Njj(n)}),e.k0s()(),e.j41(23,"div",20)(24,"label",56),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"input",57),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.annualsalaryTo,n)||(l.product.annualsalaryTo=n),e.Njj(n)}),e.k0s()(),e.j41(28,"div",20)(29,"label",58),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"textarea",59),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(33,"div",60)(34,"button",61),e.nI1(35,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(36,"button",62),e.nI1(37,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(39,ze,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,25,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(41,ze,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,27,"Level")),e.R7$(2),e.R50("ngModel",t.product.level),e.Y8G("ngClass",e.eq3(43,ze,t.submitted&&!t.product.level)),e.R7$(3),e.JRh(e.bMT(21,29,"Salary From")),e.R7$(2),e.R50("ngModel",t.product.annualsalaryFrom),e.Y8G("ngClass",e.eq3(45,ze,t.submitted&&!t.product.annualsalaryFrom)),e.R7$(3),e.JRh(e.bMT(26,31,"Salary To")),e.R7$(2),e.R50("ngModel",t.product.annualsalaryTo),e.Y8G("ngClass",e.eq3(47,ze,t.submitted&&!t.product.annualsalaryTo)),e.R7$(3),e.JRh(e.bMT(31,33,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(35,35,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(37,37,"Save"))}}function nh(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function oh(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",64),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",65),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function ah(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",66),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(1,"button",67),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}}const vn=a=>{const c=a.get("annualsalaryFrom")?.value||0;return(a.get("annualsalaryTo")?.value||0)>=c?null:{salaryFromGreaterThanSalaryTo:!0}};let lh=(()=>{class a{constructor(t,o,n){this.netIncomeTaxService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),annualsalaryFrom:new s.MJ(null,[s.k0.required,s.k0.min(0)]),annualsalaryTo:new s.MJ(null,[s.k0.required,s.k0.min(0)]),level:new s.MJ(null,[s.k0.required,s.k0.min(0)]),notes:new s.MJ(null)},{validators:vn}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),annualsalaryFrom:new s.MJ(null,[s.k0.required,s.k0.min(0)]),annualsalaryTo:new s.MJ(null,[s.k0.required,s.k0.min(0)]),level:new s.MJ(null,[s.k0.required,s.k0.min(0)]),notes:new s.MJ(null)},{validators:vn})}ngOnInit(){this.endPoint="NetIncomeTax",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.netIncomeTaxService.setCulture(t),this.netIncomeTaxService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}editProduct(t){console.log(t.id),t.id&&(this.productDialog=!0,this.product={...t},console.log(this.product))}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}confirmDelete(t){this.netIncomeTaxService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.netIncomeTaxService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.netIncomeTaxService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,console.log(this.selectedItems)},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.netIncomeTaxService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.netIncomeTaxService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ou),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-net-income-tax"]],viewQuery:function(o,n){if(1&o&&e.GBs(Lu,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","level","id","new-longitude","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryFrom"],["pInputText","","formControlName","annualsalaryFrom","id","annualsalaryFrom","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryTo"],["pInputText","","formControlName","annualsalaryTo","id","annualsalaryTo","type","number","min","0",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","level"],["formControlName","level","type","number","pInputText","","id","level","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","annualsalaryFrom"],["formControlName","annualsalaryFrom","type","number","pInputText","","id","annualsalaryFrom","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","annualsalaryTo"],["formControlName","annualsalaryTo","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Xu,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Hu,3,3,"ng-template",4)(5,Uu,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,zu,40,41,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Wu,8,7,"ng-template",9)(13,Qu,34,30,"ng-template",10)(14,Ku,44,40,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,th,38,49,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,nh,6,4,"span",1),e.k0s(),e.DNE(23,oh,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,ah,2,0,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,Nt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,Nt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,Nt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,Nt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.VZ,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),sh=(()=>{class a extends E.${constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const ih=["dt"],wt=()=>({width:"450px"}),pe=a=>({"null-color":a}),Be=a=>({"ng-invalid ng-dirty":a});function rh(a,c){1&a&&e.nrm(0,"pre-loading")}function ch(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function ph(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",18),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function dh(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",20)(2,"label",21),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",22),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",20)(8,"label",23),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",24),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-dropdown",26),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",20)(20,"label",27),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",28),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",20)(26,"label",29),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"input",30),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",20)(32,"label",31),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.nrm(35,"input",32),e.nI1(36,"translate"),e.k0s(),e.j41(37,"div",20)(38,"label",33),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.nrm(41,"input",34),e.nI1(42,"translate"),e.k0s(),e.j41(43,"div",20)(44,"label",35),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.nrm(47,"textarea",36),e.nI1(48,"translate"),e.k0s(),e.j41(49,"div",20),e.nrm(50,"button",37),e.nI1(51,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.SpI("",e.bMT(4,22,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(6,24,"Enter Arabic Name Here")),e.R7$(4),e.SpI("",e.bMT(10,26,"Name English")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,28,"Enter English Name Here")),e.R7$(4),e.JRh(e.bMT(16,30,"Net Income Tax")),e.R7$(2),e.Y8G("options",t.netIncomeDropdown)("placeholder",e.bMT(18,32,"Select Net Income Tax"))("showClear",!0)("filter",!0),e.R7$(4),e.JRh(e.bMT(22,34,"Level")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,36,"Enter Level Here")),e.R7$(4),e.JRh(e.bMT(28,38,"Salary From")),e.R7$(2),e.Y8G("placeholder",e.bMT(30,40,"Salary From")),e.R7$(4),e.JRh(e.bMT(34,42,"Salary To")),e.R7$(2),e.Y8G("placeholder",e.bMT(36,44,"Salary To")),e.R7$(4),e.JRh(e.bMT(40,46,"Rate")),e.R7$(2),e.Y8G("placeholder",e.bMT(42,48,"Enter Rate Here")),e.R7$(4),e.JRh(e.bMT(46,50,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(48,52,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(51,54,"Insert New"))}}function mh(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"h5",39),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",40),e.nrm(5,"i",41),e.j41(6,"input",42),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function uh(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",43),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",44),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(7),e.nI1(8,"translate"),e.nrm(9,"p-sortIcon",45),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.JRh(e.bMT(5,12,"Level")),e.R7$(3),e.SpI(" ",e.bMT(8,14,"Name")," "),e.R7$(4),e.JRh(e.bMT(12,16,"Salary From")),e.R7$(3),e.JRh(e.bMT(15,18,"Salary To")),e.R7$(3),e.JRh(e.bMT(18,20,"Rate")),e.R7$(3),e.JRh(e.bMT(21,22,"Net Income Tax")),e.R7$(3),e.JRh(e.bMT(24,24,"Notes")),e.R7$(3),e.JRh(e.bMT(27,26,"creationTime")),e.R7$(3),e.JRh(e.bMT(30,28,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(33,30,"creatorName")),e.R7$(3),e.JRh(e.bMT(36,32,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(39,34,"Actions")))}function hh(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",46),e.k0s(),e.j41(3,"td")(4,"span",47),e.EFF(5,"Id"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",48)(8,"span",47),e.EFF(9,"Name"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",48)(12,"span",47),e.EFF(13,"salaryFrom"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",48)(16,"span",47),e.EFF(17,"salaryTo"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",48)(20,"span",47),e.EFF(21,"rate"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",48)(24,"span",47),e.EFF(25,"netIncomeTaxName"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",48)(28,"span",47),e.EFF(29,"Notes"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",48)(32,"span",47),e.EFF(33,"CreationTime"),e.k0s(),e.EFF(34),e.nI1(35,"date"),e.k0s(),e.j41(36,"td",48)(37,"span",47),e.EFF(38,"LastModificationTime"),e.k0s(),e.EFF(39),e.nI1(40,"date"),e.k0s(),e.j41(41,"td",48)(42,"span",47),e.EFF(43,"CreatorName"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td",48)(46,"span",47),e.EFF(47,"LastModifierName"),e.k0s(),e.EFF(48),e.k0s(),e.j41(49,"td")(50,"div",49)(51,"button",50),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(4),e.SpI(" ",t.level," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,pe,!t.name)),e.R7$(3),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,pe,!t.salaryFrom)),e.R7$(3),e.SpI(" ",t.salaryFrom," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,pe,!t.salaryTo)),e.R7$(3),e.SpI(" ",t.salaryTo," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,pe,!t.rate)),e.R7$(3),e.SpI(" ",t.rate+" %"," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,pe,!t.netIncomeTaxName)),e.R7$(3),e.SpI(" ",t.netIncomeTaxName?t.netIncomeTaxName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,pe,!t.notes)),e.R7$(3),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,pe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(35,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(42,pe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(40,25,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(44,pe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,pe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function gh(a,c){1&a&&(e.j41(0,"small",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function _h(a,c){1&a&&(e.j41(0,"small",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function bh(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",19),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",20)(2,"label",51),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",52),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,gh,3,3,"small",53),e.k0s(),e.j41(7,"div",20)(8,"label",54),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,_h,3,3,"small",53),e.k0s(),e.j41(13,"div",20)(14,"label",25),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-dropdown",56),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.netIncomeTaxID,n)||(l.product.netIncomeTaxID=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",20)(20,"label",57),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",58),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.level,n)||(l.product.level=n),e.Njj(n)}),e.k0s()(),e.j41(24,"div",20)(25,"label",59),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"input",60),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.salaryFrom,n)||(l.product.salaryFrom=n),e.Njj(n)}),e.k0s()(),e.j41(29,"div",20)(30,"label",61),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"input",62),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.salaryTo,n)||(l.product.salaryTo=n),e.Njj(n)}),e.k0s()(),e.j41(34,"div",20)(35,"label",61),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"input",63),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.rate,n)||(l.product.rate=n),e.Njj(n)}),e.k0s()(),e.j41(39,"div",20)(40,"label",64),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"textarea",65),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(44,"div",66)(45,"button",67),e.nI1(46,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(47,"button",68),e.nI1(48,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,32,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(54,Be,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,34,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(56,Be,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,36,"Net Income Tax")),e.R7$(2),e.Y8G("options",t.netIncomeDropdown)("placeholder",e.bMT(18,38,"Select Net Income Tax"))("showClear",!0),e.R50("ngModel",t.product.netIncomeTaxID),e.Y8G("filter",!0),e.R7$(4),e.JRh(e.bMT(22,40,"Level")),e.R7$(2),e.R50("ngModel",t.product.level),e.Y8G("ngClass",e.eq3(58,Be,t.submitted&&!t.product.level)),e.R7$(3),e.JRh(e.bMT(27,42,"Salary From")),e.R7$(2),e.R50("ngModel",t.product.salaryFrom),e.Y8G("ngClass",e.eq3(60,Be,t.submitted&&!t.product.salaryFrom)),e.R7$(3),e.JRh(e.bMT(32,44,"Salary To")),e.R7$(2),e.R50("ngModel",t.product.salaryTo),e.Y8G("ngClass",e.eq3(62,Be,t.submitted&&!t.product.salaryTo)),e.R7$(3),e.JRh(e.bMT(37,46,"Rate")),e.R7$(2),e.R50("ngModel",t.product.rate),e.Y8G("ngClass",e.eq3(64,Be,t.submitted&&!t.product.rate)),e.R7$(3),e.JRh(e.bMT(42,48,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(46,50,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(48,52,"Save"))}}function fh(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Fh(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",70),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",71),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Ih(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",70),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",71),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}const Sn=a=>{const c=a.get("salaryFrom")?.value||0;return(a.get("salaryTo")?.value||0)>=c?null:{salaryFromGreaterThanSalaryTo:!0}};let Rh=(()=>{class a{constructor(t,o,n){this.taxRateService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=A.o,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({netIncomeTaxID:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),salaryFrom:new s.MJ(null,[s.k0.required,s.k0.min(0)]),salaryTo:new s.MJ(null,[s.k0.required,s.k0.min(0)]),level:new s.MJ(null,[s.k0.required,s.k0.min(0)]),rate:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),notes:new s.MJ(null)},{validators:Sn}),this.editForm=new s.gE({netIncomeTaxID:new s.MJ(null,[s.k0.required]),engName:new s.MJ(null,[s.k0.required]),name:new s.MJ(null,[s.k0.required]),salaryFrom:new s.MJ(null,[s.k0.required,s.k0.min(0)]),salaryTo:new s.MJ(null,[s.k0.required,s.k0.min(0)]),level:new s.MJ(null,[s.k0.required,s.k0.min(0)]),rate:new s.MJ(null,[s.k0.required,s.k0.min(0),s.k0.max(100)]),notes:new s.MJ(null),id:new s.MJ(null)},{validators:Sn})}ngOnInit(){this.endPoint="TaxRate",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.taxRateService.setCulture(t),this.taxRateService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"category",header:"Category"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown("NetIncomeTax"),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}getDropDown(t){this.taxRateService.getDropDown(t).subscribe({next:o=>{console.log(o.data),this.netIncomeDropdown=o.data},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),t.id&&(this.productDialog=!0,this.product={...t},console.log(this.product))}confirmDelete(t){this.taxRateService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.taxRateService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.CovenantCategoryIdSelected=null,this.selectedCovenantCategory=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this.taxRateService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1,this.selectedItemsData=this.allData},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.taxRateService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItemsData),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.id=`${this.endPoint}_${(new Date).getTime()}`,r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.taxRateService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(sh),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-tax-rate"]],viewQuery:function(o,n){if(1&o&&e.GBs(ih,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:32,vars:49,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","netIncomeTaxID"],["id","netIncomeTaxID","optionLabel","name","optionValue","id","optionValue","id","formControlName","netIncomeTaxID","filterBy","name",3,"options","placeholder","showClear","filter"],["htmlFor","new-longitude"],["pInputText","","formControlName","level","id","new-longitude","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryFrom"],["pInputText","","formControlName","salaryFrom","id","annualsalaryFrom","type","number","min","0",3,"placeholder"],["htmlFor","annualsalaryTo"],["pInputText","","formControlName","salaryTo","id","annualsalaryTo","type","number","min","0",3,"placeholder"],["htmlFor","rate"],["pInputText","","formControlName","rate","id","rate","type","number","min","0",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["id","netIncomeTaxID","optionLabel","name","optionValue","id","formControlName","netIncomeTaxID","filterBy","name",3,"ngModelChange","options","placeholder","showClear","ngModel","filter"],["for","level"],["formControlName","level","type","number","pInputText","","id","level","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","annualsalaryFrom"],["formControlName","salaryFrom","type","number","pInputText","","id","annualsalaryFrom","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","annualsalaryTo"],["formControlName","salaryTo","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["formControlName","rate","type","number","pInputText","","id","annualsalaryTo","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,rh,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,ch,3,3,"ng-template",4)(5,ph,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,dh,52,56,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,mh,8,7,"ng-template",9)(13,uh,40,36,"ng-template",10)(14,hh,52,48,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,bh,49,66,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,fh,6,4,"span",1),e.k0s(),e.DNE(23,Fh,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",12),e.nI1(25,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(26,"div",13),e.nrm(27,"i",14),e.j41(28,"span"),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.DNE(31,Ih,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(45,wt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(46,wt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(47,wt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(48,wt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(25,41,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(30,43,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.VZ,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms,G.m],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}}return a})(),yh=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyReport/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Ch=["dt"],sn=()=>({width:"450px"}),H=a=>({"null-color":a});function Th(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function Mh(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function jh(a,c){1&a&&(e.j41(0,"tr")(1,"th",37),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,13,"Name")," "),e.R7$(3),e.JRh(e.bMT(6,15,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(9,17,"Month")," "),e.R7$(3),e.JRh(e.bMT(12,19,"Year")),e.R7$(3),e.JRh(e.bMT(15,21,"Working Days")),e.R7$(3),e.JRh(e.bMT(18,23,"Present Days")),e.R7$(3),e.JRh(e.bMT(21,25,"Absent Days")),e.R7$(3),e.JRh(e.bMT(24,27,"Days Late")),e.R7$(3),e.JRh(e.bMT(27,29,"Days Early Leave")),e.R7$(3),e.JRh(e.bMT(30,31,"Total Overtime")),e.R7$(3),e.JRh(e.bMT(33,33,"Total Errand Days")),e.R7$(3),e.JRh(e.bMT(36,35,"Total Requested Day Off")),e.R7$(3),e.JRh(e.bMT(39,37,"Remarks")))}function kh(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",38),e.EFF(2),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td",38),e.EFF(6),e.k0s(),e.j41(7,"td",38),e.EFF(8),e.k0s(),e.j41(9,"td",38),e.EFF(10),e.k0s(),e.j41(11,"td",38),e.EFF(12),e.k0s(),e.j41(13,"td",38),e.EFF(14),e.k0s(),e.j41(15,"td",38),e.EFF(16),e.k0s(),e.j41(17,"td",38),e.EFF(18),e.k0s(),e.j41(19,"td",38),e.EFF(20),e.k0s(),e.j41(21,"td",38),e.EFF(22),e.k0s(),e.j41(23,"td",38),e.EFF(24),e.k0s(),e.j41(25,"td",38),e.EFF(26),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(26,H,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,H,!t.departmentName)),e.R7$(),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,H,!t.month)),e.R7$(),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,H,!t.year)),e.R7$(),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,H,!t.totalWorkingDays)),e.R7$(),e.SpI(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,H,!t.presentDays)),e.R7$(),e.SpI(" ",t.presentDays?t.presentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,H,!t.absentDays)),e.R7$(),e.SpI(" ",t.absentDays?t.absentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,H,!t.daysLate)),e.R7$(),e.SpI(" ",t.daysLate?t.daysLate:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(42,H,!t.daysEarlyLeave)),e.R7$(),e.SpI(" ",t.daysEarlyLeave?t.daysEarlyLeave:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,H,!t.totalOvertime)),e.R7$(),e.SpI(" ",t.totalOvertime," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,H,!t.totalErrandDays)),e.R7$(),e.SpI(" ",t.totalErrandDays?t.totalErrandDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(48,H,!t.totalRequestedDayOff)),e.R7$(),e.SpI(" ",t.totalRequestedDayOff?t.totalRequestedDayOff:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,H,!t.remarks)),e.R7$(),e.SpI(" ",t.remarks?t.remarks:""," ")}}function Dh(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,jh,40,39,"ng-template",35)(3,kh,27,52,"ng-template",36),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allDataWithoutPagination)}}function Eh(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"div")(3,"button",43),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",44),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",45),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",46),e.nrm(11,"i",47),e.j41(12,"input",48),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function Nh(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",49),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",50),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",51),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",52),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,13,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,15,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(12,17,"Month")," "),e.R7$(3),e.JRh(e.bMT(15,19,"Year")),e.R7$(3),e.JRh(e.bMT(18,21,"Working Days")),e.R7$(3),e.JRh(e.bMT(21,23,"Present Days")),e.R7$(3),e.JRh(e.bMT(24,25,"Absent Days")),e.R7$(3),e.JRh(e.bMT(27,27,"Days Late")),e.R7$(3),e.JRh(e.bMT(30,29,"Days Early Leave")),e.R7$(3),e.JRh(e.bMT(33,31,"Total Overtime")),e.R7$(3),e.JRh(e.bMT(36,33,"Total Errand Days")),e.R7$(3),e.JRh(e.bMT(39,35,"Total Requested Day Off")),e.R7$(3),e.JRh(e.bMT(42,37,"Remarks")))}function wh(a,c){if(1&a&&(e.j41(0,"span",57),e.EFF(1),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.JRh(t)}}function vh(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",53),e.k0s(),e.j41(3,"td",38)(4,"span",54),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",38)(8,"span",54),e.EFF(9,"departmentName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",38)(12,"span",54),e.EFF(13,"month"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",38)(16,"span",54),e.EFF(17,"year"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",38)(20,"span",54),e.EFF(21,"totalWorkingDays"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",38)(24,"span",54),e.EFF(25,"presentDays"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",38)(28,"span",54),e.EFF(29,"absentDays"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",38)(32,"span",54),e.EFF(33,"daysLate"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"td",38)(36,"span",54),e.EFF(37,"daysEarlyLeave"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"td",38)(40,"span",54),e.EFF(41,"totalOvertime"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"td",38)(44,"span",54),e.EFF(45,"totalErrandDays"),e.k0s(),e.EFF(46),e.k0s(),e.j41(47,"td",38)(48,"span",54),e.EFF(49,"totalRequestedDayOff"),e.k0s(),e.EFF(50),e.k0s(),e.j41(51,"td",38)(52,"span",54),e.EFF(53,"remarks"),e.k0s(),e.j41(54,"div",55),e.DNE(55,wh,2,1,"span",56),e.k0s()()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,H,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,H,!t.departmentName)),e.R7$(3),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,H,!t.month)),e.R7$(3),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,H,!t.year)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,H,!t.totalWorkingDays)),e.R7$(3),e.SpI(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,H,!t.presentDays)),e.R7$(3),e.SpI(" ",t.presentDays?t.presentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,H,!t.absentDays)),e.R7$(3),e.SpI(" ",t.absentDays?t.absentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,H,!t.daysLate)),e.R7$(3),e.SpI(" ",t.daysLate?t.daysLate:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(43,H,!t.daysEarlyLeave)),e.R7$(3),e.SpI(" ",t.daysEarlyLeave?t.daysEarlyLeave:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,H,!t.totalOvertime)),e.R7$(3),e.SpI(" ",t.totalOvertime," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,H,!t.totalErrandDays)),e.R7$(3),e.SpI(" ",t.totalErrandDays?t.totalErrandDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(49,H,!t.totalRequestedDayOff)),e.R7$(3),e.SpI(" ",t.totalRequestedDayOff?t.totalRequestedDayOff:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,H,!t.remarks)),e.R7$(4),e.Y8G("ngForOf",t.remarks)}}function Sh(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",39,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,Eh,14,14,"ng-template",40)(4,Nh,43,39,"ng-template",35)(5,vh,56,53,"ng-template",36),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function Ph(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",58),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",59),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",60),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",61),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",62),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",63),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",64),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",65),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",66),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",67),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",68),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",69)(32,"button",70),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",71),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function xh(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Gh(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",72),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",73),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function $h(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",72),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",73),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Vh=(()=>{class a{constructor(t,o,n){this.monthlyReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.page=1,this.itemsPerPage=5,this.currentLang=localStorage.getItem("currentLang")??null,this.showTable=!1,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.attendanceReports.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.reports.items.attendanceReports.items.Monthly${this.endPoint}`)}]}ngOnInit(){this.endPoint="AttendanceSheet",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyReportService.setCulture(t),this.monthlyReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"totalWorkingDays",header:"Total Working Days"},{field:"presentDays",header:"Present Days"},{field:"absentDays",header:"Absent Days"},{field:"daysLate",header:"Days Late"},{field:"daysEarlyLeave",header:"Days Early Leave"},{field:"totalOvertime",header:"Total Overtime"},{field:"totalErrandDays",header:"Total Errand Days"},{field:"totalRequestedDayOff",header:"Total Requested Days Off"},{field:"remarks",header:"Remarks"}],this.selectedYear=null}editProduct(t){this.monthlyReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r,i,d,F,J){let L={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r,employeeId:i,departmentId:d,month:F,year:J};L.sortType=this.sortOrder,console.log("FilteredData"),console.log(L),this.monthlyReportService.GetPage(L).subscribe({next:z=>{console.log(z),this.allData=z.data,console.log(z.data),this.totalItems=z.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(r),this.monthlyReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>`"${i[d]??""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("Monthly Report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          \n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(yh),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-monthly-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(Ch,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","employeeName"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[1,"allRemarks"],["class","remark-cell",4,"ngFor","ngForOf"],[1,"remark-cell"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","month"],["inputId","month","formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,Th,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,Mh,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,Dh,4,1,"p-table",24)(49,Sh,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,Ph,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,xh,6,4,"span",31),e.k0s(),e.DNE(58,Gh,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,$h,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,50,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allDataWithoutPagination.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,sn)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,sn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,sn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}#printableTable[_ngcontent-%COMP%]{display:none!important}.allRemarks[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.remark-cell[_ngcontent-%COMP%]{color:#f36f28;border:1px solid #f36f28;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.remark-cell[_ngcontent-%COMP%]:hover{background-color:#f36f28;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allRemarks[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),Yh=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyAbsenceReport/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Bh=["dt"],rn=()=>({width:"450px"}),Q=a=>({"null-color":a});function Ah(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function Jh(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function qh(a,c){1&a&&(e.j41(0,"h2",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Monthly Absence Report")," "))}function Oh(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,7,"Name")," "),e.R7$(3),e.JRh(e.bMT(6,9,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(9,11,"Month")," "),e.R7$(3),e.JRh(e.bMT(12,13,"Year")),e.R7$(3),e.JRh(e.bMT(15,15,"Working Days")),e.R7$(3),e.JRh(e.bMT(18,17,"Absent Days")),e.R7$(3),e.JRh(e.bMT(21,19,"Absent Dates")))}function Lh(a,c){if(1&a&&(e.j41(0,"span",42),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.JRh(e.bMT(2,1,t))}}function Xh(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.k0s(),e.j41(7,"td",39),e.EFF(8),e.k0s(),e.j41(9,"td",39),e.EFF(10),e.k0s(),e.j41(11,"td",39),e.EFF(12),e.k0s(),e.j41(13,"td",39)(14,"div",40),e.DNE(15,Lh,3,3,"span",41),e.k0s()()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(14,Q,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(16,Q,!t.departmentName)),e.R7$(),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(18,Q,!t.month)),e.R7$(),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(20,Q,!t.year)),e.R7$(),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,Q,!t.totalWorkingDays)),e.R7$(),e.SpI(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,Q,!t.totalAbsentDays)),e.R7$(),e.SpI(" ",t.totalAbsentDays?t.totalAbsentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,Q,!t.daysLate)),e.R7$(2),e.Y8G("ngForOf",t.absentDates)}}function Hh(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,qh,3,3,"ng-template",35)(3,Oh,22,21,"ng-template",36)(4,Xh,16,28,"ng-template",37),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allDataWithoutPagination)}}function Uh(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",44)(1,"div",45)(2,"div")(3,"button",46),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",47),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",48),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",49),e.nrm(11,"i",50),e.j41(12,"input",51),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function zh(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",52),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",53),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",54),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",55),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,7,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,9,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(12,11,"Month")," "),e.R7$(3),e.JRh(e.bMT(15,13,"Year")),e.R7$(3),e.JRh(e.bMT(18,15,"Working Days")),e.R7$(3),e.JRh(e.bMT(21,17,"Absent Days")),e.R7$(3),e.JRh(e.bMT(24,19,"Absent Dates")))}function Wh(a,c){if(1&a&&(e.j41(0,"span",42),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.JRh(e.bMT(2,1,t))}}function Qh(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",56),e.k0s(),e.j41(3,"td",39)(4,"span",57),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",57),e.EFF(9,"departmentName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39)(12,"span",57),e.EFF(13,"month"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",39)(16,"span",57),e.EFF(17,"year"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",39)(20,"span",57),e.EFF(21,"totalWorkingDays"),e.k0s(),e.EFF(22),e.k0s(),e.j41(23,"td",39)(24,"span",57),e.EFF(25,"totalAbsentDays"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",39)(28,"span",57),e.EFF(29,"daysLate"),e.k0s(),e.j41(30,"div",40),e.DNE(31,Wh,3,3,"span",41),e.k0s()()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(15,Q,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(17,Q,!t.departmentName)),e.R7$(3),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(19,Q,!t.month)),e.R7$(3),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(21,Q,!t.year)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,Q,!t.totalWorkingDays)),e.R7$(3),e.SpI(" ",t.totalWorkingDays?t.totalWorkingDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,Q,!t.totalAbsentDays)),e.R7$(3),e.SpI(" ",t.totalAbsentDays?t.totalAbsentDays:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,Q,!t.daysLate)),e.R7$(4),e.Y8G("ngForOf",t.absentDates)}}function Kh(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",43,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,Uh,14,14,"ng-template",35)(4,zh,25,21,"ng-template",36)(5,Qh,32,29,"ng-template",37),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function Zh(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",58),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",59),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",60),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",61),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",62),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",63),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",64),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",65),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",66),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",67),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",68),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",69)(32,"button",70),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",71),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function e1(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function t1(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",72),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",73),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function n1(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",72),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",73),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let o1=(()=>{class a{constructor(t,o,n){this.monthlyAbsenceReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.items=[],this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.attendanceReports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.attendanceReports.items.MonthlyAbsenseReport")}]}ngOnInit(){this.endPoint="AttendanceSheet",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyAbsenceReportService.setCulture(t),this.monthlyAbsenceReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"totalWorkingDays",header:"Total Working Days"},{field:"totalAbsentDays",header:"Total Absent Days"},{field:"absentDates",header:"Absent Dates"}],this.selectedYear=null}editProduct(t){this.monthlyAbsenceReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyAbsenceReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyAbsenceReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r,i,d,F,J){let L={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r,employeeId:i,departmentId:d,month:F,year:J};L.sortType=this.sortOrder,console.log("FilteredData"),console.log(L),this.monthlyAbsenceReportService.GetPage(L).subscribe({next:z=>{console.log(z),this.allData=z.data,console.log(z.data),this.totalItems=z.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(r),this.monthlyAbsenceReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyAbsenceReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>"absentDates"===d&&Array.isArray(i[d])?`"${i[d].map(F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${i[d]||""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyAbsenceReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyAbsenceReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyAbsenceReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyAbsenceReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyAbsenceReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n            <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                <head>\n                    <title>${this.translate.instant("report")}</title>\n                    <style>\n                        body {\n                            font-family: Arial, sans-serif;\n                            margin: 20px;\n                        }\n                        table {\n                            border-collapse: collapse;\n                            width: 100%;\n                        }\n                        th, td {\n                            border: 1px solid #ddd;\n                            padding: 8px;\n                            text-align: center;\n                            max-width: fit-content\n                        }\n                        th {\n                            background-color: #f4f4f4;\n                        }\n                        h2 {\n                            text-align: center;\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                </body>\n            </html>\n        `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Yh),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-monthly-absence-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(Bh,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],[1,"allDates"],["class","date-cell",4,"ngFor","ngForOf"],[1,"date-cell"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,Ah,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,Jh,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,Hh,5,1,"p-table",24)(49,Kh,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,Zh,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,e1,6,4,"span",31),e.k0s(),e.DNE(58,t1,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,n1,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,50,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allDataWithoutPagination.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,rn)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,rn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,rn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),a1=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getLoanPayment(t,o){return this.http.get(`${this.baseurl}/LoanPayment/GetLoanPayment?loanRequestId=${t}&employeeId=${o}&culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const l1=["dt"],de=a=>({"null-color":a});function s1(a,c){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"h5")(4,"span",24),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()(),e.j41(8,"div",23)(9,"h5")(10,"span",24),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.EFF(13),e.k0s(),e.j41(14,"h5")(15,"span",24),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.EFF(18),e.k0s()(),e.j41(19,"div",23)(20,"h5")(21,"span",24),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"h5")(26,"span",24),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.EFF(29),e.k0s()()()()),2&a){const t=e.XpG(2);e.R7$(5),e.JRh(e.bMT(6,10,"monthsLeft :")),e.R7$(2),e.SpI(" ",t.allData.monthsLeft,""),e.R7$(4),e.JRh(e.bMT(12,12,"startYear :")),e.R7$(2),e.SpI(" ",t.allData.startYear,""),e.R7$(3),e.JRh(e.bMT(17,14,"startMonth :")),e.R7$(2),e.SpI(" ",t.allData.startMonth,""),e.R7$(4),e.JRh(e.bMT(23,16,"endYear :")),e.R7$(2),e.SpI(" ",t.allData.endYear,""),e.R7$(3),e.JRh(e.bMT(28,18,"endMonth :")),e.R7$(2),e.SpI(" ",t.allData.endMonth,"")}}function i1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",25),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortById(n))}),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"p-sortIcon",26),e.k0s(),e.j41(5,"th"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.j41(32,"th"),e.EFF(33),e.nI1(34,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,11,"EmployeeId")," "),e.R7$(4),e.JRh(e.bMT(7,13,"month")),e.R7$(3),e.JRh(e.bMT(10,15,"year")),e.R7$(3),e.JRh(e.bMT(13,17,"amountPaid")),e.R7$(3),e.JRh(e.bMT(16,19,"remainingAmount")),e.R7$(3),e.JRh(e.bMT(19,21,"isPaid")),e.R7$(3),e.JRh(e.bMT(22,23,"totalAmount")),e.R7$(3),e.JRh(e.bMT(25,25,"creationTime")),e.R7$(3),e.JRh(e.bMT(28,27,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(31,29,"creatorName")),e.R7$(3),e.JRh(e.bMT(34,31,"lastModifierName")))}function r1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"span",27),e.EFF(3,"Id"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",28)(6,"span",27),e.EFF(7,"month"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"td",28)(10,"span",27),e.EFF(11,"year"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",28)(14,"span",27),e.EFF(15,"amountPaid"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"td",28)(18,"span",27),e.EFF(19,"remainingAmount"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"td",28)(22,"span",27),e.EFF(23,"isPaid"),e.k0s(),e.j41(24,"p-inputSwitch",29),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.isPaid,n)||(l.isPaid=n),e.Njj(n)}),e.k0s()(),e.j41(25,"td",28)(26,"span",27),e.EFF(27,"totalAmount"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",28)(30,"span",27),e.EFF(31,"creationTime"),e.k0s(),e.EFF(32),e.nI1(33,"date"),e.k0s(),e.j41(34,"td",28)(35,"span",27),e.EFF(36,"lastModificationTime"),e.k0s(),e.EFF(37),e.nI1(38,"date"),e.k0s(),e.j41(39,"td",28)(40,"span",27),e.EFF(41,"creatorName"),e.k0s(),e.EFF(42),e.k0s(),e.j41(43,"td",28)(44,"span",27),e.EFF(45,"lastModifierName"),e.k0s(),e.EFF(46),e.k0s()()}if(2&a){const t=c.$implicit;e.R7$(4),e.SpI(" ",t.employeeId," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,de,!t.month)),e.R7$(3),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,de,!t.year)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,de,!t.amountPaid)),e.R7$(3),e.SpI(" ",t.amountPaid?t.amountPaid:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,de,!t.remainingAmount)),e.R7$(3),e.SpI(" ",t.remainingAmount?t.remainingAmount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,de,!t.isPaid)),e.R7$(3),e.R50("ngModel",t.isPaid),e.Y8G("disabled",!0),e.R7$(),e.Y8G("ngClass",e.eq3(38,de,!t.totalAmount)),e.R7$(3),e.SpI(" ",t.totalAmount?t.totalAmount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,de,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(33,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(42,de,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(38,25,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(44,de,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,de,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function c1(a,c){if(1&a&&(e.j41(0,"div",2)(1,"p-table",17),e.DNE(2,s1,30,20,"ng-template",18)(3,i1,35,33,"ng-template",19)(4,r1,47,48,"ng-template",20),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("value",t.loanPaymentGetDtos)}}let p1=(()=>{class a{constructor(t,o){this._GetLoanPaymentService=t,this.translate=o,this.loading=!1,this.selectedEmployeeId=[],this.registerForm={},this.totalItems=0}ngOnInit(){this.endPoint="Employee",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._GetLoanPaymentService.setCulture(t),this._GetLoanPaymentService.setEndPoint(this.endPoint),this.getALlDropDown(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getDropDownField(t){this._GetLoanPaymentService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsEmployee",enum:"Employee"}),this.getDropDownField({field:"dropdownLoanRequests",enum:"LoanRequests"})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.manageStructure.items.GetLoanPayment")}]}onSelectEmployee(t){console.log(t),this.selectedEmployeeId=t.value.id}onSelectLoan(t){console.log(t),this.selectedloanId=t.value.id}registerSubmit(){this.registerForm={loanId:Number(this.selectedloanId),employeeId:Number(this.selectedEmployeeId)},this.loading=!0,this._GetLoanPaymentService.getLoanPayment(this.registerForm.loanId,this.registerForm.employeeId).subscribe({next:t=>{this.loading=!1,console.log(t),this.allData=t.data,this.loanPaymentGetDtos=t.data.loanPaymentGetDtos,this.totalItems=this.allData.length,console.log(this.loanPaymentGetDtos)},error:()=>{this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(a1),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-get-loan-payment"]],viewQuery:function(o,n){if(1&o&&e.GBs(l1,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:31,vars:35,consts:[[3,"items"],[1,"grid","justify-content-center"],[1,"col-12"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","employee"],["optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder","filter","filterPlaceholder","filterBy","showClear"],["htmlFor","Loan"],["optionLabel","reason",3,"onChange","options","filter","filterPlaceholder","filterBy","showClear","placeholder"],[1,"field","col-12","md:col-12","py-5"],[1,"p-fluid","grid"],[1,"col-2"],["type","submit","pButton","","value","Show",1,"flex","justify-content-center"],["class","col-12",4,"ngIf"],[3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-8"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"label"],["pSortableColumn","employeeId",3,"click"],["field","employeeId"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModelChange","ngModel","disabled"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast")(1,"app-breadcrumb",0),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return n.registerSubmit()}),e.j41(9,"div",6)(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",9),e.nI1(15,"translate"),e.nI1(16,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedEmployee,r)||(n.selectedEmployee=r),r}),e.bIt("onChange",function(r){return n.onSelectEmployee(r)}),e.k0s()(),e.j41(17,"div",7)(18,"label",10),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"p-dropdown",11),e.nI1(22,"translate"),e.nI1(23,"translate"),e.bIt("onChange",function(r){return n.onSelectLoan(r)}),e.k0s()(),e.j41(24,"div",12)(25,"div",13)(26,"div",14)(27,"button",15),e.EFF(28),e.nI1(29,"translate"),e.k0s()()()()()()()(),e.DNE(30,c1,5,1,"div",16),e.k0s()),2&o&&(e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(7,19,"get all Loans For Each Employees")),e.R7$(6),e.JRh(e.bMT(13,21,"Employees")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployee),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(15,23,"Select Employee"))("filter",!0)("filterPlaceholder",e.bMT(16,25,"Search..."))("filterBy","name")("showClear",!0),e.R7$(5),e.JRh(e.bMT(20,27,"Loan Requests")),e.R7$(2),e.Y8G("options",n.dropdownLoanRequests)("filter",!0)("filterPlaceholder",e.bMT(22,29,"Search..."))("filterBy","reason")("showClear",!0)("placeholder",e.bMT(23,31,"Select Loan")),e.R7$(7),e.SpI(" ",e.bMT(29,33,"Show")," "),e.R7$(2),e.Y8G("ngIf",n.loanPaymentGetDtos))},dependencies:[C.$,u.YU,u.bT,s.qT,s.BC,s.cb,s.vS,s.cV,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,k._f,D.y8,Y.ms,ae.HW],styles:["h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-weight:700}  html:lang(ar) .p-datatable-header h5{display:flex;gap:10px}"]})}}return a})();var d1=R(8866);let m1=(()=>{class a extends E.${constructor(t){super(t)}RegisterTermination(t){return this.http.post(`${this.baseurl}/${this.endPoint}/register?culture=${this.culture}`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function u1(a,c){1&a&&e.nrm(0,"pre-loading")}function h1(a,c){1&a&&(e.EFF(0),e.nI1(1,"translate")),2&a&&e.SpI(" ",e.bMT(1,1,c.$implicit.name)," ")}function g1(a,c){if(1&a&&(e.EFF(0),e.nI1(1,"translate"),e.nI1(2,"translate")),2&a){const t=c.$implicit;e.SpI(" ",t?e.bMT(1,1,t.name):e.bMT(2,3,"Select Employee")," ")}}function _1(a,c){1&a&&(e.j41(0,"small",23),e.EFF(1," EmployeeId is required. "),e.k0s())}function b1(a,c){1&a&&(e.j41(0,"small",23),e.EFF(1," Termination Date is required. "),e.k0s())}function f1(a,c){1&a&&(e.j41(0,"small",23),e.EFF(1," Last Working Date is required. "),e.k0s())}function F1(a,c){1&a&&(e.j41(0,"small",23),e.EFF(1," Reason is required. "),e.k0s())}function I1(a,c){1&a&&(e.j41(0,"small",23),e.EFF(1," Clearance Date is required. "),e.k0s())}let R1=(()=>{class a{constructor(t,o,n,l){this._RegisterTerminationService=t,this.messageService=o,this.DatePipe=n,this.translate=l,this.loading=!1,this.selectedEmployeeId=[],this.TerminationForm=new s.gE({EmployeeId:new s.MJ(null,[s.k0.required]),TerminationDate:new s.MJ(null,[s.k0.required]),LastWorkingDate:new s.MJ(null,[s.k0.required]),Reason:new s.MJ(null,[s.k0.required]),ClearanceDate:new s.MJ(null,[s.k0.required])})}ngOnInit(){this.endPoint="Termination",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._RegisterTerminationService.setCulture(t),this._RegisterTerminationService.setEndPoint(this.endPoint),this.getALlDropDown(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.terminations.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.terminations.items.registerTermination")}]}getDropDownField(t){this._RegisterTerminationService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsEmployee",enum:"Employee"})}onSelectEmployee(t){console.log(t),this.selectedEmployeeId=t.value.id}getDecodedToken(){const t=localStorage.getItem("userToken");if(t)try{return(0,d1.s)(t)}catch(o){return console.error("Token decoding failed:",o),null}return null}getPropertyFromToken(t){const o=this.getDecodedToken();return o?o[t]:null}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}registerTermination(t){if(t.valid){this.loading=!0;let o={...t.value,EmployeeId:this.selectedEmployeeId,HrId:Number(this.getPropertyFromToken("EmployeeId")),TerminationDate:this.DatePipe.transform(this.TerminationForm.get("TerminationDate").value,"yyyy-MM-dd"),LastWorkingDate:this.DatePipe.transform(this.TerminationForm.get("LastWorkingDate").value,"yyyy-MM-dd"),ClearanceDate:this.DatePipe.transform(this.TerminationForm.get("ClearanceDate").value,"yyyy-MM-dd")};const n=this.mapToFormData(o);this._RegisterTerminationService.RegisterTermination(n).subscribe({next:l=>{this.loading=!1,l.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"Termination sent successfully !",life:3e3}),t.reset())},error:()=>{this.loading=!1}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(m1),e.rXU(m.bg),e.rXU(u.vh),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-register-termination"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([u.vh]),e.aNF],decls:50,vars:49,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"submit","formGroup"],[1,"field","col-12","md:col-12"],["htmlFor","employee"],["formControlName","EmployeeId","optionLabel","name","optionVal","id",3,"onChange","options","filter","filterPlaceholder","filterBy","showClear"],["pTemplate","item"],["pTemplate","selectedItem"],["class","p-error",4,"ngIf"],[1,"field","col-12"],["for","terminationDate"],["id","terminationDate","formControlName","TerminationDate","dateFormat","yy-mm-dd",3,"placeholder"],["for","lastWorkingDate"],["id","lastWorkingDate","formControlName","LastWorkingDate","dateFormat","yy-mm-dd",3,"placeholder"],["for","reason"],["id","reason","pInputTextarea","","formControlName","Reason","rows","3",3,"placeholder"],["for","clearanceDate"],["id","clearanceDate","formControlName","ClearanceDate","dateFormat","yy-mm-dd",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"p-error"]],template:function(o,n){if(1&o&&(e.nrm(0,"p-toast"),e.DNE(1,u1,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("submit",function(){return n.registerTermination(n.TerminationForm)}),e.j41(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",9),e.nI1(15,"translate"),e.bIt("onChange",function(r){return n.onSelectEmployee(r)}),e.DNE(16,h1,2,3,"ng-template",10)(17,g1,3,5,"ng-template",11),e.k0s(),e.DNE(18,_1,2,0,"small",12),e.k0s(),e.j41(19,"div",13)(20,"label",14),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"p-calendar",15),e.nI1(24,"translate"),e.DNE(25,b1,2,0,"small",12),e.k0s(),e.j41(26,"div",13)(27,"label",16),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.nrm(30,"p-calendar",17),e.nI1(31,"translate"),e.DNE(32,f1,2,0,"small",12),e.k0s(),e.j41(33,"div",13)(34,"label",18),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.nrm(37,"textarea",19),e.nI1(38,"translate"),e.DNE(39,F1,2,0,"small",12),e.k0s(),e.j41(40,"div",13)(41,"label",20),e.EFF(42),e.nI1(43,"translate"),e.k0s(),e.nrm(44,"p-calendar",21),e.nI1(45,"translate"),e.DNE(46,I1,2,0,"small",12),e.k0s(),e.j41(47,"div",13),e.nrm(48,"button",22),e.nI1(49,"translate"),e.k0s()()()()()),2&o){let l,r,i,d,F;e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,25,"Register Termination")),e.R7$(2),e.Y8G("formGroup",n.TerminationForm),e.R7$(3),e.JRh(e.bMT(13,27,"All Employees")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployee)("filter",!0)("filterPlaceholder",e.bMT(15,29,"Search..."))("filterBy","name")("showClear",!0),e.R7$(4),e.Y8G("ngIf",(null==(l=n.TerminationForm.get("EmployeeId"))?null:l.invalid)&&(null==(l=n.TerminationForm.get("EmployeeId"))?null:l.touched)),e.R7$(3),e.JRh(e.bMT(22,31,"Termination Date")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,33,"Select Termination Date")),e.R7$(2),e.Y8G("ngIf",(null==(r=n.TerminationForm.get("TerminationDate"))?null:r.invalid)&&(null==(r=n.TerminationForm.get("TerminationDate"))?null:r.touched)),e.R7$(3),e.JRh(e.bMT(29,35,"Last Working Date")),e.R7$(2),e.Y8G("placeholder",e.bMT(31,37,"Select Last Working Date")),e.R7$(2),e.Y8G("ngIf",(null==(i=n.TerminationForm.get("LastWorkingDate"))?null:i.invalid)&&(null==(i=n.TerminationForm.get("LastWorkingDate"))?null:i.touched)),e.R7$(3),e.JRh(e.bMT(36,39,"Reason")),e.R7$(2),e.Y8G("placeholder",e.bMT(38,41,"Enter Reason")),e.R7$(2),e.Y8G("ngIf",(null==(d=n.TerminationForm.get("Reason"))?null:d.invalid)&&(null==(d=n.TerminationForm.get("Reason"))?null:d.touched)),e.R7$(3),e.JRh(e.bMT(43,43,"Clearance Date")),e.R7$(2),e.Y8G("placeholder",e.bMT(45,45,"Select Clearance Date")),e.R7$(2),e.Y8G("ngIf",(null==(F=n.TerminationForm.get("ClearanceDate"))?null:F.invalid)&&(null==(F=n.TerminationForm.get("ClearanceDate"))?null:F.touched)),e.R7$(2),e.Y8G("disabled",n.TerminationForm.invalid)("label",e.bMT(49,47,"Send"))}},dependencies:[C.$,u.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,S.q,N.D,_.D9,M.t,m.Ei,k._f,D.y8,f.Z,Y.ms,W.Vv]})}}return a})(),y1=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const C1=["dt"],T1=()=>({width:"450px"}),Fe=a=>({"null-color":a});function M1(a,c){1&a&&e.nrm(0,"pre-loading")}function j1(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",10)(1,"h5",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",12),e.nrm(5,"i",13),e.j41(6,"input",14),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function k1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",15),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"p-sortIcon",16),e.k0s(),e.j41(5,"th"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,10,"employeeName")," "),e.R7$(4),e.JRh(e.bMT(7,12,"jobName")),e.R7$(3),e.JRh(e.bMT(10,14,"reason")),e.R7$(3),e.JRh(e.bMT(13,16,"lastWorkingDate")),e.R7$(3),e.JRh(e.bMT(16,18,"clearanceDate")),e.R7$(3),e.JRh(e.bMT(19,20,"creationTime")),e.R7$(3),e.JRh(e.bMT(22,22,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(25,24,"creatorName")),e.R7$(3),e.JRh(e.bMT(28,26,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(31,28,"Actions")))}function D1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",17)(2,"span",18),e.EFF(3,"employeeName"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",17)(6,"span",18),e.EFF(7,"jobName"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"td",17)(10,"span",18),e.EFF(11,"reason"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",17)(14,"span",18),e.EFF(15,"lastWorkingDate"),e.k0s(),e.EFF(16),e.nI1(17,"date"),e.k0s(),e.j41(18,"td",17)(19,"span",18),e.EFF(20,"clearanceDate"),e.k0s(),e.EFF(21),e.nI1(22,"date"),e.k0s(),e.j41(23,"td",17)(24,"span",18),e.EFF(25,"creationTime"),e.k0s(),e.EFF(26),e.nI1(27,"date"),e.k0s(),e.j41(28,"td",17)(29,"span",18),e.EFF(30,"lastModificationTime"),e.k0s(),e.EFF(31),e.nI1(32,"date"),e.k0s(),e.j41(33,"td",17)(34,"span",18),e.EFF(35,"creatorName"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",17)(38,"span",18),e.EFF(39,"lastModifierName"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td")(42,"div",19)(43,"button",20),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.viewProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(30,Fe,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,Fe,!t.jobName)),e.R7$(3),e.SpI(" ",t.jobName?t.jobName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,Fe,!t.reason)),e.R7$(3),e.SpI(" ",t.reason?t.reason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,Fe,!t.lastWorkingDate)),e.R7$(3),e.SpI(" ",e.i5U(17,18,t.lastWorkingDate,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(38,Fe,!t.clearanceDate)),e.R7$(3),e.SpI(" ",e.i5U(22,21,t.clearanceDate,"dd/MM/YYYY")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(40,Fe,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(27,24,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(42,Fe,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(32,27,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(44,Fe,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,Fe,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function E1(a,c){if(1&a&&(e.j41(0,"section",21)(1,"div",22)(2,"label",23),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",24),e.EFF(6),e.k0s()(),e.j41(7,"div",22)(8,"label",25),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p",24),e.EFF(12),e.k0s()(),e.j41(13,"div",22)(14,"label",26),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p",24),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"div",22)(21,"label",27),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"p",24),e.EFF(25),e.nI1(26,"date"),e.k0s()(),e.j41(27,"div",22)(28,"label",28),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"p",24),e.EFF(32),e.nI1(33,"date"),e.k0s()(),e.j41(34,"div",22)(35,"label",29),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"p",24),e.EFF(39),e.nI1(40,"date"),e.k0s()(),e.j41(41,"div",22)(42,"label",30),e.EFF(43),e.nI1(44,"translate"),e.k0s(),e.j41(45,"p",24),e.EFF(46),e.k0s()(),e.j41(47,"div",22)(48,"label",31),e.EFF(49),e.nI1(50,"translate"),e.k0s(),e.j41(51,"p",24),e.EFF(52),e.k0s()(),e.j41(53,"div",22)(54,"label",32),e.EFF(55),e.nI1(56,"translate"),e.k0s(),e.j41(57,"p",24),e.EFF(58),e.k0s()()()),2&a){const t=e.XpG();e.R7$(3),e.JRh(e.bMT(4,18,"jobName")),e.R7$(3),e.JRh(t.product.jobName),e.R7$(3),e.JRh(e.bMT(10,20,"reason")),e.R7$(3),e.JRh(t.product.reason),e.R7$(3),e.JRh(e.bMT(16,22,"lastWorkingDate")),e.R7$(3),e.JRh(e.i5U(19,24,t.product.lastWorkingDate,"yyyy/MM/dd")),e.R7$(4),e.JRh(e.bMT(23,27,"clearanceDate")),e.R7$(3),e.JRh(e.i5U(26,29,t.product.clearanceDate,"yyyy/MM/dd")),e.R7$(4),e.JRh(e.bMT(30,32,"creationTime")),e.R7$(3),e.JRh(e.i5U(33,34,t.product.creationTime,"yyyy-MM-dd , HH:mm:ss a")),e.R7$(4),e.JRh(e.bMT(37,37,"lastModificationTime")),e.R7$(3),e.JRh(e.i5U(40,39,t.product.lastModificationTime,"yyyy-MM-dd , HH:mm:ss a")),e.R7$(4),e.JRh(e.bMT(44,42,"creatorName")),e.R7$(3),e.JRh(t.product.creatorName),e.R7$(3),e.JRh(e.bMT(50,44,"lastModifierName")),e.R7$(3),e.JRh(t.product.lastModifierName),e.R7$(3),e.JRh(e.bMT(56,46,"Actions")),e.R7$(3),e.JRh(t.product.Actions)}}function N1(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",33),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.productDialog=!1)}),e.k0s()}2&a&&e.FS9("label",e.bMT(1,1,"Close"))}let w1=(()=>{class a{constructor(t,o,n){this._AllTerminationsService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)})}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="Termination",this._AllTerminationsService.setCulture(t),this._AllTerminationsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.terminations.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.terminations.items.allTermination")}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}viewProduct(t){console.log(t.id),this._AllTerminationsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},console.log(this.product),this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._AllTerminationsService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._AllTerminationsService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}loadData(t,o,n,l,r){let i={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r};i.SortType=this.sortOrder;const d=this.mapToFormData(i);this._AllTerminationsService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1},error:F=>{console.log(F),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._AllTerminationsService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._AllTerminationsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._AllTerminationsService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(y1),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-all-terminations"]],viewQuery:function(o,n){if(1&o&&e.GBs(C1,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:13,vars:21,consts:[["dt",""],[4,"ngIf"],[3,"items"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],[1,"form-data"],[1,"field","col-12"],["for","jobName"],[1,"text-data"],["for","reason"],["for","lastWorkingDate"],["for","clearanceDate"],["for","creationTime"],["for","lastModificationTime"],["for","creatorName"],["for","lastModifierName"],["for","actions"],["pButton","","type","button","icon","pi pi-times",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,M1,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-table",3,0),e.nI1(5,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(6,j1,8,7,"ng-template",4)(7,k1,32,30,"ng-template",5)(8,D1,44,48,"ng-template",6),e.k0s(),e.j41(9,"p-dialog",7),e.nI1(10,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(11,E1,59,48,"ng-template",8)(12,N1,2,3,"ng-template",9),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(5,16,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(20,T1)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(10,18,"Item Details"))("modal",!0))},dependencies:[C.$,u.YU,u.bT,s.me,s.BC,s.vS,S.q,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,P.n,k._f,x.l,D.y8,v.S],styles:[".field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:40%}.field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:60%}.text-data[_ngcontent-%COMP%]{color:#6c757d;background-color:#f8f9fa;padding:.5rem;border:1px solid #dee2e6;border-radius:4px;display:inline-block;width:100%;box-sizing:border-box}"]})}}return a})(),v1=(()=>{class a extends E.${constructor(t){super(t)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const S1=["dt"],vt=()=>({width:"450px"}),Ne=a=>({"null-color":a}),P1=(a,c,t,o)=>({"pending-status":a,"accepted-status":c,"rejected-status":t,"complete-status":o});function x1(a,c){1&a&&e.nrm(0,"pre-loading")}function G1(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",14),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",15)(2,"label",16),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",17),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",15)(8,"label",18),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",19),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",15)(14,"label",20),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"textarea",21),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",15),e.nrm(20,"button",22),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,9,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,11,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,15,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,17,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,19,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(21,21,"Insert New"))}}function $1(a,c){1&a&&(e.j41(0,"div",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Manage Items")))}function V1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",25),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",26),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",27),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,9,"Employee Name")," "),e.R7$(4),e.JRh(e.bMT(9,11,"statusValue")),e.R7$(3),e.JRh(e.bMT(12,13,"languageValue")),e.R7$(3),e.JRh(e.bMT(15,15,"hrStatusValue")),e.R7$(3),e.JRh(e.bMT(18,17,"creationTime")),e.R7$(3),e.JRh(e.bMT(21,19,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(24,21,"creatorName")),e.R7$(3),e.JRh(e.bMT(27,23,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(30,25,"Actions")))}function Y1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",28),e.k0s(),e.j41(3,"td",29)(4,"span",30),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",29)(8,"span",30),e.EFF(9,"statusValue"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",29)(12,"span",30),e.EFF(13,"languageValue"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",29)(16,"span"),e.EFF(17),e.k0s()(),e.j41(18,"td",29)(19,"span",30),e.EFF(20,"creationTime"),e.k0s(),e.EFF(21),e.nI1(22,"date"),e.k0s(),e.j41(23,"td",29)(24,"span",30),e.EFF(25,"lastModificationTime"),e.k0s(),e.EFF(26),e.nI1(27,"date"),e.k0s(),e.j41(28,"td",29)(29,"span",30),e.EFF(30,"creatorName"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"td",29)(33,"span",30),e.EFF(34,"lastModifierName"),e.k0s(),e.EFF(35),e.k0s(),e.j41(36,"td")(37,"div",31)(38,"button",32),e.nI1(39,"translate"),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.changeStatus(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(27,Ne,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,Ne,!t.statusValue)),e.R7$(3),e.SpI(" ",t.statusValue?t.statusValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,Ne,!t.languageValue)),e.R7$(3),e.SpI(" ",t.languageValue?t.languageValue:""," "),e.R7$(),e.Y8G("ngClass",e.ziG(33,P1,0==(null==t?null:t.status),1==(null==t?null:t.status),2==(null==t?null:t.status),3==(null==t?null:t.status))),e.R7$(2),e.SpI(" ",t.hrStatusValue," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,Ne,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(22,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(40,Ne,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(27,22,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(42,Ne,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,Ne,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," "),e.R7$(3),e.Y8G("label",e.bMT(39,25,"Change Status"))("disabled",3==(null==t?null:t.status))}}function B1(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",33),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveStatus(n.changeStatusForm,n.product))}),e.j41(1,"div",34)(2,"label",35),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",36),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.print(n.changeStatusForm))}),e.k0s()(),e.j41(7,"div",34)(8,"div",37),e.nrm(9,"button",38),e.nI1(10,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.changeStatusForm),e.R7$(3),e.JRh(e.bMT(4,7,"All Status")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"Select Status")),e.Y8G("options",t.all_Status_DropDown),e.R50("ngModel",t.selectedStatus),e.R7$(4),e.FS9("label",e.bMT(10,11,"Save")),e.Y8G("disabled",t.changeStatusForm.invalid)}}function A1(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function J1(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",40),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function q1(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",39),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",40),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Pn=(()=>{class a{constructor(t,o,n){this._HrLetterService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.changeStatusForm=new s.gE({Status:new s.MJ(null,s.k0.required)})}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="HrLetter",this._HrLetterService.setCulture(t),this._HrLetterService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.all_Status_DropDown="en"==t?[{id:0,name:"pending"},{id:1,name:"Prepared"},{id:2,name:"Rejected"},{id:3,name:"Recieved"}]:[{id:0,name:"\u0641\u0649 \u0627\u0646\u062a\u0638\u0627\u0631 \u0627\u0644\u0631\u062f"},{id:1,name:"\u062c\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062a\u0644\u0627\u0645"},{id:2,name:"\u0631\u0641\u0636"},{id:3,name:"\u062a\u0645 \u0627\u0633\u062a\u0644\u0627\u0645\u0647"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}print(t){console.log(t.value)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}changeStatus(t){this._HrLetterService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._HrLetterService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._HrLetterService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r};i.SortType=this.sortOrder;const d=this.mapToFormData(i);this._HrLetterService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1},error:F=>{console.log(F),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const l=this.mapToFormData(n);this._HrLetterService.changeStatus(l).subscribe({next:r=>{r.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._HrLetterService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._HrLetterService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(v1),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-hr-letter"]],viewQuery:function(o,n){if(1&o&&e.GBs(S1,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:28,vars:46,consts:[["dt",""],[4,"ngIf"],[3,"items"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-user-edit",1,"p-button-help","change-status-btn","mx-2","px-1",3,"click","label","disabled"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"ngModelChange","options","ngModel","placeholder"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,x1,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-dialog",3),e.nI1(4,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(5,G1,22,23,"ng-template",4),e.k0s(),e.j41(6,"p-table",5,0),e.nI1(8,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(9,$1,4,3,"ng-template",6)(10,V1,31,27,"ng-template",7)(11,Y1,40,46,"ng-template",8),e.k0s(),e.j41(12,"p-dialog",3),e.nI1(13,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(14,B1,11,13,"ng-template",4),e.k0s(),e.j41(15,"p-dialog",9),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(17,"div",10),e.nrm(18,"i",11),e.DNE(19,A1,6,4,"span",1),e.k0s(),e.DNE(20,J1,4,6,"ng-template",12),e.k0s(),e.j41(21,"p-dialog",13),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(22,"div",10),e.nrm(23,"i",11),e.j41(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.DNE(27,q1,4,6,"ng-template",12),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Aen(e.lJ4(42,vt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(4,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(8,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,vt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(13,36,"Status"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,vt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(16,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,vt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(26,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms],styles:[".accepted-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.complete-status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#ff97e9;border-radius:8px;display:flex;justify-content:center;align-items:center}.change-status-btn[_ngcontent-%COMP%]{width:135px}  .p-dialog{height:300px}  .p-dialog form{height:100%;display:flex;flex-direction:column;justify-content:space-between}  .p-dialog-content{height:100%;display:flex;flex-direction:column;justify-content:space-evenly}"]})}}return a})(),O1=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const L1=["dt"],St=()=>({width:"450px"}),ie=a=>({"null-color":a}),Ae=a=>({"ng-invalid ng-dirty":a});function X1(a,c){1&a&&e.nrm(0,"pre-loading")}function H1(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function U1(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}2&a&&(e.Y8G("chooseLabel",e.bMT(2,3,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,5,"Export")))}function z1(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",26),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",30),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24)(20,"label",31),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",32),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",33),e.nrm(26,"p-checkbox",34),e.j41(27,"label",35),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.j41(30,"div",24)(31,"label",36),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"input",37),e.nI1(35,"translate"),e.k0s(),e.j41(36,"div",24)(37,"label",38),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.nrm(40,"input",39),e.nI1(41,"translate"),e.k0s(),e.j41(42,"div",24),e.nrm(43,"button",40),e.nI1(44,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,16,"Enter Level")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,18,"Enter level from")),e.R7$(4),e.JRh(e.bMT(10,20,"Range From")),e.R7$(2),e.Y8G("placeholder",e.bMT(12,22,"Enter range from")),e.R7$(4),e.JRh(e.bMT(16,24,"Range To")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,26,"Enter range to")),e.R7$(4),e.JRh(e.bMT(22,28,"Amount Per Month")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,30,"Enter amount per month")),e.R7$(5),e.JRh(e.bMT(29,32,"Month For Year")),e.R7$(4),e.JRh(e.bMT(33,34,"bouns")),e.R7$(2),e.Y8G("placeholder",e.bMT(35,36,"Enter bouns")),e.R7$(4),e.JRh(e.bMT(39,38,"Unused Vacations")),e.R7$(2),e.Y8G("placeholder",e.bMT(41,40,"Enter unused vacations")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(44,42,"Insert New"))}}function W1(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"h5",42),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",43),e.nrm(5,"i",44),e.j41(6,"input",45),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Q1(a,c){1&a&&(e.j41(0,"tr")(1,"th",46),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"th"),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"th"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"th"),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"th"),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"th"),e.EFF(37),e.nI1(38,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,12,"level")),e.R7$(3),e.JRh(e.bMT(8,14,"rangeFrom")),e.R7$(3),e.JRh(e.bMT(11,16,"rangeTo")),e.R7$(3),e.JRh(e.bMT(14,18,"amountPerMonth")),e.R7$(3),e.JRh(e.bMT(17,20,"monthForYear")),e.R7$(3),e.JRh(e.bMT(20,22,"bouns")),e.R7$(3),e.JRh(e.bMT(23,24,"unUsedVacations")),e.R7$(3),e.JRh(e.bMT(26,26,"creationTime")),e.R7$(3),e.JRh(e.bMT(29,28,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(32,30,"creatorName")),e.R7$(3),e.JRh(e.bMT(35,32,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(38,34,"Actions")))}function K1(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",47),e.k0s(),e.j41(3,"td",48)(4,"span",49),e.EFF(5,"level"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",48)(8,"span",49),e.EFF(9,"rangeFrom"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",48)(12,"span",49),e.EFF(13,"rangeTo"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",48)(16,"span",49),e.EFF(17,"amountPerMonth"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",48)(20,"span",49),e.EFF(21,"monthForYear"),e.k0s(),e.j41(22,"p-checkbox",50),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.monthForYear,n)||(l.monthForYear=n),e.Njj(n)}),e.k0s()(),e.j41(23,"td",48)(24,"span",49),e.EFF(25,"bouns"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",48)(28,"span",49),e.EFF(29,"unUsedVacations"),e.k0s(),e.EFF(30),e.k0s(),e.j41(31,"td",48)(32,"span",49),e.EFF(33,"creationTime"),e.k0s(),e.EFF(34),e.nI1(35,"date"),e.k0s(),e.j41(36,"td",48)(37,"span",49),e.EFF(38,"lastModificationTime"),e.k0s(),e.EFF(39),e.nI1(40,"date"),e.k0s(),e.j41(41,"td",48)(42,"span",49),e.EFF(43,"creatorName"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td",48)(46,"span",49),e.EFF(47,"lastModifierName"),e.k0s(),e.EFF(48),e.k0s(),e.j41(49,"td")(50,"div",51)(51,"button",52),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(52,"button",53),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(30,ie,!t.level)),e.R7$(3),e.SpI(" ",t.level?t.level:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,ie,!t.rangeFrom)),e.R7$(3),e.SpI(" ",t.rangeFrom?t.rangeFrom:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,ie,!t.rangeTo)),e.R7$(3),e.SpI(" ",t.rangeTo?t.rangeTo:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(36,ie,!t.amountPerMonth)),e.R7$(3),e.SpI(" ",t.amountPerMonth?t.amountPerMonth:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,ie,!t.monthForYear)),e.R7$(3),e.R50("ngModel",t.monthForYear),e.Y8G("disabled",!0),e.R7$(),e.Y8G("ngClass",e.eq3(40,ie,!t.bouns)),e.R7$(3),e.SpI(" ",t.bouns?t.bouns:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(42,ie,!t.unUsedVacations)),e.R7$(3),e.SpI(" ",t.unUsedVacations?t.unUsedVacations:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,ie,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(35,24,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(46,ie,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(40,27,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(48,ie,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,ie,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Z1(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Level is required.")))}function eg(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Range From must be a non-negative number.")," "))}function tg(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Range To must be a non-negative number.")," "))}function ng(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Amount Per Month must be a non-negative number.")," "))}function og(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"bounsmust be a non-negative number.")," "))}function ag(a,c){1&a&&(e.j41(0,"small",66),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Unused Vacations must be a non-negative number.")," "))}function lg(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",54),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.level,n)||(l.product.level=n),e.Njj(n)}),e.k0s(),e.DNE(6,Z1,3,3,"small",55),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",56),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.rangeFrom,n)||(l.product.rangeFrom=n),e.Njj(n)}),e.k0s(),e.DNE(12,eg,3,3,"small",55),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",57),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.rangeTo,n)||(l.product.rangeTo=n),e.Njj(n)}),e.k0s(),e.DNE(18,tg,3,3,"small",55),e.k0s(),e.j41(19,"div",24)(20,"label",31),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",58),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.amountPerMonth,n)||(l.product.amountPerMonth=n),e.Njj(n)}),e.k0s(),e.DNE(24,ng,3,3,"small",55),e.k0s(),e.j41(25,"div",33)(26,"p-checkbox",59),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.monthForYear,n)||(l.product.monthForYear=n),e.Njj(n)}),e.k0s(),e.j41(27,"label",60),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.j41(30,"div",24)(31,"label",36),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"input",61),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.bouns,n)||(l.product.bouns=n),e.Njj(n)}),e.k0s(),e.DNE(35,og,3,3,"small",55),e.k0s(),e.j41(36,"div",24)(37,"label",38),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"input",62),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.unUsedVacations,n)||(l.product.unUsedVacations=n),e.Njj(n)}),e.k0s(),e.DNE(41,ag,3,3,"small",55),e.k0s(),e.j41(42,"div",63)(43,"button",64),e.nI1(44,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(45,"button",65),e.nI1(46,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,30,"Enter Level")),e.R7$(2),e.R50("ngModel",t.product.level),e.Y8G("ngClass",e.eq3(48,Ae,t.submitted&&!t.product.level)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.level),e.R7$(3),e.JRh(e.bMT(10,32,"Range From")),e.R7$(2),e.R50("ngModel",t.product.rangeFrom),e.Y8G("ngClass",e.eq3(50,Ae,t.submitted&&(null===t.product.rangeFrom||t.product.rangeFrom<0))),e.R7$(),e.Y8G("ngIf",t.submitted&&(null===t.product.rangeFrom||t.product.rangeFrom<0)),e.R7$(3),e.JRh(e.bMT(16,34,"Range To")),e.R7$(2),e.R50("ngModel",t.product.rangeTo),e.Y8G("ngClass",e.eq3(52,Ae,t.submitted&&(null===t.product.rangeTo||t.product.rangeTo<0))),e.R7$(),e.Y8G("ngIf",t.submitted&&(null===t.product.rangeTo||t.product.rangeTo<0)),e.R7$(3),e.JRh(e.bMT(22,36,"Amount Per Month")),e.R7$(2),e.R50("ngModel",t.product.amountPerMonth),e.Y8G("ngClass",e.eq3(54,Ae,t.submitted&&(null===t.product.amountPerMonth||t.product.amountPerMonth<0))),e.R7$(),e.Y8G("ngIf",t.submitted&&(null===t.product.amountPerMonth||t.product.amountPerMonth<0)),e.R7$(2),e.R50("ngModel",t.product.monthForYear),e.R7$(2),e.JRh(e.bMT(29,38,"Month For Year")),e.R7$(4),e.JRh(e.bMT(33,40,"bouns")),e.R7$(2),e.R50("ngModel",t.product.bouns),e.Y8G("ngClass",e.eq3(56,Ae,t.submitted&&(null===t.product.bouns||t.product.bouns<0))),e.R7$(),e.Y8G("ngIf",t.submitted&&(null===t.product.bouns||t.product.bouns<0)),e.R7$(3),e.JRh(e.bMT(39,42,"Unused Vacations")),e.R7$(2),e.R50("ngModel",t.product.unUsedVacations),e.Y8G("ngClass",e.eq3(58,Ae,t.submitted&&(null===t.product.unUsedVacations||t.product.unUsedVacations<0))),e.R7$(),e.Y8G("ngIf",t.submitted&&(null===t.product.unUsedVacations||t.product.unUsedVacations<0)),e.R7$(2),e.Y8G("label",e.bMT(44,44,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(46,46,"Save"))("disabled",t.editForm.invalid)}}function sg(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function ig(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function rg(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let cg=(()=>{class a{constructor(t,o,n){this._EndOfServiceService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({level:new s.MJ("",s.k0.required),rangeFrom:new s.MJ("",[s.k0.required,s.k0.min(0)]),rangeTo:new s.MJ("",[s.k0.required,s.k0.min(0)]),amountPerMonth:new s.MJ("",[s.k0.required,s.k0.min(0)]),monthForYear:new s.MJ(!1),bouns:new s.MJ("",[s.k0.required,s.k0.min(0)]),unUsedVacations:new s.MJ("",[s.k0.required,s.k0.min(0)])}),this.editForm=new s.gE({id:new s.MJ(null),level:new s.MJ("",s.k0.required),rangeFrom:new s.MJ("",[s.k0.required,s.k0.min(0)]),rangeTo:new s.MJ("",[s.k0.required,s.k0.min(0)]),amountPerMonth:new s.MJ("",[s.k0.required,s.k0.min(0)]),monthForYear:new s.MJ(!1),bouns:new s.MJ("",[s.k0.required,s.k0.min(0)]),unUsedVacations:new s.MJ("",[s.k0.required,s.k0.min(0)])})}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="EndOfService",this._EndOfServiceService.setCulture(t),this._EndOfServiceService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._EndOfServiceService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,console.clear(),console.log("edit form value"),console.log(this.editForm.value)},error:o=>{console.log(o)}})}confirmDelete(t){this._EndOfServiceService.deleteById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._EndOfServiceService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNotes=null}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.terminations.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.terminations.items.${this.endPoint}`)}]}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._EndOfServiceService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._EndOfServiceService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EndOfServiceService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._EndOfServiceService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(O1),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-end-of-service"]],viewQuery:function(o,n){if(1&o&&e.GBs(L1,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:31,vars:46,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["action","",3,"ngSubmit","formGroup"],[1,"field"],["for","level"],["pInputText","","formControlName","level","id","level","type","number",3,"placeholder"],["for","rangeFrom"],["pInputText","","formControlName","rangeFrom","id","rangeFrom","type","number",3,"placeholder"],["for","rangeTo"],["pInputText","","formControlName","rangeTo","id","rangeTo","type","number",3,"placeholder"],["for","amountPerMonth"],["pInputText","","formControlName","amountPerMonth","id","amountPerMonth","type","number",3,"placeholder"],[1,"field","flex","align-items-center","gap-3"],["formControlName","monthForYear","id","monthForYear","binary","true"],["for","monthForYear",1,"m-0","p-0"],["for","bouns"],["pInputText","","formControlName","bouns","id","bouns","type","number",3,"placeholder"],["for","unUsedVacations"],["pInputText","","formControlName","unUsedVacations","id","unUsedVacations","type","number",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],["binary","true",3,"ngModelChange","ngModel","disabled"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["type","text","pInputText","","id","level","maxlength","50","formControlName","level","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","number","pInputText","","id","rangeFrom","formControlName","rangeFrom",3,"ngModelChange","ngModel","ngClass"],["type","number","pInputText","","id","rangeTo","formControlName","rangeTo",3,"ngModelChange","ngModel","ngClass"],["type","number","pInputText","","id","amountPerMonth","formControlName","amountPerMonth",3,"ngModelChange","ngModel","ngClass"],["formControlName","monthForYear","id","monthForYear","binary","true",3,"ngModelChange","ngModel"],["for","monthForYear",1,"p-0","m-0"],["type","number","pInputText","","id","bouns","formControlName","bouns",3,"ngModelChange","ngModel","ngClass"],["type","number","pInputText","","id","unUsedVacations","formControlName","unUsedVacations",3,"ngModelChange","ngModel","ngClass"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,X1,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,H1,5,7,"ng-template",5)(5,U1,5,7,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,z1,45,44,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,W1,8,7,"ng-template",10)(13,Q1,39,36,"ng-template",11)(14,K1,53,52,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,lg,47,60,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,sg,6,4,"span",2),e.k0s(),e.DNE(23,ig,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",17),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,rg,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,St)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,St)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,36,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,St)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,St)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,ct.Sc,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}}return a})(),pg=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}changeStatus(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const dg=["dt"],Pt=()=>({width:"450px"}),cn=a=>({"null-color":a}),mg=(a,c)=>({"closed-status":a,"open-status":c}),ug=(a,c,t,o)=>({"applied-status":a,"inConsideration-status":c,"hired-status":t,"notSelected-status":o});function hg(a,c){1&a&&e.nrm(0,"pre-loading")}function gg(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",14),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",15)(2,"label",16),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",17),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",15)(8,"label",18),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",19),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",15)(14,"label",20),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"textarea",21),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",15),e.nrm(20,"button",22),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,9,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,11,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,15,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,17,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,19,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(21,21,"Insert New"))}}function _g(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.nrm(5,"i",26),e.j41(6,"input",27),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function bg(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,6,"jobTitle")),e.R7$(3),e.JRh(e.bMT(6,8,"statusOfTheJob")),e.R7$(3),e.JRh(e.bMT(9,10,"internalJobState")),e.R7$(3),e.JRh(e.bMT(12,12,"jobTitle")),e.R7$(3),e.JRh(e.bMT(15,14,"creationTime")),e.R7$(3),e.JRh(e.bMT(18,16,"Actions")))}function fg(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",28)(2,"span",29),e.EFF(3,"nameOfJob"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",28)(6,"span",29),e.EFF(7,"internalJobStatusValue"),e.k0s(),e.j41(8,"span",30),e.EFF(9),e.k0s()(),e.j41(10,"td",28)(11,"span",29),e.EFF(12,"internalJobApplicationStateValue"),e.k0s(),e.j41(13,"span",30),e.EFF(14),e.k0s()(),e.j41(15,"td",28)(16,"span",29),e.EFF(17,"jobTitle"),e.k0s(),e.EFF(18),e.k0s(),e.j41(19,"td",28)(20,"span",29),e.EFF(21,"creationTime"),e.k0s(),e.EFF(22),e.nI1(23,"date"),e.k0s(),e.j41(24,"td")(25,"div",31)(26,"button",32),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(27,"button",33),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(14,cn,!t.nameOfJob)),e.R7$(3),e.SpI(" ",t.nameOfJob?t.nameOfJob:""," "),e.R7$(),e.Y8G("ngClass",e.l_i(16,mg,0==(null==t?null:t.status),1==(null==t?null:t.status))),e.R7$(4),e.SpI(" ",t.internalJobStatusValue?t.internalJobStatusValue:""," "),e.R7$(),e.Y8G("ngClass",e.ziG(19,ug,0==(null==t?null:t.applicationState),1==(null==t?null:t.applicationState),2==(null==t?null:t.applicationState),3==(null==t?null:t.applicationState))),e.R7$(4),e.SpI(" ",t.internalJobApplicationStateValue?t.internalJobApplicationStateValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,cn,!t.jobTitle)),e.R7$(3),e.SpI(" ",t.jobTitle?t.jobTitle:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,cn,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(23,11,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(4),e.Y8G("disabled",0==(null==t?null:t.status))}}function Fg(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",34),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveStatus(n.changeStatusForm,n.product))}),e.j41(1,"div",35)(2,"label",36),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",37),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.print(n.changeStatusForm))}),e.k0s()(),e.j41(7,"div",35)(8,"div",38),e.nrm(9,"button",39),e.nI1(10,"translate"),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.changeStatusForm),e.R7$(3),e.JRh(e.bMT(4,7,"All Status")),e.R7$(2),e.FS9("placeholder",e.bMT(6,9,"Select Status")),e.Y8G("options",t.all_Status_DropDown),e.R50("ngModel",t.selectedStatus),e.R7$(4),e.FS9("label",e.bMT(10,11,"Save")),e.Y8G("disabled",t.changeStatusForm.invalid)}}function Ig(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Rg(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",40),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",41),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function yg(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",40),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",41),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Cg=(()=>{class a{constructor(t,o,n){this._ApplyingInternalJobService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.changeStatusForm=new s.gE({Status:new s.MJ(null,s.k0.required)})}ngOnInit(){T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.endPoint="ApplyingInternalJob",this._ApplyingInternalJobService.setCulture(t),this._ApplyingInternalJobService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.all_Status_DropDown="en"==t?[{id:0,name:"Applied"},{id:1,name:"InConsideration"},{id:2,name:"Hired"},{id:3,name:"NotSelected"}]:[{id:0,name:"\u062a\u0645 \u0627\u0644\u062a\u0642\u062f\u064a\u0645"},{id:1,name:"\u0641\u064a \u0627\u0644\u0627\u0639\u062a\u0628\u0627\u0631"},{id:2,name:"\u062a\u0645 \u0627\u0644\u062a\u0639\u064a\u064a\u0646"},{id:3,name:"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u062a\u0639\u064a\u064a\u0646"}],this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageEmployeeRequest.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageEmployeeRequest.items.${this.endPoint}`)}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._ApplyingInternalJobService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._ApplyingInternalJobService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._ApplyingInternalJobService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r};i.SortType=this.sortOrder;const d=this.mapToFormData(i);this._ApplyingInternalJobService.GetPage(d).subscribe({next:F=>{console.log(F),this.allData=F.data,console.log(F.data),this.totalItems=F.totalItems,this.loading=!1},error:F=>{console.log(F),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveStatus(t,o){this.submitted=!0;let n={...t.value,Id:o.id};const l=this.mapToFormData(n);this._ApplyingInternalJobService.changeStatus(l).subscribe({next:r=>{r.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.changeStatusForm.reset()):(this.showFormNew=!0,this.changeStatusForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._ApplyingInternalJobService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._ApplyingInternalJobService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(pg),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-applying-internal-job"]],viewQuery:function(o,n){if(1&o&&e.GBs(dg,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:28,vars:46,consts:[["dt",""],[4,"ngIf"],[3,"items"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[3,"ngClass"],[1,"p-column-title"],[1,"text"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"ngSubmit","formGroup"],[1,"field","col-12","md:12"],["for","AllStatus"],["optionValue","id","optionLabel","name","formControlName","Status","showClear","true",3,"ngModelChange","options","ngModel","placeholder"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,hg,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-dialog",3),e.nI1(4,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(5,gg,22,23,"ng-template",4),e.k0s(),e.j41(6,"p-table",5,0),e.nI1(8,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(9,_g,8,7,"ng-template",6)(10,bg,19,18,"ng-template",7)(11,fg,28,28,"ng-template",8),e.k0s(),e.j41(12,"p-dialog",3),e.nI1(13,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(14,Fg,11,13,"ng-template",4),e.k0s(),e.j41(15,"p-dialog",9),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(17,"div",10),e.nrm(18,"i",11),e.DNE(19,Ig,6,4,"span",1),e.k0s(),e.DNE(20,Rg,4,6,"ng-template",12),e.k0s(),e.j41(21,"p-dialog",13),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(22,"div",10),e.nrm(23,"i",11),e.j41(24,"span"),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.DNE(27,yg,4,6,"ng-template",12),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Aen(e.lJ4(42,Pt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(4,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(8,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,Pt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(13,36,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,Pt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(16,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,Pt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(26,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,P.n,k._f,x.l,D.y8,v.S,f.Z,Y.ms],styles:[".applied-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.inConsideration-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.hired-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background-color:#f5d2f4;display:flex;justify-content:center;align-items:center}.notSelected-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%], .closed-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;border-radius:8px;background-color:#f8d7da;display:flex;justify-content:center;align-items:center}.open-status[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.change-status-btn[_ngcontent-%COMP%]{width:135px}  .p-dialog{height:300px}  .p-dialog form{height:100%;display:flex;flex-direction:column;justify-content:space-between}  .p-dialog-content{height:100%;display:flex;flex-direction:column;justify-content:space-evenly}"]})}}return a})(),Tg=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Mg=["dt"],pn=()=>({width:"450px"}),V=a=>({"null-color":a});function jg(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function kg(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function Dg(a,c){1&a&&(e.j41(0,"h2",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Salary Report")," "))}function Eg(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"th"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"th"),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"th"),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"th"),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"th"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"th"),e.EFF(62),e.nI1(63,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,21,"Name")," "),e.R7$(3),e.JRh(e.bMT(6,23,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(9,25,"Month")," "),e.R7$(3),e.JRh(e.bMT(12,27,"Year")),e.R7$(3),e.JRh(e.bMT(15,29,"basicSalry")),e.R7$(3),e.JRh(e.bMT(18,31,"changing")),e.R7$(3),e.JRh(e.bMT(21,33,"badal")),e.R7$(3),e.JRh(e.bMT(24,35,"hawafez")),e.R7$(3),e.JRh(e.bMT(27,37,"kpi")),e.R7$(3),e.JRh(e.bMT(30,39,"penaltiesAndDeduction")),e.R7$(3),e.JRh(e.bMT(33,41,"bonus")),e.R7$(3),e.JRh(e.bMT(36,43,"daysOfAbsence")),e.R7$(3),e.JRh(e.bMT(39,45,"daysOfAbsenceValue")),e.R7$(3),e.JRh(e.bMT(42,47,"daysOfDelay")),e.R7$(3),e.JRh(e.bMT(45,49,"daysOfDelayValue")),e.R7$(3),e.JRh(e.bMT(48,51,"fingerPrintForgetting")),e.R7$(3),e.JRh(e.bMT(51,53,"fingerPrintForgettingValue")),e.R7$(3),e.JRh(e.bMT(54,55,"overTimeValue")),e.R7$(3),e.JRh(e.bMT(57,57,"initialpayment")),e.R7$(3),e.JRh(e.bMT(60,59,"insuranceAmount")),e.R7$(3),e.JRh(e.bMT(63,61,"totalMonthlyAllowance")))}function Ng(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.k0s(),e.j41(7,"td",39),e.EFF(8),e.k0s(),e.j41(9,"td",39),e.EFF(10),e.k0s(),e.j41(11,"td",39),e.EFF(12),e.k0s(),e.j41(13,"td",39),e.EFF(14),e.k0s(),e.j41(15,"td",39),e.EFF(16),e.k0s(),e.j41(17,"td",39),e.EFF(18),e.k0s(),e.j41(19,"td",39),e.EFF(20),e.k0s(),e.j41(21,"td",39),e.EFF(22),e.k0s(),e.j41(23,"td",39),e.EFF(24),e.k0s(),e.j41(25,"td",39),e.EFF(26),e.k0s(),e.j41(27,"td",39),e.EFF(28),e.k0s(),e.j41(29,"td",39),e.EFF(30),e.k0s(),e.j41(31,"td",39),e.EFF(32),e.k0s(),e.j41(33,"td",39),e.EFF(34),e.k0s(),e.j41(35,"td",39),e.EFF(36),e.k0s(),e.j41(37,"td",39),e.EFF(38),e.k0s(),e.j41(39,"td",39),e.EFF(40),e.k0s(),e.j41(41,"td",39),e.EFF(42),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(42,V,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,V,!t.departmentName)),e.R7$(),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,V,!t.month)),e.R7$(),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(48,V,!t.year)),e.R7$(),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,V,!t.basicSalry)),e.R7$(),e.SpI(" ",t.basicSalry?t.basicSalry:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(52,V,!t.changing)),e.R7$(),e.SpI(" ",t.changing?t.changing:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(54,V,!t.badal)),e.R7$(),e.SpI(" ",t.badal?t.badal:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(56,V,!t.hawafez)),e.R7$(),e.SpI(" ",t.hawafez?t.hawafez:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(58,V,!t.kpi)),e.R7$(),e.SpI(" ",t.kpi?t.kpi:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(60,V,!t.penaltiesAndDeduction)),e.R7$(),e.SpI(" ",t.penaltiesAndDeduction?t.penaltiesAndDeduction:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(62,V,!t.bonus)),e.R7$(),e.SpI(" ",t.bonus?t.bonus:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(64,V,!t.daysOfAbsence)),e.R7$(),e.SpI(" ",t.daysOfAbsence?t.daysOfAbsence:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(66,V,!t.daysOfAbsenceValue)),e.R7$(),e.SpI(" ",t.daysOfAbsenceValue?t.daysOfAbsenceValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(68,V,!t.daysOfDelay)),e.R7$(),e.SpI(" ",t.daysOfDelay?t.daysOfDelay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(70,V,!t.daysOfDelayValue)),e.R7$(),e.SpI(" ",t.daysOfDelayValue?t.daysOfDelayValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(72,V,!t.fingerPrintForgetting)),e.R7$(),e.SpI(" ",t.fingerPrintForgetting?t.fingerPrintForgetting:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(74,V,!t.fingerPrintForgettingValue)),e.R7$(),e.SpI(" ",t.fingerPrintForgettingValue?t.fingerPrintForgettingValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(76,V,!t.overTimeValue)),e.R7$(),e.SpI(" ",t.overTimeValue?t.overTimeValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(78,V,!t.initialpayment)),e.R7$(),e.SpI(" ",t.initialpayment?t.initialpayment:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(80,V,!t.insuranceAmount)),e.R7$(),e.SpI(" ",t.insuranceAmount?t.insuranceAmount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(82,V,!t.totalMonthlyAllowance)),e.R7$(),e.SpI(" ",t.totalMonthlyAllowance?t.totalMonthlyAllowance:""," ")}}function wg(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,Dg,3,3,"ng-template",35)(3,Eg,64,63,"ng-template",36)(4,Ng,43,84,"ng-template",37),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allDataWithoutPagination)}}function vg(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"div")(3,"button",43),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",44),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",45),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",46),e.nrm(11,"i",47),e.j41(12,"input",48),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function Sg(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",49),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",50),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",51),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",52),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"th"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"th"),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"th"),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"th"),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"th"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"th"),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"th"),e.EFF(65),e.nI1(66,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,21,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,23,"Department Name")),e.R7$(3),e.SpI(" ",e.bMT(12,25,"Month")," "),e.R7$(3),e.JRh(e.bMT(15,27,"Year")),e.R7$(3),e.JRh(e.bMT(18,29,"basicSalry")),e.R7$(3),e.JRh(e.bMT(21,31,"changing")),e.R7$(3),e.JRh(e.bMT(24,33,"badal")),e.R7$(3),e.JRh(e.bMT(27,35,"hawafez")),e.R7$(3),e.JRh(e.bMT(30,37,"kpi")),e.R7$(3),e.JRh(e.bMT(33,39,"penaltiesAndDeduction")),e.R7$(3),e.JRh(e.bMT(36,41,"bonus")),e.R7$(3),e.JRh(e.bMT(39,43,"daysOfAbsence")),e.R7$(3),e.JRh(e.bMT(42,45,"daysOfAbsenceValue")),e.R7$(3),e.JRh(e.bMT(45,47,"daysOfDelay")),e.R7$(3),e.JRh(e.bMT(48,49,"daysOfDelayValue")),e.R7$(3),e.JRh(e.bMT(51,51,"fingerPrintForgetting")),e.R7$(3),e.JRh(e.bMT(54,53,"fingerPrintForgettingValue")),e.R7$(3),e.JRh(e.bMT(57,55,"overTimeValue")),e.R7$(3),e.JRh(e.bMT(60,57,"initialpayment")),e.R7$(3),e.JRh(e.bMT(63,59,"insuranceAmount")),e.R7$(3),e.JRh(e.bMT(66,61,"totalMonthlyAllowance")))}function Pg(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",53),e.k0s(),e.j41(3,"td",39)(4,"span",54),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",54),e.EFF(9,"departmentName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39)(12,"span",54),e.EFF(13,"month"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",39),e.EFF(16),e.k0s(),e.j41(17,"td",39),e.EFF(18),e.k0s(),e.j41(19,"td",39),e.EFF(20),e.k0s(),e.j41(21,"td",39),e.EFF(22),e.k0s(),e.j41(23,"td",39),e.EFF(24),e.k0s(),e.j41(25,"td",39),e.EFF(26),e.k0s(),e.j41(27,"td",39),e.EFF(28),e.k0s(),e.j41(29,"td",39),e.EFF(30),e.k0s(),e.j41(31,"td",39),e.EFF(32),e.k0s(),e.j41(33,"td",39),e.EFF(34),e.k0s(),e.j41(35,"td",39),e.EFF(36),e.k0s(),e.j41(37,"td",39),e.EFF(38),e.k0s(),e.j41(39,"td",39),e.EFF(40),e.k0s(),e.j41(41,"td",39),e.EFF(42),e.k0s(),e.j41(43,"td",39),e.EFF(44),e.k0s(),e.j41(45,"td",39),e.EFF(46),e.k0s(),e.j41(47,"td",39),e.EFF(48),e.k0s(),e.j41(49,"td",39),e.EFF(50),e.k0s()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(43,V,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,V,!t.departmentName)),e.R7$(3),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,V,!t.month)),e.R7$(3),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(49,V,!t.year)),e.R7$(),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,V,!t.basicSalry)),e.R7$(),e.SpI(" ",t.basicSalry?t.basicSalry:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(53,V,!t.changing)),e.R7$(),e.SpI(" ",t.changing?t.changing:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,V,!t.badal)),e.R7$(),e.SpI(" ",t.badal?t.badal:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(57,V,!t.hawafez)),e.R7$(),e.SpI(" ",t.hawafez?t.hawafez:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(59,V,!t.kpi)),e.R7$(),e.SpI(" ",t.kpi?t.kpi:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(61,V,!t.penaltiesAndDeduction)),e.R7$(),e.SpI(" ",t.penaltiesAndDeduction?t.penaltiesAndDeduction:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(63,V,!t.bonus)),e.R7$(),e.SpI(" ",t.bonus?t.bonus:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(65,V,!t.daysOfAbsence)),e.R7$(),e.SpI(" ",t.daysOfAbsence?t.daysOfAbsence:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(67,V,!t.daysOfAbsenceValue)),e.R7$(),e.SpI(" ",t.daysOfAbsenceValue?t.daysOfAbsenceValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(69,V,!t.daysOfDelay)),e.R7$(),e.SpI(" ",t.daysOfDelay?t.daysOfDelay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(71,V,!t.daysOfDelayValue)),e.R7$(),e.SpI(" ",t.daysOfDelayValue?t.daysOfDelayValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(73,V,!t.fingerPrintForgetting)),e.R7$(),e.SpI(" ",t.fingerPrintForgetting?t.fingerPrintForgetting:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(75,V,!t.fingerPrintForgettingValue)),e.R7$(),e.SpI(" ",t.fingerPrintForgettingValue?t.fingerPrintForgettingValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(77,V,!t.overTimeValue)),e.R7$(),e.SpI(" ",t.overTimeValue?t.overTimeValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(79,V,!t.initialpayment)),e.R7$(),e.SpI(" ",t.initialpayment?t.initialpayment:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(81,V,!t.insuranceAmount)),e.R7$(),e.SpI(" ",t.insuranceAmount?t.insuranceAmount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(83,V,!t.totalMonthlyAllowance)),e.R7$(),e.SpI(" ",t.totalMonthlyAllowance?t.totalMonthlyAllowance:""," ")}}function xg(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",40,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,vg,14,14,"ng-template",35)(4,Sg,67,63,"ng-template",36)(5,Pg,51,85,"ng-template",37),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function Gg(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",55),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",56),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",57),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",58),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",59),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",60),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",61),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",62),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",63),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",64),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",65),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",66)(32,"button",67),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",68),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function $g(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Vg(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",70),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Yg(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",69),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",70),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let Bg=(()=>{class a{constructor(t,o,n){this.monthlyAbsenceReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Salary",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.monthlyAbsenceReportService.setCulture(t),this.monthlyAbsenceReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.month&&this.year&&this.loadFilteredData(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"year",header:"Year"},{field:"basicSalary",header:"basicSalry"},{field:"changing",header:"changing"},{field:"badal",header:"badal"},{field:"hawafez",header:"hawafez"},{field:"kpi",header:"kpi"},{field:"penaltiesAndDeduction",header:"penaltiesAndDeduction"},{field:"bonus",header:"bonus"},{field:"daysOfAbsence",header:"daysOfAbsence"},{field:"daysOfAbsenceValue",header:"daysOfAbsenceValue"},{field:"daysOfDelay",header:"daysOfDelay"},{field:"daysOfDelayValue",header:"daysOfDelayValue"},{field:"fingerPrintForgetting",header:"fingerPrintForgetting"},{field:"fingerPrintForgettingValue",header:"fingerPrintForgettingValue"},{field:"overTimeValue",header:"overTimeValue"},{field:"initialPayment",header:"initialpayment"},{field:"insuranceAmount",header:"insuranceAmount"},{field:"totalMonthlyAllowance",header:"totalMonthlyAllowance"}],this.selectedYear=null}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.salaryReports.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.reports.items.salaryReports.items.${this.endPoint}Report`)}]}editProduct(t){this.monthlyAbsenceReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.monthlyAbsenceReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this.monthlyAbsenceReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r,i,d,F,J){let L={PageNumber:t,PageSize:o,FilterValue:n,FilterType:l,SortType:r,EmployeeId:i,DepartmentId:d,Month:F,Year:J};L.SortType=this.sortOrder;const z=this.mapToFormData(L);console.log("FilteredData"),console.log(L),this.monthlyAbsenceReportService.GetPage(z).subscribe({next:Oe=>{console.log(Oe),this.allData=Oe.data,console.log(Oe.data),this.totalItems=Oe.totalItems,this.loading=!1,console.log(this.selectedItems)}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(r),this.monthlyAbsenceReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.monthlyAbsenceReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=this.endPoint+"_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=this.endPoint+"_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>"absentDates"===d&&Array.isArray(i[d])?`"${i[d].map(F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${i[d]||""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.monthlyAbsenceReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this.monthlyAbsenceReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}}),this.getAllData(t.value))}getDropDowns(){this.monthlyAbsenceReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.monthlyAbsenceReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.monthlyAbsenceReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.monthlyAbsenceReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n            <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                <head>\n                    <title>${this.translate.instant("report")}</title>\n                    <style>\n                        body {\n                            font-family: Arial, sans-serif;\n                            margin: 20px;\n                        }\n                        table {\n                            border-collapse: collapse;\n                            width: 100%;\n                        }\n                        th, td {\n                            border: 1px solid #ddd;\n                            padding: 8px;\n                            text-align: center;\n                            max-width: fit-content\n                        }\n                        th {\n                            background-color: #f4f4f4;\n                        }\n                        h2 {\n                            text-align: center;\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                </body>\n            </html>\n        `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Tg),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-salary-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(Mg,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month",1,"label-field"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,jg,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,kg,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,wg,5,1,"p-table",24)(49,xg,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,Gg,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,$g,6,4,"span",31),e.k0s(),e.DNE(58,Vg,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,Yg,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,50,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allDataWithoutPagination.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,pn)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,pn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,pn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),Ag=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Jg=["dt"],dn=()=>({width:"450px"}),Ce=a=>({"null-color":a});function qg(a,c){1&a&&e.nrm(0,"pre-loading")}function Og(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",16)(1,"button",17),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function Lg(a,c){1&a&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Employee is Required")," "))}function Xg(a,c){1&a&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"endOFServiceReasonRequired")," "))}function Hg(a,c){1&a&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"endOfServiceDateRequired")," "))}function Ug(a,c){1&a&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lastWorkingDateRequired")," "))}function zg(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",18),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",19)(2,"label",20),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"p-dropdown",21),e.nI1(6,"translate"),e.DNE(7,Lg,3,3,"div",22),e.k0s(),e.j41(8,"div",19)(9,"label",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"input",24),e.DNE(13,Xg,3,3,"div",22),e.k0s(),e.j41(14,"div",19)(15,"label",25),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.nrm(18,"p-calendar",26),e.DNE(19,Hg,3,3,"div",22),e.k0s(),e.j41(20,"div",19)(21,"label",27),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"p-calendar",28),e.DNE(25,Ug,3,3,"div",22),e.k0s(),e.j41(26,"div",19),e.nrm(27,"button",29),e.nI1(28,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,17,"Employee Name")),e.R7$(2),e.FS9("placeholder",e.bMT(6,19,"Select Employee")),e.Y8G("options",t.dropdownItemsEmployee)("filter",!0)("showClear",!0),e.R7$(2),e.Y8G("ngIf",t.addNewForm.get("employeeId").invalid&&t.addNewForm.get("employeeId").touched),e.R7$(3),e.JRh(e.bMT(11,21,"endOFServiceReason")),e.R7$(3),e.Y8G("ngIf",t.addNewForm.get("endOFServiceReason").invalid&&t.addNewForm.get("endOFServiceReason").touched),e.R7$(3),e.JRh(e.bMT(17,23,"endOfServiceDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.Y8G("ngIf",t.addNewForm.get("endOfServiceDate").invalid&&t.addNewForm.get("endOfServiceDate").touched),e.R7$(3),e.JRh(e.bMT(23,25,"lastWorkingDate")),e.R7$(2),e.Y8G("showIcon",!0),e.R7$(),e.Y8G("ngIf",t.addNewForm.get("lastWorkingDate").invalid&&t.addNewForm.get("lastWorkingDate").touched),e.R7$(2),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(28,27,"Insert New"))}}function Wg(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",31)(1,"h5",32),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",33),e.nrm(5,"i",34),e.j41(6,"input",35),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Qg(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",36),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"p-sortIcon",37),e.k0s(),e.j41(5,"th"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,8,"employeeName")," "),e.R7$(4),e.SpI(" ",e.bMT(7,10,"endOFServiceReason")," "),e.R7$(3),e.SpI(" ",e.bMT(10,12,"endOfServiceDate")," "),e.R7$(3),e.SpI(" ",e.bMT(13,14,"lastWorkingDate")," "),e.R7$(3),e.SpI(" ",e.bMT(16,16,"Status")," "),e.R7$(3),e.SpI(" ",e.bMT(19,18,"yearsOfService")," "),e.R7$(3),e.SpI(" ",e.bMT(22,20,"finalSalaryEntitlement")," "),e.R7$(3),e.SpI(" ",e.bMT(25,22,"compensation")," "))}function Kg(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",38)(2,"span",39),e.EFF(3,"employeeName"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",38)(6,"span",39),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.EFF(9),e.k0s(),e.j41(10,"td",38)(11,"span",39),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",38)(17,"span",39),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.EFF(20),e.nI1(21,"date"),e.k0s(),e.j41(22,"td",38)(23,"span",39),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.EFF(26),e.k0s(),e.j41(27,"td",38)(28,"span",39),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.EFF(31),e.k0s(),e.j41(32,"td",38)(33,"span",39),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",38)(38,"span",39),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.EFF(41),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(41,Ce,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(43,Ce,!t.endOFServiceReason)),e.R7$(2),e.JRh(e.bMT(8,23,"endOFServiceReason")),e.R7$(2),e.SpI(" ",t.endOFServiceReason?t.endOFServiceReason:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,Ce,!t.endOfServiceDate)),e.R7$(2),e.JRh(e.bMT(13,25,"endOfServiceDate")),e.R7$(2),e.SpI(" ",t.endOfServiceDate?e.bMT(15,27,t.endOfServiceDate):""," "),e.R7$(2),e.Y8G("ngClass",e.eq3(47,Ce,!t.lastWorkingDate)),e.R7$(2),e.JRh(e.bMT(19,29,"lastWorkingDate")),e.R7$(2),e.SpI(" ",t.lastWorkingDate?e.bMT(21,31,t.lastWorkingDate):""," "),e.R7$(2),e.Y8G("ngClass",e.eq3(49,Ce,null===t.status)),e.R7$(2),e.JRh(e.bMT(25,33,"Status")),e.R7$(2),e.SpI(" ",null!==t.status?t.status:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,Ce,!t.yearsOfService)),e.R7$(2),e.JRh(e.bMT(30,35,"yearsOfService")),e.R7$(2),e.SpI(" ",t.yearsOfService?t.yearsOfService:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(53,Ce,!t.finalSalaryEntitlement)),e.R7$(2),e.JRh(e.bMT(35,37,"finalSalaryEntitlement")),e.R7$(2),e.SpI(" ",t.finalSalaryEntitlement?t.finalSalaryEntitlement:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,Ce,!t.compensation)),e.R7$(2),e.JRh(e.bMT(40,39,"compensation")),e.R7$(2),e.SpI(" ",t.compensation?t.compensation:""," ")}}function Zg(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function e_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",40),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",41),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function t_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",40),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",41),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let n_=(()=>{class a{constructor(t,o,n,l){this._EndOfServiceRequest=t,this.messageService=o,this.translate=n,this._DatePipe=l,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({employeeId:new s.MJ(null,s.k0.required),endOFServiceReason:new s.MJ("",s.k0.required),endOfServiceDate:new s.MJ("",s.k0.required),lastWorkingDate:new s.MJ("",s.k0.required)})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.terminations.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.terminations.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="EndOfServiceRequest",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EndOfServiceRequest.setCulture(t),this._EndOfServiceRequest.setEndPoint(this.endPoint),this.getDropDownEmployee(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDownEmployee(){this._EndOfServiceRequest.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._EndOfServiceRequest.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._EndOfServiceRequest.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}convertDate(t,o){return this._DatePipe.transform(t,o)}addNew(t){console.log(t);let o={...t.value,endOfServiceDate:this.convertDate(t.get("endOfServiceDate").value,"yyyy-MM-ddTHH:mm:ss"),lastWorkingDate:this.convertDate(t.get("lastWorkingDate").value,"yyyy-MM-ddTHH:mm:ss")};this._EndOfServiceRequest.Register(o).subscribe({next:n=>{n.success&&(console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._EndOfServiceRequest.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._EndOfServiceRequest.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._EndOfServiceRequest.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._EndOfServiceRequest.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ag),e.rXU(m.bg),e.rXU(_.c$),e.rXU(u.vh))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-end-of-service-request"]],viewQuery:function(o,n){if(1&o&&e.GBs(Jg,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,u.vh]),e.aNF],decls:27,vars:38,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],[3,"ngSubmit","formGroup"],[1,"field"],["for","employeeId"],["id","employeeId","formControlName","employeeId","optionLabel","name","optionValue","id","filterBy","employeeName",3,"options","placeholder","filter","showClear"],["class","error",4,"ngIf"],["for","endOFServiceReason"],["id","endOFServiceReason","type","text","pInputText","","formControlName","endOFServiceReason"],["for","endOfServiceDate"],["id","endOfServiceDate","formControlName","endOfServiceDate",3,"showIcon"],["for","lastWorkingDate"],["id","lastWorkingDate","formControlName","lastWorkingDate",3,"showIcon"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"error"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"ngClass"],[1,"p-column-title"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,qg,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,Og,3,3,"ng-template",4),e.k0s(),e.j41(5,"p-dialog",5),e.nI1(6,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(7,zg,29,29,"ng-template",6),e.k0s(),e.j41(8,"p-table",7,0),e.nI1(10,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(11,Wg,8,7,"ng-template",8)(12,Qg,26,24,"ng-template",9)(13,Kg,42,57,"ng-template",10),e.k0s(),e.j41(14,"p-dialog",11),e.nI1(15,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(16,"div",12),e.nrm(17,"i",13),e.DNE(18,Zg,6,4,"span",1),e.k0s(),e.DNE(19,e_,4,6,"ng-template",14),e.k0s(),e.j41(20,"p-dialog",15),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(21,"div",12),e.nrm(22,"i",13),e.j41(23,"span"),e.EFF(24),e.nI1(25,"translate"),e.k0s()(),e.DNE(26,t_,4,6,"ng-template",14),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(3),e.Aen(e.lJ4(35,dn)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(6,27,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(10,29,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(36,dn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(15,31,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(37,dn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(25,33,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,P.n,k._f,x.l,D.y8,v.S,Y.ms,W.Vv],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}  .error{color:red!important}"]})}}return a})(),o_=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/MonthlyPayrollSummaryReport/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const a_=["dt"],mn=()=>({width:"450px"}),K=a=>({"null-color":a});function l_(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function s_(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function i_(a,c){1&a&&(e.j41(0,"h2",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"MonthlyPayrollSummaryReport")," "))}function r_(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,7,"Name")," "),e.R7$(3),e.JRh(e.bMT(6,9,"Department Name")),e.R7$(3),e.JRh(e.bMT(9,11,"Designation")),e.R7$(3),e.JRh(e.bMT(12,13,"grossSalary")),e.R7$(3),e.JRh(e.bMT(15,15,"totalDeductions")),e.R7$(3),e.JRh(e.bMT(18,17,"netSalary")),e.R7$(3),e.JRh(e.bMT(21,19,"paymentDate")))}function c_(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",39),e.EFF(9),e.k0s(),e.j41(10,"td",39),e.EFF(11),e.k0s(),e.j41(12,"td",39),e.EFF(13),e.k0s(),e.j41(14,"td",39),e.EFF(15),e.nI1(16,"date"),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(20,K,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,K,!t.departmentName)),e.R7$(),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,K,!t.designation)),e.R7$(),e.SpI(" ",e.i5U(7,14,t.designation,"yyyy/MM/dd - HH:mm:ss a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(26,K,!t.grossSalary)),e.R7$(),e.SpI(" ",t.grossSalary," "),e.R7$(),e.Y8G("ngClass",e.eq3(28,K,!t.totalDeductions)),e.R7$(),e.SpI(" ",t.totalDeductions," "),e.R7$(),e.Y8G("ngClass",e.eq3(30,K,!t.netSalary)),e.R7$(),e.SpI(" ",t.netSalary," "),e.R7$(),e.Y8G("ngClass",e.eq3(32,K,!t.paymentDate)),e.R7$(),e.SpI(" ",e.i5U(16,17,t.paymentDate,"yyyy/MM/dd - HH:mm:ss a")," ")}}function p_(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,i_,3,3,"ng-template",35)(3,r_,22,21,"ng-template",36)(4,c_,17,34,"ng-template",37),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allDataWithoutPagination)}}function d_(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"div")(3,"button",43),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",44),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",45),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",46),e.nrm(11,"i",47),e.j41(12,"input",48),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function m_(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",49),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",50),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",51),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,7,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,9,"Department")),e.R7$(3),e.SpI(" ",e.bMT(12,11,"Designation")," "),e.R7$(3),e.SpI(" ",e.bMT(15,13,"grossSalary")," "),e.R7$(3),e.SpI(" ",e.bMT(18,15,"totalDeductions")," "),e.R7$(3),e.SpI(" ",e.bMT(21,17,"netSalary")," "),e.R7$(3),e.SpI(" ",e.bMT(24,19,"paymentDate")," "))}function u_(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",52),e.k0s(),e.j41(3,"td",39)(4,"span",53),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",53),e.EFF(9,"departmentName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"td",39),e.EFF(15),e.k0s(),e.j41(16,"td",39),e.EFF(17),e.k0s(),e.j41(18,"td",39),e.EFF(19),e.k0s(),e.j41(20,"td",39),e.EFF(21),e.nI1(22,"date"),e.k0s()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(21,K,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(23,K,!t.departmentName)),e.R7$(3),e.SpI(" ",t.departmentName?t.departmentName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(25,K,!t.designation)),e.R7$(),e.SpI(" ",e.i5U(13,15,t.designation,"yyyy/MM/dd - HH:mm:ss a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(27,K,!t.grossSalary)),e.R7$(),e.SpI(" ",t.grossSalary," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,K,!t.totalDeductions)),e.R7$(),e.SpI(" ",t.totalDeductions," "),e.R7$(),e.Y8G("ngClass",e.eq3(31,K,!t.netSalary)),e.R7$(),e.SpI(" ",t.netSalary," "),e.R7$(),e.Y8G("ngClass",e.eq3(33,K,!t.paymentDate)),e.R7$(),e.SpI(" ",e.i5U(22,18,t.paymentDate,"yyyy/MM/dd - HH:mm:ss a")," ")}}function h_(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",40,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,d_,14,14,"ng-template",35)(4,m_,25,21,"ng-template",36)(5,u_,23,35,"ng-template",37),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function g_(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",54),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",55),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",56),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",57),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",58),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",59),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",60),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",61),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",62),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",63),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",64),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",65)(32,"button",66),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",67),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function __(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function b_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",68),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",69),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function f_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",68),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",69),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let F_=(()=>{class a{constructor(t,o,n){this._MonthlyPayrollSummaryReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Salary",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._MonthlyPayrollSummaryReportService.setCulture(t),this._MonthlyPayrollSummaryReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"employeeName",header:"Name"},{field:"departmentName",header:"Department Name"},{field:"designation",header:"Designation"},{field:"grossSalary",header:"Gross Salary"},{field:"totalDeductions",header:"Total Deductions"},{field:"netSalary",header:"Net Salary"},{field:"paymentDate",header:"Payment Date"}],this.selectedYear=null}editProduct(t){this._MonthlyPayrollSummaryReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.salaryReports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.salaryReports.items.MonthlyPayrollSummaryReport")}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._MonthlyPayrollSummaryReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this._MonthlyPayrollSummaryReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r,i,d,F,J){let L={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r,employeeId:i,departmentId:d,month:F,year:J};L.sortType=this.sortOrder,console.log("FilteredData"),console.log(L),this._MonthlyPayrollSummaryReportService.GetPage(L).subscribe({next:z=>{console.log(z),this.allData=z.data,console.log(z.data),this.totalItems=z.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(r),this._MonthlyPayrollSummaryReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this._MonthlyPayrollSummaryReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>"absentDates"===d&&Array.isArray(i[d])?`"${i[d].map(F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${i[d]||""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._MonthlyPayrollSummaryReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this._MonthlyPayrollSummaryReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}}),this.getAllData(t.value))}getDropDowns(){this._MonthlyPayrollSummaryReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this._MonthlyPayrollSummaryReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this._MonthlyPayrollSummaryReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          h2 {\n                              text-align: center;\n                          }\n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(o_),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-monthly-payroll-summary-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(a_,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,_.c$,u.vh]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"value"],[1,"p-column-title"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,l_,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,s_,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,p_,5,1,"p-table",24)(49,h_,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,g_,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,__,6,4,"span",31),e.k0s(),e.DNE(58,b_,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,f_,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.SpI("",e.bMT(18,50,"Department")," "),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allDataWithoutPagination.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,mn)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,mn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,mn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),I_=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/EmployeePaySlipReport/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const R_=["dt"],un=()=>({width:"450px"}),O=a=>({"null-color":a});function y_(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function C_(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function T_(a,c){1&a&&(e.j41(0,"h2",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Monthly Absence Report")," "))}function M_(a,c){1&a&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"th"),e.EFF(47),e.nI1(48,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,16,"Name")," "),e.R7$(3),e.SpI(" ",e.bMT(6,18,"Designation")," "),e.R7$(3),e.SpI(" ",e.bMT(9,20,"Basic Salary")," "),e.R7$(3),e.SpI(" ",e.bMT(12,22,"Total Allowances")," "),e.R7$(3),e.SpI(" ",e.bMT(15,24,"Overtime Pay")," "),e.R7$(3),e.SpI(" ",e.bMT(18,26,"Bonuses")," "),e.R7$(3),e.SpI(" ",e.bMT(21,28,"Insurance")," "),e.R7$(3),e.SpI(" ",e.bMT(24,30,"Earnings")," "),e.R7$(3),e.SpI(" ",e.bMT(27,32,"Taxes")," "),e.R7$(3),e.SpI(" ",e.bMT(30,34,"Total Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(33,36,"Payment Method")," "),e.R7$(3),e.SpI(" ",e.bMT(36,38,"Total Loan Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(39,40,"Penalties and Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(42,42,"Early Leave Penalty Value")," "),e.R7$(3),e.SpI(" ",e.bMT(45,44,"Net Salary")," "),e.R7$(3),e.SpI(" ",e.bMT(48,46,"Payment Date")," "))}function j_(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td",39),e.EFF(7),e.k0s(),e.j41(8,"td",39),e.EFF(9),e.k0s(),e.j41(10,"td",39),e.EFF(11),e.k0s(),e.j41(12,"td",39),e.EFF(13),e.k0s(),e.j41(14,"td",39),e.EFF(15),e.k0s(),e.j41(16,"td",39),e.EFF(17),e.k0s(),e.j41(18,"td",39),e.EFF(19),e.k0s(),e.j41(20,"td",39),e.EFF(21),e.k0s(),e.j41(22,"td",39),e.EFF(23),e.k0s(),e.j41(24,"td",39),e.EFF(25),e.k0s(),e.j41(26,"td",39),e.EFF(27),e.k0s(),e.j41(28,"td",39),e.EFF(29),e.k0s(),e.j41(30,"td",39),e.EFF(31),e.k0s(),e.j41(32,"td",39),e.EFF(33),e.nI1(34,"date"),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(38,O,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,O,!t.designation)),e.R7$(),e.SpI(" ",e.i5U(5,32,t.designation,"yyyy/MM/dd HH:mm:ss a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(42,O,!t.basicSalary)),e.R7$(),e.SpI(" ",t.basicSalary?t.basicSalary:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,O,!t.totalAllowances)),e.R7$(),e.SpI(" ",t.totalAllowances?t.totalAllowances:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,O,!t.overtimePay)),e.R7$(),e.SpI(" ",t.overtimePay?t.overtimePay:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(48,O,!t.bonuses)),e.R7$(),e.SpI(" ",t.bonuses?t.bonuses:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,O,!t.insurance)),e.R7$(),e.SpI(" ",t.insurance?t.insurance:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(52,O,!t.earnings)),e.R7$(),e.SpI(" ",t.earnings?t.earnings:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(54,O,!t.taxes)),e.R7$(),e.SpI(" ",t.taxes?t.taxes:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(56,O,!t.totalDeductions)),e.R7$(),e.SpI(" ",t.totalDeductions?t.totalDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(58,O,!t.paymentMethod)),e.R7$(),e.SpI(" ",t.paymentMethod?t.paymentMethod:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(60,O,!t.totalLoanDeductions)),e.R7$(),e.SpI(" ",t.totalLoanDeductions?t.totalLoanDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(62,O,!t.penaltiesAndDeductions)),e.R7$(),e.SpI(" ",t.penaltiesAndDeductions?t.penaltiesAndDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(64,O,!t.earlyLeavePenaltyValue)),e.R7$(),e.SpI(" ",t.earlyLeavePenaltyValue?t.earlyLeavePenaltyValue:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(66,O,!t.netSalary)),e.R7$(),e.SpI(" ",t.netSalary?t.netSalary:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(68,O,!t.paymentDate)),e.R7$(),e.SpI(" ",e.i5U(34,35,t.paymentDate,"yyyy/MM/dd")," ")}}function k_(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,T_,3,3,"ng-template",35)(3,M_,49,48,"ng-template",36)(4,j_,35,70,"ng-template",37),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allDataWithoutPagination)}}function D_(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",41)(1,"div",42)(2,"div")(3,"button",43),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",44),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",45),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",46),e.nrm(11,"i",47),e.j41(12,"input",48),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function E_(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",49),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",50),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",51),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"th"),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"th"),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"th"),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"th"),e.EFF(38),e.nI1(39,"translate"),e.k0s(),e.j41(40,"th"),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"th"),e.EFF(44),e.nI1(45,"translate"),e.k0s(),e.j41(46,"th"),e.EFF(47),e.nI1(48,"translate"),e.k0s(),e.j41(49,"th"),e.EFF(50),e.nI1(51,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,16,"Name")," "),e.R7$(4),e.SpI(" ",e.bMT(9,18,"Designation")," "),e.R7$(3),e.SpI(" ",e.bMT(12,20,"Basic Salary")," "),e.R7$(3),e.SpI(" ",e.bMT(15,22,"Total Allowances")," "),e.R7$(3),e.SpI(" ",e.bMT(18,24,"Overtime Pay")," "),e.R7$(3),e.SpI(" ",e.bMT(21,26,"Bonuses")," "),e.R7$(3),e.SpI(" ",e.bMT(24,28,"Insurance")," "),e.R7$(3),e.SpI(" ",e.bMT(27,30,"Earnings")," "),e.R7$(3),e.SpI(" ",e.bMT(30,32,"Taxes")," "),e.R7$(3),e.SpI(" ",e.bMT(33,34,"Total Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(36,36,"Payment Method")," "),e.R7$(3),e.SpI(" ",e.bMT(39,38,"Total Loan Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(42,40,"Penalties and Deductions")," "),e.R7$(3),e.SpI(" ",e.bMT(45,42,"Early Leave Penalty Value")," "),e.R7$(3),e.SpI(" ",e.bMT(48,44,"Net Salary")," "),e.R7$(3),e.SpI(" ",e.bMT(51,46,"Payment Date")," "))}function N_(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",52),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td",39),e.EFF(9),e.k0s(),e.j41(10,"td",39),e.EFF(11),e.k0s(),e.j41(12,"td",39),e.EFF(13),e.k0s(),e.j41(14,"td",39),e.EFF(15),e.k0s(),e.j41(16,"td",39),e.EFF(17),e.k0s(),e.j41(18,"td",39),e.EFF(19),e.k0s(),e.j41(20,"td",39),e.EFF(21),e.k0s(),e.j41(22,"td",39),e.EFF(23),e.k0s(),e.j41(24,"td",39),e.EFF(25),e.k0s(),e.j41(26,"td",39),e.EFF(27),e.k0s(),e.j41(28,"td",39),e.EFF(29),e.k0s(),e.j41(30,"td",39),e.EFF(31),e.k0s(),e.j41(32,"td",39),e.EFF(33),e.k0s(),e.j41(34,"td",39),e.EFF(35),e.nI1(36,"date"),e.k0s()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(39,O,!t.employeeName)),e.R7$(),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(41,O,!t.designation)),e.R7$(),e.SpI(" ",e.i5U(7,33,t.designation,"yyyy/MM/dd")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,O,!t.basicSalary)),e.R7$(),e.SpI(" ",t.basicSalary?t.basicSalary:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,O,!t.totalAllowances)),e.R7$(),e.SpI(" ",t.totalAllowances?t.totalAllowances:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,O,!t.overtimePay)),e.R7$(),e.SpI(" ",t.overtimePay?t.overtimePay:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(49,O,!t.bonuses)),e.R7$(),e.SpI(" ",t.bonuses?t.bonuses:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(51,O,!t.insurance)),e.R7$(),e.SpI(" ",t.insurance?t.insurance:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(53,O,!t.earnings)),e.R7$(),e.SpI(" ",t.earnings?t.earnings:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,O,!t.taxes)),e.R7$(),e.SpI(" ",t.taxes?t.taxes:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(57,O,!t.totalDeductions)),e.R7$(),e.SpI(" ",t.totalDeductions?t.totalDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(59,O,!t.paymentMethod)),e.R7$(),e.SpI(" ",t.paymentMethod?t.paymentMethod:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(61,O,!t.totalLoanDeductions)),e.R7$(),e.SpI(" ",t.totalLoanDeductions?t.totalLoanDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(63,O,!t.penaltiesAndDeductions)),e.R7$(),e.SpI(" ",t.penaltiesAndDeductions?t.penaltiesAndDeductions:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(65,O,!t.earlyLeavePenaltyValue)),e.R7$(),e.SpI(" ",t.earlyLeavePenaltyValue?t.earlyLeavePenaltyValue:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(67,O,!t.netSalary)),e.R7$(),e.SpI(" ",t.netSalary?t.netSalary:0," "),e.R7$(),e.Y8G("ngClass",e.eq3(69,O,!t.paymentDate)),e.R7$(),e.SpI(" ",e.i5U(36,36,t.paymentDate,"yyyy/MM/dd HH:mm:ss a")," ")}}function w_(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",40,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,D_,14,14,"ng-template",35)(4,E_,52,48,"ng-template",36)(5,N_,37,71,"ng-template",37),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function v_(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",53),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",55),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",56),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",57),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",58),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",59),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",60),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",61),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",62),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",63),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",64)(32,"button",65),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",66),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function S_(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function P_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function x_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let G_=(()=>{class a{constructor(t,o,n){this._EmployeePaySlipReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="Salary",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeePaySlipReportService.setCulture(t),this._EmployeePaySlipReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadFilteredData(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"designation",header:"Designation"},{field:"basicSalary",header:"Basic Salary"},{field:"totalAllowances",header:"Total Allowances"},{field:"overtimePay",header:"Overtime Pay"},{field:"bonuses",header:"Bonuses"},{field:"insurance",header:"Insurance"},{field:"earnings",header:"Earnings"},{field:"taxes",header:"Taxes"},{field:"totalDeductions",header:"Total Deductions"},{field:"paymentMethod",header:"Payment Method"},{field:"totalLoanDeductions",header:"Total Loan Deductions"},{field:"penaltiesAndDeductions",header:"Penalties and Deductions"},{field:"earlyLeavePenaltyValue",header:"Early Leave Penalty Value"},{field:"netSalary",header:"Net Salary"},{field:"paymentDate",header:"Payment Date"}],this.selectedYear=null}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.salaryReports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.salaryReports.items.EmployeePaySlipReport")}]}editProduct(t){this._EmployeePaySlipReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._EmployeePaySlipReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}addNew(t){this._EmployeePaySlipReportService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset())}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.employeeId,this.departmentId,this.month,this.year)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,l,r,i,d,F,J){let L={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r,employeeId:i,departmentId:d,month:F,year:J};L.sortType=this.sortOrder,console.log("FilteredData"),console.log(L),this._EmployeePaySlipReportService.GetPage(L).subscribe({next:z=>{console.log(z),this.allData=z.data,console.log(z.data),this.totalItems=z.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(r),this._EmployeePaySlipReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this._EmployeePaySlipReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allDataWithoutPagination),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download="data_export_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>"absentDates"===d&&Array.isArray(i[d])?`"${i[d].map(F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${i[d]||""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeePaySlipReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={...t.value,pageNumber:1,pageSize:this.itemsPerPage,filterValue:this.nameFilter,filterType:this.sortField,sortType:this.sortOrder};console.log(n),"VALID"==t.status&&(this._EmployeePaySlipReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}}),this.getAllData(t.value))}getDropDowns(){this._EmployeePaySlipReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this._EmployeePaySlipReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this._EmployeePaySlipReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this._EmployeePaySlipReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this._EmployeePaySlipReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n              <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                  <head>\n                      <title>${this.translate.instant("report")}</title>\n                      <style>\n                          body {\n                              font-family: Arial, sans-serif;\n                              margin: 20px;\n                          }\n                          table {\n                              border-collapse: collapse;\n                              width: 100%;\n                          }\n                          th, td {\n                              border: 1px solid #ddd;\n                              padding: 8px;\n                              text-align: center;\n                              max-width: fit-content\n                          }\n                          th {\n                              background-color: #f4f4f4;\n                          }\n                          h2 {\n                              text-align: center;\n                          }\n                      </style>\n                  </head>\n                  <body>\n                      ${t}\n                  </body>\n              </html>\n          `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(I_),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-employee-pay-slip-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(R_,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[3,"ngClass"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"value"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,y_,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,C_,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,k_,5,1,"p-table",24)(49,w_,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,v_,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,S_,6,4,"span",31),e.k0s(),e.DNE(58,P_,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,x_,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,50,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allDataWithoutPagination.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,un)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,un)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,un)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),$_=(()=>{class a extends E.${constructor(t){super(t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const V_=["dt"],xt=()=>({width:"450px"}),we=a=>({"null-color":a}),xn=a=>({"ng-invalid ng-dirty":a});function Y_(a,c){1&a&&e.nrm(0,"pre-loading")}function B_(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function A_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function J_(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",20),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",23),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",25),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",26)(14,"label",27),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"p-inputSwitch",28),e.k0s(),e.j41(18,"div",21),e.nrm(19,"button",29),e.nI1(20,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,8,"versionName")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,10,"Enter Version Name")),e.R7$(4),e.JRh(e.bMT(10,12,"operatingSystemType")),e.R7$(2),e.Y8G("placeholder",e.bMT(12,14,"Enter Operating System Type")),e.R7$(4),e.JRh(e.bMT(16,16,"Status")),e.R7$(4),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(20,18,"Insert New"))}}function q_(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",30)(1,"h5",31),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",32),e.nrm(5,"i",33),e.j41(6,"input",34),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function O_(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",35),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",36),e.bIt("click",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.sortByName(n))}),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",37),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"th"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()}2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,8,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,10,"versionName")),e.R7$(3),e.JRh(e.bMT(12,12,"operatingSystemType")),e.R7$(3),e.JRh(e.bMT(15,14,"status")),e.R7$(3),e.JRh(e.bMT(18,16,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(21,18,"creatorName")),e.R7$(3),e.JRh(e.bMT(24,20,"lastModifierName")),e.R7$(3),e.JRh(e.bMT(27,22,"Actions")))}function L_(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",38),e.k0s(),e.j41(3,"td",39)(4,"span",40),e.EFF(5,"versionName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",39)(8,"span",40),e.EFF(9,"operatingSystemType"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",39)(12,"span",40),e.EFF(13,"status"),e.k0s(),e.nrm(14,"p-inputSwitch",41),e.k0s(),e.j41(15,"td",39)(16,"span",40),e.EFF(17,"creationTime"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",39)(21,"span",40),e.EFF(22,"lastModificationTime"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",39)(26,"span",40),e.EFF(27,"creatorName"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",39)(30,"span",40),e.EFF(31,"lastModifierName"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"div",42)(35,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(36,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(22,we,!t.versionName)),e.R7$(3),e.SpI(" ",t.versionName?t.versionName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(24,we,!t.operatingSystemType)),e.R7$(3),e.SpI(" ",t.operatingSystemType?t.operatingSystemType:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(26,we,!t.status)),e.R7$(3),e.Y8G("ngModel",t.status)("disabled",!0),e.R7$(),e.Y8G("ngClass",e.eq3(28,we,!t.creationTime)),e.R7$(3),e.SpI(" ",e.i5U(19,16,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(30,we,!t.lastModificationTime)),e.R7$(3),e.SpI(" ",e.i5U(24,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(32,we,!t.creatorName)),e.R7$(3),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(34,we,!t.lastModifierName)),e.R7$(3),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function X_(a,c){1&a&&(e.j41(0,"small",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Version Name is required.")))}function H_(a,c){1&a&&(e.j41(0,"small",54),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Operating System Type is required.")))}function U_(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",45)(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.versionName,n)||(l.product.versionName=n),e.Njj(n)}),e.k0s(),e.DNE(6,X_,3,3,"small",47),e.k0s(),e.j41(7,"div",21)(8,"label",24),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.operatingSystemType,n)||(l.product.operatingSystemType=n),e.Njj(n)}),e.k0s(),e.DNE(12,H_,3,3,"small",47),e.k0s(),e.j41(13,"div",26)(14,"label",49),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"p-inputSwitch",50),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.status,n)||(l.product.status=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",51)(19,"button",52),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(21,"button",53),e.nI1(22,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.k0s()()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,14,"versionName")),e.R7$(2),e.R50("ngModel",t.product.versionName),e.Y8G("ngClass",e.eq3(24,xn,t.submitted&&!t.product.versionName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.versionName),e.R7$(3),e.JRh(e.bMT(10,16,"operatingSystemType")),e.R7$(2),e.R50("ngModel",t.product.operatingSystemType),e.Y8G("ngClass",e.eq3(26,xn,t.submitted&&!t.product.operatingSystemType)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.operatingSystemType),e.R7$(3),e.JRh(e.bMT(16,18,"Status")),e.R7$(2),e.R50("ngModel",t.product.status),e.R7$(2),e.Y8G("label",e.bMT(20,20,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(22,22,"Save"))("disabled",t.editForm.invalid)}}function z_(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function W_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",56),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Q_(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",55),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",56),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let K_=(()=>{class a{constructor(t,o,n){this._MobileVersionService=t,this.messageService=o,this.translate=n,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({versionName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),operatingSystemType:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),status:new s.MJ(!1)}),this.editForm=new s.gE({versionName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),operatingSystemType:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),status:new s.MJ(!1)})}ngOnInit(){this.endPoint="MobileVersion",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._MobileVersionService.setCulture(t),this._MobileVersionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._MobileVersionService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._MobileVersionService.deleteById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){let o={...t.value,status:Number(this.addNewForm.get("status").value)};this._MobileVersionService.Register(o).subscribe({next:n=>{n.success&&(console.log(n),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._MobileVersionService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0;let n={...t.value,status:Number(this.addNewForm.get("status").value),id:o.id};this.loading=!0,this._MobileVersionService.Edit(n).subscribe({next:l=>{l.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:l.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._MobileVersionService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._MobileVersionService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU($_),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-mobile-version"]],viewQuery:function(o,n){if(1&o&&e.GBs(V_,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,_.c$]),e.aNF],decls:31,vars:46,consts:[["dt",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["for","versionName"],["pInputText","","formControlName","versionName","id","versionName","type","text","maxlength","50",3,"placeholder"],["for","operatingSystemType"],["pInputText","","formControlName","operatingSystemType","id","operatingSystemType","type","text","maxlength","50",3,"placeholder"],[1,"field","field-switch"],["for","status"],["formControlName","status","id","status"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[3,"ngClass"],[1,"p-column-title"],[3,"ngModel","disabled"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["action","",3,"formGroup"],["type","text","pInputText","","id","versionName","formControlName","versionName","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["type","text","pInputText","","id","operatingSystemType","formControlName","operatingSystemType","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","status-edit"],["formControlName","status","id","status-edit",3,"ngModelChange","ngModel"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"click","label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Y_,1,0,"pre-loading",1),e.nrm(2,"app-breadcrumb",2),e.j41(3,"p-toolbar",3),e.DNE(4,B_,3,3,"ng-template",4)(5,A_,2,4,"ng-template",5),e.k0s(),e.j41(6,"p-dialog",6),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,J_,21,20,"ng-template",7),e.k0s(),e.j41(9,"p-table",8,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,q_,8,7,"ng-template",9)(13,O_,28,24,"ng-template",10)(14,L_,37,36,"ng-template",11),e.k0s(),e.j41(15,"p-dialog",6),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,U_,23,28,"ng-template",7),e.k0s(),e.j41(18,"p-dialog",12),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",13),e.nrm(21,"i",14),e.DNE(22,z_,6,4,"span",1),e.k0s(),e.DNE(23,W_,4,6,"ng-template",15),e.k0s(),e.j41(24,"p-dialog",16),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",13),e.nrm(26,"i",14),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,Q_,4,6,"ng-template",15),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(42,xt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,32,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,34,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0),e.R7$(6),e.Aen(e.lJ4(43,xt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,36,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(44,xt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,38,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(45,xt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,40,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.Tg,h.yc,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,ae.HW,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}  .field-switch{display:flex;align-items:center;gap:10px}"]})}}return a})(),Z_=(()=>{class a extends E.${constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/?culture=${this.culture}`,t)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const eb=["dt"],hn=()=>({width:"450px"}),B=a=>({"null-color":a});function tb(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function nb(a,c){1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"this field is required"),""))}function ob(a,c){1&a&&(e.j41(0,"h2",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Attendance Report")," "))}function ab(a,c){if(1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.SpI("",e.bMT(2,1,"reports.attendanceSheet."+t.field)," ")}}function lb(a,c){if(1&a&&(e.j41(0,"tr"),e.DNE(1,ab,3,3,"th",39),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.cols)}}function sb(a,c){if(1&a&&(e.j41(0,"tr")(1,"td",40)(2,"span",41),e.EFF(3,"employeeName"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",40)(6,"span",41),e.EFF(7,"shiftName"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"td",40)(10,"span",41),e.EFF(11,"date"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",40)(14,"span",41),e.EFF(15,"checkIn"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"td",40)(18,"span",41),e.EFF(19,"checkOut"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"td",40)(22,"span",41),e.EFF(23,"publicVacationId"),e.k0s(),e.EFF(24),e.k0s(),e.j41(25,"td",40)(26,"span",41),e.EFF(27,"excuesTypeId"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",40)(30,"span",41),e.EFF(31,"excuseDuration"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",40)(34,"span",41),e.EFF(35,"isDynamicWeekEndDay"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",40)(38,"span",41),e.EFF(39,"dynamicWeekEndDay"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td",40)(42,"span",41),e.EFF(43,"lateMinutes"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td",40)(46,"span",41),e.EFF(47,"workingHoursTime"),e.k0s(),e.EFF(48),e.k0s(),e.j41(49,"td",40)(50,"span",41),e.EFF(51,"earlyLeaveMinutes"),e.k0s(),e.EFF(52),e.k0s(),e.j41(53,"td",40)(54,"span",41),e.EFF(55,"missionType"),e.k0s(),e.EFF(56),e.k0s(),e.j41(57,"td",40)(58,"span",41),e.EFF(59,"overtime"),e.k0s(),e.EFF(60),e.k0s(),e.j41(61,"td",40)(62,"span",41),e.EFF(63,"shiftCheckInTime"),e.k0s(),e.EFF(64),e.k0s(),e.j41(65,"td",40)(66,"span",41),e.EFF(67,"shiftCheckOutTime"),e.k0s(),e.EFF(68),e.k0s(),e.j41(69,"td",40)(70,"span",41),e.EFF(71,"status"),e.k0s(),e.EFF(72),e.k0s()()),2&a){const t=c.$implicit;e.R7$(),e.Y8G("ngClass",e.eq3(36,B,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName?t.employeeName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(38,B,!t.shiftName)),e.R7$(3),e.SpI(" ",t.shiftName?t.shiftName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(40,B,!t.date)),e.R7$(3),e.SpI(" ",t.date?t.date:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(42,B,!t.checkIn)),e.R7$(3),e.SpI(" ",t.checkIn?t.checkIn:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(44,B,!t.checkOut)),e.R7$(3),e.SpI(" ",t.checkOut?t.checkOut:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(46,B,!t.publicVacationId)),e.R7$(3),e.SpI(" ",t.publicVacationId?t.publicVacationId:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(48,B,!t.excuesTypeId)),e.R7$(3),e.SpI(" ",t.excuesTypeId?t.excuesTypeId:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(50,B,!t.excuseDuration)),e.R7$(3),e.SpI(" ",t.excuseDuration?t.excuseDuration:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(52,B,null===t.isDynamicWeekEndDay)),e.R7$(3),e.SpI(" ",t.isDynamicWeekEndDay?"Yes":"No"," "),e.R7$(),e.Y8G("ngClass",e.eq3(54,B,!t.dynamicWeekEndDay)),e.R7$(3),e.SpI(" ",t.dynamicWeekEndDay?t.dynamicWeekEndDay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(56,B,!t.lateMinutes)),e.R7$(3),e.SpI(" ",t.lateMinutes?t.lateMinutes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(58,B,!t.workingHoursTime)),e.R7$(3),e.SpI(" ",t.workingHoursTime?t.workingHoursTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(60,B,!t.earlyLeaveMinutes)),e.R7$(3),e.SpI(" ",t.earlyLeaveMinutes?t.earlyLeaveMinutes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(62,B,!t.missionType)),e.R7$(3),e.SpI(" ",t.missionType?t.missionType:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(64,B,!t.overtime)),e.R7$(3),e.SpI(" ",t.overtime?t.overtime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(66,B,!t.shiftCheckInTime)),e.R7$(3),e.SpI(" ",t.shiftCheckInTime?t.shiftCheckInTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(68,B,!t.shiftCheckOutTime)),e.R7$(3),e.SpI(" ",t.shiftCheckOutTime?t.shiftCheckOutTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(70,B,!t.status)),e.R7$(3),e.SpI(" ",t.status?t.status:""," ")}}function ib(a,c){if(1&a&&(e.j41(0,"p-table",34,1),e.DNE(2,ob,3,3,"ng-template",35)(3,lb,2,1,"ng-template",36)(4,sb,73,72,"ng-template",37),e.k0s()),2&a){const t=e.XpG();e.Y8G("value",t.allData)}}function rb(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",43)(1,"div",44)(2,"div")(3,"button",45),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportCSV())}),e.k0s(),e.j41(5,"button",46),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.exportAllCSV())}),e.k0s()(),e.j41(7,"div")(8,"button",47),e.nI1(9,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.printTable())}),e.k0s()()(),e.j41(10,"span",48),e.nrm(11,"i",49),e.j41(12,"input",50),e.nI1(13,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG(2);return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length),e.R7$(2),e.Y8G("label",e.bMT(6,8,"Export All")),e.R7$(3),e.Y8G("label",e.bMT(9,10,"Print All")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(13,12,"Search..."))}}function cb(a,c){if(1&a&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a){const t=c.$implicit;e.R7$(),e.SpI("",e.bMT(2,1,"reports.attendanceSheet."+t.field)," ")}}function pb(a,c){if(1&a&&(e.j41(0,"tr")(1,"th",51),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.DNE(3,cb,3,3,"th",39),e.k0s()),2&a){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.cols)}}function db(a,c){if(1&a&&(e.j41(0,"tr")(1,"td"),e.nrm(2,"p-tableCheckbox",52),e.k0s(),e.j41(3,"td",40)(4,"span",41),e.EFF(5,"employeeName"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"td",40)(8,"span",41),e.EFF(9,"shiftName"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"td",40)(12,"span",41),e.EFF(13,"date"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"td",40)(16,"span",41),e.EFF(17,"checkIn"),e.k0s(),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"td",40)(21,"span",41),e.EFF(22,"checkOut"),e.k0s(),e.EFF(23),e.nI1(24,"date"),e.k0s(),e.j41(25,"td",40)(26,"span",41),e.EFF(27,"publicVacationId"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"td",40)(30,"span",41),e.EFF(31,"excuesTypeId"),e.k0s(),e.EFF(32),e.k0s(),e.j41(33,"td",40)(34,"span",41),e.EFF(35,"excuseDuration"),e.k0s(),e.EFF(36),e.k0s(),e.j41(37,"td",40)(38,"span",41),e.EFF(39,"isDynamicWeekEndDay"),e.k0s(),e.EFF(40),e.k0s(),e.j41(41,"td",40)(42,"span",41),e.EFF(43,"dynamicWeekEndDay"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"td",40)(46,"span",41),e.EFF(47,"lateMinutes"),e.k0s(),e.EFF(48),e.k0s(),e.j41(49,"td",40)(50,"span",41),e.EFF(51,"workingHoursTime"),e.k0s(),e.EFF(52),e.k0s(),e.j41(53,"td",40)(54,"span",41),e.EFF(55,"earlyLeaveMinutes"),e.k0s(),e.EFF(56),e.k0s(),e.j41(57,"td",40)(58,"span",41),e.EFF(59,"missionType"),e.k0s(),e.EFF(60),e.k0s(),e.j41(61,"td",40)(62,"span",41),e.EFF(63,"overtime"),e.k0s(),e.EFF(64),e.k0s(),e.j41(65,"td",40)(66,"span",41),e.EFF(67,"shiftCheckInTime"),e.k0s(),e.EFF(68),e.k0s(),e.j41(69,"td",40)(70,"span",41),e.EFF(71,"shiftCheckOutTime"),e.k0s(),e.EFF(72),e.k0s(),e.j41(73,"td",40)(74,"span",41),e.EFF(75,"status"),e.k0s(),e.EFF(76),e.k0s()()),2&a){const t=c.$implicit;e.R7$(2),e.Y8G("value",t),e.R7$(),e.Y8G("ngClass",e.eq3(41,B,!t.employeeName)),e.R7$(3),e.SpI(" ",t.employeeName," "),e.R7$(),e.Y8G("ngClass",e.eq3(43,B,!t.shiftName)),e.R7$(3),e.SpI(" ",t.shiftName," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,B,!t.date)),e.R7$(3),e.SpI(" ",t.date," "),e.R7$(),e.Y8G("ngClass",e.eq3(47,B,!t.checkIn)),e.R7$(3),e.SpI(" ",e.bMT(19,37,t.checkIn)," "),e.R7$(2),e.Y8G("ngClass",e.eq3(49,B,!t.checkOut)),e.R7$(3),e.SpI(" ",e.bMT(24,39,t.checkOut)," "),e.R7$(2),e.Y8G("ngClass",e.eq3(51,B,!t.publicVacationId)),e.R7$(3),e.SpI(" ",t.publicVacationId," "),e.R7$(),e.Y8G("ngClass",e.eq3(53,B,!t.excuesTypeId)),e.R7$(3),e.SpI(" ",t.excuesTypeId," "),e.R7$(),e.Y8G("ngClass",e.eq3(55,B,!t.excuseDuration)),e.R7$(3),e.SpI(" ",t.excuseDuration," "),e.R7$(),e.Y8G("ngClass",e.eq3(57,B,null===t.isDynamicWeekEndDay)),e.R7$(3),e.SpI(" ",t.isDynamicWeekEndDay?"Yes":"No"," "),e.R7$(),e.Y8G("ngClass",e.eq3(59,B,!t.dynamicWeekEndDay)),e.R7$(3),e.SpI(" ",t.dynamicWeekEndDay?t.dynamicWeekEndDay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(61,B,!t.lateMinutes)),e.R7$(3),e.SpI(" ",t.lateMinutes?t.lateMinutes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(63,B,!t.workingHoursTime)),e.R7$(3),e.SpI(" ",t.workingHoursTime?t.workingHoursTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(65,B,!t.earlyLeaveMinutes)),e.R7$(3),e.SpI(" ",t.earlyLeaveMinutes?t.earlyLeaveMinutes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(67,B,!t.missionType)),e.R7$(3),e.SpI(" ",t.missionType?t.missionType:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(69,B,!t.overtime)),e.R7$(3),e.SpI(" ",t.overtime?t.overtime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(71,B,!t.shiftCheckInTime)),e.R7$(3),e.SpI(" ",t.shiftCheckInTime?t.shiftCheckInTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(73,B,!t.shiftCheckOutTime)),e.R7$(3),e.SpI(" ",t.shiftCheckOutTime?t.shiftCheckOutTime:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(75,B,!t.status)),e.R7$(3),e.SpI(" ",t.status?t.status:""," ")}}function mb(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-table",42,1),e.nI1(2,"translate"),e.mxI("selectionChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedItems,n)||(l.selectedItems=n),e.Njj(n)}),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onPageChange(n))}),e.DNE(3,rb,14,14,"ng-template",35)(4,pb,4,1,"ng-template",36)(5,db,77,77,"ng-template",37),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("value",t.allData)("paginator",!0)("rows",t.itemsPerPage)("columns",t.cols)("totalRecords",t.totalItems),e.R50("selection",t.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(2,9,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)}}function ub(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",53),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.product.id,n.editForm))}),e.j41(1,"div",21)(2,"label",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p-dropdown",55),e.nI1(6,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.employeeId,n)||(l.product.employeeId=n),e.Njj(n)}),e.k0s()(),e.j41(7,"div",21)(8,"label",56),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"p-dropdown",57),e.nI1(12,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.month,n)||(l.product.month=n),e.Njj(n)}),e.k0s()(),e.j41(13,"div",21)(14,"label",58),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",59),e.nI1(18,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.year,n)||(l.product.year=n),e.Njj(n)}),e.k0s()(),e.j41(19,"div",21)(20,"label",60),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",61),e.nI1(24,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.value,n)||(l.product.value=n),e.Njj(n)}),e.k0s()(),e.j41(25,"div",21)(26,"label",62),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"input",63),e.nI1(30,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(31,"div",64)(32,"button",65),e.nI1(33,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(34,"button",66),e.nI1(35,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,23,"Employee")),e.R7$(2),e.Y8G("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees),e.R50("ngModel",t.product.employeeId),e.Y8G("placeholder",e.bMT(6,25,"Employee")),e.R7$(4),e.JRh(e.bMT(10,27,"Month")),e.R7$(2),e.Y8G("options",t.allMonths),e.R50("ngModel",t.product.month),e.Y8G("placeholder",e.bMT(12,29,"Select a Month")),e.R7$(4),e.JRh(e.bMT(16,31,"Year")),e.R7$(2),e.R50("ngModel",t.product.year),e.Y8G("placeholder",e.bMT(18,33,"Enter Year Here")),e.R7$(4),e.JRh(e.bMT(22,35,"Value")),e.R7$(2),e.R50("ngModel",t.product.value),e.Y8G("placeholder",e.bMT(24,37,"Enter Value Here")),e.R7$(4),e.JRh(e.bMT(28,39,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.Y8G("placeholder",e.bMT(30,41,"Enter Notes Here")),e.R7$(3),e.Y8G("label",e.bMT(33,43,"Cancel")),e.R7$(2),e.Y8G("disabled",t.editForm.invalid)("label",e.bMT(35,45,"Save"))}}function hb(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function gb(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function _b(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",67),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",68),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let bb=(()=>{class a{constructor(t,o,n){this.attendanceReportService=t,this.messageService=o,this.translate=n,this.allData=[],this.allDataWithoutPagination=[],this.showTable=!1,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="employeeName",this.currentLang=localStorage.getItem("currentLang")??null,this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.gE({employeeId:new s.MJ(null),departmentId:new s.MJ(null),month:new s.MJ(null,[s.k0.required]),year:new s.MJ(null,[s.k0.required])}),this.addNewForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null)}),this.editForm=new s.gE({employeeId:new s.MJ(null,[s.k0.required]),month:new s.MJ(null,[s.k0.required]),value:new s.MJ(null,[s.k0.required,s.k0.min(0)]),year:new s.MJ(null,[s.k0.required,s.k0.min(1900),s.k0.max(2199)]),notes:new s.MJ(null),id:new s.MJ(null)})}ngOnInit(){this.endPoint="AttendanceSheet",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.attendanceReportService.setCulture(t),this.attendanceReportService.setEndPoint(this.endPoint),this.getDropDowns(),this.month&&this.year&&this.loadFilteredData(),this.loadFilteredData(),this.cols=[{field:"employeeName",header:"Name"},{field:"shiftName",header:"Shift Name"},{field:"date",header:"Date"},{field:"checkIn",header:"Check In"},{field:"checkOut",header:"Check Out"},{field:"publicVacationId",header:"Public Vacation ID"},{field:"excuesTypeId",header:"Excuse Type ID"},{field:"excuseDuration",header:"Excuse Duration"},{field:"isDynamicWeekEndDay",header:"Is Dynamic Weekend Day"},{field:"dynamicWeekEndDay",header:"Dynamic Weekend Day"},{field:"lateMinutes",header:"Late Minutes"},{field:"workingHoursTime",header:"Working Hours Time"},{field:"earlyLeaveMinutes",header:"Early Leave Minutes"},{field:"missionType",header:"Mission Type"},{field:"overtime",header:"Overtime"},{field:"shiftCheckInTime",header:"Shift Check In Time"},{field:"shiftCheckOutTime",header:"Shift Check Out Time"},{field:"status",header:"Status"}],this.selectedYear=null,this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.reports.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.reports.items.attendanceReports.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.reports.items.attendanceReports.items.${this.endPoint}`)}]}editProduct(t){this.attendanceReportService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.attendanceReportService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3})}})}loadFilteredData(){this.loadData()}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(){let n={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,sortType:this.sortOrder};n.sortType=this.sortOrder,this.attendanceReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.loading=!1,console.log(this.selectedItems)}})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows;let r={employeeId:this.employeeId,departmentId:this.departmentId,month:this.month,year:this.year,pageNumber:this.page,pageSize:this.itemsPerPage,sortType:this.sortOrder};console.log(r),this.attendanceReportService.GetPage(r).subscribe({next:i=>{this.allData=i.data,console.log(i),this.totalItems=i.totalItems,console.log(i.data.length)},error:i=>{console.log(i)}})}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.attendanceReportService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3})}})}toggleNew(){this.showFormNew=!this.showFormNew}exportAllCSV(){const n="\ufeff"+this.convertToCSV(this.allData),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=this.endPoint+"_"+(new Date).getTime()+".csv",r.click()}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=this.endPoint+"_"+(new Date).getTime()+".csv",r.click()}convertToCSV(t){if(!t||!t.length)return"";const n=this.cols.map(i=>`"${i.header}"`).join(","),l=this.cols.map(i=>i.field),r=t.map(i=>l.map(d=>"absentDates"===d&&Array.isArray(i[d])?`"${i[d].map(F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"2-digit"})).join("  -  ")}"`:`"${i[d]||""}"`).join(","));return r.unshift(n),r.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.attendanceReportService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[]}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);let n={pageNumber:1,pageSize:this.itemsPerPage,sortType:this.sortOrder,...t.value};console.log(n),"VALID"==t.status&&this.attendanceReportService.GetPage(n).subscribe({next:l=>{console.log(l),this.showTable=!0,this.allData=l.data,console.log(l.data),this.totalItems=l.totalItems,this.employeeId=t.value.employeeId,this.departmentId=t.value.departmentId,this.month=t.value.month,this.year=t.value.year,console.log(l.data.length),console.log(this.totalItems)},error:l=>{console.log(l)}})}getDropDowns(){this.attendanceReportService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.attendanceReportService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.attendanceReportService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.attendanceReportService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}getAllData(t){this.attendanceReportService.GetPage(t).subscribe({next:o=>{console.log(o),this.allDataWithoutPagination=o.data,console.log(o.data)}})}printTable(){const t=document.getElementById("printableTable")?.outerHTML||"",o=window.open("","_blank");o&&(o.document.open(),o.document.write(`\n            <html dir=${"ar"==this.currentLang?"rtl":"ltr"}>\n                <head>\n                    <title>${this.translate.instant("Attendance report")}</title>\n                    <style>\n                        body {\n                            font-family: Arial, sans-serif;\n                            margin: 20px;\n                        }\n                        table {\n                            border-collapse: collapse;\n                            width: 100%;\n                        }\n                        th, td {\n                            border: 1px solid #ddd;\n                            padding: 8px;\n                            text-align: center;\n                            max-width: fit-content\n                        }\n                        th {\n                            background-color: #f4f4f4;\n                        }\n                        h2 {\n                            text-align: center;\n                        }\n                    </style>\n                </head>\n                <body>\n                    ${t}\n                </body>\n            </html>\n        `),o.document.close(),o.print())}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Z_),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-attendance-report"]],viewQuery:function(o,n){if(1&o&&e.GBs(eb,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg]),e.aNF],decls:67,vars:75,consts:[["tooltipContent",""],["dt",""],[3,"items"],[3,"header","toggleable","collapsed"],["method","post",3,"submit","formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month",1,"label-field"],["severity","secondary","tooltipPosition","bottom",1,"button-required","star-required",3,"pTooltip"],["formControlName","month","inputId","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit",3,"disabled"],[1,"pi","pi-filter"],["id","printableTable",3,"value",4,"ngIf"],["selectionMode","multiple","dataKey","employeeId",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","selectionChange","onLazyLoad",4,"ngIf"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"flex","items-center"],["id","printableTable",3,"value"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"d-print-block"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"p-column-title"],["selectionMode","multiple","dataKey","employeeId",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"exportBtns","flex"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","Export All Records to CSV",1,"p-button-help","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-print","pTooltip","Print Table Data",1,"p-button-help","mx-2","px-5",3,"click","label"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],[2,"width","3rem"],[3,"value"],[3,"submit","formGroup"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"ngModelChange","filter","filterBy","options","ngModel","placeholder"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"ngModelChange","options","ngModel","placeholder"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModelChange","ngModel","placeholder"],["for","value"],["pInputText","","formControlName","value",3,"ngModelChange","ngModel","placeholder"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModelChange","ngModel","placeholder"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast")(1,"app-breadcrumb",2),e.j41(2,"p-panel",3),e.nI1(3,"translate"),e.j41(4,"form",4),e.bIt("submit",function(){return e.eBV(l),e.Njj(n.submitForm(n.filterForm))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"p-dropdown",11),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.nrm(19,"p-dropdown",14),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"label",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26,"*"),e.k0s(),e.DNE(27,tb,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(29,"p-dropdown",17),e.nI1(30,"translate"),e.k0s(),e.j41(31,"div",12)(32,"label",18),e.EFF(33),e.nI1(34,"translate"),e.j41(35,"span",16),e.EFF(36,"*"),e.k0s(),e.DNE(37,nb,4,3,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(39,"input",19),e.nI1(40,"translate"),e.k0s(),e.j41(41,"div",20)(42,"div",21)(43,"button",22),e.nrm(44,"i",23),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()()()()()()()()()(),e.DNE(48,ib,5,1,"p-table",24)(49,mb,6,11,"p-table",25),e.j41(50,"p-dialog",26),e.nI1(51,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(52,ub,36,47,"ng-template",27),e.k0s(),e.j41(53,"p-dialog",28),e.nI1(54,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(55,"div",29),e.nrm(56,"i",30),e.DNE(57,hb,6,4,"span",31),e.k0s(),e.DNE(58,gb,4,6,"ng-template",32),e.k0s(),e.j41(59,"p-dialog",28),e.nI1(60,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(61,"div",29),e.nrm(62,"i",30),e.j41(63,"span"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.DNE(66,_b,4,6,"ng-template",32),e.k0s()}if(2&o){const l=e.sdS(28);e.R7$(),e.Y8G("items",n.items),e.R7$(),e.Y8G("header",e.bMT(3,44,"Filter"))("toggleable",!0)("collapsed",!1),e.R7$(2),e.Y8G("formGroup",n.filterForm),e.R7$(7),e.JRh(e.bMT(12,46,"Employee")),e.R7$(2),e.Y8G("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.bMT(14,48,"Enter Employee Name Here")),e.R7$(4),e.JRh(e.bMT(18,50,"Department")),e.R7$(2),e.Y8G("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.bMT(20,52,"Select a Department")),e.R7$(4),e.SpI("",e.bMT(24,54,"Month")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("options",n.allMonths)("placeholder",e.bMT(30,56,"Select a Month")),e.R7$(4),e.SpI("",e.bMT(34,58,"Year")," "),e.R7$(2),e.Y8G("pTooltip",l),e.R7$(4),e.Y8G("placeholder",e.bMT(40,60,"Enter Year Here")),e.R7$(4),e.Y8G("disabled",n.filterForm.invalid),e.R7$(3),e.SpI(" ",e.bMT(47,62,"Filter")," "),e.R7$(2),e.Y8G("ngIf",n.allData.length),e.R7$(),e.Y8G("ngIf",n.showTable),e.R7$(),e.Aen(e.lJ4(72,hn)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(51,64,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(73,hn)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(54,66,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(74,hn)),e.R50("visible",n.deleteProductsDialog),e.Y8G("header",e.bMT(60,68,"Confirm Delete"))("modal",!0),e.R7$(5),e.JRh(e.bMT(65,70,"Are you sure you want to delete selected products?"))}},dependencies:[C.$,u.YU,u.Sq,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.vS,s.j4,s.JD,N.D,u.vh,_.D9,M.t,h.XI,m.Ei,h.S9,h.nA,P.n,k._f,x.l,D.y8,v.S,Y.ms,ee.Z,G.m],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.allDates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;max-height:150px;overflow-y:auto;padding:10px}.date-cell[_ngcontent-%COMP%]{color:#007bff;border:1px solid #007bff;background-color:#fff;font-size:12px;font-weight:500;padding:4px 6px;border-radius:4px;text-align:center;transition:all .3s ease;cursor:default;-webkit-user-select:none;user-select:none;width:100%}.date-cell[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.1);box-shadow:0 2px 6px #0003;color:#fff}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:silver;border-radius:10px}.allDates[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#a0a0a0}#printableTable[_ngcontent-%COMP%]{display:none!important}#printableTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:auto}.exportBtns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.exportBtns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return a})(),fb=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Fb=["dt"],Gt=()=>({width:"450px"}),$t=a=>({frozen:a}),Gn=(a,c)=>({frozen:a,"null-color":c}),Je=a=>({"null-color":a}),Vt=a=>({"ng-invalid ng-dirty":a});function Ib(a,c){1&a&&e.nrm(0,"pre-loading")}function Rb(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function yb(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Cb(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",26),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"input",30),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24)(20,"label",31),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.nrm(23,"input",32),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",24),e.nrm(26,"button",33),e.nI1(27,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,11,"Reason English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,13,"Enter English Reason Here")),e.R7$(4),e.JRh(e.bMT(10,15,"Reason Arabic")),e.R7$(2),e.Y8G("placeholder",e.bMT(12,17,"Enter Arabic Reason Here")),e.R7$(4),e.JRh(e.bMT(16,19,"Penalty By Day")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,21,"Enter Penalty By Day Here")),e.R7$(4),e.JRh(e.bMT(22,23,"Penalty By Value")),e.R7$(2),e.Y8G("placeholder",e.bMT(24,25,"Enter Penalty By Value Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(27,27,"Insert New"))}}function Tb(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",34)(1,"h5",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",36),e.nrm(5,"i",37),e.j41(6,"input",38),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Mb(a,c){if(1&a&&(e.j41(0,"tr")(1,"th",39),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",40),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",41),e.k0s(),e.j41(7,"th",40),e.EFF(8),e.nI1(9,"translate"),e.nrm(10,"p-sortIcon",41),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"th"),e.EFF(30),e.nI1(31,"translate"),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(33,$t,t.isNameFreeze)),e.R7$(2),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(35,$t,t.isNameFreeze)),e.R7$(),e.SpI(" ",e.bMT(5,15,"reason Arabic")," "),e.R7$(3),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(37,$t,t.isNameFreeze)),e.R7$(),e.SpI(" ",e.bMT(9,17,"reason English")," "),e.R7$(4),e.JRh(e.bMT(13,19,"penaltieByDay")),e.R7$(3),e.JRh(e.bMT(16,21,"penaltieByValue")),e.R7$(3),e.JRh(e.bMT(19,23,"creationTime")),e.R7$(3),e.JRh(e.bMT(22,25,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(25,27,"creatorName")),e.R7$(3),e.JRh(e.bMT(28,29,"lastModifierName")),e.R7$(3),e.SpI(" ",e.bMT(31,31,"Actions")," ")}}function jb(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",40),e.nrm(2,"p-tableCheckbox",42),e.k0s(),e.j41(3,"td",40),e.EFF(4),e.k0s(),e.j41(5,"td",40),e.EFF(6),e.k0s(),e.j41(7,"td",43),e.EFF(8),e.k0s(),e.j41(9,"td",43),e.EFF(10),e.k0s(),e.j41(11,"td",43),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"td",43),e.EFF(15),e.nI1(16,"date"),e.k0s(),e.j41(17,"td",43),e.EFF(18),e.k0s(),e.j41(19,"td",43),e.EFF(20),e.k0s(),e.j41(21,"td")(22,"div",44)(23,"button",45),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(24,"button",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.eq3(27,$t,o.isNameFreeze)),e.R7$(),e.Y8G("value",t),e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.l_i(29,Gn,o.isNameFreeze,!t.reasonArabic)),e.R7$(),e.SpI(" ",t.reasonArabic?t.reasonArabic:""," "),e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.l_i(32,Gn,o.isNameFreeze,!t.reasonEnglish)),e.R7$(),e.SpI(" ",t.reasonEnglish?t.reasonEnglish:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,Je,!t.penaltieByDay)),e.R7$(),e.SpI(" ",t.penaltieByDay?t.penaltieByDay:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(37,Je,!t.penaltieByValue)),e.R7$(),e.SpI(" ",t.penaltieByValue?t.penaltieByValue:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(39,Je,!t.creationTime)),e.R7$(),e.SpI(" ",e.i5U(13,21,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(41,Je,!t.lastModificationTime)),e.R7$(),e.SpI(" ",e.i5U(16,24,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,Je,!t.creatorName)),e.R7$(),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(45,Je,!t.lastModifierName)),e.R7$(),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function kb(a,c){1&a&&(e.j41(0,"small",59),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function Db(a,c){1&a&&(e.j41(0,"small",59),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function Eb(a,c){1&a&&(e.j41(0,"small",59),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Penalty By Day is required.")))}function Nb(a,c){1&a&&(e.j41(0,"small",59),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Penalty By Value is required.")))}function wb(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",24)(2,"label",47),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",48),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.reasonArabic,n)||(l.product.reasonArabic=n),e.Njj(n)}),e.k0s(),e.DNE(6,kb,3,3,"small",49),e.k0s(),e.j41(7,"div",24)(8,"label",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.reasonEnglish,n)||(l.product.reasonEnglish=n),e.Njj(n)}),e.k0s(),e.DNE(12,Db,3,3,"small",49),e.k0s(),e.j41(13,"div",24)(14,"label",52),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"input",53),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.penaltieByDay,n)||(l.product.penaltieByDay=n),e.Njj(n)}),e.k0s(),e.DNE(18,Eb,3,3,"small",49),e.k0s(),e.j41(19,"div",24)(20,"label",54),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"input",55),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.penaltieByValue,n)||(l.product.penaltieByValue=n),e.Njj(n)}),e.k0s(),e.DNE(24,Nb,3,3,"small",49),e.k0s(),e.j41(25,"div",56)(26,"button",57),e.nI1(27,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(28,"button",58),e.nI1(29,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,20,"Arabic reason")),e.R7$(2),e.R50("ngModel",t.product.reasonArabic),e.Y8G("ngClass",e.eq3(32,Vt,t.submitted&&!t.product.reasonArabic)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.reasonArabic),e.R7$(3),e.JRh(e.bMT(10,22,"English reason")),e.R7$(2),e.R50("ngModel",t.product.reasonEnglish),e.Y8G("ngClass",e.eq3(34,Vt,t.submitted&&!t.product.reasonEnglish)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.reasonEnglish),e.R7$(3),e.JRh(e.bMT(16,24,"Penalty By Day")),e.R7$(2),e.R50("ngModel",t.product.penaltieByDay),e.Y8G("ngClass",e.eq3(36,Vt,t.submitted&&null===t.product.penaltieByDay)),e.R7$(),e.Y8G("ngIf",t.submitted&&null===t.product.penaltieByDay),e.R7$(3),e.JRh(e.bMT(22,26,"Penalty By Value")),e.R7$(2),e.R50("ngModel",t.product.penaltieByValue),e.Y8G("ngClass",e.eq3(38,Vt,t.submitted&&null===t.product.penaltieByValue)),e.R7$(),e.Y8G("ngIf",t.submitted&&null===t.product.penaltieByValue),e.R7$(2),e.Y8G("label",e.bMT(27,28,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(29,30,"Save"))("disabled",t.editForm.invalid)}}function vb(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function Sb(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",60),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",61),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function Pb(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",60),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",61),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let xb=(()=>{class a{constructor(t,o,n){this._PenaltiesTypeService=t,this.messageService=o,this.translate=n,this.isNameFreeze=!0,this.isActionsFreeze=!0,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({reasonEnglish:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),reasonArabic:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),penaltieByDay:new s.MJ(null,[s.k0.required,s.k0.min(0)]),penaltieByValue:new s.MJ(null,[s.k0.required,s.k0.min(0)])}),this.editForm=new s.gE({id:new s.MJ(null),reasonEnglish:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),reasonArabic:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),penaltieByDay:new s.MJ(null,[s.k0.required,s.k0.min(0)]),penaltieByValue:new s.MJ(null,[s.k0.required,s.k0.min(0)])}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageTypes.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageTypes.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="PenaltiesType",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PenaltiesTypeService.setCulture(t),this._PenaltiesTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.updateTranslations()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._PenaltiesTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._PenaltiesTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._PenaltiesTypeService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._PenaltiesTypeService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._PenaltiesTypeService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._PenaltiesTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._PenaltiesTypeService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(fb),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-penalties-type"]],viewQuery:function(o,n){if(1&o&&e.GBs(Fb,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e.Jv_([m.bg,_.c$]),e.aNF],decls:31,vars:47,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id","scrollDirection","horizontal",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","scrollable"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","reasonEnglish"],["pInputText","","formControlName","reasonEnglish","id","reasonEnglish","type","text","maxlength","50",3,"placeholder"],["htmlFor","reasonArabic"],["pInputText","","formControlName","reasonArabic","id","reasonArabic","type","text","maxlength","50",3,"placeholder"],["htmlFor","penaltieByDay"],["pInputText","","formControlName","penaltieByDay","id","penaltieByDay","type","number","maxlength","50",3,"placeholder"],["htmlFor","penaltieByValue"],["pInputText","","formControlName","penaltieByValue","id","penaltieByValue","type","number","maxlength","50",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["pFrozenColumn","","alignFrozen","right",2,"width","3rem",3,"frozen","ngClass"],["pFrozenColumn","","alignFrozen","right",3,"frozen","ngClass"],["field","name"],[3,"value"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","reasonArabic"],["type","text","pInputText","","id","reasonArabic","maxlength","50","formControlName","reasonArabic","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","reasonEnglish"],["type","text","pInputText","","id","reasonEnglish","maxlength","50","formControlName","reasonEnglish","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","penaltieByDay"],["type","number","pInputText","","id","penaltieByDay","maxlength","50","formControlName","penaltieByDay","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","penaltieByValue"],["type","number","pInputText","","id","penaltieByValue","maxlength","50","formControlName","penaltieByValue",3,"ngModelChange","ngModel","ngClass"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Ib,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Rb,5,7,"ng-template",5)(5,yb,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Cb,28,29,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Tb,8,7,"ng-template",10)(13,Mb,32,39,"ng-template",11)(14,jb,25,47,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,wb,30,40,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,vb,6,4,"span",2),e.k0s(),e.DNE(23,Sb,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",17),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,Pb,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(43,Gt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)("scrollable",!0),e.R7$(6),e.Aen(e.lJ4(44,Gt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(45,Gt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(46,Gt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,41,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.du,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.p-datatable-frozen-view[_ngcontent-%COMP%]{background-color:#f9f9f9}.p-datatable-scrollable-body[_ngcontent-%COMP%]{overflow-x:auto}  .p-datatable-tbody>tr>td{right:0!important}  .p-datatable .p-datatable-thead>tr>th{right:0!important}  html:lang(en) .p-datatable-tbody>tr>td{right:unset!important;left:0!important}  html:lang(en) .p-datatable .p-datatable-thead>tr>th{right:unset!important;left:0!important}"]})}}return a})(),Gb=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getLoanPayment(t){return this.http.get(`${this.baseurl}/LoanPayment/GetLoanDetailsByEmployeeID/${t}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const $b=["dt"],Vb=()=>[5,10,20],qe=a=>({"null-color":a});function Yb(a,c){if(1&a&&(e.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"h5")(4,"span",22),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()()),2&a){const t=e.XpG(2);e.R7$(5),e.SpI("",e.bMT(6,2,"EmployeeName")," : "),e.R7$(2),e.SpI(" ",t.allData.employeeName," ")}}function Bb(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"th",23),e.bIt("click",function(n){e.eBV(t);const l=e.XpG(2);return e.Njj(l.sortById(n))}),e.EFF(2),e.nI1(3,"translate"),e.nrm(4,"p-sortIcon",24),e.k0s(),e.j41(5,"th"),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"th"),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"th"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()}2&a&&(e.R7$(2),e.SpI(" ",e.bMT(3,7,"EmployeeId")," "),e.R7$(4),e.JRh(e.bMT(7,9,"month")),e.R7$(3),e.JRh(e.bMT(10,11,"year")),e.R7$(3),e.JRh(e.bMT(13,13,"amountPaid")),e.R7$(3),e.JRh(e.bMT(16,15,"remainingAmount")),e.R7$(3),e.JRh(e.bMT(19,17,"isPaid")),e.R7$(3),e.JRh(e.bMT(22,19,"totalAmount")))}function Ab(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"span",25),e.EFF(3,"Id"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"td",26)(6,"span",25),e.EFF(7,"month"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"td",26)(10,"span",25),e.EFF(11,"year"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"td",26)(14,"span",25),e.EFF(15,"amountPaid"),e.k0s(),e.EFF(16),e.k0s(),e.j41(17,"td",26)(18,"span",25),e.EFF(19,"remainingAmount"),e.k0s(),e.EFF(20),e.k0s(),e.j41(21,"td",26)(22,"span",25),e.EFF(23,"isPaid"),e.k0s(),e.j41(24,"p-inputSwitch",27),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.isPaid,n)||(l.isPaid=n),e.Njj(n)}),e.k0s()(),e.j41(25,"td",26)(26,"span",25),e.EFF(27,"totalAmount"),e.k0s(),e.EFF(28),e.k0s()()}if(2&a){const t=c.$implicit;e.R7$(4),e.SpI(" ",t.employeeId," "),e.R7$(),e.Y8G("ngClass",e.eq3(14,qe,!t.month)),e.R7$(3),e.SpI(" ",t.month?t.month:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(16,qe,!t.year)),e.R7$(3),e.SpI(" ",t.year?t.year:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(18,qe,!t.amountPaid)),e.R7$(3),e.SpI(" ",t.amountPaid?t.amountPaid:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(20,qe,!t.remainingAmount)),e.R7$(3),e.SpI(" ",t.remainingAmount?t.remainingAmount:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(22,qe,!t.isPaid)),e.R7$(3),e.R50("ngModel",t.isPaid),e.Y8G("disabled",!0),e.R7$(),e.Y8G("ngClass",e.eq3(24,qe,!t.totalAmount)),e.R7$(3),e.SpI(" ",t.totalAmount?t.totalAmount:""," ")}}function Jb(a,c){if(1&a&&(e.j41(0,"div",2)(1,"p-table",15),e.DNE(2,Yb,8,4,"ng-template",16)(3,Bb,23,21,"ng-template",17)(4,Ab,29,26,"ng-template",18),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("value",t.loanPaymentGetDtos)("paginator",!0)("rows",5)("rowsPerPageOptions",e.lJ4(4,Vb))}}let qb=(()=>{class a{constructor(t,o,n){this._GetLoanPaymentService=t,this.translate=o,this.messageService=n,this.loading=!1,this.selectedEmployeeId=[],this.registerForm={},this.totalItems=0}ngOnInit(){this.endPoint="Employee",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._GetLoanPaymentService.setCulture(t),this._GetLoanPaymentService.setEndPoint(this.endPoint),this.getALlDropDown(),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()})}getDropDownField(t){this._GetLoanPaymentService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsEmployee",enum:"Employee"})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant("breadcrumb.cats.manageStructure.items.GetLoanPayment")}]}onSelectEmployee(t){console.log(t),this.selectedEmployeeId=t.value.id}onSelectLoan(t){console.log(t),this.selectedloanId=t.value.id}registerSubmit(){this.registerForm={employeeId:Number(this.selectedEmployeeId)},this.loading=!0,this._GetLoanPaymentService.getLoanPayment(this.registerForm.employeeId).subscribe({next:t=>{this.loading=!1,t.data&&this.messageService.add({severity:"success",summary:this.translate.instant("No Loan Payments For This Employee"),detail:t.message,life:3e3}),console.log(t),this.allData=t.data,this.loanPaymentGetDtos=t.data,this.totalItems=this.allData.length},error:()=>{this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Gb),e.rXU(_.c$),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-get-loan-payment-details"]],viewQuery:function(o,n){if(1&o&&e.GBs($b,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:24,vars:22,consts:[[3,"items"],[1,"grid","justify-content-center"],[1,"col-12"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","employee"],["optionLabel","name",3,"ngModelChange","onChange","options","ngModel","placeholder","filter","filterPlaceholder","filterBy","showClear"],[1,"field","col-12","md:col-12","py-5"],[1,"p-fluid","grid"],[1,"col-2"],["type","submit","pButton","","value","Show",1,"flex","justify-content-center"],["class","col-12",4,"ngIf"],[3,"value","paginator","rows","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-8"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"label"],["pSortableColumn","employeeId",3,"click"],["field","employeeId"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModelChange","ngModel","disabled"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast")(1,"app-breadcrumb",0),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return n.registerSubmit()}),e.j41(9,"div",6)(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"p-dropdown",9),e.nI1(15,"translate"),e.nI1(16,"translate"),e.mxI("ngModelChange",function(r){return e.DH7(n.selectedEmployee,r)||(n.selectedEmployee=r),r}),e.bIt("onChange",function(r){return n.onSelectEmployee(r)}),e.k0s()(),e.j41(17,"div",10)(18,"div",11)(19,"div",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()()()()()(),e.DNE(23,Jb,5,5,"div",14),e.k0s()),2&o&&(e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(7,12,"get all Loans For Each Employees")),e.R7$(6),e.JRh(e.bMT(13,14,"Employees")),e.R7$(2),e.Y8G("options",n.dropdownItemsEmployee),e.R50("ngModel",n.selectedEmployee),e.Y8G("placeholder",e.bMT(15,16,"Select Employee"))("filter",!0)("filterPlaceholder",e.bMT(16,18,"Search..."))("filterBy","name")("showClear",!0),e.R7$(7),e.SpI(" ",e.bMT(22,20,"Show")," "),e.R7$(2),e.Y8G("ngIf",n.loanPaymentGetDtos))},dependencies:[C.$,u.YU,u.bT,s.qT,s.BC,s.cb,s.vS,s.cV,N.D,_.D9,M.t,h.XI,m.Ei,h.Tg,h.yc,k._f,D.y8,Y.ms,ae.HW],styles:["h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red;font-weight:700}  html:lang(ar) .p-datatable-header h5{display:flex;gap:10px}  .p-paginator .p-dropdown .p-dropdown-label{padding:5px}"]})}}return a})(),Ob=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const Lb=["dt"],Yt=()=>({width:"450px"}),gn=a=>({frozen:a}),Xb=(a,c)=>({frozen:a,"null-color":c}),We=a=>({"null-color":a}),$n=a=>({"ng-invalid ng-dirty":a});function Hb(a,c){1&a&&e.nrm(0,"pre-loading")}function Ub(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.nI1(2,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.toggleNew())}),e.k0s(),e.j41(3,"button",20),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelectedProducts())}),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.R7$(2),e.Y8G("label",e.bMT(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function zb(a,c){if(1&a){const t=e.RV6();e.j41(0,"p-fileUpload",21,1),e.nI1(2,"translate"),e.bIt("onSelect",function(n){e.eBV(t);const l=e.sdS(1),r=e.XpG();return e.Njj(r.onFileSelect(n,l))}),e.k0s(),e.j41(3,"button",22),e.nI1(4,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.exportCSV())}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("chooseLabel",e.bMT(2,4,"Import File"))("auto",!0),e.R7$(3),e.Y8G("label",e.bMT(4,6,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Wb(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addNew(n.addNewForm))}),e.j41(1,"div",24)(2,"label",25),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",26),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",27),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.nrm(11,"input",28),e.nI1(12,"translate"),e.k0s(),e.j41(13,"div",24)(14,"label",29),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"textarea",30),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",24),e.nrm(20,"button",31),e.nI1(21,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.addNewForm),e.R7$(3),e.JRh(e.bMT(4,9,"Name English")),e.R7$(2),e.Y8G("placeholder",e.bMT(6,11,"Enter English Name Here")),e.R7$(4),e.SpI("",e.bMT(10,13,"Name Arabic")," "),e.R7$(2),e.Y8G("placeholder",e.bMT(12,15,"Enter Arabic Name Here")),e.R7$(4),e.JRh(e.bMT(16,17,"Notes")),e.R7$(2),e.Y8G("placeholder",e.bMT(18,19,"Enter Notes Here")),e.R7$(3),e.Y8G("disabled",t.addNewForm.invalid)("label",e.bMT(21,21,"Insert New"))}}function Qb(a,c){if(1&a){const t=e.RV6();e.j41(0,"div",32)(1,"h5",33),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",34),e.nrm(5,"i",35),e.j41(6,"input",36),e.nI1(7,"translate"),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.nameFilter,n)||(l.nameFilter=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.loadFilteredData())}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Manage Items")),e.R7$(4),e.R50("ngModel",t.nameFilter),e.Y8G("placeholder",e.bMT(7,5,"Search..."))}}function Kb(a,c){if(1&a&&(e.j41(0,"tr")(1,"th",37),e.nrm(2,"p-tableHeaderCheckbox"),e.k0s(),e.j41(3,"th",38),e.EFF(4),e.nI1(5,"translate"),e.nrm(6,"p-sortIcon",39),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"th"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th"),e.EFF(23),e.nI1(24,"translate"),e.k0s()()),2&a){const t=e.XpG();e.R7$(),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(25,gn,t.isNameFreeze)),e.R7$(2),e.Y8G("frozen",t.isNameFreeze)("ngClass",e.eq3(27,gn,t.isNameFreeze)),e.R7$(),e.SpI(" ",e.bMT(5,11,"Name")," "),e.R7$(4),e.JRh(e.bMT(9,13,"Notes")),e.R7$(3),e.JRh(e.bMT(12,15,"creationTime")),e.R7$(3),e.JRh(e.bMT(15,17,"lastModificationTime")),e.R7$(3),e.JRh(e.bMT(18,19,"creatorName")),e.R7$(3),e.JRh(e.bMT(21,21,"lastModifierName")),e.R7$(3),e.SpI(" ",e.bMT(24,23,"Actions")," ")}}function Zb(a,c){if(1&a){const t=e.RV6();e.j41(0,"tr")(1,"td",38),e.nrm(2,"p-tableCheckbox",40),e.k0s(),e.j41(3,"td",38),e.EFF(4),e.k0s(),e.j41(5,"td",41),e.EFF(6),e.k0s(),e.j41(7,"td",41),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.j41(10,"td",41),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"td",41),e.EFF(14),e.k0s(),e.j41(15,"td",41),e.EFF(16),e.k0s(),e.j41(17,"td")(18,"div",42)(19,"button",43),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.editProduct(n))}),e.k0s(),e.j41(20,"button",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.deleteProduct(n))}),e.k0s()()()()}if(2&a){const t=c.$implicit,o=e.XpG();e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.eq3(22,gn,o.isNameFreeze)),e.R7$(),e.Y8G("value",t),e.R7$(),e.Y8G("frozen",o.isNameFreeze)("ngClass",e.l_i(24,Xb,o.isNameFreeze,!t.name)),e.R7$(),e.SpI(" ",t.name?t.name:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(27,We,!t.notes)),e.R7$(),e.SpI(" ",t.notes?t.notes:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(29,We,!t.creationTime)),e.R7$(),e.SpI(" ",e.i5U(9,16,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,We,!t.lastModificationTime)),e.R7$(),e.SpI(" ",e.i5U(12,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(33,We,!t.creatorName)),e.R7$(),e.SpI(" ",t.creatorName?t.creatorName:""," "),e.R7$(),e.Y8G("ngClass",e.eq3(35,We,!t.lastModifierName)),e.R7$(),e.SpI(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ef(a,c){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"Arabic Name is required.")))}function tf(a,c){1&a&&(e.j41(0,"small",55),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.JRh(e.bMT(2,1,"English Name is required.")))}function nf(a,c){if(1&a){const t=e.RV6();e.j41(0,"form",23),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveProduct(n.editForm,n.product))}),e.j41(1,"div",24)(2,"label",45),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.name,n)||(l.product.name=n),e.Njj(n)}),e.k0s(),e.DNE(6,ef,3,3,"small",47),e.k0s(),e.j41(7,"div",24)(8,"label",48),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"input",49),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.engName,n)||(l.product.engName=n),e.Njj(n)}),e.k0s(),e.DNE(12,tf,3,3,"small",47),e.k0s(),e.j41(13,"div",24)(14,"label",50),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"textarea",51),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.product.notes,n)||(l.product.notes=n),e.Njj(n)}),e.k0s()(),e.j41(18,"div",52)(19,"button",53),e.nI1(20,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.nrm(21,"button",54),e.nI1(22,"translate"),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("formGroup",t.editForm),e.R7$(3),e.JRh(e.bMT(4,14,"Arabic Name")),e.R7$(2),e.R50("ngModel",t.product.name),e.Y8G("ngClass",e.eq3(24,$n,t.submitted&&!t.product.name)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.name),e.R7$(3),e.JRh(e.bMT(10,16,"English Name")),e.R7$(2),e.R50("ngModel",t.product.engName),e.Y8G("ngClass",e.eq3(26,$n,t.submitted&&!t.product.engName)),e.R7$(),e.Y8G("ngIf",t.submitted&&!t.product.engName),e.R7$(3),e.JRh(e.bMT(16,18,"Notes")),e.R7$(2),e.R50("ngModel",t.product.notes),e.R7$(2),e.Y8G("label",e.bMT(20,20,"Cancel")),e.R7$(2),e.Y8G("label",e.bMT(22,22,"Save"))("disabled",t.editForm.invalid)}}function of(a,c){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.j41(3,"b"),e.EFF(4),e.k0s(),e.EFF(5,"?"),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.SpI("",e.bMT(2,2,"Are you sure you want to delete")," "),e.R7$(3),e.JRh(t.product.name)}}function af(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.product.id))}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}function lf(a,c){if(1&a){const t=e.RV6();e.j41(0,"button",56),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteProductsDialog=!1)}),e.k0s(),e.j41(2,"button",57),e.nI1(3,"translate"),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDeleteSelected())}),e.k0s()}2&a&&(e.Y8G("label",e.bMT(1,2,"No")),e.R7$(2),e.Y8G("label",e.bMT(3,4,"Yes")))}let sf=(()=>{class a{constructor(t,o,n){this._FixedPenalitiesService=t,this.messageService=o,this.translate=n,this.isNameFreeze=!0,this.isActionsFreeze=!0,this.page=1,this.itemsPerPage=5,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.gE({name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)}),this.editForm=new s.gE({id:new s.MJ(null),name:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),engName:new s.MJ(null,[s.k0.required,s.k0.maxLength(50)]),notes:new s.MJ(null)}),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations()}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.terminations.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.terminations.items.${this.endPoint}`)}]}ngOnInit(){this.endPoint="FixedPenality",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._FixedPenalitiesService.setCulture(t),this._FixedPenalitiesService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.custom||(this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.updateTranslations())}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._FixedPenalitiesService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._FixedPenalitiesService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._FixedPenalitiesService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(1,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,l,r){let i={pageNumber:t,pageSize:o,filterValue:n,filterType:l,sortType:r};i.sortType=this.sortOrder,this._FixedPenalitiesService.GetPage(i).subscribe({next:d=>{console.log(d),this.allData=d.data,console.log(d.data),this.totalItems=d.totalItems,this.loading=!1},error:d=>{console.log(d),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this.loading=!0,this._FixedPenalitiesService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:()=>{this.loading=!1}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=`${this.endPoint}_${(new Date).getTime()}.csv`,r.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(r=>{n.push(r.field)}),console.log(n);const l=t.map(r=>n.map(i=>`"${r[i]}"`).join(","));return l.unshift(n.join(",")),l.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loading=!0,this._FixedPenalitiesService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.loading=!1},error:o=>{this.deleteProductsDialog=!1,this.loading=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t,o){console.log(t);let n=t.files[0];if(n){this.fileNew=n;const l=new FormData;l.append("file",this.fileNew),this._FixedPenalitiesService.importExcel(l).subscribe({next:r=>{console.log(r),console.log("Upload successful"),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:r?.message,life:3e3}),o.clear()},error:r=>{console.error(r),this.messageService.add({severity:"error",summary:this.translate.instant("Error"),detail:this.translate.instant("UploadFailed"),life:3e3})}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(Ob),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-fixed-penality"]],viewQuery:function(o,n){if(1&o&&e.GBs(Lb,5),2&o){let l;e.mGM(l=e.lsd())&&(n.dt=l.first)}},inputs:{endPoint:"endPoint",items:"items",custom:"custom"},standalone:!0,features:[e.Jv_([m.bg,u.vh,_.c$]),e.aNF],decls:31,vars:47,consts:[["dt",""],["fileUploader",""],[4,"ngIf"],[3,"items"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["selectionMode","multiple","dataKey","id","scrollDirection","horizontal",3,"selectionChange","onLazyLoad","value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","currentPageReportTemplate","lazy","scrollable"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visibleChange","visible","header","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click","label"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"click","label","disabled"],["mode","basic","chooseIcon","pi pi-download","name","demo[]","maxFileSize","1000000","accept",".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",3,"onSelect","chooseLabel","auto"],["pButton","","pRipple","","icon","pi pi-download","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click","label","disabled"],["action","",3,"submit","formGroup"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModelChange","input","ngModel","placeholder"],["pFrozenColumn","","alignFrozen","right",2,"width","3rem",3,"frozen","ngClass"],["pFrozenColumn","","alignFrozen","right",3,"frozen","ngClass"],["field","name"],[3,"value"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModelChange","ngModel","ngClass"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModelChange","ngModel"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"click","label"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"click","label"]],template:function(o,n){if(1&o){const l=e.RV6();e.nrm(0,"p-toast"),e.DNE(1,Hb,1,0,"pre-loading",2),e.nrm(2,"app-breadcrumb",3),e.j41(3,"p-toolbar",4),e.DNE(4,Ub,5,7,"ng-template",5)(5,zb,5,8,"ng-template",6),e.k0s(),e.j41(6,"p-dialog",7),e.nI1(7,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.showFormNew,i)||(n.showFormNew=i),e.Njj(i)}),e.DNE(8,Wb,22,23,"ng-template",8),e.k0s(),e.j41(9,"p-table",9,0),e.nI1(11,"translate"),e.mxI("selectionChange",function(i){return e.eBV(l),e.DH7(n.selectedItems,i)||(n.selectedItems=i),e.Njj(i)}),e.bIt("onLazyLoad",function(i){return e.eBV(l),e.Njj(n.onPageChange(i))}),e.DNE(12,Qb,8,7,"ng-template",10)(13,Kb,25,29,"ng-template",11)(14,Zb,21,37,"ng-template",12),e.k0s(),e.j41(15,"p-dialog",7),e.nI1(16,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.productDialog,i)||(n.productDialog=i),e.Njj(i)}),e.DNE(17,nf,23,28,"ng-template",8),e.k0s(),e.j41(18,"p-dialog",13),e.nI1(19,"translate"),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductDialog,i)||(n.deleteProductDialog=i),e.Njj(i)}),e.j41(20,"div",14),e.nrm(21,"i",15),e.DNE(22,of,6,4,"span",2),e.k0s(),e.DNE(23,af,4,6,"ng-template",16),e.k0s(),e.j41(24,"p-dialog",17),e.mxI("visibleChange",function(i){return e.eBV(l),e.DH7(n.deleteProductsDialog,i)||(n.deleteProductsDialog=i),e.Njj(i)}),e.j41(25,"div",14),e.nrm(26,"i",15),e.j41(27,"span"),e.EFF(28),e.nI1(29,"translate"),e.k0s()(),e.DNE(30,lf,4,6,"ng-template",16),e.k0s()}2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(4),e.Aen(e.lJ4(43,Yt)),e.R50("visible",n.showFormNew),e.Y8G("header",e.bMT(7,33,"Add New"))("modal",!0),e.R7$(3),e.Y8G("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems),e.R50("selection",n.selectedItems),e.Y8G("showCurrentPageReport",!0)("currentPageReportTemplate",e.bMT(11,35,"Showing {first} to {last} of {totalRecords} entries"))("lazy",!0)("scrollable",!0),e.R7$(6),e.Aen(e.lJ4(44,Yt)),e.R50("visible",n.productDialog),e.Y8G("header",e.bMT(16,37,"Item Details"))("modal",!0),e.R7$(3),e.Aen(e.lJ4(45,Yt)),e.R50("visible",n.deleteProductDialog),e.Y8G("header",e.bMT(19,39,"Confirm Delete"))("modal",!0),e.R7$(4),e.Y8G("ngIf",n.product),e.R7$(2),e.Aen(e.lJ4(46,Yt)),e.R50("visible",n.deleteProductsDialog),e.Y8G("modal",!0),e.R7$(4),e.JRh(e.bMT(29,41,"Are you sure you want to delete selected products?")))},dependencies:[C.$,u.YU,u.bT,s.qT,s.me,s.BC,s.cb,s.tU,s.vS,s.j4,s.JD,S.q,N.D,u.vh,_.D9,M.t,$.M,h.XI,m.Ei,h.du,h.yc,h.S9,h.nA,P.n,X.N,k._f,x.l,D.y8,v.S,f.Z,G.m],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.p-datatable-frozen-view[_ngcontent-%COMP%]{background-color:#f9f9f9}.p-datatable-scrollable-body[_ngcontent-%COMP%]{overflow-x:auto}  .p-datatable-tbody>tr>td{right:0!important}  .p-datatable .p-datatable-thead>tr>th{right:0!important}  html:lang(en) .p-datatable-tbody>tr>td{right:unset!important;left:0!important}  html:lang(en) .p-datatable .p-datatable-thead>tr>th{right:unset!important;left:0!important}"]})}}return a})(),rf=(()=>{class a extends E.${constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}calculateMonthSalary(t,o){const n=(new j.Nl).set("month",t).set("year",o);return this.http.get(`${this.baseurl}/Salary/${this.endPoint}`,{params:n})}static{this.\u0275fac=function(o){return new(o||a)(e.KVO(j.Qq))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function cf(a,c){1&a&&e.nrm(0,"pre-loading")}let pf=(()=>{class a{constructor(t,o,n){this.CalculateMonthSalaryService=t,this.messageService=o,this.translate=n,this.loading=!1,this.selectedEmployeeIds=[],this.calculateMonthForm=new s.gE({month:new s.MJ(null,[s.k0.required,s.k0.min(1),s.k0.max(12)]),year:new s.MJ(null,[s.k0.required,s.k0.min(2e3),s.k0.max(2199)])})}ngOnInit(){this.endPoint="CalculateMonthSalary",T.R.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.CalculateMonthSalaryService.setCulture(t),this.CalculateMonthSalaryService.setEndPoint(this.endPoint),this.translate.onLangChange.subscribe(()=>{this.updateTranslations()}),this.setDropDowns(),this.updateTranslations()})}setDropDowns(t="ar"){const o=(new Date).getFullYear();this.YearsDropDown=[{id:o-1,name:o-1},{id:o,name:o},{id:o+1,name:o+1}],this.MonthsDropDown="en"==t?[{id:1,name:"January"},{id:2,name:"February"},{id:3,name:"March"},{id:4,name:"April"},{id:5,name:"May"},{id:6,name:"June"},{id:7,name:"July"},{id:8,name:"August"},{id:9,name:"September"},{id:10,name:"October"},{id:11,name:"November"},{id:12,name:"December"}]:[{id:1,name:"\u064a\u0646\u0627\u064a\u0631"},{id:2,name:"\u0641\u0628\u0631\u0627\u064a\u0631"},{id:3,name:"\u0645\u0627\u0631\u0633"},{id:4,name:"\u0623\u0628\u0631\u064a\u0644"},{id:5,name:"\u0645\u0627\u064a\u0648"},{id:6,name:"\u064a\u0648\u0646\u064a\u0648"},{id:7,name:"\u064a\u0648\u0644\u064a\u0648"},{id:8,name:"\u0623\u063a\u0633\u0637\u0633"},{id:9,name:"\u0633\u0628\u062a\u0645\u0628\u0631"},{id:10,name:"\u0623\u0643\u062a\u0648\u0628\u0631"},{id:11,name:"\u0646\u0648\u0641\u0645\u0628\u0631"},{id:12,name:"\u062f\u064a\u0633\u0645\u0628\u0631"}]}getDropDownField(t){this.loading=!0,this.CalculateMonthSalaryService.getDropdownField(t.enum).subscribe({next:o=>{this.loading=!1,this[t.field]=o.data},error:o=>{this.loading=!0,console.log(`error in ${t.field}`),console.log(o)}})}updateTranslations(){this.items=[{icon:"pi pi-home",route:"/",label:this.translate.instant("breadcrumb.gen.home"),start:!0},{label:this.translate.instant("breadcrumb.cats.manageStructure.title"),iconPath:""},{label:this.translate.instant(`breadcrumb.cats.manageStructure.items.${this.endPoint}`)}]}onSelectEmployees(t){this.selectedEmployee=t.value,this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.employeeId)}),console.log("Selected Employees:",this.selectedEmployeeIds)}registerSubmit(t){if(this.loading=!0,t.valid){const{month:o,year:n}=t.value;this.CalculateMonthSalaryService.calculateMonthSalary(o,n).subscribe({next:l=>{console.log(l),this.messageService.add({severity:"success",summary:"Success",detail:"Month Salary calculated  successfully",life:3e3}),this.loading=!1},error:l=>{console.log(l),this.loading=!1}})}}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(rf),e.rXU(m.bg),e.rXU(_.c$))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-calculate-month-salary"]],standalone:!0,features:[e.Jv_([m.bg,_.c$]),e.aNF],decls:35,vars:24,consts:[[4,"ngIf"],[3,"items"],[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[3,"ngSubmit","formGroup"],[1,"p-fluid","grid"],[1,"field","col-12"],[1,"field","col-12","md:col-6"],["for","month"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","year"],["formControlName","year","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["pButton","","type","submit",1,"flex","justify-content-center",3,"disabled"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast"),e.DNE(1,cf,1,0,"pre-loading",0),e.nrm(2,"app-breadcrumb",1),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"form",6),e.bIt("ngSubmit",function(){return n.registerSubmit(n.calculateMonthForm)}),e.j41(10,"div",7)(11,"div",8)(12,"div",7)(13,"div",9)(14,"label",10),e.EFF(15),e.nI1(16,"translate"),e.nrm(17,"app-required-field"),e.k0s(),e.nrm(18,"p-dropdown",11),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"div",8)(21,"div",7)(22,"div",9)(23,"label",12),e.EFF(24),e.nI1(25,"translate"),e.nrm(26,"app-required-field"),e.k0s(),e.nrm(27,"p-dropdown",13),e.nI1(28,"translate"),e.k0s()()(),e.j41(29,"div",14)(30,"div",7)(31,"div",15)(32,"button",16),e.EFF(33),e.nI1(34,"translate"),e.k0s()()()()()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("items",n.items),e.R7$(5),e.JRh(e.bMT(8,12,"CalculateMonthSalary")),e.R7$(2),e.Y8G("formGroup",n.calculateMonthForm),e.R7$(6),e.SpI("",e.bMT(16,14,"Month")," "),e.R7$(3),e.Y8G("options",n.MonthsDropDown)("placeholder",e.bMT(19,16,"select a Month")),e.R7$(6),e.SpI("",e.bMT(25,18,"Year")," "),e.R7$(3),e.Y8G("options",n.YearsDropDown)("placeholder",e.bMT(28,20,"select a Year")),e.R7$(5),e.Y8G("disabled",n.calculateMonthForm.invalid),e.R7$(),e.SpI(" ",e.bMT(34,22,"Save")," "))},dependencies:[C.$,u.bT,s.qT,s.BC,s.cb,s.j4,s.JD,S.q,Tn.t,N.D,_.D9,M.t,k._f,D.y8,Y.ms]})}}return a})(),df=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[U.iI.forChild([{path:"department",canActivate:[I.W],component:Wn},{path:"bank",canActivate:[I.W],component:uo},{path:"government",canActivate:[I.W],component:ho},{path:"grade",canActivate:[I.W],component:Za},{path:"job",canActivate:[I.W],component:el},{path:"location",canActivate:[I.W],component:vo},{path:"partition",canActivate:[I.W],component:Xo},{path:"qualification",canActivate:[I.W],component:Ho},{path:"shift",canActivate:[I.W],component:_a},{path:"publicVacation",canActivate:[I.W],component:Ga},{path:"shiftVacation",canActivate:[I.W],component:Ka},{path:"relativeRelation",canActivate:[I.W],component:tl},{path:"contractType",canActivate:[I.W],component:nl},{path:"jobNature",canActivate:[I.W],component:ol},{path:"recuritmentSource",canActivate:[I.W],component:al},{path:"documentRequired",canActivate:[I.W],component:ll},{path:"uniformCodes",canActivate:[I.W],component:sl},{path:"vacationSetting",canActivate:[I.W],component:cl},{path:"CovenantCategory",canActivate:[I.W],component:pl},{path:"Covenant",canActivate:[I.W],component:Tl},{path:"companyPolicy",canActivate:[I.W],component:Vl},{path:"execuseType",canActivate:[I.W],component:Zl},{path:"closeMonth",canActivate:[I.W],component:Kt},{path:"kpi",canActivate:[I.W],component:Mp},{path:"allowance",canActivate:[I.W],component:Od},{path:"bonus",canActivate:[I.W],component:od},{path:"PenaltiesAndDeduction",canActivate:[I.W],component:qp},{path:"vacationType",canActivate:[I.W],component:us},{path:"users",canActivate:[I.W],component:ir},{path:"externalMisson",canActivate:[I.W],component:Cr},{path:"vacationRequest",canActivate:[I.W],component:Br},{path:"execuseRequest",canActivate:[I.W],component:tc},{path:"InternalJobs",canActivate:[I.W],component:fc},{path:"allEmployeesCovenant",canActivate:[I.W],component:Vi},{path:"allEmployeesFile",canActivate:[I.W],component:Ti},{path:"allEmployeesLocation",canActivate:[I.W],component:jn},{path:"allEmployeesLocation",canActivate:[I.W],component:jn},{path:"allEmployeesManager",canActivate:[I.W],component:zs},{path:"allEmployeesUniform",canActivate:[I.W],component:xs},{path:"employees",canActivate:[I.W],component:hs._},{path:"fixedPenality",canActivate:[I.W],component:sf},{path:"employees/edit/:id",canActivate:[I.W],pathMatch:"prefix",component:gs.s,loadChildren:()=>R.e(1726).then(R.bind(R,1726)).then(t=>t.AllTabsModule)},{path:"InternalJobs/edit/:id",canActivate:[I.W],pathMatch:"prefix",component:pd},{path:"employee",canActivate:[I.W],component:Rs},{path:"fingerprints",canActivate:[I.W],component:ip},{path:"resignation",canActivate:[I.W],component:Td},{path:"attendenceConfig",canActivate:[I.W],component:Yc},{path:"attendenceConfig/edit/:id",canActivate:[I.W],component:Xc},{path:"setEmployeeShifts",canActivate:[I.W],component:zc},{path:"loanTypes",canActivate:[I.W],component:Md},{path:"setAssetCoordinator",canActivate:[I.W],component:Dd},{path:"SendNotificationToAll",canActivate:[I.W],component:bm},{path:"loanPolicy",canActivate:[I.W],component:Um},{path:"loanSettings",canActivate:[I.W],component:Qm},{path:"loanRequest",canActivate:[I.W],component:bu},{path:"resignationPolicy",canActivate:[I.W],component:Ru},{path:"netIncomeTax",canActivate:[I.W],component:lh},{path:"taxRate",canActivate:[I.W],component:Rh},{path:"mothlyReport",canActivate:[I.W],component:Vh},{path:"mothlyAbsenceReport",canActivate:[I.W],component:o1},{path:"salaryReport",canActivate:[I.W],component:Bg},{path:"companyBasicData",canActivate:[I.W],component:Xd},{path:"monthlyAllowance",canActivate:[I.W],component:pm},{path:"resignationSetting",canActivate:[I.W],component:hm},{path:"insuranceConfig",canActivate:[I.W],component:Pm},{path:"loans",canActivate:[I.W],component:Gu},{path:"loans/details/:id",canActivate:[I.W],component:qu},{path:"getLoanPayment",canActivate:[I.W],component:p1},{path:"getLoanPaymentDetails",canActivate:[I.W],component:qb},{path:"registerTermination",canActivate:[I.W],component:R1},{path:"allTerminations",canActivate:[I.W],component:w1},{path:"hrLetter",canActivate:[I.W],component:Pn},{path:"hrLetter",canActivate:[I.W],component:Pn},{path:"endOfService",canActivate:[I.W],component:cg},{path:"applyingInternalJob",canActivate:[I.W],component:Cg},{path:"endOfServiceRequest",canActivate:[I.W],component:n_},{path:"MonthlyPayrollSummaryReport",canActivate:[I.W],component:F_},{path:"EmployeePaySlipReport",canActivate:[I.W],component:G_},{path:"mobileVersion",canActivate:[I.W],component:K_},{path:"attendanceSheet",canActivate:[I.W],component:bb},{path:"penaltiesType",canActivate:[I.W],component:xb},{path:"calculateMonthSalary",canActivate:[I.W],component:pf},{path:"**",component:ba.p}]),U.iI]})}}return a})();var mf=R(8159);let uf=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({providers:[m.bg],imports:[u.MD,df,mf.J,_.h]})}}return a})()}}]);