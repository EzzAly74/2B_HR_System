"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[407],{407:(M,c,n)=>{n.r(c),n.d(c,{LoginModule:()=>C});var v=n(6814),i=n(258),a=n(6223),x=n(6997),t=n(8109),b=n(3859),y=n(553),Z=n(9862);let L=(()=>{class e{constructor(o){this.http=o,this.baseurl=y.N.baseurl+"/auth/"}login(o){return this.http.post(this.baseurl+"login",o)}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(Z.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var w=n(5219),l=n(3999),g=n(707),d=n(8057),p=n(3714),h=n(7853),f=n(4104);let A=(()=>{class e{constructor(o,r,s,m,u){this.layoutService=o,this.authService=r,this.router=s,this.messageService=m,this.translate=u,this.loginForm=new a.cw({email:new a.NI(null,[a.kI.required,a.kI.email]),password:new a.NI(null,[a.kI.required])}),this.valCheck=["remember"]}ngOnInit(){this.setMainLang()}submitLoginForm(o){this.authService.login(o.value).subscribe({next:r=>{r.data.token&&200==r.statusCode&&(localStorage.setItem("userToken",r.data.token),this.router.navigate(["/dashboard"]))},error:r=>{401==r.status?(this.messageService.add({severity:"error",summary:"Error",detail:"Invalid You Are Unauthorized",life:3e3}),this.router.navigate(["/login"])):this.messageService.add({severity:"error",summary:"Error",detail:"Invalid Email or Password",life:3e3})}})}setMainLang(){localStorage.setItem("currentLang","ar"),this.translate.use("ar").subscribe(()=>{const o=this.translate.translations.ar;console.log(o),o&&(document.dir=o.DIR,document.documentElement.lang=o.lang),x.O.setMainLang("ar")})}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(b.P),t.Y36(L),t.Y36(i.F0),t.Y36(w.ez),t.Y36(l.sK))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:36,vars:33,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["alt","Sakai logo",1,"mb-5","w-6rem","flex-shrink-0",3,"src"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(\n                    180deg,\n                    var(--primary-color) 10%,\n                    rgba(33, 150, 243, 0) 30%\n                )"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],[3,"formGroup","ngSubmit"],["for","email1",1,"block","text-900","text-xl","font-medium","mb-2"],["formControlName","email","id","email1","type","text","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem",3,"placeholder"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["formControlName","password","id","password1","styleClass","mb-5","inputStyleClass","w-full p-3 md:w-30rem",3,"ngModel","placeholder","toggleMask","feedback","ngModelChange"],[1,"flex","align-items-center","justify-content-between","mb-5","gap-5"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1"],[1,"font-medium","no-underline","ml-2","text-right","cursor-pointer",2,"color","var(--primary-color)"],["pButton","","pRipple","","type","submit",1,"w-full","p-3","text-xl",3,"label"]],template:function(r,s){1&r&&(t._UZ(0,"p-toast"),t.TgZ(1,"div",0)(2,"div",1),t._UZ(3,"img",2),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"form",8),t.NdJ("ngSubmit",function(){return s.submitLoginForm(s.loginForm)}),t.TgZ(14,"div")(15,"label",9),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._UZ(18,"input",10),t.ALo(19,"translate"),t.TgZ(20,"label",11),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"p-password",12),t.NdJ("ngModelChange",function(u){return s.password=u}),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",13)(26,"div",14),t._UZ(27,"p-checkbox",15),t.TgZ(28,"label",16),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"a",17),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t._UZ(34,"button",18),t.ALo(35,"translate"),t.qZA()()()()()()),2&r&&(t.xp6(3),t.MGl("src","assets/layout/images/","light"===s.layoutService.config().colorScheme?"logo-dark":"logo-white",".svg",t.LSH),t.xp6(5),t.hij(" ",t.lcZ(9,15,"Welcome")," "),t.xp6(3),t.Oqu(t.lcZ(12,17,"Sign in to continue")),t.xp6(2),t.Q6J("formGroup",s.loginForm),t.xp6(3),t.Oqu(t.lcZ(17,19,"Email")),t.xp6(2),t.Q6J("placeholder",t.lcZ(19,21,"Enter Your Email")),t.xp6(3),t.Oqu(t.lcZ(22,23,"Password")),t.xp6(2),t.Q6J("ngModel",s.password)("placeholder",t.lcZ(24,25,"Enter Your Password"))("toggleMask",s.password)("feedback",!1),t.xp6(4),t.Q6J("binary",!0),t.xp6(2),t.Oqu(t.lcZ(30,27,"Remember me")),t.xp6(3),t.Oqu(t.lcZ(33,29,"Forgot password?")),t.xp6(2),t.Q6J("label",t.lcZ(35,31,"Sign In")))},dependencies:[g.Hq,d.XZ,p.o,a._Y,a.Fj,a.JJ,a.JL,h.ro,a.sg,a.u,f.FN,l.X$],styles:["[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]})}return e})(),S=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[i.Bz.forChild([{path:"",component:A}]),i.Bz]})}return e})(),C=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[v.ez,S,g.hJ,d.nD,p.j,a.u5,h.gz,a.UX,f.EV,l.aw]})}return e})()}}]);