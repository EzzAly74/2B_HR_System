"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[1665],{7204:(mt,fe,f)=>{f.d(fe,{j:()=>s});var m=f(8109);let s=(()=>{class u{transform(Z){return["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"][Z]}static#e=this.\u0275fac=function(C){return new(C||u)};static#t=this.\u0275pipe=m.Yjl({name:"dayName",type:u,pure:!0,standalone:!0})}return u})()},1665:(mt,fe,f)=>{f.r(fe),f.d(fe,{InfoModule:()=>Wp});var m=f(6814),s=f(6223),u=f(5219),q=f(6997),Z=f(6107),C=f(9432),v=f(705),e=f(8109),b=f(4175),A=f(9862);let gt=(()=>{class l extends b.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var g=f(3999),M=f(6340),d=f(9552),w=f(4480),x=f(707),N=f(3530),T=f(4104),y=f(3714),I=f(3965),W=f(5609);const _t=["dt"];function ht(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint))))}}function ft(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Zt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMonth(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedYear=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.changeYear(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",24)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-inputSwitch",26),e.qZA(),e.TgZ(18,"div",19),e._UZ(19,"button",27),e.ALo(20,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,11,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("placeholder",e.lcZ(6,13,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(10,15,"Year")),e.xp6(2),e.Q6J("options",t.allYears)("ngModel",t.selectedYear)("placeholder",e.lcZ(12,17,"Select a Year")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Closed")),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(20,21,"Insert New"))}}function Ct(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function xt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th",33),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,9,"Id")," "),e.xp6(3),e.hij(" ",e.lcZ(6,11,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(9,13,"Year")),e.xp6(3),e.Oqu(e.lcZ(12,15,"Closed")),e.xp6(3),e.Oqu(e.lcZ(15,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,25,"Actions")))}const ee=l=>({"null-color":l});function Tt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",34),e._uU(3,"Id"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"td",35)(6,"span",34),e._uU(7,"monthName"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"td",35)(10,"span",34),e._uU(11,"year"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"td",35)(14,"span",34),e._uU(15,"Closed"),e.qZA(),e.TgZ(16,"p-inputSwitch",36),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).$implicit;return e.KtG(a.closed=n)}),e.qZA()(),e.TgZ(17,"td",35)(18,"span",34),e._uU(19,"creationTime"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td",35)(22,"span",34),e._uU(23,"lastModificationTime"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",35)(26,"span",34),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",35)(30,"span",34),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",37)(35,"button",38),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(16,ee,!t.name)),e.xp6(3),e.hij(" ",t.monthName?t.monthName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,ee,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,ee,!t.notes)),e.xp6(3),e.Q6J("ngModel",t.closed)("disabled",!0),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ee,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,ee,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,ee,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ee,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function bt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",39),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.month=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",41),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.year=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",24)(14,"label",43),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-inputSwitch",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.closed=n)}),e.qZA()(),e.TgZ(18,"div",45)(19,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"button",47),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,13,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(6,15,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(10,17,"Year")),e.xp6(2),e.Q6J("options",t.allYears)("ngModel",t.product.year)("placeholder",e.lcZ(12,19,"Select a Year")),e.xp6(4),e.Oqu(e.lcZ(16,21,"Closed")),e.xp6(2),e.Q6J("ngModel",t.product.closed),e.xp6(2),e.Q6J("label",e.lcZ(20,23,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,25,"Save"))}}function At(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function yt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function qt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ze=()=>({width:"450px"});let wt=(()=>{class l{constructor(t,o){this.closeMonthService=t,this.messageService=o,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.allYears=[],this.addNewForm=new s.cw({month:new s.NI(null,[s.kI.required]),year:new s.NI(null,[s.kI.required]),closed:new s.NI(!1,[s.kI.required])}),this.editForm=new s.cw({month:new s.NI(null,[s.kI.required]),year:new s.NI(null,[s.kI.required]),closed:new s.NI(!1,[s.kI.required]),id:new s.NI(null,[s.kI.required])})}ngOnInit(){this.endPoint="CloseMonth",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.closeMonthService.setCulture(t),this.closeMonthService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions(),this.closeMonthService.getMonths().subscribe({next:o=>{this.allMonths=o.data,console.log(this.allMonths)},error:o=>{console.log(o)}})}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){this.closeMonthService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,this.closed=o.data.closed,console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.closeMonthService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.closeMonthService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.closeMonthService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.closeMonthService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.closeMonthService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="monthName"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let i=t-3;i<=n;i++)this.allYears.push(i)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(gt),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-close-month"]],viewQuery:function(o,n){if(1&o&&e.Gf(_t,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder","onChange"],["htmlFor","name-ar"],["formControlName","year","required","",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"field","field-closed"],["htmlFor","closed"],["formControlName","closed"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[3,"click"],[1,"p-column-title"],[3,"ngClass"],[3,"ngModel","disabled","ngModelChange"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["for","name"],["formControlName","month","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["formControlName","year",3,"options","ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","closed",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ht,3,3,"ng-template",1)(3,ft,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Zt,21,23,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Ct,8,7,"ng-template",7)(10,xt,28,27,"ng-template",8)(11,Tt,36,30,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,bt,23,27,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,At,6,4,"span",13),e.qZA(),e.YNc(20,yt,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,qt,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Ze)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Ze)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Ze)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Ze)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,w.H,x.Hq,N.V,T.FN,y.o,I.Lt,W.Ql],styles:[".field-closed[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var D=f(258),P=f(6218);const Nt=["dt"];function Mt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function vt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Dt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",23),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",21)(8,"label",24),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",25),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",21)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"textarea",27),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",21),e._UZ(20,"button",28),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"Name English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,11,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,15,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,17,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,19,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(21,21,"Insert New"))}}function It(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ft(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th",37),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",38),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,10,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,12,"Notes")),e.xp6(3),e.Oqu(e.lcZ(16,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(19,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(22,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(25,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(28,22,"Actions")))}const ae=l=>({"null-color":l});function Pt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",39),e.qZA(),e.TgZ(3,"td")(4,"span",40),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",41)(8,"span",40),e._uU(9,"name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",41)(12,"span",40),e._uU(13,"notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",41)(16,"span",40),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",41)(21,"span",40),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",41)(26,"span",40),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",41)(30,"span",40),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",42)(35,"button",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,ae,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ae,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,ae,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,ae,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,17,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(28,ae,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,ae,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Lt(l,r){1&l&&(e.TgZ(0,"small",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Jt(l,r){1&l&&(e.TgZ(0,"small",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const nt=l=>({"ng-invalid ng-dirty":l});function Ut(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.editForm,n.product))}),e.TgZ(1,"div",21)(2,"label",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(6,Lt,3,3,"small",47),e.qZA(),e.TgZ(7,"div",21)(8,"label",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(12,Jt,3,3,"small",47),e.qZA(),e.TgZ(13,"div",21)(14,"label",50),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"textarea",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(18,"div",52)(19,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"button",54),e.ALo(22,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(24,nt,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,16,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(26,nt,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,18,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(20,20,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(22,22,"Save"))("disabled",t.editForm.invalid)}}function St(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function kt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Et(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ce=()=>({width:"450px"});let J=(()=>{class l{constructor(t,o,n){this._LockupsService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({name:new s.NI(null,[s.kI.required,s.kI.maxLength(50)]),engName:new s.NI(null,[s.kI.required,s.kI.maxLength(50)]),notes:new s.NI(null)}),this.editForm=new s.cw({id:new s.NI(null),name:new s.NI(null,[s.kI.required,s.kI.maxLength(50)]),engName:new s.NI(null,[s.kI.required,s.kI.maxLength(50)]),notes:new s.NI(null)})}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LockupsService.setCulture(t),this._LockupsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._LockupsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LockupsService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log(t),this._LockupsService.Register(t.value).subscribe({next:o=>{o.success&&(console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset()),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._LockupsService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,t.patchValue({id:o.id}),this._LockupsService.Edit(t.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?(this.showFormNew=!1,this.addNewForm.reset()):(this.showFormNew=!0,this.addNewForm.reset())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_${(new Date).getTime()}.csv`,a.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._LockupsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(b.P),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-std-paginations-with-popup"]],viewQuery:function(o,n){if(1&o&&e.Gf(Nt,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:28,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text","maxlength","50",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text","maxlength","50",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0","manageItems"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","maxlength","50","formControlName","name","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","maxlength","50","formControlName","engName","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Mt,5,7,"ng-template",1)(3,vt,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Dt,22,23,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,It,8,7,"ng-template",7)(10,Ft,29,24,"ng-template",8)(11,Pt,37,32,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Ut,23,28,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,St,6,4,"span",13),e.qZA(),e.YNc(20,kt,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",15),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(22,"div",11),e._UZ(23,"i",12),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,Et,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(37,Ce)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,Ce)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,31,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(39,Ce)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,33,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,Ce)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(26,35,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.nD,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.manageItems[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]})}return l})(),Ot=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-department"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Department"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Qt=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-bank"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Bank"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Rt=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-govenment"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Government"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),jt=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ht=["dt"];function Gt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Kt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Vt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"textarea",30),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",20)(32,"label",31),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",32),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",20),e._UZ(38,"button",33),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,17,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,19,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,23,"Latitude")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,25,"Enter Latitude Here")),e.xp6(4),e.Oqu(e.lcZ(22,27,"Longitude")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Enter Longitude Here")),e.xp6(4),e.Oqu(e.lcZ(28,31,"Discription")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,33,"Enter discription Here")),e.xp6(4),e.Oqu(e.lcZ(34,35,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,37,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(39,39,"Insert New"))}}function Bt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",34)(1,"h5",35),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",36),e._UZ(5,"i",37),e.TgZ(6,"input",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Yt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",39),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",40),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",41),e.qZA(),e.TgZ(7,"th",42),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",43),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,15,"Latitude")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Longitude")),e.xp6(3),e.Oqu(e.lcZ(19,19,"Discription")),e.xp6(3),e.Oqu(e.lcZ(22,21,"Notes")),e.xp6(3),e.Oqu(e.lcZ(25,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(37,31,"Actions")))}const H=l=>({"null-color":l});function zt(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",44),e.qZA(),e.TgZ(3,"td")(4,"span",45),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",46)(8,"span",45),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",46)(12,"span",45),e._uU(13,"Latitude"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",46)(16,"span",45),e._uU(17,"Longitude"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",46)(20,"span",45),e._uU(21,"Discription"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",46)(24,"span",45),e._uU(25,"Notes"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",46)(28,"span",45),e._uU(29,"creationTime"),e.qZA(),e._uU(30),e.ALo(31,"date"),e.qZA(),e.TgZ(32,"td",46)(33,"span",45),e._uU(34,"lastModificationTime"),e.qZA(),e._uU(35),e.ALo(36,"date"),e.qZA(),e.TgZ(37,"td",46)(38,"span",45),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",46)(42,"span",45),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td")(46,"div",47)(47,"button",48),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(48,"button",49),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(1),e.Q6J("ngClass",e.VKq(26,H,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,H,!t.latitude)),e.xp6(3),e.hij(" ",t.latitude?t.latitude:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,H,!t.longitude)),e.xp6(3),e.hij(" ",t.longitude?t.longitude:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,H,!t.discription)),e.xp6(3),e.hij(" ",t.discription?t.discription:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,H,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,H,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(31,20,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(38,H,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(36,23,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(40,H,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,H,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function $t(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Xt(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}function Wt(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Latitude is required.")))}function en(l,r){1&l&&(e.TgZ(0,"small",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Longitude is required.")))}const xe=l=>({"ng-invalid ng-dirty":l});function tn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",50),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(6,$t,3,3,"small",52),e.qZA(),e.TgZ(7,"div",20)(8,"label",53),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(12,Xt,3,3,"small",52),e.qZA(),e.TgZ(13,"div",20)(14,"label",55),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.latitude=n)}),e.qZA(),e.YNc(18,Wt,3,3,"small",52),e.qZA(),e.TgZ(19,"div",20)(20,"label",57),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.longitude=n)}),e.qZA(),e.YNc(24,en,3,3,"small",52),e.qZA(),e.TgZ(25,"div",20)(26,"label",59),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"textarea",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(30,"div",20)(31,"label",61),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"textarea",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.qZA()(),e.TgZ(35,"div",63)(36,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"button",65),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,24,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(40,xe,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,26,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(42,xe,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,28,"Latitude")),e.xp6(2),e.Q6J("ngModel",t.product.latitude)("ngClass",e.VKq(44,xe,t.submitted&&!t.product.latitude)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.latitude),e.xp6(3),e.Oqu(e.lcZ(22,30,"Longitude")),e.xp6(2),e.Q6J("ngModel",t.product.longitude)("ngClass",e.VKq(46,xe,t.submitted&&!t.product.longitude)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.longitude),e.xp6(3),e.Oqu(e.lcZ(28,32,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.Oqu(e.lcZ(33,34,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription),e.xp6(2),e.Q6J("label",e.lcZ(37,36,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(39,38,"Save"))}}function nn(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function on(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function ln(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Te=()=>({width:"450px"});let an=(()=>{class l{constructor(t,o,n){this._LocationService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({engName:new s.NI(null,[s.kI.required]),latitude:new s.NI(null,[s.kI.required]),longitude:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),discription:new s.NI(null)}),this.editForm=new s.cw({engName:new s.NI(null,[s.kI.required]),latitude:new s.NI(null,[s.kI.required]),longitude:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),discription:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="Location",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LocationService.setCulture(t),this._LocationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this._LocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LocationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this._LocationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._LocationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this._LocationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._LocationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(jt),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-location"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ht,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","latitude","id","new-latitude","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","longitude","id","new-longitude","type","text",3,"placeholder"],["htmlFor","new-discription"],["formControlName","discription","pInputTextarea","","id","new-discription","type","text",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","latitude","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","longitude"],["formControlName","longitude","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","discription"],["formControlName","discription","id","discription","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Gt,5,7,"ng-template",1)(3,Kt,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Vt,40,41,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Bt,8,7,"ng-template",7)(10,Yt,38,33,"ng-template",8)(11,zt,49,44,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,tn,40,48,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,nn,6,4,"span",13),e.qZA(),e.YNc(20,on,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,ln,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Te)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Te)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Te)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Te)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g],styles:[".null-color[_ngcontent-%COMP%]{color:red}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),sn=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const rn=["dt"];function cn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function pn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function dn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addnewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",26),e.NdJ("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.changedSelected(n))})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedDepartment=n)})("onClear",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.selectedDepartment=null)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20),e._UZ(26,"button",29),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addnewForm),e.xp6(3),e.hij("",e.lcZ(4,15,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,17,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,19,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,21,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,23,"Department")),e.xp6(2),e.Q6J("options",t.departmentDropDown)("ngModel",t.selectedDepartment)("placeholder",e.lcZ(18,25,"Select a Department"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(22,27,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,29,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addnewForm.invalid)("label",e.lcZ(27,31,"Insert New"))}}function un(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function mn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,13,"Notes")),e.xp6(3),e.Oqu(e.lcZ(16,15,"Department")),e.xp6(3),e.Oqu(e.lcZ(19,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(22,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(25,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(28,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(31,25,"Actions")))}function gn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",41),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",41),e._uU(17,"Notes"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"span",41),e._uU(21,"creationTime"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td")(25,"span",41),e._uU(26,"lastModificationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td")(30,"span",41),e._uU(31,"creatorName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"span",41),e._uU(35,"lastModifierName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td")(38,"div",42)(39,"button",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(40,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(4),e.hij(" ",t.name,""),e.xp6(4),e.hij(" ",t.notes," "),e.xp6(4),e.hij(" ",t.departmentName," "),e.xp6(4),e.hij(" ",e.xi3(23,9,t.creationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(5),e.hij(" ",e.xi3(28,12,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(5),e.hij(" ",t.creatorName," "),e.xp6(4),e.hij(" ",t.lastModifierName," ")}}const ot=l=>({"ng-invalid ng-dirty":l});function _n(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",47),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",49),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p-dropdown",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEditsDepartment=n)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",20)(18,"label",51),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",53)(23,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"button",55),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(32,ot,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,20,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(34,ot,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,22,"Department")),e.xp6(2),e.Q6J("options",t.departmentDropDown)("ngModel",t.selectedEditsDepartment)("placeholder",e.lcZ(16,24,"Select a Department"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(20,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(24,28,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(26,30,"Save"))("disabled",t.editForm.invalid)}}function hn(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function fn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Zn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const be=()=>({width:"450px"});let Cn=(()=>{class l{constructor(t,o,n){this._PartitionService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.departmentDropDown=[],this.selectedDepartment=null,this.selectedDepartmentId=-1,this.addnewForm=new s.cw({departmentId:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null)}),this.editForm=new s.cw({departmentId:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="Partation",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PartitionService.setCulture(t),this._PartitionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownDepartment()}getDartmentNameById(t){return console.log("id edited"),console.log(t),this.departmentDropDown.find(n=>n.id==t)}editProduct(t){console.log(t.id),this._PartitionService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedEditsDepartment=this.getDartmentNameById(this.product.departmentId),console.log("dept name is ",this.selectedEditsDepartment)}})}changedSelected(t){}getDropDownDepartment(){this._PartitionService.getDropDown("Department").subscribe({next:t=>{this.departmentDropDown=t.data}})}confirmDelete(t){this._PartitionService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this._PartitionService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._PartitionService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t,departmentId:this.selectedEditsDepartment.id}),console.log(o.value),this._PartitionService.Edit(o.value).subscribe({next:n=>{n.success&&(this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3})),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){console.log(this.selectedItems);const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PartitionService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(sn),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-partition"]],viewQuery:function(o,n){if(1&o&&e.Gf(rn,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["for","department"],["id","department","formControlName","departmentId","optionValue","id","optionLabel","name","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","onChange","ngModelChange","onClear"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","formControlName","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","departmentEdit"],["formControlName","departmentId","optionLabel","name","id","edit_Dept","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","formControlName","notes","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,cn,5,7,"ng-template",1)(3,pn,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,dn,28,33,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,un,8,7,"ng-template",7)(10,mn,32,27,"ng-template",8)(11,gn,41,15,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,_n,27,36,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,hn,6,4,"span",13),e.qZA(),e.YNc(20,fn,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Zn,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,be)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,be)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,be)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,be)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),xn=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-qualification"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Qualification"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Tn=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var L=f(6760);const bn=["dt"];function An(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function yn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.startAttendeesTimeClick(n))}),e.qZA()}}function wn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.endAttendeesTimeClick(n))}),e.qZA()}}function Nn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",26),e.ALo(18,"translate"),e.YNc(19,qn,1,0,"ng-template",27),e.qZA()(),e.TgZ(20,"div",20)(21,"label",28),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"p-calendar",29),e.ALo(25,"translate"),e.YNc(26,wn,1,0,"ng-template",27),e.qZA()(),e.TgZ(27,"div",20)(28,"label",30),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",20)(34,"label",32),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",33),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",20)(40,"label",34),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",35),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",20)(46,"label",36),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",37),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"div",20)(52,"label",38),e._uU(53),e.ALo(54,"translate"),e.qZA(),e._UZ(55,"textarea",39),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"div",20),e._UZ(58,"button",40),e.ALo(59,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,29,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,31,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,33,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,35,"Enter Arabic Name Here")),e.xp6(4),e.hij(" ",e.lcZ(16,37,"start Attendees Time")," "),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(18,39,"00:00:00")),e.xp6(5),e.hij(" ",e.lcZ(23,41,"End Attendees Time")," "),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("timeOnly",!0)("showSeconds",!0)("placeholder",e.lcZ(25,43,"00:00:00")),e.xp6(5),e.Oqu(e.lcZ(30,45,"number Of Hours")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,47,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(36,49,"check In Before The Shift Starts")),e.xp6(2),e.Q6J("placeholder",e.lcZ(38,51,"Enter Check In Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(42,53,"check Out After The Shift Ends")),e.xp6(2),e.Q6J("placeholder",e.lcZ(44,55,"Enter check Out After The Shift Ends")),e.xp6(4),e.Oqu(e.lcZ(48,57,"check Out After The Shift Starts")),e.xp6(2),e.Q6J("placeholder",e.lcZ(50,59,"Enter check Out Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(54,61,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(56,63,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(59,65,"Insert New"))("disabled",t.addNewForm.invalid)}}function Mn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",42)(1,"h5",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",44),e._UZ(5,"i",45),e.TgZ(6,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function vn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",47),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",48),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",49),e.qZA(),e.TgZ(7,"th",50),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",51),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,16,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,18,"StartAttendeesTime")),e.xp6(3),e.Oqu(e.lcZ(16,20,"EndAttendeesTime")),e.xp6(3),e.Oqu(e.lcZ(19,22,"NumberOfHours")),e.xp6(3),e.Oqu(e.lcZ(22,24,"check In Before The Shift Starts")),e.xp6(3),e.Oqu(e.lcZ(25,26,"check Out After The Shift Ends")),e.xp6(3),e.Oqu(e.lcZ(28,28,"check Out After The Shift Starts")),e.xp6(3),e.Oqu(e.lcZ(31,30,"Notes")),e.xp6(3),e.Oqu(e.lcZ(34,32,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(37,34,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(40,36,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(43,38,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(46,40,"Actions")))}const U=l=>({"null-color":l});function Dn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",52),e.qZA(),e.TgZ(3,"td")(4,"span",53),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",54)(8,"span",53),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",54)(12,"span",53),e._uU(13,"startAttendeesTime"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",54)(16,"span",53),e._uU(17,"endAttendeesTime"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",54)(20,"span",53),e._uU(21,"numberOfHours"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",54)(24,"span",53),e._uU(25,"checkInBeforeTheShiftStarts"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",54)(28,"span",53),e._uU(29,"checkOutAfterTheShiftEnds"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",54)(32,"span",53),e._uU(33,"checkOutAfterTheShiftStarts"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",54)(36,"span",53),e._uU(37,"Notes"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",54)(40,"span",53),e._uU(41,"creationTime"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",54)(44,"span",53),e._uU(45,"lastModificationTime"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"td",54)(48,"span",53),e._uU(49,"creatorName"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"td",54)(52,"span",53),e._uU(53,"lastModifierName"),e.qZA(),e._uU(54),e.qZA(),e.TgZ(55,"td")(56,"div",55)(57,"button",56),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(58,"button",57),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,U,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,U,!t.startAttendeesTime)),e.xp6(3),e.hij(" ",t.startAttendeesTime?t.startAttendeesTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,U,!t.endAttendeesTime)),e.xp6(3),e.hij(" ",t.endAttendeesTime?t.endAttendeesTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,U,!t.numberOfHours)),e.xp6(3),e.hij(" ",t.numberOfHours?t.numberOfHours:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,U,!t.checkInBeforeTheShiftStarts)),e.xp6(3),e.hij(" ",t.checkInBeforeTheShiftStarts," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,U,!t.checkOutAfterTheShiftEnds)),e.xp6(3),e.hij(" ",t.checkOutAfterTheShiftEnds," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,U,!t.checkOutAfterTheShiftStarts)),e.xp6(3),e.hij(" ",t.checkOutAfterTheShiftStarts," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,U,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,U,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,U,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,U,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,U,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function In(l,r){1&l&&(e.TgZ(0,"small",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Fn(l,r){1&l&&(e.TgZ(0,"small",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij("",e.lcZ(2,1,"English Name is required"),"."))}function Pn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.startAttendeesTimeClickEdit(n))}),e.qZA()}}function Ln(l,r){1&l&&(e.TgZ(0,"small",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"startAttendeesTime is required.")))}function Jn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",41),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(2);return e.KtG(i.endAttendeesTimeClickEdit(n))}),e.qZA()}}function Un(l,r){1&l&&(e.TgZ(0,"small",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"endAttendeesTime is required.")))}const lt=l=>({"ng-invalid ng-dirty":l});function Sn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",58),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(6,In,3,3,"small",60),e.qZA(),e.TgZ(7,"div",20)(8,"label",61),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(12,Fn,3,3,"small",60),e.qZA(),e.TgZ(13,"div",20)(14,"label",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",64),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.startAttendeesTime=n)}),e.ALo(18,"translate"),e.YNc(19,Pn,1,0,"ng-template",27),e.qZA(),e.YNc(20,Ln,3,3,"small",60),e.qZA(),e.TgZ(21,"div",20)(22,"label",65),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-calendar",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.endAttendeesTime=n)}),e.ALo(26,"translate"),e.YNc(27,Jn,1,0,"ng-template",27),e.qZA(),e.YNc(28,Un,3,3,"small",60),e.qZA(),e.TgZ(29,"div",20)(30,"label",32),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"input",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.checkInBeforeTheShiftStarts=n)}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",20)(36,"label",34),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"input",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.checkOutAfterTheShiftEnds=n)}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",20)(42,"label",36),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"input",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.checkOutAfterTheShiftStarts=n)}),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",20)(48,"label",70),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.numberOfHours=n)}),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",20)(54,"label",72),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"textarea",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(58,"div",74)(59,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"button",76),e.ALo(62,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,42,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(76,lt,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,44,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(78,lt,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,46,"start Attendees Time")),e.xp6(2),e.Q6J("ngModel",t.product.startAttendeesTime)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(18,48,"00:00:00")),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.product.startAttendeesTime),e.xp6(3),e.Oqu(e.lcZ(24,50,"End Attendees Time")),e.xp6(2),e.Q6J("ngModel",t.product.endAttendeesTime)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("timeOnly",!0)("placeholder",e.lcZ(26,52,"00:00:00")),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.product.endAttendeesTime),e.xp6(3),e.Oqu(e.lcZ(32,54,"check In Before The Shift Starts")),e.xp6(2),e.Q6J("ngModel",t.product.checkInBeforeTheShiftStarts)("placeholder",e.lcZ(34,56,"Enter Check In Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(38,58,"check Out After The Shift Ends")),e.xp6(2),e.Q6J("ngModel",t.product.checkOutAfterTheShiftEnds)("placeholder",e.lcZ(40,60,"Enter check Out After The Shift Ends")),e.xp6(4),e.Oqu(e.lcZ(44,62,"check Out After The Shift Starts")),e.xp6(2),e.Q6J("ngModel",t.product.checkOutAfterTheShiftStarts)("placeholder",e.lcZ(46,64,"Enter check Out Before The Shift Starts")),e.xp6(4),e.Oqu(e.lcZ(50,66,"number Of Hours")),e.xp6(2),e.Q6J("ngModel",t.product.numberOfHours)("placeholder",e.lcZ(52,68,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(56,70,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(60,72,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(62,74,"Save"))("disabled",t.editForm.invalid)}}function kn(l,r){}function En(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function On(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Qn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ae=()=>({width:"450px"});let Rn=(()=>{class l{constructor(t,o,n){this._ShiftService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({checkInBeforeTheShiftStarts:new s.NI(null,[s.kI.required]),checkOutAfterTheShiftEnds:new s.NI(null,[s.kI.required]),checkOutAfterTheShiftStarts:new s.NI(null,[s.kI.required]),endAttendeesTime:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),numberOfHours:new s.NI(null,[s.kI.required]),startAttendeesTime:new s.NI(null,[s.kI.required]),notes:new s.NI(null)}),this.editForm=new s.cw({checkInBeforeTheShiftStarts:new s.NI(null,[s.kI.required]),checkOutAfterTheShiftEnds:new s.NI(null,[s.kI.required]),checkOutAfterTheShiftStarts:new s.NI(null,[s.kI.required]),endAttendeesTime:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),numberOfHours:new s.NI(null,[s.kI.required]),startAttendeesTime:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="Shift",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftService.setCulture(t),this._ShiftService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"startAttendeesTime",header:"StartAttendeesTime"},{field:"endAttendeesTime",header:"EndAttendeesTime"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this._ShiftService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this._ShiftService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){t.patchValue({startAttendeesTime:t.get("startAttendeesTime").value.toLocaleTimeString("en-US",{hour12:!1}),endAttendeesTime:t.get("endAttendeesTime").value.toLocaleTimeString("en-US",{hour12:!1})}),console.log(t),this._ShiftService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null,this.startAttendeesTime=null,this.endAttendeesTime=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._ShiftService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({startAttendeesTime:o.get("startAttendeesTime").value.toLocaleTimeString("en-US",{hour12:!1}),endAttendeesTime:o.get("endAttendeesTime").value.toLocaleTimeString("en-US",{hour12:!1}),id:t}),console.log(o),this._ShiftService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),o.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Tn),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-shift"]],viewQuery:function(o,n){if(1&o&&e.Gf(bn,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["for","startAttendeesTime"],["formControlName","startAttendeesTime","inputId","startAttendeesTime",3,"iconDisplay","showIcon","showSeconds","timeOnly","placeholder"],["pTemplate","inputicon"],["for","endAttendeesTime"],["formControlName","endAttendeesTime","inputId","endAttendeesTime",3,"iconDisplay","showIcon","timeOnly","showSeconds","placeholder"],["htmlFor","numberOfHours"],["formControlName","numberOfHours","pInputText","","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","checkInBeforeTheShiftStarts"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"placeholder"],["htmlFor","checkOutAfterTheShiftEnds"],["pInputText","","formControlName","checkOutAfterTheShiftEnds","id","checkOutAfterTheShiftEnds","type","number",3,"placeholder"],["htmlFor","checkOutAfterTheShiftStarts"],["pInputText","","formControlName","checkOutAfterTheShiftStarts","id","checkOutAfterTheShiftStarts","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"pi","pi-clock","pointer-events-none","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","startAttendeesTimeEdit"],["formControlName","startAttendeesTime","inputId","startAttendeesTimeEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder","ngModelChange"],["for","endAttendeesTimeEdit"],["formControlName","endAttendeesTime","inputId","endAttendeesTimeEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","timeOnly","placeholder","ngModelChange"],["formControlName","checkInBeforeTheShiftStarts","pInputText","","id","checkInBeforeTheShiftStarts","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","checkOutAfterTheShiftEnds","pInputText","","id","checkOutAfterTheShiftEnds","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","checkOutAfterTheShiftStarts","pInputText","","id","checkOutAfterTheShiftStarts","type","number",3,"ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHoursEdit"],["formControlName","numberOfHours","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,An,5,7,"ng-template",1)(3,yn,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Nn,60,67,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Mn,8,7,"ng-template",7)(10,vn,47,42,"ng-template",8)(11,Dn,59,50,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Sn,63,80,"ng-template",4)(15,kn,0,0,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,En,6,4,"span",14),e.qZA(),e.YNc(21,On,4,6,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,Qn,4,6,"ng-template",10),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Ae)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Ae)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,Ae)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Ae)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,L.f],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var jn=f(6655),h=f(4861);let Hn=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Gn=["dt"];function Kn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Vn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Bn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelected())})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedShift=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-calendar",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.date=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"textarea",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.reason=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20),e._UZ(20,"button",27),e.ALo(21,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShift)("placeholder",e.lcZ(6,20,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(4),e.hij("",e.lcZ(10,22,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(12,24,"MM/DD/YYYY"))("ngModel",t.date),e.xp6(4),e.Oqu(e.lcZ(16,26,"Reason")),e.xp6(2),e.Q6J("ngModel",t.reason)("placeholder",e.lcZ(18,28,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(21,30,"Insert New"))("disabled",t.addNewForm.invalid)}}function Yn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function zn(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",33),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",34),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",35),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,11,"Date")),e.xp6(3),e.Oqu(e.lcZ(12,13,"Reason")),e.xp6(3),e.Oqu(e.lcZ(15,15,"Shift")),e.xp6(3),e.Oqu(e.lcZ(18,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(21,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(24,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(27,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(30,25,"Actions")))}const te=l=>({"null-color":l});function $n(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",36),e.qZA(),e.TgZ(3,"td")(4,"span",37),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",38)(8,"span",37),e._uU(9,"Date"),e.qZA(),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",38)(13,"span",37),e._uU(14,"Reason"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"td",38)(17,"span",37),e._uU(18,"shiftName"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td",38)(21,"span",37),e._uU(22,"creationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",38)(26,"span",37),e._uU(27,"lastModificationTime"),e.qZA(),e._uU(28),e.ALo(29,"date"),e.qZA(),e.TgZ(30,"td",38)(31,"span",37),e._uU(32,"creatorName"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",38)(35,"span",37),e._uU(36,"lastModifierName"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td")(39,"div",39)(40,"button",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(41,"button",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,te,!t.date)),e.xp6(3),e.hij(" ",e.xi3(11,16,t.date,"dd/MM/yyyy")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,te,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,te,!t.shiftName)),e.xp6(3),e.hij(" ",t.shiftName?t.shiftName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,te,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(24,19,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(33,te,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(29,22,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(35,te,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,te,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Xn(l,r){1&l&&(e.TgZ(0,"small",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Shift is required.")))}function Wn(l,r){1&l&&(e.TgZ(0,"small",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Date is required.")))}function eo(l,r){1&l&&(e.TgZ(0,"small",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Date is required.")))}const to=l=>({"ng-invalid ng-dirty":l});function no(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",43),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedShiftEdit=n)}),e.ALo(6,"translate"),e._uU(7,">"),e.qZA(),e.YNc(8,Xn,3,3,"small",44),e.qZA(),e.TgZ(9,"div",20)(10,"label",45),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"p-calendar",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=n)}),e.qZA(),e.YNc(14,Wn,3,3,"small",44),e.qZA(),e.TgZ(15,"div",20)(16,"label",47),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.reason=n)}),e.qZA(),e.YNc(20,eo,3,3,"small",44),e.qZA(),e.TgZ(21,"div",49)(22,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"button",51),e.ALo(25,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,22,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShiftEdit)("placeholder",e.lcZ(6,24,"Select Shift"))("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(3),e.Q6J("ngIf",t.submitted&&!t.product.shiftId),e.xp6(3),e.Oqu(e.lcZ(12,26,"Enter Date")),e.xp6(2),e.Q6J("timezone","UTC")("iconDisplay","input")("showIcon",!0)("ngModel",t.product.date),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.date),e.xp6(3),e.Oqu(e.lcZ(18,28,"Enter Reason")),e.xp6(2),e.Q6J("ngModel",t.product.reason)("ngClass",e.VKq(34,to,t.submitted&&!t.product.reason)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.reason),e.xp6(2),e.Q6J("label",e.lcZ(23,30,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(25,32,"Save"))("disabled",t.editForm.invalid)}}function oo(l,r){}function lo(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function io(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function ao(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const ye=()=>({width:"450px"});let so=(()=>{class l{constructor(t,o,n,i){this._PublicVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({date:new s.NI(null,[s.kI.required]),shiftId:new s.NI(null,[s.kI.required]),reason:new s.NI(null,[s.kI.required])}),this.editForm=new s.cw({date:new s.NI(null,[s.kI.required]),shiftId:new s.NI(null,[s.kI.required]),reason:new s.NI(null,[s.kI.required]),id:new s.NI(null)})}ngOnInit(){this.endPoint="PublicVacation",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._PublicVacationService.setCulture(t),this._PublicVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"date",header:"Date"},{field:"reason",header:"Reason"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.gitAllShifts()}gitAllShifts(){this._PublicVacationService.getDropDown("Shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertDate(t,o){return this.DatePipe.transform(t,o)}editProduct(t){console.log(t.id),this._PublicVacationService.GetById(t.id).subscribe({next:o=>{console.log("Shift Id => "),console.log(o.data.shiftId),console.log("shiftDropDown =>"),console.log(this.shiftDropDown),this.selectedShiftEdit=this.shiftDropDown.find(n=>o.data.shiftId==n.id),o.data.date=this.convertDate(o.data.date,"MM/dd/yyyy"),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}confirmDelete(t){this._PublicVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){t.patchValue({date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")}),this._PublicVacationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.date=null,this.reason=null,this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._PublicVacationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({date:this.DatePipe.transform(o.get("date").value,"yyyy-MM-ddTHH:mm:ss"),id:t,shiftId:this.selectedShiftEdit.id}),console.clear(),console.log("body here "),console.log(o),this._PublicVacationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>("shift"==p&&console.log(a.shiftName),`"${a[p]}"`)).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._PublicVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Hn),e.Y36(u.ez),e.Y36(m.uU),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-public-vacation"]],viewQuery:function(o,n){if(1&o&&e.Gf(Gn,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:30,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","shift"],["formControlName","shiftId","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","showClear","filter","filterBy","onChange","ngModelChange"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","reason"],["formControlName","reason","pInputTextarea","","id","reason","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","shiftId"],["formControlName","shiftId","optionLabel","name",3,"options","ngModel","placeholder","showClear","filter","filterBy","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","date"],["formControlName","date","inputId","date",3,"timezone","iconDisplay","showIcon","ngModel","ngModelChange"],["for","reason"],["formControlName","reason","type","text","pInputText","","id","reason","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Kn,5,7,"ng-template",1)(3,Vn,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Bn,22,32,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Yn,8,7,"ng-template",7)(10,zn,31,27,"ng-template",8)(11,$n,42,39,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,no,26,36,"ng-template",4)(15,oo,0,0,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,lo,6,4,"span",14),e.qZA(),e.YNc(21,io,4,6,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",12),e._UZ(25,"i",13),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.YNc(29,ao,4,6,"ng-template",10),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,ye)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,ye)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(42,ye)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,ye)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(28,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,L.f],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var me=f(7204);let ro=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const co=["dt"];function po(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function uo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function mo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",23),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeShift())}),e.qZA()(),e.TgZ(6,"div",21)(7,"label",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedDay=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeDay())}),e.qZA()(),e.TgZ(11,"div",21),e._UZ(12,"button",26),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,11,"shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("filter",!0)("filterBy","name")("showClear",!0),e.xp6(3),e.Oqu(e.lcZ(9,13,"Day")),e.xp6(2),e.Q6J("options",t.AllDays)("ngModel",t.selectedDay)("showClear",!0),e.xp6(2),e.Q6J("disabled",t.addNewForm.invalid)}}function go(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",27)(1,"h5",28),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",29),e._UZ(5,"i",30),e.TgZ(6,"input",31),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function _o(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",32),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",33),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",34),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Day")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Shift")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const se=l=>({"null-color":l});function ho(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",35),e.qZA(),e.TgZ(3,"td")(4,"span",36),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",37)(8,"span",36),e._uU(9,"dayName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",37)(12,"span",36),e._uU(13,"shiftName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",37)(16,"span",36),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",37)(21,"span",36),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",37)(26,"span",36),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",37)(30,"span",36),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",38)(35,"button",39),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,se,!t.dayName)),e.xp6(3),e.hij(" ",t.dayName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,se,!t.shiftName)),e.xp6(3),e.hij(" ",t.shiftName?t.shiftName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,se,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,14,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,se,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,17,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(28,se,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,se,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function fo(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1,"Shift is required."),e.qZA())}function Zo(l,r){1&l&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"day is required.")))}function Co(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",21)(2,"label",41),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedShiftEdit=n)}),e.qZA(),e.YNc(6,fo,2,0,"small",43),e.qZA(),e.TgZ(7,"div",21)(8,"label",44),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedDayEdit=n)}),e.qZA(),e.YNc(12,Zo,3,3,"small",43),e.qZA(),e.TgZ(13,"div",46)(14,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA(),e._UZ(15,"button",48),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Select Shift")),e.xp6(2),e.Q6J("options",t.shiftDropDown)("ngModel",t.selectedShiftEdit)("showClear",!0)("filter",!0)("filterBy","name"),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.shiftId),e.xp6(3),e.Oqu(e.lcZ(10,16,"Enter day")),e.xp6(2),e.Q6J("options",t.AllDays)("ngModel",t.selectedDayEdit)("showClear",!0),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.day),e.xp6(3),e.Q6J("disabled",t.editForm.invalid)}}function xo(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function To(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.qZA()}}function bo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const qe=()=>({width:"450px"});let Ao=(()=>{class l{constructor(t,o,n,i){this._ShiftVacationService=t,this.messageService=o,this.DatePipe=n,this.translate=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({day:new s.NI(null,[s.kI.required]),shiftId:new s.NI(null,[s.kI.required])}),this.editForm=new s.cw({day:new s.NI(null,[s.kI.required]),shiftId:new s.NI(null,[s.kI.required]),id:new s.NI(null)})}ngOnInit(){this.endPoint="ShiftVacation",this.endPoint="ShiftVacation",this._ShiftVacationService.setEndPoint(this.endPoint),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._ShiftVacationService.setCulture(t),this._ShiftVacationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"dayName",header:"Day"},{field:"shiftName",header:"Shift"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.AllDays=[{id:0,name:"Sunday"},{id:1,name:"Monday"},{id:2,name:"Tuesday"},{id:3,name:"Wednesday"},{id:4,name:"Thursday"},{id:5,name:"Friday"},{id:6,name:"Saturday"}],this.gitAllShifts()}gitAllShifts(){this._ShiftVacationService.getDropDown("shift").subscribe({next:t=>{console.log(t.data),this.shiftDropDown=t.data},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this._ShiftVacationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedShiftEdit=this.shiftDropDown.find(n=>this.product.shiftId==n.id),console.log("selectedShiftEdit : ",this.selectedShiftEdit),console.log(this.product.day),console.log(this.product.day),this.selectedDayEdit=this.AllDays.find(n=>n.id==this.product.day),console.log("selectedDayEdit : ",this.selectedDayEdit)},error:o=>{console.log(o)}})}confirmDelete(t){this._ShiftVacationService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}onChangeDay(){this.day=this.selectedDay.id}onChangeShift(){this.selectedShiftId=this.selectedShift.id}addNew(t){console.log(t),this._ShiftVacationService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedShift=null,this.selectedShiftId=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._ShiftVacationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({id:t,day:this.selectedDayEdit.id,shiftId:this.selectedShiftEdit.id}),this._ShiftVacationService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>("shift"==p&&console.log(a.shiftName),`"${a[p]}"`)).join(","));return i.unshift(n.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._ShiftVacationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ro),e.Y36(u.ez),e.Y36(m.uU),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-shift-vacation"]],viewQuery:function(o,n){if(1&o&&e.Gf(co,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU,me.j]),e.jDz],decls:28,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","shift"],["formControlName","shiftId","optionLabel","name","optionValue","id","placeholder","Select a Shift",3,"options","filter","filterBy","showClear","onChange"],["htmlFor","day"],["formControlName","day","optionLabel","name","optionValue","id","placeholder","Select a Day",3,"options","ngModel","showClear","ngModelChange","onChange"],["pButton","","label","Insert New","type","submit",1,"w-25",3,"disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","shiftId"],["formControlName","shiftId","optionLabel","name","placeholder","Select a Shift",3,"options","ngModel","showClear","filter","filterBy","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","day"],["formControlName","day","optionLabel","name","placeholder","Select a Day",3,"options","ngModel","showClear","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times","type","button",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,po,5,7,"ng-template",1)(3,uo,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.YNc(5,mo,13,15,"ng-template",4),e.qZA(),e.TgZ(6,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(8,go,7,4,"ng-template",7)(9,_o,28,24,"ng-template",8)(10,ho,37,32,"ng-template",9),e.qZA(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(12,"translate"),e.YNc(13,Co,16,18,"ng-template",4),e.qZA(),e.TgZ(14,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(15,"translate"),e.TgZ(16,"div",12),e._UZ(17,"i",13),e.YNc(18,xo,6,4,"span",14),e.qZA(),e.YNc(19,To,2,0,"ng-template",15),e.qZA(),e.TgZ(20,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(21,"translate"),e.TgZ(22,"div",12),e._UZ(23,"i",13),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,bo,2,0,"ng-template",15),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(37,qe)),e.Q6J("visible",n.showFormNew)("modal",!0),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,qe)),e.Q6J("visible",n.productDialog)("header",e.lcZ(12,29,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(39,qe)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(15,31,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,qe)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(21,33,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(26,35,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,I.Lt],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),yo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-grade"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","grade"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),qo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-job"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","Job"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),wo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-relative-relation"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","RelativeRelation"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),No=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-contract-type"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","ContractType"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Mo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-job-nature"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","JobNature"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),vo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-recuritment-source"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","RecuritmentSource"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Do=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-document-required"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","DocumentRequired"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Io=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-uniform-codes"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","UniformCodes"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Fo=(()=>{class l extends b.P{constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Po=f(5167);let Lo=(()=>{class l{constructor(t,o){this.messageService=t,this._VacationSettingService=o}ngOnInit(){this._VacationSettingService.setEndPoint("VacationSetting"),this._VacationSettingService.GetAll().subscribe({next:t=>{console.log(t.data);let o=t.data;this.startVacation=o.startVacation,this.regularVacationNumber=o.regularVacationNumber,this.maxExcuesHours=o.maxExcuesHours,this.casualVacationNumber=o.casualVacationNumber,this.id=o.id},error:t=>{console.log(t)}})}onSubmit(){this._VacationSettingService.Register({startVacation:this.startVacation,regularVacationNumber:this.regularVacationNumber,maxExcuesHours:this.maxExcuesHours,casualVacationNumber:this.casualVacationNumber,id:this.id}).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3})},error:o=>{console.log(o)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(Fo))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-setting"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:31,vars:34,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"ngSubmit"],[1,"field","col-12"],["for","startVacation"],["id","startVacation","name","startVacation","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","regularVacationNumber"],["id","regularVacationNumber","name","regularVacationNumber","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","maxExcuesHours"],["id","maxExcuesHours","name","maxExcuesHours","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["for","casualVacationNumber"],["id","casualVacationNumber","name","casualVacationNumber","mode","decimal",3,"ngModel","showButtons","min","max","ngModelChange"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-inputNumber",7),e.NdJ("ngModelChange",function(a){return n.startVacation=a}),e.qZA()(),e.TgZ(13,"div",5)(14,"label",8),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-inputNumber",9),e.NdJ("ngModelChange",function(a){return n.regularVacationNumber=a}),e.qZA()(),e.TgZ(18,"div",5)(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p-inputNumber",11),e.NdJ("ngModelChange",function(a){return n.maxExcuesHours=a}),e.qZA()(),e.TgZ(23,"div",5)(24,"label",12),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"p-inputNumber",13),e.NdJ("ngModelChange",function(a){return n.casualVacationNumber=a}),e.qZA()(),e.TgZ(28,"div",5),e._UZ(29,"button",14),e.ALo(30,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,22,"Vacation Settings")),e.xp6(5),e.Oqu(e.lcZ(11,24,"Start Vacation")),e.xp6(2),e.Q6J("ngModel",n.startVacation)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(16,26,"Regular Vacation Number")),e.xp6(2),e.Q6J("ngModel",n.regularVacationNumber)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(21,28,"Max Excues Hours")),e.xp6(2),e.Q6J("ngModel",n.maxExcuesHours)("showButtons",!0)("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(26,30,"Casual Vacation Number")),e.xp6(2),e.Q6J("ngModel",n.casualVacationNumber)("showButtons",!0)("min",0)("max",100),e.xp6(2),e.Q6J("label",e.lcZ(30,32,"Update Setting")))},dependencies:[Z.l,s._Y,s.JJ,s.JL,s.On,s.F,g.X$,C.g,w.H,x.Hq,T.FN,Po.Rn]})}return l})(),Jo=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-covenant-category"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:1,vars:0,consts:[["endPoint","CovenantCategory"]],template:function(o,n){1&o&&e._UZ(0,"app-std-paginations-with-popup",0)},dependencies:[J]})}return l})(),Uo=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const So=["dt"];function ko(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Eo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Oo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeCovenantCategory())})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantCategory=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNameEn=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNameAr=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"textarea",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNotes=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20),e._UZ(26,"button",29),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Covenant Category")),e.xp6(2),e.Q6J("options",t.CovenantCategoryDropDown)("ngModel",t.selectedCovenantCategory)("placeholder",e.lcZ(6,20,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.xp6(4),e.hij("",e.lcZ(10,22,"Name English")," "),e.xp6(2),e.Q6J("ngModel",t.newNameEn)("placeholder",e.lcZ(12,24,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(16,26,"Name Arabic")," "),e.xp6(2),e.Q6J("ngModel",t.newNameAr)("placeholder",e.lcZ(18,28,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(22,30,"Notes")),e.xp6(2),e.Q6J("ngModel",t.newNotes)("placeholder",e.lcZ(24,32,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,34,"Insert New"))}}function Qo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ro(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,13,"Notes")),e.xp6(3),e.Oqu(e.lcZ(16,15,"Category")),e.xp6(3),e.Oqu(e.lcZ(19,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(22,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(25,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(28,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(31,25,"Actions")))}const ne=l=>({"null-color":l});function jo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",41),e._uU(17,"Category"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",42)(20,"span",41),e._uU(21,"CreationTime"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td",42)(25,"span",41),e._uU(26,"LastModificationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",42)(30,"span",41),e._uU(31,"CreatorName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",42)(34,"span",41),e._uU(35,"LastModifierName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td")(38,"div",43)(39,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(40,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ne,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,ne,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,ne,!t.covenantCategoryName)),e.xp6(3),e.hij(" ",t.covenantCategoryName?t.covenantCategoryName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ne,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(23,16,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(30,ne,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(28,19,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,ne,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,ne,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const it=l=>({"ng-invalid ng-dirty":l});function Ho(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantCategoryOnEdit=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(12,"div",20)(13,"label",50),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA()(),e.TgZ(17,"div",20)(18,"label",52),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",54)(23,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"button",56),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Category")),e.xp6(2),e.Q6J("options",t.CovenantCategoryDropDown)("ngModel",t.selectedCovenantCategoryOnEdit)("placeholder",e.lcZ(6,20,"Select a Covenant Category"))("showClear",!0)("filter",!0),e.xp6(4),e.Oqu(e.lcZ(10,22,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(32,it,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(15,24,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(34,it,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(20,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(24,28,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(26,30,"Save"))("disabled",t.editForm.invalid)}}function Go(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ko(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Vo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const we=()=>({width:"450px"});let Bo=(()=>{class l{constructor(t,o,n){this._CovenantService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({covenantCategoryId:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null)}),this.editForm=new s.cw({covenantCategoryId:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="Covenant",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._CovenantService.setCulture(t),this._CovenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"category",header:"Category"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown("CovenantCategory")}getDropDown(t){this._CovenantService.getDropDown(t).subscribe({next:o=>{console.log(o.data),this.CovenantCategoryDropDown=o.data},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}changeCovenantCategory(){this.CovenantCategoryIdSelected=this.selectedCovenantCategory.id}editProduct(t){console.log(t.id),this._CovenantService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedCovenantCategoryOnEdit=this.CovenantCategoryDropDown.find(n=>this.product.covenantCategoryId==n.id)},error:o=>{console.log(o)}})}confirmDelete(t){this._CovenantService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this._CovenantService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.CovenantCategoryIdSelected=null,this.selectedCovenantCategory=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._CovenantService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,this.selectedItemsData=this.allData},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t,covenantCategoryId:this.selectedCovenantCategoryOnEdit.id}),console.log(o.value),this._CovenantService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItemsData),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.id=`${this.endPoint}_${(new Date).getTime()}`,a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_${(new Date).getTime()}.csv`,a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._CovenantService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Uo),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-covenant"]],viewQuery:function(o,n){if(1&o&&e.Gf(So,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,g.sK]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","CovenantCategory"],["id","CovenantCategory","optionLabel","name","optionValue","id","formControlName","covenantCategoryId","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","onChange","ngModelChange"],["htmlFor","name-en"],["formControlName","engName","pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["formControlName","name","pInputText","","id","name-ar","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["formControlName","notes","pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","CovenantCategory"],["autofocus","","id","CovenantCategory","optionLabel","name","formControlName","covenantCategoryId","filterBy","name",3,"options","ngModel","placeholder","showClear","filter","ngModelChange"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ko,5,7,"ng-template",1)(3,Eo,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Oo,28,36,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Qo,8,7,"ng-template",7)(10,Ro,32,27,"ng-template",8)(11,jo,41,36,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Ho,27,36,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,Go,6,4,"span",13),e.qZA(),e.YNc(20,Ko,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Vo,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,we)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,we)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,we)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,we)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();var ge=f(553);let Yo=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var oe=f(3722);const zo=["dt"];function $o(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Xo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Wo(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.arName=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p-fileUpload",30),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelect(n))}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",31),e._UZ(32,"button",32),e.ALo(33,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,14,"Arabic Name")," "),e.xp6(2),e.Q6J("ngModel",t.arName)("placeholder",e.lcZ(6,16,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,18,"English Name")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,20,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(16,22,"Notes")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,24,"Enter Notes Here")),e.xp6(4),e.hij("",e.lcZ(22,26,"Discription")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,28,"Enter Discription Here")),e.xp6(4),e.hij("",e.lcZ(28,30,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(30,32,"Choose File")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(33,34,"Insert New"))}}function el(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",33)(1,"h5",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",35),e._UZ(5,"i",36),e.TgZ(6,"input",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function tl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",39),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",40),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,12,"Name")),e.xp6(3),e.Oqu(e.lcZ(12,14,"Notes")),e.xp6(3),e.Oqu(e.lcZ(15,16,"Url")),e.xp6(3),e.Oqu(e.lcZ(18,18,"Description")),e.xp6(3),e.Oqu(e.lcZ(21,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(24,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(27,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(30,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(33,28,"Actions")))}const Ne=l=>({"null-color":l});function nl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td")(4,"span",42),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",42),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",42),e._uU(13,"Notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",42),e._uU(17,"Url"),e.qZA(),e.TgZ(18,"a",43),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"td")(22,"span",42),e._uU(23,"Discreption"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",44)(26,"span",42),e._uU(27,"creationTime"),e.qZA(),e._uU(28),e.ALo(29,"date"),e.qZA(),e.TgZ(30,"td",44)(31,"span",42),e._uU(32,"lastModificationTime"),e.qZA(),e._uU(33),e.ALo(34,"date"),e.qZA(),e.TgZ(35,"td",44)(36,"span",42),e._uU(37,"creatorName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",44)(40,"span",42),e._uU(41,"lastModifierName"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td")(44,"div",45)(45,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(46,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.name?t.name:""," "),e.xp6(4),e.hij(" ",t.notes?t.notes:""," "),e.xp6(4),e.Q6J("href",o.baseUrlFile.concat("/",t.url),e.LSH),e.xp6(1),e.Oqu(e.lcZ(20,15,"View")),e.xp6(5),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,Ne,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(29,17,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(25,Ne,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(34,20,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,Ne,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,Ne,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ol(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",27),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",27),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",27),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(16,"div",20)(17,"label",27),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discreption=n)}),e.qZA()(),e.TgZ(21,"div",20)(22,"label",27),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-fileUpload",30),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelectEdit(n))}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",52)(28,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"button",54),e.ALo(31,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.hij("",e.lcZ(4,14,"Arabic Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.name),e.xp6(3),e.Oqu(e.lcZ(9,16,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName),e.xp6(3),e.hij("",e.lcZ(14,18,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.hij("",e.lcZ(19,20,"Discription")," "),e.xp6(2),e.Q6J("ngModel",t.product.discreption),e.xp6(3),e.hij("",e.lcZ(24,22,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(26,24,"Choose File")),e.xp6(3),e.Q6J("label",e.lcZ(29,26,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(31,28,"Save"))("disabled",t.editForm.invalid)}}function ll(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function il(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function al(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Me=()=>({width:"450px"});let sl=(()=>{class l{constructor(t,o,n,i){this.companyPolicyService=t,this.messageService=o,this.DatePipe=n,this.translate=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({EngName:new s.NI(null,[s.kI.required]),Name:new s.NI(null,[s.kI.required]),Notes:new s.NI(null),Discreption:new s.NI(null,[s.kI.required]),File:new s.NI(null,[s.kI.required])}),this.editForm=new s.cw({EngName:new s.NI(null,[s.kI.required]),Name:new s.NI(null,[s.kI.required]),Notes:new s.NI(null),Discreption:new s.NI(null,[s.kI.required]),File:new s.NI(null),Id:new s.NI(null)})}ngOnInit(){this.endPoint="CompanyPolicy",this.baseUrlFile=ge.N.mediaUrl,this.companyPolicyService.setEndPoint(this.endPoint),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.companyPolicyService.setCulture(t),this.companyPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"url",header:"Url"},{field:"discreption",header:"Discreption"},{field:"file",header:"File"},{field:"deletFIle",header:"deletFIle"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.companyPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.currentId=o.data.id,this.product={...o.data},this.productDialog=!0,this.oldDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}changedSelected(){this.selectedShiftId=this.selectedShift.id}changedSelectedEdit(){this.selectedShiftId=this.selectedShift.id}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDelete(t){this.companyPolicyService.DeleteRange([t]).subscribe({next:n=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){t.patchValue({File:this.fileNew});const o=new FormData;let n=t.value;console.log(t);for(const i in n)n.hasOwnProperty(i)&&o.append(i,n[i]);this.companyPolicyService.Register(o).subscribe({next:i=>{console.log(i),this.showFormNew=!1,i.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:i.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.enName=null,this.arName=null,this.notes=null,this.discreption=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.companyPolicyService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.error(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){o.patchValue({Id:t,File:this.fileEdit??null});let n=o.value;const i=new FormData;for(const a in n)n.hasOwnProperty(a)&&i.append(a,n[a]);console.log("body here "),console.log(n),this.companyPolicyService.Edit(i).subscribe({next:a=>{this.hideDialog(),a.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:a.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>("shift"==p&&console.log(a.shiftName),`"${a[p]}"`)).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.companyPolicyService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileNew=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity())}onFileSelectEdit(t){console.log(t);let o=t.currentFiles[0];o&&(this.fileEdit=o,console.log(this.product),this.editForm.patchValue({File:o}),this.editForm.get("File")?.updateValueAndValidity())}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Yo),e.Y36(u.ez),e.Y36(m.uU),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-company-policy"]],viewQuery:function(o,n){if(1&o&&e.Gf(zo,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","arName"],["formControlName","Name","pInputText","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","enName"],["pInputText","","formControlName","EngName",3,"placeholder"],["htmlFor","notes"],["pInputText","","formControlName","Notes",3,"placeholder"],["htmlFor","date"],["pInputText","","formControlName","Discreption",3,"placeholder"],["htmlFor","upload"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],[1,"field","insertNew"],["type","submit","pButton","",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["formControlName","Name","pInputText","",3,"ngModel","ngModelChange"],["formControlName","EngName","pInputText","",3,"ngModel","ngModelChange"],["formControlName","Notes","pInputText","",3,"ngModel","ngModelChange"],["formControlName","Discreption","pInputText","",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,$o,5,7,"ng-template",1)(3,Xo,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Wo,34,36,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,el,8,7,"ng-template",7)(10,tl,34,30,"ng-template",8)(11,nl,47,31,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,ol,32,30,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,ll,6,4,"span",13),e.qZA(),e.YNc(20,il,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,al,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Me)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Me)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Me)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Me)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,oe.p,x.Hq,N.V,T.FN,y.o],styles:[".insertNew[_ngcontent-%COMP%]{display:flex;justify-content:end}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),rl=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const cl=["dt"];function pl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function dl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ul(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20),e._UZ(26,"button",29),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,11,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,13,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,15,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,17,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Hours Number")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,21,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(22,23,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,25,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,27,"Insert New"))}}function ml(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h5",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",32),e._UZ(5,"i",33),e.TgZ(6,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function gl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",36),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",37),e.qZA(),e.TgZ(7,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",39),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,13,"hoursNumber")),e.xp6(3),e.Oqu(e.lcZ(16,15,"Notes")),e.xp6(3),e.Oqu(e.lcZ(19,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(22,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(25,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(28,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(31,25,"Actions")))}const le=l=>({"null-color":l});function _l(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",41),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",41),e._uU(13,"hoursNumber"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",41),e._uU(17,"Notes"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",42)(20,"span",41),e._uU(21,"creationTime"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",42)(24,"span",41),e._uU(25,"lastModificationTime"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",42)(28,"span",41),e._uU(29,"creatorName"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",42)(32,"span",41),e._uU(33,"lastModifierName"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td")(36,"div",43)(37,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(38,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(16,le,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,le,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.hoursNumber?t.hoursNumber:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,le,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,le,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,le,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,le,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,le,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function hl(l,r){1&l&&(e.TgZ(0,"small",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const at=l=>({"ng-invalid ng-dirty":l});function fl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",48),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(11,hl,3,3,"small",50),e.qZA(),e.TgZ(12,"div",20)(13,"label",51),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.hoursNumber=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",53),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(23,"div",55)(24,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"button",57),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,16,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(30,at,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,18,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(32,at,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(15,20,"number Of Hours")),e.xp6(2),e.Q6J("ngModel",t.product.hoursNumber)("placeholder",e.lcZ(17,22,"Enter number Of Hours")),e.xp6(4),e.Oqu(e.lcZ(21,24,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(25,26,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(27,28,"Save"))}}function Zl(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Cl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function xl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ve=()=>({width:"450px"});let Tl=(()=>{class l{constructor(t,o,n){this.execuseTypeService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({engName:new s.NI(null,[s.kI.required]),hoursNumber:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null)}),this.editForm=new s.cw({engName:new s.NI(null,[s.kI.required]),hoursNumber:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="ExcuesType",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseTypeService.setCulture(t),this.execuseTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.execuseTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.execuseTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){this.execuseTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.numberOfHours=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.execuseTypeService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(" body Data"),this.execuseTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(rl),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-execuse-type"]],viewQuery:function(o,n){if(1&o&&e.Gf(cl,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","numberOfHours"],["pInputText","","formControlName","hoursNumber","id","numberOfHours","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["htmlFor","numberOfHoursEdit"],["formControlName","hoursNumber","pInputText","","id","numberOfHoursEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,pl,5,7,"ng-template",1)(3,dl,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,ul,28,29,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,ml,8,7,"ng-template",7)(10,gl,32,27,"ng-template",8)(11,_l,39,30,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,fl,28,34,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,Zl,6,4,"span",13),e.qZA(),e.YNc(20,Cl,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,xl,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,ve)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,ve)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,ve)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,ve)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),bl=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var $e=f(8057);const Al=["dt"];function yl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ql(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function wl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",27),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",30)(32,"div",31)(33,"label",32),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-checkbox",33),e.qZA(),e.TgZ(37,"div",31)(38,"label",32),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"p-checkbox",34),e.qZA(),e.TgZ(42,"div",31)(43,"label",35),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"p-checkbox",36),e.qZA(),e.TgZ(47,"div",31)(48,"label",37),e._uU(49),e.ALo(50,"translate"),e.qZA(),e._UZ(51,"p-checkbox",38),e.qZA()(),e.TgZ(52,"div",20),e._UZ(53,"button",39),e.ALo(54,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,17,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,19,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,21,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,23,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,25,"Day Count")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,27,"Enter number Of Days")),e.xp6(4),e.Oqu(e.lcZ(22,29,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,31,"Enter Notes Here")),e.xp6(4),e.Oqu(e.lcZ(28,33,"Vacation Start After how many months")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,35,"Enter number of months to start vacation")),e.xp6(5),e.Oqu(e.lcZ(35,37,"Manger Approved")),e.xp6(5),e.Oqu(e.lcZ(40,39,"Hr Approved")),e.xp6(5),e.Oqu(e.lcZ(45,41,"Stock Vacation")),e.xp6(5),e.Oqu(e.lcZ(50,43,"Attachement Required")),e.xp6(4),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(54,45,"Insert New"))}}function Nl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",40)(1,"h5",41),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",42),e._UZ(5,"i",43),e.TgZ(6,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ml(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",45),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",46),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",47),e.qZA(),e.TgZ(7,"th",48),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",49),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,15,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,17,"dayCount")),e.xp6(3),e.Oqu(e.lcZ(16,19,"Notes")),e.xp6(3),e.Oqu(e.lcZ(19,21,"vacation starts after")),e.xp6(3),e.Oqu(e.lcZ(22,23,"managerApproved")),e.xp6(3),e.Oqu(e.lcZ(25,25,"hrApproved")),e.xp6(3),e.Oqu(e.lcZ(28,27,"stockVacation")),e.xp6(3),e.Oqu(e.lcZ(31,29,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(34,31,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(37,33,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(40,35,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(43,37,"Actions")))}const O=l=>({"null-color":l});function vl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",50),e.qZA(),e.TgZ(3,"td")(4,"span",51),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",52)(8,"span",51),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",52)(12,"span",51),e._uU(13,"dayCount"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",52)(16,"span",51),e._uU(17,"Notes"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",52)(20,"span",51),e._uU(21,"vacationStart"),e.qZA(),e._uU(22),e.ALo(23,"translate"),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"td",52)(26,"span",51),e._uU(27,"mangerApproved"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",52)(30,"span",51),e._uU(31,"hrApproved"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",52)(34,"span",51),e._uU(35,"stockVacation"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",52)(38,"span",51),e._uU(39,"creationTime"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",52)(42,"span",51),e._uU(43,"lastModificationTime"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td",52)(46,"span",51),e._uU(47,"creatorName"),e.qZA(),e._uU(48),e.qZA(),e.TgZ(49,"td",52)(50,"span",51),e._uU(51,"lastModifierName"),e.qZA(),e._uU(52),e.qZA(),e.TgZ(53,"td")(54,"div",53)(55,"button",54),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(56,"button",55),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,O,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,O,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,O,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,O,!t.vacationStart)),e.xp6(3),e.hij(" ",t.vacationStart>1?t.vacationStart+" "+e.lcZ(23,24,"Months"):1===t.vacationStart?" "+e.lcZ(24,26,"MONTH"):""," "),e.xp6(3),e.Q6J("ngClass",e.VKq(36,O,!t.mangerApproved)),e.xp6(3),e.hij(" ",t.mangerApproved," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,O,!t.hrApproved)),e.xp6(3),e.hij(" ",t.hrApproved," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,O,!t.stockVacation)),e.xp6(3),e.hij(" ",t.stockVacation," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,O,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,O,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,O,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,O,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const st=l=>({"ng-invalid ng-dirty":l});function Dl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",56),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(6,"div",20)(7,"label",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",20)(12,"label",60),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dayCount=n)}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",20)(18,"label",62),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(22,"div",20)(23,"label",64),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"input",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.vacationStart=n)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",30)(29,"div",31)(30,"label",32),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"p-checkbox",66),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.mangerApproved=n)})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.mangerApproved=n)}),e.qZA()(),e.TgZ(34,"div",31)(35,"label",32),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p-checkbox",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.hrApproved=n)}),e.qZA()(),e.TgZ(39,"div",31)(40,"label",35),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"p-checkbox",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.stockVacation=n)}),e.qZA()(),e.TgZ(44,"div",31)(45,"label",37),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"p-checkbox",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.isAttachementRequired=n)}),e.qZA()()(),e.TgZ(49,"div",70)(50,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"button",72),e.ALo(53,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,27,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(53,st,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,29,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(55,st,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,31,"number Of Days")),e.xp6(2),e.Q6J("ngModel",t.product.dayCount)("placeholder",e.lcZ(16,33,"Enter number Of Days")),e.xp6(4),e.Oqu(e.lcZ(20,35,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(3),e.Oqu(e.lcZ(25,37,"number Of Months to start vacation")),e.xp6(2),e.Q6J("ngModel",t.product.vacationStart)("placeholder",e.lcZ(27,39,"Enter number Of Months to start vacation")),e.xp6(5),e.Oqu(e.lcZ(32,41,"Manger Approved")),e.xp6(2),e.Q6J("ngModel",t.product.mangerApproved)("ngModel",t.product.mangerApproved),e.xp6(3),e.Oqu(e.lcZ(37,43,"Hr Approved")),e.xp6(2),e.Q6J("ngModel",t.product.hrApproved),e.xp6(3),e.Oqu(e.lcZ(42,45,"Stock Vacation")),e.xp6(2),e.Q6J("ngModel",t.product.stockVacation),e.xp6(3),e.Oqu(e.lcZ(47,47,"Attachement Required")),e.xp6(2),e.Q6J("ngModel",t.product.isAttachementRequired),e.xp6(2),e.Q6J("label",e.lcZ(51,49,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(53,51,"Save"))("disabled",t.editForm.invalid)}}function Il(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Fl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Pl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const De=()=>({width:"450px"});let Ll=(()=>{class l{constructor(t,o,n){this.vacationTypeService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1,this.addNewForm=new s.cw({engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),dayCount:new s.NI(null,[s.kI.required]),vacationStart:new s.NI(null,[s.kI.required]),mangerApproved:new s.NI(!1,[s.kI.required]),hrApproved:new s.NI(!1,[s.kI.required]),stockVacation:new s.NI(!1,[s.kI.required]),isAttachementRequired:new s.NI(!1,[s.kI.required])}),this.editForm=new s.cw({engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),notes:new s.NI(null),dayCount:new s.NI(null,[s.kI.required]),vacationStart:new s.NI(null,[s.kI.required]),mangerApproved:new s.NI(!1,[s.kI.required]),hrApproved:new s.NI(!1,[s.kI.required]),stockVacation:new s.NI(!1,[s.kI.required]),isAttachementRequired:new s.NI(!1,[s.kI.required]),id:new s.NI(null)})}ngOnInit(){this.endPoint="VacationType",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationTypeService.setCulture(t),this.vacationTypeService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}editProduct(t){console.log(t.id),this.vacationTypeService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.vacationTypeService.DeleteSoftById(t).subscribe({next:o=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t.value),this.vacationTypeService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.dayCount=null,this.newVacationStart=null,this.mangerApproved=!1,this.hrApproved=!1,this.stockVacation=!1}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.vacationTypeService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.vacationTypeService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationTypeService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.success,life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(bl),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-type"]],viewQuery:function(o,n){if(1&o&&e.Gf(Al,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","DayCount"],["pInputText","","formControlName","dayCount","id","DayCount","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pInputText","","formControlName","vacationStart","id","new-notes","type","number",3,"placeholder"],[1,"fields-aprrove"],[1,"field","field-approve"],["for","mangerApproved"],["formControlName","mangerApproved","binary","true"],["formControlName","hrApproved","binary","true"],["for","stockVacation"],["formControlName","stockVacation","binary","true"],["for","isAttachementRequired"],["formControlName","isAttachementRequired","binary","true"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["formControlName","name","type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["htmlFor","numberOfDaysEdit"],["pInputText","","formControlName","dayCount","id","numberOfDaysEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["formControlName","notes","id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["htmlFor","numberOfMonthsEdit"],["formControlName","vacationStart","pInputText","","id","numberOfMonthsEdit","type","number",3,"ngModel","placeholder","ngModelChange"],["formControlName","mangerApproved","binary","true",3,"ngModel","ngModelChange"],["formControlName","hrApproved","binary","true",3,"ngModel","ngModelChange"],["formControlName","stockVacation","binary","true",3,"ngModel","ngModelChange"],["formControlName","isAttachementRequired","binary","true",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,yl,5,7,"ng-template",1)(3,ql,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,wl,55,47,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Nl,8,7,"ng-template",7)(10,Ml,44,39,"ng-template",8)(11,vl,57,50,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Dl,54,57,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,Il,6,4,"span",13),e.qZA(),e.YNc(20,Fl,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Pl,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,De)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,De)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,De)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,De)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,$e.XZ],styles:[".field-approve[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-direction:row-reverse;width:50%;justify-content:start}.fields-aprrove[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-bottom:24px;flex-wrap:wrap}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.fields-aprrove[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}"]})}return l})();var Jl=f(8032),Ie=f(9397),Fe=f(7398);let Ul=(()=>{class l extends b.P{constructor(t){super(t)}getEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateEmployeeImage(t){return this.http.post(`${this.baseurl}/Employee/UpdatEmployeeImage`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var z=f(1230),Sl=f(3904);const kl=["dt"],El=["manageItems"];function Ol(l,r){1&l&&(e._uU(0),e.ALo(1,"translate")),2&l&&e.hij(" ",e.lcZ(1,1,r.$implicit.name)," ")}function Ql(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select Action")," ")}}function Rl(l,r){1&l&&(e.TgZ(0,"div",90)(1,"div",11),e._UZ(2,"router-outlet"),e.qZA()())}function jl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",92),e._UZ(2,"img",93),e.qZA(),e.TgZ(3,"button",94),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showUploadImgDialg())}),e.qZA(),e.TgZ(4,"button",95),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDeleteImage(n))}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Q6J("src",t.imageUrl,e.LSH)}}function Hl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",96),e.O4$(),e.TgZ(2,"svg",97),e._UZ(3,"path",98)(4,"circle",99),e.qZA()(),e.kcU(),e.TgZ(5,"button",100),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showUploadImgDialg())}),e.qZA()()}}function Gl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",101)(1,"p-fileUpload",102),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelect(n))}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("chooseLabel",e.lcZ(2,1,"Choose Image")))}function Kl(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",103),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",104),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateImage())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const Vl=()=>({width:"450px"});let Bl=(()=>{class l{constructor(t,o,n,i,a,p,c,_){this.employeeEditService=t,this.messageService=o,this.DatePipe=n,this.router=i,this.route=a,this.activatedRoute=p,this.translate=c,this.confirmationService=_,this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedStaticShift=!1,this.selectedStaticVacation=!1,this.selectedDepartment=null,this.selectedBloodType=null,this.selectedAttendanceConfiguration=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.baseImgUrl=ge.N.mediaUrl,this.editForm=new s.cw({Id:new s.NI({value:this.currentId,disabled:!0}),BirthDate:new s.NI,BloodTypes:new s.NI,DepartmentId:new s.NI,Gender:new s.NI,GovernmentId:new s.NI,HirDate:new s.NI,JobId:new s.NI,JoininDate:new s.NI,MaritalStatus:new s.NI,PartationId:new s.NI,QualificationId:new s.NI,ShiftId:new s.NI,ResignationDate:new s.NI,Ismanger:new s.NI,IsInsured:new s.NI,Religion:new s.NI,BankId:new s.NI,GradeId:new s.NI,JobNatureId:new s.NI,RecuritmentSourceId:new s.NI,ContractTypeId:new s.NI,Address:new s.NI,Discription:new s.NI,Email:new s.NI,EnglishName:new s.NI,NameAr:new s.NI,MachineCode:new s.NI,NationalId:new s.NI,Phone:new s.NI,StaticShift:new s.NI,StaticVacation:new s.NI,AttendanceConfigurationId:new s.NI}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="Employee",q.O.getMainLangChanges().subscribe(o=>{console.log("Main language changed to:",o),this.translate.use(o),this.employeeEditService.setCulture(o),this.Actions=[{id:1,name:"Employee Certificates",action:"EmployeeCertification"},{id:2,name:this.translate.instant("Employee Course"),action:"EmployeeCourse"},{id:3,name:this.translate.instant("Employee Covenent"),action:"EmployeeCovenant"},{id:4,name:this.translate.instant("Employee Experience"),action:"EmployeeExperience"},{id:5,name:this.translate.instant("Employee Family"),action:"EmployeeFamily"},{id:6,name:this.translate.instant("Employee File"),action:"EmployeeFile"},{id:7,name:this.translate.instant("Employee Location"),action:"EmployeeLocation"},{id:8,name:this.translate.instant("Employee Manager"),action:"EmployeeManager"},{id:9,name:this.translate.instant("Employee Salary"),action:"EmployeeSalary"},{id:10,name:this.translate.instant("Employee Uniform"),action:"EmployeeUniform"},{id:11,name:this.translate.instant("Employee Vacation Stock"),action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"}],this.employeeEditService.setEndPoint(this.endPoint),this.getDropDownsData()}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDownsData(),this.getData().pipe((0,Ie.b)(o=>{this.allData=o.data,this.patchFormValues(this.allData,t),console.log("Data fetched:",this.allData)}),(0,Fe.U)(o=>({birthDate:this.DatePipe.transform(o.data.birthDate,"MM/dd/yyyy"),joinInDate:this.DatePipe.transform(o.data.joininDate,"MM/dd/yyyy"),hiringData:this.DatePipe.transform(o.data.hirDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(o.data.resignationDate,"MM/dd/yyyy")}))).subscribe(o=>{console.log("transformedDates"),console.log(o),this.patchFormValues(this.allData,o)});const t={birthDate:this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),joinInDate:this.DatePipe.transform(this.allData.joininDate,"MM/dd/yyyy"),hiringData:this.DatePipe.transform(this.allData.hirDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy")};this.patchFormValues(this.allData,t),this.Actions=[{id:1,name:"Employee Certificates",action:"EmployeeCertification"},{id:2,name:"Employee Course",action:"EmployeeCourse"},{id:3,name:"Employee Covenent",action:"EmployeeCovenant"},{id:4,name:"Employee Experience",action:"EmployeeExperience"},{id:5,name:"Employee Family",action:"EmployeeFamily"},{id:6,name:"Employee File",action:"EmployeeFile"},{id:7,name:"Employee Location",action:"EmployeeLocation"},{id:8,name:"Employee Manager",action:"EmployeeManager"},{id:9,name:"Employee Salary",action:"EmployeeSalary"},{id:10,name:"Employee Uniform",action:"EmployeeUniform"},{id:11,name:"Employee Vacation Stock",action:"EmployeeVacationStock"},{id:12,name:this.translate.instant("Employee Weekend"),action:"EmployeeWeekend"},{id:13,name:this.translate.instant("Employee Shift"),action:"EmployeeShift"}],console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),t.imageUrl&&(this.imageUrl=`${this.baseImgUrl}/${t.imageUrl}`),this.selectedReligin=this.getObject(t.religion,this.dropdownItemsReligin),console.log("this.selectedReligin : ",this.selectedReligin),this.selectedGovernment=this.getObject(t.governmentId,this.dropdownItemsGovernment),console.log("this.selectedGovernment : ",this.selectedGovernment),this.selectedMaritalStatus=this.getObject(t.maritalStatus,this.dropdownItemsMaritalStatus),console.log("this.selectedMaritalStatus : ",this.selectedMaritalStatus),this.selectedBloodType=this.getObject(t.bloodTypes,this.dropdownItemsBloodTypes),console.log("this.selectedBloodType : ",this.selectedBloodType),this.selectedGender=this.getObject(t.gender,this.dropdownItemsGender),console.log("this.selectedGender : ",this.selectedGender),this.selectedQualification=this.getObject(t.qualificationId,this.dropdownItemsQualification),console.log("this.selectedQualification : ",this.selectedQualification),this.selectedAttendanceConfiguration=this.getObject(t.attendanceConfigurationId,this.dropdownItemsAttendanceConfiguration),console.log("this.selectedAttendanceConfiguration : ",this.selectedAttendanceConfiguration),this.selectedJob=this.getObject(t.jobId,this.dropdownItemsJob),console.log("this.selectedJob : ",this.selectedJob),this.selectedDepartment=this.getObject(t.departmentId,this.dropdownItemsDepartment),console.log("this.selectedDepartment : ",this.selectedDepartment),this.selectedPartitions=this.getObject(t.partationId,this.dropdownItemsPartition),console.log("this.selectedPartitions : ",this.selectedPartitions),this.selectedShift=this.getObject(t.shiftId,this.dropdownItemsShift),console.log("this.selectedShift : ",this.selectedShift),this.selectedBank=this.getObject(t.bankId,this.dropdownItemsBank),console.log("this.selectedBank : ",this.selectedBank),this.selectedGrade=this.getObject(t.gradeId,this.dropdownItemsGrade),console.log("this.selectedGrade : ",this.selectedGrade),this.selectedjobNature=this.getObject(t.jobNatureId,this.dropdownItemsJobNature),console.log("this.selectedjobNature : ",this.selectedjobNature),this.selectedIsInsured=t.isInsured,this.selectedIsManager=t.ismanger,this.selectedStaticShift=t.staticShift,this.selectedStaticVacation=t.staticVacation,this.selectedRecuritmentSource=this.getObject(t.recuritmentSourceId,this.dropdownItemsRecuritmentSource),console.log("this.selectedRecuritmentSource : ",this.selectedRecuritmentSource),this.selectedContactType=this.getObject(t.contractTypeId,this.dropdownItemsContractType),console.log("this.selectedContactType : ",this.selectedContactType),this.birthDate=o.birthDate,this.joinInDate=o.joinInDate,this.hiringData=o.hiringData,this.resignationDate=o.resignationDate,this.address=t.address,this.nameAr=t.nameAr,this.englishName=t.englishName,this.discription=t.discription,this.nationalId=t.nationalId,this.phone=t.phone,this.machineCode=t.machineCode,this.email=t.email,this.getData().subscribe({next:n=>{this.allData=n.data,this.patchFormValues(this.allData)}})}getDropDownEnum(t){this.employeeEditService.getEnum(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getDropDownField(t){this.employeeEditService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}submitForm(t){t.patchValue({BloodTypes:this.selectedBloodType?.id,GovernmentId:this.selectedGovernment?.id,QualificationId:this.selectedQualification?.id,AttendanceConfigurationId:this.selectedAttendanceConfiguration?.id,Gender:this.selectedGender?.id,MaritalStatus:this.selectedMaritalStatus?.id,JobId:this.selectedJob?.id,JobNatureId:this.selectedjobNature?.id,DepartmentId:this.selectedDepartment?.id,PartationId:this.selectedPartitions?.id,ShiftId:this.selectedShift?.id,BankId:this.selectedBank?.id,GradeId:this.selectedGrade?.id,ContractTypeId:this.selectedContactType?.id,RecuritmentSourceId:this.selectedRecuritmentSource?.id,Religion:this.selectedReligin?.id,JoininDate:this.DatePipe.transform(this.editForm.get("JoininDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(this.editForm.get("BirthDate").value,"yyyy-MM-dd"),HirDate:this.DatePipe.transform(this.editForm.get("HirDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(this.editForm.get("ResignationDate").value,"yyyy-MM-dd")}),this.editForm.get("Id").enable(),console.log(t.value);let o=new FormData,n=t.value;for(const i in n)n.hasOwnProperty(i)&&o.append(i,n[i]);this.employeeEditService.Edit(o).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(i),this.editForm.get("Id").disable(),this.birthDate=this.DatePipe.transform(this.editForm.get("BirthDate").value,"MM/dd/yyyy"),this.selectedReligin=this.getObject(this.editForm.get("Religion").value,this.dropdownItemsReligin),this.selectedGovernment=this.getObject(this.editForm.get("GovernmentId").value,this.dropdownItemsGovernment),this.selectedMaritalStatus=this.getObject(this.editForm.get("MaritalStatus").value,this.dropdownItemsMaritalStatus),this.selectedBloodType=this.getObject(this.editForm.get("BloodTypes").value,this.dropdownItemsBloodTypes),this.selectedGender=this.getObject(this.editForm.get("Gender").value,this.dropdownItemsGender),this.selectedQualification=this.getObject(this.editForm.get("QualificationId").value,this.dropdownItemsQualification),this.selectedJob=this.getObject(this.editForm.get("JobId").value,this.dropdownItemsJob),this.selectedDepartment=this.getObject(this.editForm.get("DepartmentId").value,this.dropdownItemsDepartment),this.selectedPartitions=this.getObject(this.editForm.get("PartationId").value,this.dropdownItemsPartition),this.selectedShift=this.getObject(this.editForm.get("ShiftId").value,this.dropdownItemsShift),this.selectedBank=this.getObject(this.editForm.get("BankId").value,this.dropdownItemsBank),this.selectedGrade=this.getObject(this.editForm.get("GradeId").value,this.dropdownItemsGrade),this.selectedjobNature=this.getObject(this.editForm.get("JobNatureId").value,this.dropdownItemsJobNature),this.selectedAttendanceConfiguration=this.getObject(this.editForm.get("AttendanceConfigurationId").value,this.dropdownItemsAttendanceConfiguration),this.selectedIsInsured=this.selectedIsInsured,this.selectedIsManager=this.selectedIsManager,this.selectedStaticShift=this.selectedStaticShift,this.selectedStaticVacation=this.selectedStaticVacation,this.selectedRecuritmentSource=this.getObject(this.editForm.get("RecuritmentSourceId").value,this.dropdownItemsRecuritmentSource),this.selectedContactType=this.getObject(this.editForm.get("ContractTypeId").value,this.dropdownItemsContractType),this.joinInDate=this.DatePipe.transform(this.editForm.get("JoininDate").value,"MM/dd/yyyy"),this.hiringData=this.DatePipe.transform(this.editForm.get("HirDate").value,"MM/dd/yyyy"),this.resignationDate=this.DatePipe.transform(this.editForm.get("ResignationDate").value,"MM/dd/yyyy"),this.address=this.address,this.nameAr=this.nameAr,this.englishName=this.englishName,this.discription=this.discription,this.nationalId=this.nationalId,this.phone=this.phone,this.machineCode=this.machineCode,this.email=this.email},error:i=>{this.editForm.get("Id").disable(),console.log(i)}}),console.log(t.value)}onGovernmentChange(t){console.log(t)}getData(){return this.employeeEditService.GetById(this.currentId).subscribe({next:t=>{this.allData=t.data,this.patchFormValues(this.allData)}}),this.employeeEditService.GetById(this.currentId)}getDropDownsData(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),console.log("dropdownItemsGrade : ",this.dropdownItemsGrade),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"})}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}updateImage(){let t={EmployeeId:this.currentId,File:this.file,DeleteImage:!!this.file},o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);this.employeeEditService.updateEmployeeImage(o).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successfull",detail:"Image Updated Sucessfully"}),this.uploadImageDialog=!1,this.file=null,this.getData().pipe((0,Ie.b)(i=>{this.allData=i.data,console.log("Data fetched:",this.allData),this.patchFormValues(this.allData)}),(0,Fe.U)(i=>({birthDate:this.DatePipe.transform(i.data.birthDate,"MM/dd/yyyy"),joinInDate:this.DatePipe.transform(i.data.joininDate,"MM/dd/yyyy"),hiringData:this.DatePipe.transform(i.data.hirDate,"MM/dd/yyyy"),resignationDate:this.DatePipe.transform(i.data.resignationDate,"MM/dd/yyyy")}))).subscribe(i=>{console.log("transformedDates"),console.log(i),this.patchFormValues(this.allData,i)})},error:n=>{console.log(n)}})}confirmDeleteImage(t){this.confirmationService.confirm({target:t.target,message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{let o={EmployeeId:this.currentId,DeleteImage:!0},n=new FormData;for(const i in o)o.hasOwnProperty(i)&&n.append(i,o[i]);this.employeeEditService.updateEmployeeImage(n).subscribe({next:i=>{console.log(i),this.uploadImageDialog=!1,this.imageUrl=""},error:i=>{console.log(i)}})}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Ul),e.Y36(u.ez),e.Y36(m.uU),e.Y36(D.F0),e.Y36(D.gz),e.Y36(D.gz),e.Y36(g.sK),e.Y36(u.YP))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee-edit"]],viewQuery:function(o,n){if(1&o&&(e.Gf(kl,5),e.Gf(El,5)),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first),e.iGM(i=e.CRH())&&(n.manageItems=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU,g.sK,u.YP]),e.jDz],decls:194,vars:178,consts:[[1,"grid"],[1,"col-12","my-5"],[1,"card","grid","justify-content-center"],[1,"col-12","text-center"],[1,"field","col-12"],["optionLabel","name",3,"options","ngModel","showClear","onChange","ngModelChange"],["pTemplate","item"],["pTemplate","selectedItem"],["class","card my-2",4,"ngIf"],[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],["class","field field-img col-12",4,"ngIf"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","Id",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","NameAr",3,"ngModel","ngModelChange"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","EnglishName",3,"ngModel","ngModelChange"],["htmlFor","nationalId"],["pInputText","","id","nationalId","formControlName","NationalId",3,"ngModel","ngModelChange"],["htmlFor","phone"],["pInputText","","id","phone","formControlName","Phone",3,"ngModel","ngModelChange"],["htmlFor","email"],["pInputText","","id","email","formControlName","Email",3,"ngModel","ngModelChange"],["htmlFor","address"],["pInputText","","id","address","formControlName","Address",3,"ngModel","ngModelChange"],["htmlFor","government"],["optionLabel","name","formControlName","GovernmentId",3,"options","ngModel","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","BirthDate"],["inputId","BirthDate","formControlName","BirthDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","Religin"],["formControlName","Religion","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","maritalStatus"],["formControlName","MaritalStatus","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Blood"],["formControlName","BloodTypes","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","gender"],["formControlName","Gender","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Qualification"],["formControlName","QualificationId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Attendance Configuration"],["formControlName","AttendanceConfigurationId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Job"],["formControlName","JobId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","department"],["formControlName","DepartmentId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Partition"],["formControlName","PartationId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Shift"],["formControlName","ShiftId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Bank"],["formControlName","BankId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","Grade"],["formControlName","GradeId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","jobNature"],["formControlName","JobNatureId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","machineCode"],["pInputText","","id","machineCode","formControlName","MachineCode",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-3","flex","gap-3","align-items-center"],["formControlName","IsInsured",3,"ngModel","ngModelChange"],["htmlFor","isInsured"],["formControlName","Ismanger",3,"ngModel","ngModelChange"],["htmlFor","ismanger"],["formControlName","StaticShift",3,"ngModel","ngModelChange"],["htmlFor","StaticShift"],["formControlName","StaticVacation",3,"ngModel","ngModelChange"],["htmlFor","StaticVacation"],["htmlFor","recuritmentSource"],["formControlName","RecuritmentSourceId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","ContractType"],["formControlName","ContractTypeId","optionLabel","name",3,"options","ngModel","ngModelChange"],["htmlFor","JoininDate"],["inputId","JoininDate","formControlName","JoininDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","HirDate"],["inputId","HirDate","formControlName","HirDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","ResignationDate"],["inputId","ResignationDate","formControlName","ResignationDate",3,"showIcon","iconDisplay","ngModel","ngModelChange"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[1,"card","my-2"],[1,"field","field-img","col-12"],[1,"img-container"],["alt","Employee Image",3,"src"],["pButton","","pRipple","","type","button","title","edit image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],["pButton","","pRipple","","type","button","title","delete image","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","p-button-outlined","btn-edit",3,"click"],[1,"img-container-no-image"],["width","80","height","80","viewBox","0 0 56 56","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M47.1732 45.0045C47.7628 44.8816 48.113 44.2678 47.8707 43.7164C46.5356 40.679 44.0748 38.0063 40.7839 36.0422C37.1164 33.8534 32.6227 32.667 27.9999 32.667C23.3771 32.667 18.8834 33.8534 15.2159 36.0422C11.925 38.0063 9.46423 40.679 8.12912 43.7164C7.88677 44.2678 8.23698 44.8816 8.8266 45.0045L19.839 47.2996C25.2218 48.4214 30.778 48.4214 36.1608 47.2996L47.1732 45.0045Z","fill","#C4C4C5"],["cx","28","cy","18.6667","r","11.6667","fill","#C4C4C5"],["pButton","","pRipple","","type","button","title","Add an image","icon","pi pi-pencil",1,"p-button-rounded","p-button-secondary","p-button-outlined","btn-edit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-image","name","demo[]","accept","image/*","maxFileSize","1000000",1,"p-button-info","p-button-text",3,"chooseLabel","onSelect"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast")(1,"p-confirmDialog"),e.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"p"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",4)(10,"p-dropdown",5),e.NdJ("onChange",function(){return n.changeTab()})("ngModelChange",function(a){return n.selectedAction=a}),e.YNc(11,Ol,2,3,"ng-template",6)(12,Ql,3,5,"ng-template",7),e.qZA()()(),e.YNc(13,Rl,3,0,"div",8),e.qZA()(),e.TgZ(14,"p-panel",9),e.ALo(15,"translate"),e.TgZ(16,"form",10),e.NdJ("submit",function(){return n.submitForm(n.editForm)}),e.TgZ(17,"div",0)(18,"div",11)(19,"div",12)(20,"div",13),e.YNc(21,jl,5,1,"div",14)(22,Hl,6,0,"div",14),e.TgZ(23,"div",15)(24,"label",16),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",17),e.NdJ("ngModelChange",function(a){return n.currentId=a}),e.qZA()(),e.TgZ(28,"div",18)(29,"label",19),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"input",20),e.NdJ("ngModelChange",function(a){return n.nameAr=a}),e.qZA()(),e.TgZ(33,"div",18)(34,"label",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"input",22),e.NdJ("ngModelChange",function(a){return n.englishName=a}),e.qZA()(),e.TgZ(38,"div",18)(39,"label",23),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"input",24),e.NdJ("ngModelChange",function(a){return n.nationalId=a}),e.qZA()(),e.TgZ(43,"div",18)(44,"label",25),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"input",26),e.NdJ("ngModelChange",function(a){return n.phone=a}),e.qZA()(),e.TgZ(48,"div",18)(49,"label",27),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"input",28),e.NdJ("ngModelChange",function(a){return n.email=a}),e.qZA()(),e.TgZ(53,"div",18)(54,"label",29),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"input",30),e.NdJ("ngModelChange",function(a){return n.address=a}),e.qZA()(),e.TgZ(58,"div",18)(59,"label",31),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"p-dropdown",32),e.NdJ("ngModelChange",function(a){return n.selectedGovernment=a}),e.qZA()(),e.TgZ(63,"div",33)(64,"label",34),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"p-calendar",35),e.NdJ("ngModelChange",function(a){return n.birthDate=a}),e.qZA()(),e.TgZ(68,"div",33)(69,"label",36),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"p-dropdown",37),e.NdJ("ngModelChange",function(a){return n.selectedReligin=a}),e.qZA()(),e.TgZ(73,"div",33)(74,"label",38),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"p-dropdown",39),e.NdJ("ngModelChange",function(a){return n.selectedMaritalStatus=a}),e.qZA()(),e.TgZ(78,"div",33)(79,"label",40),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"p-dropdown",41),e.NdJ("ngModelChange",function(a){return n.selectedBloodType=a}),e.qZA()(),e.TgZ(83,"div",33)(84,"label",42),e._uU(85),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"p-dropdown",43),e.NdJ("ngModelChange",function(a){return n.selectedGender=a}),e.qZA()(),e.TgZ(88,"div",33)(89,"label",44),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"p-dropdown",45),e.NdJ("ngModelChange",function(a){return n.selectedQualification=a}),e.qZA()(),e.TgZ(93,"div",33)(94,"label",46),e._uU(95),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"p-dropdown",47),e.NdJ("ngModelChange",function(a){return n.selectedAttendanceConfiguration=a}),e.qZA()(),e.TgZ(98,"div",33)(99,"label",48),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"p-dropdown",49),e.NdJ("ngModelChange",function(a){return n.selectedJob=a}),e.qZA()(),e.TgZ(103,"div",33)(104,"label",50),e._uU(105),e.ALo(106,"translate"),e.qZA(),e.TgZ(107,"p-dropdown",51),e.NdJ("ngModelChange",function(a){return n.selectedDepartment=a}),e.qZA()(),e.TgZ(108,"div",33)(109,"label",52),e._uU(110),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"p-dropdown",53),e.NdJ("ngModelChange",function(a){return n.selectedPartitions=a}),e.qZA()(),e.TgZ(113,"div",33)(114,"label",54),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"p-dropdown",55),e.NdJ("ngModelChange",function(a){return n.selectedShift=a}),e.qZA()(),e.TgZ(118,"div",33)(119,"label",56),e._uU(120),e.ALo(121,"translate"),e.qZA(),e.TgZ(122,"p-dropdown",57),e.NdJ("ngModelChange",function(a){return n.selectedBank=a}),e.qZA()(),e.TgZ(123,"div",33)(124,"label",58),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"p-dropdown",59),e.NdJ("ngModelChange",function(a){return n.selectedGrade=a}),e.qZA()(),e.TgZ(128,"div",33)(129,"label",60),e._uU(130),e.ALo(131,"translate"),e.qZA(),e.TgZ(132,"p-dropdown",61),e.NdJ("ngModelChange",function(a){return n.selectedjobNature=a}),e.qZA()(),e.TgZ(133,"div",18)(134,"label",62),e._uU(135),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"input",63),e.NdJ("ngModelChange",function(a){return n.machineCode=a}),e.qZA()(),e.TgZ(138,"div",64)(139,"p-inputSwitch",65),e.NdJ("ngModelChange",function(a){return n.selectedIsInsured=a}),e.qZA(),e.TgZ(140,"label",66),e._uU(141),e.ALo(142,"translate"),e.qZA()(),e.TgZ(143,"div",64)(144,"p-inputSwitch",67),e.NdJ("ngModelChange",function(a){return n.selectedIsManager=a}),e.qZA(),e.TgZ(145,"label",68),e._uU(146),e.ALo(147,"translate"),e.qZA()(),e.TgZ(148,"div",64)(149,"p-inputSwitch",69),e.NdJ("ngModelChange",function(a){return n.selectedStaticShift=a}),e.qZA(),e.TgZ(150,"label",70),e._uU(151),e.ALo(152,"translate"),e.qZA()(),e.TgZ(153,"div",64)(154,"p-inputSwitch",71),e.NdJ("ngModelChange",function(a){return n.selectedStaticVacation=a}),e.qZA(),e.TgZ(155,"label",72),e._uU(156),e.ALo(157,"translate"),e.qZA()(),e.TgZ(158,"div",33)(159,"label",73),e._uU(160),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"p-dropdown",74),e.NdJ("ngModelChange",function(a){return n.selectedRecuritmentSource=a}),e.qZA()(),e.TgZ(163,"div",33)(164,"label",75),e._uU(165),e.ALo(166,"translate"),e.qZA(),e.TgZ(167,"p-dropdown",76),e.NdJ("ngModelChange",function(a){return n.selectedContactType=a}),e.qZA()(),e.TgZ(168,"div",33)(169,"label",77),e._uU(170),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"p-calendar",78),e.NdJ("ngModelChange",function(a){return n.joinInDate=a}),e.qZA()(),e.TgZ(173,"div",33)(174,"label",79),e._uU(175),e.ALo(176,"translate"),e.qZA(),e.TgZ(177,"p-calendar",80),e.NdJ("ngModelChange",function(a){return n.hiringData=a}),e.qZA()(),e.TgZ(178,"div",33)(179,"label",81),e._uU(180),e.ALo(181,"translate"),e.qZA(),e.TgZ(182,"p-calendar",82),e.NdJ("ngModelChange",function(a){return n.resignationDate=a}),e.qZA()(),e.TgZ(183,"div",83)(184,"div",84)(185,"button",85),e._UZ(186,"i",86),e.TgZ(187,"span"),e._uU(188),e.ALo(189,"translate"),e.qZA()()()()()()()()()(),e.TgZ(190,"p-dialog",87),e.NdJ("visibleChange",function(a){return n.uploadImageDialog=a}),e.ALo(191,"translate"),e.YNc(192,Gl,3,3,"ng-template",88)(193,Kl,4,6,"ng-template",89),e.qZA()),2&o&&(e.xp6(7),e.Oqu(e.lcZ(8,105,"Choose An Action From List")),e.xp6(3),e.Q6J("options",n.Actions)("ngModel",n.selectedAction)("showClear",!0),e.xp6(3),e.Q6J("ngIf",n.selectedAction),e.xp6(1),e.Q6J("header",e.lcZ(15,107,"Edit"))("toggleable",!0)("collapsed",!1),e.xp6(2),e.Q6J("formGroup",n.editForm),e.xp6(5),e.Q6J("ngIf",n.imageUrl),e.xp6(1),e.Q6J("ngIf",!n.imageUrl),e.xp6(3),e.Oqu(e.lcZ(26,109,"Id")),e.xp6(2),e.Q6J("ngModel",n.currentId),e.xp6(3),e.Oqu(e.lcZ(31,111,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",n.nameAr),e.xp6(3),e.Oqu(e.lcZ(36,113,"English Name")),e.xp6(2),e.Q6J("ngModel",n.englishName),e.xp6(3),e.Oqu(e.lcZ(41,115,"National Id")),e.xp6(2),e.Q6J("ngModel",n.nationalId),e.xp6(3),e.Oqu(e.lcZ(46,117,"Phone")),e.xp6(2),e.Q6J("ngModel",n.phone),e.xp6(3),e.Oqu(e.lcZ(51,119,"Email")),e.xp6(2),e.Q6J("ngModel",n.email),e.xp6(3),e.Oqu(e.lcZ(56,121,"Address")),e.xp6(2),e.Q6J("ngModel",n.address),e.xp6(3),e.Oqu(e.lcZ(61,123,"Government")),e.xp6(2),e.Q6J("options",n.dropdownItemsGovernment)("ngModel",n.selectedGovernment),e.xp6(3),e.hij(" ",e.lcZ(66,125,"BirthDate"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",n.birthDate),e.xp6(3),e.Oqu(e.lcZ(71,127,"Religin")),e.xp6(2),e.Q6J("options",n.dropdownItemsReligin)("ngModel",n.selectedReligin),e.xp6(3),e.Oqu(e.lcZ(76,129,"Martial Status")),e.xp6(2),e.Q6J("options",n.dropdownItemsMaritalStatus)("ngModel",n.selectedMaritalStatus),e.xp6(3),e.Oqu(e.lcZ(81,131,"Blood Types")),e.xp6(2),e.Q6J("options",n.dropdownItemsBloodTypes)("ngModel",n.selectedBloodType),e.xp6(3),e.Oqu(e.lcZ(86,133,"Gender Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsGender)("ngModel",n.selectedGender),e.xp6(3),e.Oqu(e.lcZ(91,135,"Qualification")),e.xp6(2),e.Q6J("options",n.dropdownItemsQualification)("ngModel",n.selectedQualification),e.xp6(3),e.Oqu(e.lcZ(96,137,"Attendance Configuration")),e.xp6(2),e.Q6J("options",n.dropdownItemsAttendanceConfiguration)("ngModel",n.selectedAttendanceConfiguration),e.xp6(3),e.Oqu(e.lcZ(101,139,"Job")),e.xp6(2),e.Q6J("options",n.dropdownItemsJob)("ngModel",n.selectedJob),e.xp6(3),e.Oqu(e.lcZ(106,141,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment),e.xp6(3),e.Oqu(e.lcZ(111,143,"Partition")),e.xp6(2),e.Q6J("options",n.dropdownItemsPartition)("ngModel",n.selectedPartitions),e.xp6(3),e.Oqu(e.lcZ(116,145,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("ngModel",n.selectedShift),e.xp6(3),e.Oqu(e.lcZ(121,147,"Bank")),e.xp6(2),e.Q6J("options",n.dropdownItemsBank)("ngModel",n.selectedBank),e.xp6(3),e.Oqu(e.lcZ(126,149,"Grade")),e.xp6(2),e.Q6J("options",n.dropdownItemsGrade)("ngModel",n.selectedGrade),e.xp6(3),e.Oqu(e.lcZ(131,151,"job Nature")),e.xp6(2),e.Q6J("options",n.dropdownItemsJobNature)("ngModel",n.selectedjobNature),e.xp6(3),e.Oqu(e.lcZ(136,153,"Machine Code")),e.xp6(2),e.Q6J("ngModel",n.machineCode),e.xp6(2),e.Q6J("ngModel",n.selectedIsInsured),e.xp6(2),e.Oqu(e.lcZ(142,155,"Is Insured")),e.xp6(3),e.Q6J("ngModel",n.selectedIsManager),e.xp6(2),e.hij("",e.lcZ(147,157,"Is Manager")," "),e.xp6(3),e.Q6J("ngModel",n.selectedStaticShift),e.xp6(2),e.hij("",e.lcZ(152,159,"Is Static Shift")," "),e.xp6(3),e.Q6J("ngModel",n.selectedStaticVacation),e.xp6(2),e.hij("",e.lcZ(157,161,"Is Static Vacation")," "),e.xp6(4),e.Oqu(e.lcZ(161,163,"Recuritment Source")),e.xp6(2),e.Q6J("options",n.dropdownItemsRecuritmentSource)("ngModel",n.selectedRecuritmentSource),e.xp6(3),e.Oqu(e.lcZ(166,165,"Contract Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsContractType)("ngModel",n.selectedContactType),e.xp6(3),e.Oqu(e.lcZ(171,167,"Join In Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",n.joinInDate),e.xp6(3),e.Oqu(e.lcZ(176,169,"Contract Start Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",n.hiringData),e.xp6(3),e.Oqu(e.lcZ(181,171,"Contract End Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",n.resignationDate),e.xp6(6),e.hij(" ",e.lcZ(189,173,"Save")," "),e.xp6(2),e.Akn(e.DdM(177,Vl)),e.Q6J("visible",n.uploadImageDialog)("header",e.lcZ(191,175,"Update Profile Image"))("modal",!0))},dependencies:[Z.l,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,g.X$,C.g,u.jx,w.H,oe.p,x.Hq,N.V,T.FN,y.o,I.Lt,z.s,L.f,D.lC,W.Ql,Sl.Q],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end;margin-top:48px}.btn-filter-submit-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btn-submit[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:8px 24px}.field-id[_ngcontent-%COMP%]{opacity:.75}.btn-edit[_ngcontent-%COMP%]{gap:0!important}li[_ngcontent-%COMP%]{list-style:none}.field-img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:15px;overflow:hidden}.img-container[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center}.img-container-no-image[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;background:#eee;border:1px solid #c4c4c5}img[_ngcontent-%COMP%]{max-width:100%}  .p-dropdown{width:100%}"]})}return l})(),Yl=(()=>{class l extends b.P{constructor(t){super(t)}getEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function zl(l,r){if(1&l&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," - ",t.size," bytes ")}}function $l(l,r){if(1&l&&(e.TgZ(0,"ul"),e.YNc(1,zl,2,2,"li",82),e.qZA()),2&l){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.uploadedFiles)}}function Xl(l,r){if(1&l&&e.YNc(0,$l,2,1,"ul",81),2&l){const t=e.oxw();e.Q6J("ngIf",t.uploadedFiles.length)}}let Wl=(()=>{class l{constructor(t,o,n){this._EmployeeService=t,this.messageService=o,this.DatePipe=n,this.uploadedFiles=[]}ngOnInit(){this.endPoint="Employee",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._EmployeeService.setCulture(t),this._EmployeeService.setEndPoint(this.endPoint),this.getAllDropDowns()}),this.initFormGroups()}initFormGroups(){this.registerForm=new s.cw({File:new s.NI(null),NameAr:new s.NI(null,s.kI.required),EnglishName:new s.NI(null,s.kI.required),Address:new s.NI(null,s.kI.required),Email:new s.NI(null,s.kI.required),NationalId:new s.NI(null,s.kI.required),Phone:new s.NI(null,s.kI.required),MachineCode:new s.NI(null,s.kI.required),Discription:new s.NI(null,s.kI.required),BloodTypes:new s.NI(null,s.kI.required),GovernmentId:new s.NI(null,s.kI.required),QualificationId:new s.NI(null,s.kI.required),AttendanceConfigurationId:new s.NI(null,s.kI.required),Gender:new s.NI(null,s.kI.required),MaritalStatus:new s.NI(null,s.kI.required),JobId:new s.NI(null,s.kI.required),JobNatureId:new s.NI(null,s.kI.required),DepartmentId:new s.NI(null,s.kI.required),PartationId:new s.NI(null,s.kI.required),ShiftId:new s.NI(null,s.kI.required),BankId:new s.NI(null,s.kI.required),GradeId:new s.NI(null,s.kI.required),ContractTypeId:new s.NI(null,s.kI.required),RecuritmentSourceId:new s.NI(null,s.kI.required),Religion:new s.NI(null,s.kI.required),JoininDate:new s.NI(null,s.kI.required),BirthDate:new s.NI(null,s.kI.required),HirDate:new s.NI(null,s.kI.required),ResignationDate:new s.NI(null,s.kI.required),Ismanger:new s.NI(!1,s.kI.required),StaticShift:new s.NI(!1,s.kI.required),StaticVacation:new s.NI(!1,s.kI.required),IsInsured:new s.NI(!1,s.kI.required),DeleteImage:new s.NI(!1)})}getAllDropDowns(){this.getDropDownEnum({field:"dropdownItemsBloodTypes",enum:"getBloodTypes"}),this.getDropDownEnum({field:"dropdownItemsGender",enum:"getGender"}),this.getDropDownEnum({field:"dropdownItemsMaritalStatus",enum:"getMaritalStatus"}),this.getDropDownEnum({field:"dropdownItemsReligin",enum:"getReligion"}),this.getDropDownField({field:"dropdownItemsGovernment",enum:"Government"}),this.getDropDownField({field:"dropdownItemsQualification",enum:"Qualification"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsPartition",enum:"Partation"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsBank",enum:"Bank"}),this.getDropDownField({field:"dropdownItemsGrade",enum:"Grade"}),this.getDropDownField({field:"dropdownItemsJobNature",enum:"JobNature"}),this.getDropDownField({field:"dropdownItemsRecuritmentSource",enum:"RecuritmentSource"}),this.getDropDownField({field:"dropdownItemsContractType",enum:"ContractType"}),this.getDropDownField({field:"dropdownItemsAttendanceConfiguration",enum:"AttendanceConfiguration"})}getDropDownEnum(t){this._EmployeeService.getEnum(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}getDropDownField(t){this._EmployeeService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{}})}onSelect(t){console.log("event file"),this.registerForm.patchValue({File:t.currentFiles[0]}),this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}onUpload(t){for(let o of t?.files)this.uploadedFiles.push(o);this.messageService.add({severity:"info",summary:"File Uploaded",detail:""})}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]??"");return o}resetFields(){this.registerForm.reset()}registerSubmit(t){if(t.valid){const o={...t.value,File:t.get("File").value,DeleteImage:!!t.get("File").value,JoininDate:this.DatePipe.transform(t.get("JoininDate").value,"yyyy-MM-dd"),BirthDate:this.DatePipe.transform(t.get("BirthDate").value,"yyyy-MM-dd"),HirDate:this.DatePipe.transform(t.get("HirDate").value,"yyyy-MM-dd"),ResignationDate:this.DatePipe.transform(t.get("ResignationDate").value,"yyyy-MM-dd")},n=this.mapToFormData(o);this._EmployeeService.Register(n).subscribe({next:i=>{console.log(i),i.success&&(this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3}),this.resetFields())},error:i=>{console.error(i)}})}}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Yl),e.Y36(u.ez),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-employee"]],standalone:!0,features:[e._Bn([u.ez,m.uU,g.sK]),e.jDz],decls:207,vars:216,consts:[[3,"formGroup"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","File","accept","image/*","maxFileSize","1000000",3,"multiple","chooseLabel","onSelect","onUpload"],["pTemplate","content"],[1,"field","col-12","md:col-4"],["for","NameAr"],["pInputText","","formControlName","NameAr","id","NameAr",3,"placeholder"],["for","EnglishName"],["pInputText","","formControlName","EnglishName","id","EnglishName","type","text",3,"placeholder"],["for","NationalId"],["pInputText","","formControlName","NationalId","id","NationalId","type","text",3,"placeholder"],[1,"field","col-12","md:col-8"],["for","Address"],["pInputTextarea","","formControlName","Address","id","Address","rows","4",3,"placeholder"],["for","GovernmentId"],["formControlName","GovernmentId","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"field","col-12","md:col-3"],["for","Phone"],["pInputText","","formControlName","Phone","id","Phone","rows","4",3,"placeholder"],["for","Email"],["pInputText","","formControlName","Email","id","Email","rows","4",3,"placeholder"],["for","BirthDate"],["formControlName","BirthDate","inputId","BirthDate",3,"showIcon","iconDisplay","placeholder"],["for","Religion"],["formControlName","Religion","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","MaritalStatus"],["formControlName","MaritalStatus","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","BloodTypes"],["formControlName","BloodTypes","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Gender"],["formControlName","Gender","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Qualification"],["formControlName","QualificationId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","AttendanceConfiguration"],["formControlName","AttendanceConfigurationId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Job"],["formControlName","JobId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","DepartmentId"],["formControlName","DepartmentId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","PartationId"],["formControlName","PartationId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Shift"],["formControlName","ShiftId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Bank"],["formControlName","BankId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","Grade"],["formControlName","GradeId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","JobNatureId"],["formControlName","JobNatureId","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"field","col-12","md:col-3","flex","gap-3","align-items-center"],["formControlName","IsInsured"],["for","IsInsured"],["formControlName","Ismanger"],["for","Ismanger"],["formControlName","StaticShift"],["for","IsStaticShift"],["formControlName","StaticVacation"],["for","IsStaticVacation"],["for","MachineCode"],["formControlName","MachineCode","pInputText","","id","MachineCode","type","text",3,"placeholder"],["for","RecuritmentSourceId"],["formControlName","RecuritmentSourceId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","ContractTypeId"],["formControlName","ContractTypeId","optionLabel","name","optionValue","id",3,"options","placeholder"],["for","JoininDate"],["formControlName","JoininDate","inputId","JoininDate",3,"iconDisplay","showIcon","placeholder"],["for","HirDate"],["formControlName","HirDate","inputId","HirDate",3,"iconDisplay","showIcon","placeholder"],["for","ResignationDate"],["formControlName","ResignationDate","inputId","ResignationDate",3,"iconDisplay","showIcon","placeholder"],[1,"field","col-12","md:col-6"],["for","Discription"],["formControlName","Discription","pInputTextarea","","id","Discription","rows","4",3,"placeholder"],[1,"field"],["type","hidden","formControlName","DeleteImage"],[1,"field","col-12","md:col-2","py-5"],["type","submit","pButton","","value","Register",1,"flex","justify-content-center",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"form",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h5"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",4)(9,"div",5)(10,"p-fileUpload",6),e.NdJ("onSelect",function(a){return n.onSelect(a)})("onUpload",function(a){return n.onUpload(a)}),e.ALo(11,"translate"),e.YNc(12,Xl,1,1,"ng-template",7),e.qZA()(),e.TgZ(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",10),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",12),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",8)(26,"label",13),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",14),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",15)(32,"label",16),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",17),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",8)(38,"label",18),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"p-dropdown",19),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",20)(44,"label",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e._UZ(47,"input",22),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",20)(50,"label",23),e._uU(51),e.ALo(52,"translate"),e.qZA(),e._UZ(53,"input",24),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",20)(56,"label",25),e._uU(57),e.ALo(58,"translate"),e.qZA(),e._UZ(59,"p-calendar",26),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"div",20)(62,"label",27),e._uU(63),e.ALo(64,"translate"),e.qZA(),e._UZ(65,"p-dropdown",28),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",20)(68,"label",29),e._uU(69),e.ALo(70,"translate"),e.qZA(),e._UZ(71,"p-dropdown",30),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"div",20)(74,"label",31),e._uU(75),e.ALo(76,"translate"),e.qZA(),e._UZ(77,"p-dropdown",32),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"div",20)(80,"label",33),e._uU(81),e.ALo(82,"translate"),e.qZA(),e._UZ(83,"p-dropdown",34),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"div",20)(86,"label",35),e._uU(87),e.ALo(88,"translate"),e.qZA(),e._UZ(89,"p-dropdown",36),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",20)(92,"label",37),e._uU(93),e.ALo(94,"translate"),e.qZA(),e._UZ(95,"p-dropdown",38),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"div",20)(98,"label",39),e._uU(99),e.ALo(100,"translate"),e.qZA(),e._UZ(101,"p-dropdown",40),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"div",20)(104,"label",41),e._uU(105),e.ALo(106,"translate"),e.qZA(),e._UZ(107,"p-dropdown",42),e.ALo(108,"translate"),e.qZA(),e.TgZ(109,"div",20)(110,"label",43),e._uU(111),e.ALo(112,"translate"),e.qZA(),e._UZ(113,"p-dropdown",44),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",20)(116,"label",45),e._uU(117),e.ALo(118,"translate"),e.qZA(),e._UZ(119,"p-dropdown",46),e.ALo(120,"translate"),e.qZA(),e.TgZ(121,"div",20)(122,"label",47),e._uU(123),e.ALo(124,"translate"),e.qZA(),e._UZ(125,"p-dropdown",48),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"div",20)(128,"label",49),e._uU(129),e.ALo(130,"translate"),e.qZA(),e._UZ(131,"p-dropdown",50),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"div",20)(134,"label",51),e._uU(135),e.ALo(136,"translate"),e.qZA(),e._UZ(137,"p-dropdown",52),e.ALo(138,"translate"),e.qZA(),e.TgZ(139,"div",53),e._UZ(140,"p-inputSwitch",54),e.TgZ(141,"label",55),e._uU(142),e.ALo(143,"translate"),e.qZA()(),e.TgZ(144,"div",53),e._UZ(145,"p-inputSwitch",56),e.TgZ(146,"label",57),e._uU(147),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",53),e._UZ(150,"p-inputSwitch",58),e.TgZ(151,"label",59),e._uU(152),e.ALo(153,"translate"),e.qZA()(),e.TgZ(154,"div",53),e._UZ(155,"p-inputSwitch",60),e.TgZ(156,"label",61),e._uU(157),e.ALo(158,"translate"),e.qZA()(),e.TgZ(159,"div",20)(160,"label",62),e._uU(161),e.ALo(162,"translate"),e.qZA(),e._UZ(163,"input",63),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"div",20)(166,"label",64),e._uU(167),e.ALo(168,"translate"),e.qZA(),e._UZ(169,"p-dropdown",65),e.ALo(170,"translate"),e.qZA(),e.TgZ(171,"div",20)(172,"label",66),e._uU(173),e.ALo(174,"translate"),e.qZA(),e._UZ(175,"p-dropdown",67),e.ALo(176,"translate"),e.qZA(),e.TgZ(177,"div",20)(178,"label",68),e._uU(179),e.ALo(180,"translate"),e.qZA(),e._UZ(181,"p-calendar",69),e.ALo(182,"translate"),e.qZA(),e.TgZ(183,"div",20)(184,"label",70),e._uU(185),e.ALo(186,"translate"),e.qZA(),e._UZ(187,"p-calendar",71),e.ALo(188,"translate"),e.qZA(),e.TgZ(189,"div",20)(190,"label",72),e._uU(191),e.ALo(192,"translate"),e.qZA(),e._UZ(193,"p-calendar",73),e.ALo(194,"translate"),e.qZA(),e.TgZ(195,"div",74)(196,"label",75),e._uU(197),e.ALo(198,"translate"),e.qZA(),e._UZ(199,"input",76),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"div",77),e._UZ(202,"input",78),e.qZA(),e.TgZ(203,"div",79)(204,"button",80),e.NdJ("click",function(){return n.registerSubmit(n.registerForm)}),e._uU(205),e.ALo(206,"translate"),e.qZA()()()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",n.registerForm),e.xp6(5),e.Oqu(e.lcZ(7,90,"Add New Employee")),e.xp6(4),e.Q6J("multiple",!1)("chooseLabel",e.lcZ(11,92,"Insert Personal Image")),e.xp6(5),e.Oqu(e.lcZ(16,94,"Full Name with Arabic")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,96,"Enter Arabic Name")),e.xp6(4),e.Oqu(e.lcZ(22,98,"Full Name with English")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,100,"Enter English Name")),e.xp6(4),e.Oqu(e.lcZ(28,102,"National Id")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,104,"Enter National Id")),e.xp6(4),e.Oqu(e.lcZ(34,106,"Address")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,108,"Enter Address")),e.xp6(4),e.Oqu(e.lcZ(40,110,"Government")),e.xp6(2),e.Q6J("options",n.dropdownItemsGovernment)("placeholder",e.lcZ(42,112,"Select Government")),e.xp6(4),e.Oqu(e.lcZ(46,114,"Phone")),e.xp6(2),e.Q6J("placeholder",e.lcZ(48,116,"Select Phone")),e.xp6(4),e.Oqu(e.lcZ(52,118,"Email")),e.xp6(2),e.Q6J("placeholder",e.lcZ(54,120,"Select Email")),e.xp6(4),e.Oqu(e.lcZ(58,122,"BirthDate")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(60,124,"Select BirthDate")),e.xp6(4),e.Oqu(e.lcZ(64,126,"Religion")),e.xp6(2),e.Q6J("options",n.dropdownItemsReligin)("placeholder",e.lcZ(66,128,"Select Religion")),e.xp6(4),e.Oqu(e.lcZ(70,130,"Marital Status")),e.xp6(2),e.Q6J("options",n.dropdownItemsMaritalStatus)("placeholder",e.lcZ(72,132,"Select Marital Status")),e.xp6(4),e.Oqu(e.lcZ(76,134,"Blood Types")),e.xp6(2),e.Q6J("options",n.dropdownItemsBloodTypes)("placeholder",e.lcZ(78,136,"Select Blood Types")),e.xp6(4),e.Oqu(e.lcZ(82,138,"Gender")),e.xp6(2),e.Q6J("options",n.dropdownItemsGender)("placeholder",e.lcZ(84,140,"Select Gender")),e.xp6(4),e.Oqu(e.lcZ(88,142,"Qualification")),e.xp6(2),e.Q6J("options",n.dropdownItemsQualification)("placeholder",e.lcZ(90,144,"Select Qualification")),e.xp6(4),e.Oqu(e.lcZ(94,146,"Attendance Configuration")),e.xp6(2),e.Q6J("options",n.dropdownItemsAttendanceConfiguration)("placeholder",e.lcZ(96,148,"Select Attendance Configuration")),e.xp6(4),e.Oqu(e.lcZ(100,150,"Job")),e.xp6(2),e.Q6J("options",n.dropdownItemsJob)("placeholder",e.lcZ(102,152,"Select Job")),e.xp6(4),e.Oqu(e.lcZ(106,154,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("placeholder",e.lcZ(108,156,"Select Department")),e.xp6(4),e.Oqu(e.lcZ(112,158,"Partition")),e.xp6(2),e.Q6J("options",n.dropdownItemsPartition)("placeholder",e.lcZ(114,160,"Select Partition")),e.xp6(4),e.Oqu(e.lcZ(118,162,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("placeholder",e.lcZ(120,164,"Select Shift")),e.xp6(4),e.Oqu(e.lcZ(124,166,"Bank")),e.xp6(2),e.Q6J("options",n.dropdownItemsBank)("placeholder",e.lcZ(126,168,"Select Bank")),e.xp6(4),e.Oqu(e.lcZ(130,170,"Grade")),e.xp6(2),e.Q6J("options",n.dropdownItemsGrade)("placeholder",e.lcZ(132,172,"Select Grade")),e.xp6(4),e.Oqu(e.lcZ(136,174,"Job Nature")),e.xp6(2),e.Q6J("options",n.dropdownItemsJobNature)("placeholder",e.lcZ(138,176,"Select Job Nature")),e.xp6(5),e.Oqu(e.lcZ(143,178,"Is Insured")),e.xp6(5),e.Oqu(e.lcZ(148,180,"Is Manager")),e.xp6(5),e.Oqu(e.lcZ(153,182,"Is Static Shift")),e.xp6(5),e.Oqu(e.lcZ(158,184,"Is Static Vacation")),e.xp6(4),e.Oqu(e.lcZ(162,186,"Machine Code")),e.xp6(2),e.Q6J("placeholder",e.lcZ(164,188,"Select Machine Code")),e.xp6(4),e.Oqu(e.lcZ(168,190,"Recuritment Source")),e.xp6(2),e.Q6J("options",n.dropdownItemsRecuritmentSource)("placeholder",e.lcZ(170,192,"Select Recuritment Source")),e.xp6(4),e.Oqu(e.lcZ(174,194,"Contract Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsContractType)("placeholder",e.lcZ(176,196,"Select Contract Type")),e.xp6(4),e.Oqu(e.lcZ(180,198,"Join In Date")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(182,200,"Join In Date")),e.xp6(4),e.Oqu(e.lcZ(186,202,"Contract Start Date")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(188,204,"Contract Start Date")),e.xp6(4),e.Oqu(e.lcZ(192,206,"Contract End Date")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(194,208,"Contract End Date")),e.xp6(4),e.Oqu(e.lcZ(198,210,"Description")),e.xp6(2),e.Q6J("placeholder",e.lcZ(200,212,"Enter Description")),e.xp6(5),e.Q6J("disabled",!n.registerForm.valid),e.xp6(1),e.hij(" ",e.lcZ(206,214,"Register")," "))},dependencies:[Z.l,m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.X$,C.g,u.jx,oe.p,x.Hq,T.FN,y.o,P.g,I.Lt,L.f,W.Ql],styles:[".field{margin-bottom:unset!important;padding:10px}  .p-fileupload .p-button{background-color:#fff!important;border:none}  .p-fileupload-buttonbar .ng-star-inserted{display:none}"]})}return l})(),ei=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ti=["dt"];function ni(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function oi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function li(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelectedUniformCode())})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedUnifromCode=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedDate=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedNotes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",20)(32,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,25,"Select Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCode)("placeholder",e.lcZ(12,29,"Select Uniform Code"))("showClear",!0),e.xp6(4),e.hij("",e.lcZ(16,31,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(18,33,"MM/DD/YYYY"))("ngModel",t.selectedDate),e.xp6(4),e.hij("",e.lcZ(22,35,"Cost")," "),e.xp6(2),e.Q6J("ngModel",t.selectedCost)("placeholder",e.lcZ(24,37,"Enter Cost Here")),e.xp6(4),e.hij("",e.lcZ(28,39,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.selectedNotes)("placeholder",e.lcZ(30,41,"Enter notes Here")),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(33,43,"Insert New"))}}function ii(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function ai(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,13,"UniformCodeName")),e.xp6(3),e.Oqu(e.lcZ(12,15,"Employee")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Date")),e.xp6(3),e.Oqu(e.lcZ(18,19,"Cost")),e.xp6(3),e.Oqu(e.lcZ(21,21,"Notes")),e.xp6(3),e.Oqu(e.lcZ(24,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Actions")))}const Pe=l=>({"null-color":l});function si(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",40),e.qZA(),e.TgZ(3,"td")(4,"span",41),e._uU(5,"id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",41),e._uU(9,"uniformCodeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",41),e._uU(13,"employeeName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",41),e._uU(17,"date"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td")(21,"span",41),e._uU(22,"cost"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td")(25,"span",41),e._uU(26,"nots"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"td",42)(29,"span",41),e._uU(30,"creationTime"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td",42)(34,"span",41),e._uU(35,"lastModificationTime"),e.qZA(),e._uU(36),e.ALo(37,"date"),e.qZA(),e.TgZ(38,"td",42)(39,"span",41),e._uU(40,"creatorName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",42)(43,"span",41),e._uU(44,"lastModifierName"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td")(47,"div",43)(48,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(49,"button",45),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.uniformCodeName?t.uniformCodeName:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",e.xi3(19,15,t.date,"yyyy-MM-dd")," "),e.xp6(5),e.hij(" ",t.cost?t.cost:""," "),e.xp6(4),e.hij(" ",t.nots?t.nots:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,Pe,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(32,18,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,Pe,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(37,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(28,Pe,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,Pe,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const rt=l=>({"ng-invalid ng-dirty":l});function ri(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",46),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-calendar",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"label",23),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",50),e.NdJ("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changedSelectedUniformCode())})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedUnifromCodeEdit=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.nots=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",52)(32,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(35,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,26,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,28,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,30,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(12,32,"MM/DD/YYYY"))("ngModel",t.product.date)("ngClass",e.VKq(50,rt,t.submitted&&!t.product.date)),e.xp6(4),e.Oqu(e.lcZ(16,34,"Uniform Code")),e.xp6(2),e.Q6J("options",t.uniformCodesDropDown)("ngModel",t.selectedUnifromCodeEdit)("placeholder",e.lcZ(18,36,"Select Uniform Code"))("showClear",!0)("ngClass",e.VKq(52,rt,t.submitted&&!t.product.uniformCodeId)),e.xp6(4),e.hij("",e.lcZ(22,38,"Cost")," "),e.xp6(2),e.Q6J("ngModel",t.product.cost)("placeholder",e.lcZ(24,40,"Enter cost")),e.xp6(4),e.hij("",e.lcZ(28,42,"Notes")," "),e.xp6(2),e.Q6J("ngModel",t.product.nots)("placeholder",e.lcZ(30,44,"Enter nots Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,46,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(35,48,"Save"))("disabled",!t.editForm.valid)}}function ci(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,2,"Are you sure you want to delete")),e.xp6(3),e.Oqu(t.product.name)}}function pi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function di(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Le=()=>({width:"450px"});let ui=(()=>{class l{constructor(t,o,n,i){this._EmployeeUniformService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.route.parent?.paramMap.subscribe(t=>{this.empId=Number(t.get("id")),console.log("empId:",this.empId)}),this.endPoint="EmployeeUniform",this._EmployeeUniformService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"uniformCodeName",header:"UniformCodeName"},{field:"date",header:"Date"},{field:"cost",header:"Cost"},{field:"notes",header:"notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getDropDown(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new s.cw({employeeId:new s.NI(null,s.kI.required),uniformCodeId:new s.NI(null,s.kI.required),date:new s.NI(null,s.kI.required),cost:new s.NI(null,s.kI.required),nots:new s.NI(null)}),this.editForm=new s.cw({id:new s.NI(null,s.kI.required),employeeId:new s.NI(null,s.kI.required),uniformCodeId:new s.NI(null,s.kI.required),date:new s.NI(null,s.kI.required),cost:new s.NI(null,s.kI.required),nots:new s.NI(null)})}getDropDownEmployee(){this._EmployeeUniformService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getDropDown(){this._EmployeeUniformService.getDropDown("UniformCodes").subscribe({next:t=>{this.uniformCodesDropDown=t.data,console.log("Drop Down Unifrom Codes from here"),console.log(t.data)}})}editProduct(t){console.log(t.id),console.log("edit works"),this._EmployeeUniformService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedDate=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.selectedUnifromCodeEdit=this.uniformCodesDropDown.find(n=>n.id==this.product.uniformCodeId),this.editForm.patchValue({id:this.product.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots})}})}confirmDelete(t){this._EmployeeUniformService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.selectedDate=this.DatePipe.transform(this.selectedDate,"yyyy-MM-dd"),this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,uniformCodeId:this.selectedUnifromCode?.id,date:this.selectedDate,cost:this.selectedCost,nots:this.selectedNotes}),this.addNewForm.valid&&this._EmployeeUniformService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this._EmployeeUniformService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,this.selectedDateEdit=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.product.date=this.DatePipe.transform(this.product.date,"yyyy-MM-ddTHH:mm:ss"),this.editForm.patchValue({id:o.id,employeeId:this.selectedEmployeeEdit.id,uniformCodeId:this.selectedUnifromCodeEdit.id,date:this.product.date,cost:this.product.cost,nots:this.product.nots}),this.editForm.valid&&this._EmployeeUniformService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeUniformService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ei),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-uniform"]],viewQuery:function(o,n){if(1&o&&e.Gf(ti,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,me.j]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["formControlName","employeeId","optionLabel","name",3,"ngModel","options","placeholder","ngModelChange"],["htmlFor","uniformCode"],["formControlName","uniformCodeId","optionLabel","name",3,"options","ngModel","placeholder","showClear","onChange","ngModelChange"],["htmlFor","date"],["formControlName","date","inputId","icon",3,"showIcon","iconDisplay","placeholder","ngModel","ngModelChange"],["htmlFor","cost"],["pInputText","","formControlName","cost","id","cost","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","nots"],["pInputText","","id","nots","formControlName","nots","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange","onChange"],["for","date"],["formControlName","date","inputId","icon","autofocus","",3,"showIcon","iconDisplay","placeholder","ngModel","ngClass","ngModelChange"],["optionLabel","name","formControlName","uniformCodeId",3,"options","ngModel","placeholder","showClear","ngClass","onChange","ngModelChange"],["pInputText","","formControlName","nots","id","nots","type","text",3,"ngModel","placeholder","ngModelChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ni,5,7,"ng-template",1)(3,oi,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,li,34,45,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,ii,8,7,"ng-template",7)(10,ai,37,33,"ng-template",8)(11,si,50,32,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,ri,36,54,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,ci,6,4,"span",13),e.qZA(),e.YNc(20,pi,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,di,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Le)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Le)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Le)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Le)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,I.Lt,L.f]})}return l})(),mi=(()=>{class l extends b.P{constructor(t){super(t)}getDropDownManager(t){return this.http.get(`${this.baseurl}/${t}/GetMangerDropDown/?culture=${this.culture}`)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const gi=["dt"];function _i(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function hi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function fi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedManager=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeManager())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"button",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(15,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,12,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,14,"Select Employee")),e.xp6(4),e.Oqu(e.lcZ(10,16,"Manager")),e.xp6(2),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManager)("placeholder",e.lcZ(12,18,"Select a manager"))("showClear",!0),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(15,20,"Insert New"))}}function Zi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",26)(1,"h5",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",28),e._UZ(5,"i",29),e.TgZ(6,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Ci(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",31),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",32),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",33),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Employee")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Manager")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const Je=l=>({"null-color":l});function xi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td")(4,"span",35),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",35),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",35),e._uU(13,"mangerName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",36)(16,"span",35),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",36)(21,"span",35),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",36)(26,"span",35),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",36)(30,"span",35),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",37)(35,"button",38),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",39),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.mangerName?t.mangerName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,Je,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,12,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(20,Je,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(22,Je,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,Je,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Ti(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedManagerEdit=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeManagerEdit())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",42)(14,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(17,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,13,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,15,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,17,"Manager")),e.xp6(2),e.Q6J("options",t.managerDropDown)("ngModel",t.selectedManagerEdit)("placeholder",e.lcZ(12,19,"Select a manager"))("showClear",!0),e.xp6(3),e.Q6J("label",e.lcZ(15,21,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(17,23,"Save"))("disabled",!t.editForm.valid)}}function bi(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Ai(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function yi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ue=()=>({width:"450px"});let qi=(()=>{class l{constructor(t,o,n){this._EmployeeManagerService=t,this.messageService=o,this.route=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeManager",this._EmployeeManagerService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation(),this.getDropDownEmployee(),this.initFormGroups()}getLocation(){this._EmployeeManagerService.getDropDownManager("Employee").subscribe({next:t=>{console.log(t.data),this.managerDropDown=t.data}})}getDropDownEmployee(){this._EmployeeManagerService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}initFormGroups(){this.addNewForm=new s.cw({employeeId:new s.NI(null,s.kI.required),mangerId:new s.NI(null,s.kI.required)}),this.editForm=new s.cw({id:new s.NI(null,s.kI.required),employeeId:new s.NI(null,s.kI.required),mangerId:new s.NI(null,s.kI.required)})}editProduct(t){this._EmployeeManagerService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedManagerEdit=this.managerDropDown.find(n=>n.id==this.product.mangerId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({id:this.product.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id})}})}confirmDelete(t){this._EmployeeManagerService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee?.id,mangerId:this.selectedManager?.id}),this.addNewForm.valid&&this._EmployeeManagerService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedManager=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this._EmployeeManagerService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({id:t.id,mangerId:this.selectedManagerEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),this.editForm.valid&&this._EmployeeManagerService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeManagerService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(mi),e.Y36(u.ez),e.Y36(D.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-manager"]],viewQuery:function(o,n){if(1&o&&e.Gf(gi,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,me.j]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange"],["htmlFor","manager"],["optionLabel","name","formControlName","mangerId",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange","onChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,_i,5,7,"ng-template",1)(3,hi,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,fi,16,22,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Zi,8,7,"ng-template",7)(10,Ci,28,24,"ng-template",8)(11,xi,37,26,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Ti,18,25,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,bi,6,4,"span",13),e.qZA(),e.YNc(20,Ai,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,yi,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Ue)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Ue)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Ue)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Ue)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,I.Lt]})}return l})(),wi=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ni=["dt"];function Mi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function vi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Di(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedLocation=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeLocation())}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",20)(14,"button",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(15,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,12,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,14,"Select Employee")),e.xp6(4),e.Oqu(e.lcZ(10,16,"Location")),e.xp6(2),e.Q6J("options",t.locationDropDown)("ngModel",t.selectedLocation)("placeholder",e.lcZ(12,18,"Select a Location"))("showClear",!0),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(15,20,"Insert New"))}}function Ii(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",26)(1,"h5",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",28),e._UZ(5,"i",29),e.TgZ(6,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Fi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",31),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",32),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",33),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.Oqu(e.lcZ(9,10,"Employee")),e.xp6(3),e.Oqu(e.lcZ(12,12,"Location")),e.xp6(3),e.Oqu(e.lcZ(15,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(18,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(21,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(24,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(27,22,"Actions")))}const Se=l=>({"null-color":l});function Pi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td")(4,"span",35),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",35),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",35),e._uU(13,"locationName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",36)(16,"span",35),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",36)(21,"span",35),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",36)(26,"span",35),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",36)(30,"span",35),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",37)(35,"button",38),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",39),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(4),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(4),e.hij(" ",t.locationName?t.locationName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(18,Se,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,12,t.creationTime,"dd/MM/YYYY - hh:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(20,Se,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,15,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(22,Se,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,Se,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Li(l,r){1&l&&(e.TgZ(0,"small",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"location is required.")))}function Ji(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19)(1,"div",20)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedLocationEdit=n)})("onChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onChangeLocationEdit())}),e.ALo(12,"translate"),e.qZA(),e.YNc(13,Li,3,3,"small",43),e.qZA(),e.TgZ(14,"div",44)(15,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product))}),e.ALo(18,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,14,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,16,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(10,18,"Location")),e.xp6(2),e.s9C("placeholder",e.lcZ(12,20,"Select a Location")),e.Q6J("options",t.locationDropDown)("ngModel",t.selectedLocationEdit)("showClear",!0),e.xp6(2),e.Q6J("ngIf",t.submitted&&!t.product.locationId),e.xp6(2),e.Q6J("label",e.lcZ(16,22,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(18,24,"Save"))("disabled",!t.editForm.valid)}}function Ui(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Si(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function ki(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const ke=()=>({width:"450px"});let Ei=(()=>{class l{constructor(t,o,n){this._EmployeeLocationService=t,this.messageService=o,this.route=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="EmployeeLocation",this._EmployeeLocationService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee"},{field:"locationName",header:"Location"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getLocation(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new s.cw({employeeId:new s.NI(null,s.kI.required),locationId:new s.NI(null,s.kI.required)}),this.editForm=new s.cw({Id:new s.NI(null,s.kI.required),employeeId:new s.NI(null,s.kI.required),locationId:new s.NI(null,s.kI.required)})}getDropDownEmployee(){this._EmployeeLocationService.getDropDown("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}getLocation(){this._EmployeeLocationService.getDropDown("Location").subscribe({next:t=>{console.log(t.data),this.locationDropDown=t.data}})}editProduct(t){console.log("edit works"),this._EmployeeLocationService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedLocationEdit=this.locationDropDown.find(n=>n.id==this.product.locationId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==this.product.employeeId),this.editForm.patchValue({Id:this.product.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.log(this.editForm.value)}})}confirmDelete(t){this._EmployeeLocationService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({employeeId:this.selectedEmployee.id,locationId:this.selectedLocationId}),this.addNewForm.valid&&this._EmployeeLocationService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedLocation=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}onChangeLocation(){this.selectedLocationId=this.selectedLocation?.id}onChangeLocationEdit(){this.selectedLocationEditId=this.selectedLocationEdit?.id}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,console.log("FilteredData"),console.log(p),this._EmployeeLocationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t){this.submitted=!0,this.editForm.patchValue({Id:t.id,locationId:this.selectedLocationEdit?.id,employeeId:this.selectedEmployeeEdit?.id}),console.clear(),this.editForm.valid?(console.log("edited Form here =====================> ",this.editForm.value),this._EmployeeLocationService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})):console.log("Form Not Valid because body is : ",this.editForm.value)}toggleNew(){this.showFormNew?this.showFormNew=!1:(this.showFormNew=!0,this.setFieldsNulls())}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._EmployeeLocationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(wi),e.Y36(u.ez),e.Y36(D.gz))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-location"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ni,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,me.j]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange"],["htmlFor","location"],["optionLabel","name","formControlName","locationId",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange","onChange"],["formControlName","locationId","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","disabled","click"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Mi,5,7,"ng-template",1)(3,vi,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Di,16,22,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Ii,8,7,"ng-template",7)(10,Fi,28,24,"ng-template",8)(11,Pi,37,26,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Ji,19,26,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,Ui,6,4,"span",13),e.qZA(),e.YNc(20,Si,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,ki,4,6,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,ke)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,ke)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,ke)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,ke)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,I.Lt]})}return l})(),Oi=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Qi=["dt"];function Ri(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ji(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Hi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployee=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectRelativeRelation(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"textarea",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.discreption=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p-fileUpload",29),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelect(n))}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",19)(32,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,21,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(6,23,"Select Employee")),e.xp6(4),e.Oqu(e.lcZ(10,25,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(12,27,"Enter Document Required Type")),e.xp6(4),e.Oqu(e.lcZ(16,29,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(18,31,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,33,"Discription")),e.xp6(2),e.Q6J("ngModel",t.discreption)("placeholder",e.lcZ(24,35,"Enter Discription Here")),e.xp6(4),e.hij("",e.lcZ(28,37,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(30,39,"Choose")),e.xp6(3),e.Q6J("label",e.lcZ(33,41,"Insert New"))("disabled",!t.addNewForm.valid)}}function Gi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"label",22),e._uU(2,"RelativeRelation Type"),e.qZA(),e.TgZ(3,"p-dropdown",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelation=n)}),e.qZA()(),e.TgZ(4,"div",19)(5,"label",24),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p-calendar",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.date=n)}),e.qZA()(),e.TgZ(9,"div",19)(10,"label",34),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=n)}),e.qZA()(),e.TgZ(14,"div",19)(15,"label",26),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"textarea",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nots=n)}),e.qZA()(),e.TgZ(19,"div",19)(20,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedRelativeRelation)("options",t.dropdownItemsRelativeRelationType),e.xp6(3),e.Oqu(e.lcZ(7,10,"Date")),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date),e.xp6(3),e.Oqu(e.lcZ(12,12,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost),e.xp6(3),e.Oqu(e.lcZ(17,14,"Notes")),e.xp6(2),e.Q6J("ngModel",t.nots)}}function Ki(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",38),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",39),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",40),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Document Required Name")," "),e.xp6(3),e.Oqu(e.lcZ(12,15,"Employee Name")),e.xp6(3),e.Oqu(e.lcZ(15,17,"Date")),e.xp6(3),e.Oqu(e.lcZ(18,19,"Url")),e.xp6(3),e.Oqu(e.lcZ(21,21,"Discription")),e.xp6(3),e.Oqu(e.lcZ(24,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(27,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(30,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(33,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Actions")))}const $=l=>({"null-color":l});function Vi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",41),e.qZA(),e.TgZ(3,"td")(4,"span",42),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",43)(8,"span",42),e._uU(9,"documentRequiredName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"span",42),e._uU(13,"employeeName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",43)(16,"span",42),e._uU(17,"date"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td")(21,"span",42),e._uU(22,"Url"),e.qZA(),e.TgZ(23,"a",44),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"td",43)(27,"span",42),e._uU(28,"discreption"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",43)(31,"span",42),e._uU(32,"creationTime"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td",43)(35,"span",42),e._uU(36,"lastModificationTime"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",43)(39,"span",42),e._uU(40,"creatorName"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",43)(43,"span",42),e._uU(44,"lastModifierName"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td")(47,"div",45)(48,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(49,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,$,!t.documentRequiredName)),e.xp6(3),e.hij(" ",t.documentRequiredName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(27,$,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,$,!t.date)),e.xp6(3),e.hij(" ",e.xi3(19,20,t.date,"dd/MM/YYYY")," "),e.xp6(5),e.Q6J("href",o.baseUrlFile.concat("/",t.url),e.LSH),e.xp6(1),e.Oqu(e.lcZ(25,23,"View")),e.xp6(2),e.Q6J("ngClass",e.VKq(31,$,!t.discreption)),e.xp6(3),e.hij(" ",t.discreption?t.discreption:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,$,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,$,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,$,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,$,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Bi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployeeEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(n))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",22),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-dropdown",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedRelativeRelationEditFun(n))}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",24),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",26),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",51),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discreption=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",28),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p-fileUpload",52),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onFileSelect(n))}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,18,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(5,20,"All Employees")),e.xp6(4),e.Oqu(e.lcZ(9,22,"Document Required Type")),e.xp6(2),e.Q6J("ngModel",t.selectedRelativeRelationEdit)("options",t.dropdownItemsRelativeRelationType)("placeholder",e.lcZ(11,24,"Enter Document Required Type")),e.xp6(4),e.hij("",e.lcZ(15,26,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(17,28,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(21,30,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discreption)("placeholder",e.lcZ(23,32,"Enter Discription Here")),e.xp6(4),e.hij(" ",e.lcZ(27,34,"Upload File")," "),e.xp6(2),e.Q6J("chooseLabel",e.lcZ(29,36,"Choose"))}}function Yi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function zi(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function $i(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Xi(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ee=()=>({width:"450px"});let Wi=(()=>{class l{constructor(t,o,n,i){this.employeeFileService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1,this.baseUrlFile=ge.N.mediaUrl}ngOnInit(){this.endPoint="EmployeeFile",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeFileService.setCulture(t),this.employeeFileService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRelativeRelationTypes(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new s.cw({DocumentRequiredId:new s.NI(null,s.kI.required),EmployeeId:new s.NI(null,s.kI.required),Date:new s.NI(null,s.kI.required),Discreption:new s.NI(null,s.kI.required),File:new s.NI(null)}),this.editForm=new s.cw({Id:new s.NI(null,s.kI.required),DocumentRequiredId:new s.NI(null,s.kI.required),EmployeeId:new s.NI(null,s.kI.required),Date:new s.NI(null,s.kI.required),Discreption:new s.NI(null,s.kI.required),File:new s.NI(null)})}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeFileService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedRelativeRelationEdit=this.dropdownItemsRelativeRelationType.find(n=>n.id==o.data.documentRequiredId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==o.data.employeeId),console.log("selectedRelativeRelationEdit => "),console.log(this.selectedRelativeRelationEdit),o.data.date=this.convertDate(o.data.date,"MM/dd/yyyy"),console.log(o.data.date),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeFileService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}getDropDownEmployee(){this.employeeFileService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}addNew(){if(this.addNewForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationType,EmployeeId:this.selectedEmployee.id,Date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),Discreption:this.discreption,File:this.file}),this.addNewForm.valid){const t=this.mapToFormData(this.addNewForm.value);this.employeeFileService.Register(t).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}}mapToFormData(t){const o=new FormData;for(const n in t)t.hasOwnProperty(n)&&o.append(n,t[n]);return o}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedRelativeRelationType=null,this.date=null,this.personName=null,this.discreption=null,this.selectedRelativeRelation=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.employeeFileService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){if(this.submitted=!0,this.editForm.patchValue({DocumentRequiredId:this.selectedRelativeRelationEdit.id,Id:o.id,EmployeeId:this.selectedEmployeeEdit.id,Date:this.convertDate(o.date,"yyyy-MM-ddTHH:mm:ss"),PersonName:o.personName,Discreption:o.discreption,File:this.file}),this.editForm.valid){const n=this.mapToFormData(this.editForm.value);this.employeeFileService.Edit(n).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.employeeFileService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getRelativeRelationTypes(){this.employeeFileService.getDropdownField("DocumentRequired").subscribe({next:t=>{console.log(t),this.dropdownItemsRelativeRelationType=t.data,console.log(this.dropdownItemsRelativeRelationType)}})}selectRelativeRelation(t){console.log(t),this.selectedRelativeRelationType=t.value.id,this.selectedRelativeRelation=t.value}selectedRelativeRelationEditFun(t){this.selectedRelativeRelationEdit=t.value}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Oi),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-file"]],viewQuery:function(o,n){if(1&o&&e.Gf(Qi,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:29,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","EmployeeId",3,"ngModel","options","placeholder","ngModelChange"],["htmlFor","ContractType"],["optionLabel","name","formControlName","DocumentRequiredId",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","Date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Discreption","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","date"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","formControlName","File","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],["pButton","",1,"w-25",3,"label","disabled","click"],[1,"field","col-12"],["optionLabel","name","placeholder","Enter RelativeRelation Type",3,"ngModel","options","ngModelChange"],["name","date","inputId","date","placeholder","date",3,"showIcon","iconDisplay","ngModel","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","placeholder","Enter Cost here","id","Cost","type","number",3,"ngModel","ngModelChange"],["pInputTextarea","","id","new-notes","placeholder","Enter notes Here","type","text",3,"ngModel","ngModelChange"],["pButton","","label","Insert New",1,"w-25",3,"click"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["mode","basic","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","accept",".pdf",3,"chooseLabel","onSelect"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Ri,5,7,"ng-template",1)(3,ji,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Hi,34,43,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Gi,21,16,"ng-template",4)(10,Ki,37,33,"ng-template",7)(11,Vi,50,41,"ng-template",8),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Bi,30,38,"ng-template",4)(15,Yi,4,6,"ng-template",9),e.qZA(),e.TgZ(16,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",11),e._UZ(19,"i",12),e.YNc(20,zi,6,4,"span",13),e.qZA(),e.YNc(21,$i,4,6,"ng-template",9),e.qZA(),e.TgZ(22,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(23,"translate"),e.TgZ(24,"div",11),e._UZ(25,"i",12),e.TgZ(26,"span"),e._uU(27,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(28,Xi,4,6,"ng-template",9),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(37,Ee)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,Ee)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,31,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(39,Ee)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,33,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,Ee)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(23,35,"Confirm Delete"))("modal",!0))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,oe.p,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,L.f]})}return l})(),ea=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const ta=["dt"];function na(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function oa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function la(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenant=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectCovenant(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",23),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployee=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"textarea",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",19)(32,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(33,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,22,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(6,24,"Enter Covenant Type")),e.xp6(4),e.Oqu(e.lcZ(10,26,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployee)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(12,28,"Select Employee")),e.xp6(4),e.hij("",e.lcZ(16,30,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(18,32,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,34,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(24,36,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(28,38,"Notes")),e.xp6(2),e.Q6J("ngModel",t.notes)("placeholder",e.lcZ(30,40,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",!t.addNewForm.valid)("label",e.lcZ(33,42,"Insert New"))}}function ia(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"label",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-dropdown",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenant=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.date=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",26),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",34),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.cost=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",28),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"textarea",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.notes=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(26,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenant)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(5,18,"Enter Covenant Type")),e.xp6(4),e.hij(" ",e.lcZ(9,20,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.date)("placeholder",e.lcZ(11,22,"Date")),e.xp6(4),e.Oqu(e.lcZ(15,24,"Cost")),e.xp6(2),e.Q6J("ngModel",t.cost)("placeholder",e.lcZ(17,26,"Enter Cost here")),e.xp6(4),e.Oqu(e.lcZ(21,28,"Notes")),e.xp6(2),e.Q6J("ngModel",t.notes)("placeholder",e.lcZ(23,30,"Enter notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(26,32,"Insert New"))}}function aa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th",40),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",41),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,15,"Employee Name")),e.xp6(3),e.Oqu(e.lcZ(16,17,"Date")),e.xp6(3),e.Oqu(e.lcZ(19,19,"Cost")),e.xp6(3),e.Oqu(e.lcZ(22,21,"Notes")),e.xp6(3),e.Oqu(e.lcZ(25,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(37,31,"Actions")))}const G=l=>({"null-color":l});function sa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",42),e.qZA(),e.TgZ(3,"td")(4,"span",43),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",44)(8,"span",43),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",44)(12,"span",43),e._uU(13,"employeeName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",44)(16,"span",43),e._uU(17,"date"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",44)(20,"span",43),e._uU(21,"cost"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",44)(24,"span",43),e._uU(25,"notes"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",44)(28,"span",43),e._uU(29,"creationTime"),e.qZA(),e._uU(30),e.ALo(31,"date"),e.qZA(),e.TgZ(32,"td",44)(33,"span",43),e._uU(34,"lastModificationTime"),e.qZA(),e._uU(35),e.ALo(36,"date"),e.qZA(),e.TgZ(37,"td",44)(38,"span",43),e._uU(39,"creatorName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td",44)(42,"span",43),e._uU(43,"lastModifierName"),e.qZA(),e._uU(44),e.qZA(),e.TgZ(45,"td")(46,"div",45)(47,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(48,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,G,!t.covenantName)),e.xp6(3),e.hij(" ",t.covenantName?t.covenantName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,G,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,G,!t.date)),e.xp6(3),e.hij(" ",t.date," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,G,!t.cost)),e.xp6(3),e.hij(" ",t.cost," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,G,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,G,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(31,20,t.creationTime,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(38,G,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(36,23,t.lastModificationTime,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(40,G,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,G,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function ra(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18)(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEdit=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCovenantEditFun(n))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedEmployeeEdit=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-calendar",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.date=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.cost=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"textarea",29),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",50)(32,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(35,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,22,"Covenant Type")),e.xp6(2),e.Q6J("ngModel",t.selectedCovenantEdit)("options",t.dropdownItemsCovenantType)("placeholder",e.lcZ(6,24,"Enter Covenant Type")),e.xp6(4),e.Oqu(e.lcZ(10,26,"Select Employee")),e.xp6(2),e.Q6J("ngModel",t.selectedEmployeeEdit)("options",t.dropdownItemsEmployee)("placeholder",e.lcZ(12,28,"All Employees")),e.xp6(4),e.hij("",e.lcZ(16,30,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.date)("placeholder",e.lcZ(18,32,"Enter Date Here")),e.xp6(4),e.Oqu(e.lcZ(22,34,"Cost")),e.xp6(2),e.Q6J("ngModel",t.product.cost)("placeholder",e.lcZ(24,36,"Enter Cost Here")),e.xp6(4),e.Oqu(e.lcZ(28,38,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,40,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,42,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(35,44,"Save"))}}function ca(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function pa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function da(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Oe=()=>({width:"450px"});let ua=(()=>{class l{constructor(t,o,n,i){this.employeeConvenantService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.hrApproved=!1,this.stockVacation=!1}ngOnInit(){this.endPoint="EmployeeCovenant",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.employeeConvenantService.setCulture(t),this.employeeConvenantService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getCovenantTypes(),this.getDropDownEmployee(),this.initFormGroups()}initFormGroups(){this.addNewForm=new s.cw({covenantId:new s.NI("",s.kI.required),employeeId:new s.NI("",s.kI.required),date:new s.NI("",s.kI.required),cost:new s.NI("",s.kI.required),notes:new s.NI("")}),this.editForm=new s.cw({id:new s.NI("",s.kI.required),covenantId:new s.NI("",s.kI.required),employeeId:new s.NI("",s.kI.required),date:new s.NI("",s.kI.required),cost:new s.NI("",s.kI.required),notes:new s.NI("")})}editProduct(t){console.log(t.id),t.date=this.convertDate(t.date,"MM/dd/yyyy"),this.employeeConvenantService.GetById(t.id).subscribe({next:o=>{console.log("edit here data"),console.log(o.data),this.selectedCovenantEdit=this.dropdownItemsCovenantType.find(n=>n.id==o.data.covenantId),this.selectedEmployeeEdit=this.dropdownItemsEmployee.find(n=>n.id==o.data.employeeId),console.log("selectedCovenantEdit => "),console.log(this.selectedCovenantEdit),console.log("dropdownItemsEmployee => "),console.log(this.dropdownItemsEmployee),o.data.date=this.convertDate(o.data.date,"MM/dd/yyyy"),console.log(o.data.date),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.employeeConvenantService.DeleteRange([t]).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(){this.addNewForm.patchValue({covenantId:this.selectedCovenantType,employeeId:this.selectedEmployee?.id,date:this.convertDate(this.date,"yyyy-MM-ddTHH:mm:ss"),cost:this.cost,notes:this.notes}),this.addNewForm.valid&&this.employeeConvenantService.Register(this.addNewForm.value).subscribe({next:t=>{console.log(t),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.addNewForm.clearValidators(),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.selectedCovenantType=null,this.date=null,this.cost=null,this.notes=null,this.selectedCovenant=null,this.selectedEmployee=null,this.selectedEmployeeEdit=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.employeeConvenantService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,this.editForm.patchValue({covenantId:this.selectedCovenantEdit.id,employeeId:this.selectedEmployeeEdit.id,date:this.convertDate(o.date,"yyyy-MM-ddTHH:mm:ss"),cost:o.cost,notes:o.notes,id:o.id}),this.editForm.valid&&this.employeeConvenantService.Edit(this.editForm.value).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.employeeConvenantService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}convertDate(t,o){return this.DatePipe.transform(t,o)}getCovenantTypes(){this.employeeConvenantService.getDropdownField("Covenant").subscribe({next:t=>{console.log(t),this.dropdownItemsCovenantType=t.data,console.log(this.dropdownItemsCovenantType)}})}getDropDownEmployee(){this.employeeConvenantService.getDropdownField("Employee").subscribe({next:t=>{console.log(t),this.dropdownItemsEmployee=t.data,console.log(this.dropdownItemsEmployee)}})}selectCovenant(t){console.log(t),this.selectedCovenantType=t.value.id,this.selectedCovenant=t.value}selectedCovenantEditFun(t){this.selectedCovenantEdit=t.value}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ea),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-covenant"]],viewQuery:function(o,n){if(1&o&&e.Gf(ta,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup"],[1,"field"],["htmlFor","ContractType"],["formControlName","covenantId","optionLabel","name",3,"ngModel","options","placeholder","ngModelChange","onChange"],["htmlFor","selectEmployee"],["optionLabel","name","formControlName","employeeId",3,"ngModel","options","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","date","inputId","date","formControlName","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","formControlName","cost","id","Cost","type","number",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"disabled","label","click"],[1,"field","col-12"],["optionLabel","name",3,"ngModel","options","placeholder","ngModelChange"],["name","date","inputId","date",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputText","","id","Cost","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["htmlFor","Employee"],["formControlName","employeeId","optionLabel","name",3,"ngModel","options","placeholder","ngModelChange"],[1,"field","form-footer"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,na,5,7,"ng-template",1)(3,oa,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,la,34,44,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,ia,27,34,"ng-template",4)(10,aa,38,33,"ng-template",7)(11,sa,49,44,"ng-template",8),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,ra,36,46,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",9),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",10),e._UZ(18,"i",11),e.YNc(19,ca,6,4,"span",12),e.qZA(),e.YNc(20,pa,4,6,"ng-template",13),e.qZA(),e.TgZ(21,"p-dialog",9),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",10),e._UZ(24,"i",11),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,da,4,6,"ng-template",13),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Oe)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Oe)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Oe)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Oe)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,L.f]})}return l})(),ma=(()=>{class l extends b.P{constructor(t){super(t)}updateUserLocked(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateUserLocked`,t)}assignRoles(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/assignroles/${t}`,o)}changePassword(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/changepassword/${t}`,o)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Xe=f(4055);const ga=["dt"];function _a(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ha(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",25),e._UZ(5,"i",26),e.TgZ(6,"input",27),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function fa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",29),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"th"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"th"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"th"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"th"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"th"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"User Id")," "),e.xp6(3),e.hij(" ",e.lcZ(8,13,"Employee Name")," "),e.xp6(3),e.Oqu(e.lcZ(11,15,"Username")),e.xp6(3),e.Oqu(e.lcZ(14,17,"Email")),e.xp6(3),e.Oqu(e.lcZ(17,19,"Roles")),e.xp6(3),e.Oqu(e.lcZ(20,21,"Locked")),e.xp6(3),e.Oqu(e.lcZ(23,23,"Change Password")),e.xp6(3),e.Oqu(e.lcZ(26,25,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(29,27,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(32,29,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(35,31,"lastModifierName")))}function Za(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Oqu(t)}}const K=l=>({"null-color":l});function Ca(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",30),e.qZA(),e.TgZ(3,"td")(4,"span",31),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",32)(8,"span",31),e._uU(9,"employeeNameAr"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",32)(12,"span",31),e._uU(13,"UserName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",32)(16,"span",31),e._uU(17,"Email"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",32)(20,"span",31),e._uU(21,"Roles"),e.qZA(),e.TgZ(22,"div",33)(23,"div",34),e.YNc(24,Za,2,1,"span",35),e.qZA(),e.TgZ(25,"button",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA()()(),e.TgZ(26,"td",32)(27,"span",31),e._uU(28,"Locked"),e.qZA(),e.TgZ(29,"div",37)(30,"p-inputSwitch",38),e.NdJ("ngModelChange",function(n){const a=e.CHM(t).$implicit;return e.KtG(a.isLocked=n)}),e.qZA(),e.TgZ(31,"button",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProductLock(i))}),e.qZA()()(),e.TgZ(32,"td")(33,"button",39),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.changePassword(i.id))}),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"td",32)(37,"span",31),e._uU(38,"creationTime"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",32)(41,"span",31),e._uU(42,"lastModificationTime"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",32)(45,"span",31),e._uU(46,"creatorName"),e.qZA(),e._uU(47),e.qZA(),e.TgZ(48,"td",32)(49,"span",31),e._uU(50,"lastModifierName"),e.qZA(),e._uU(51),e.qZA()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,K,!t.employeeNameAr)),e.xp6(3),e.hij(" ",t.employeeNameAr?t.employeeNameAr:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,K,!t.userName)),e.xp6(3),e.hij(" ",t.userName?t.userName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,K,!t.email)),e.xp6(3),e.hij(" ",t.email?t.email:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,K,!t.roles)),e.xp6(5),e.Q6J("ngForOf",t.roles),e.xp6(2),e.Q6J("ngClass",e.VKq(32,K,!t.isLocked)),e.xp6(4),e.Q6J("ngModel",t.isLocked)("disabled",!0),e.xp6(4),e.hij(" ",e.lcZ(35,22,"Change Password")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,K,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,K,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,K,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,K,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function xa(l,r){if(1&l&&(e.TgZ(0,"div",42)(1,"span",43),e._uU(2),e.qZA()()),2&l){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function Ta(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"label",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p-multiSelect",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedMulti=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectMultiItems(n))}),e.YNc(5,xa,3,1,"ng-template",41),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Roles")),e.xp6(2),e.Q6J("options",t.rolesDropdown)("ngModel",t.selectedMulti)}}function ba(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveRoles(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Aa(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function ya(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.qZA()}}function qa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}function wa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",48)(1,"label",16),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49)(5,"p-inputSwitch",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.locked=n)}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Locked")),e.xp6(3),e.Q6J("ngModel",t.locked)}}function Na(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialogLock())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveLock(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const _e=()=>({width:"450px"}),Ma=l=>{const r=l.get("password")?.value,t=l.get("rePassword")?.value;return r!==t?{passwordMismatch:!0}:null};let va=(()=>{class l{constructor(t,o){this.usersService=t,this.messageService=o,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.productLockDialog=!1,this.changePassDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.locked=!1,this.allYears=[],this.changePassForm=new s.cw({password:new s.NI(null,[s.kI.required,s.kI.minLength(5)]),rePassword:new s.NI(null,[s.kI.required,s.kI.minLength(5)])},{validators:Ma})}ngOnInit(){this.endPoint="UsersApp",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.usersService.setCulture(t),this.usersService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),this.generateYearOptions()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.getRolesDropdown()}editProduct(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0,this.selectedMulti=this.product.roles,console.log(this.selectedMulti)},error:o=>{console.log(o)}}),console.log(t.id)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.locked=!1}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.usersService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let i=t-3;i<=n;i++)this.allYears.push(i)}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}changePassword(t){this.changePassDialog=!0,console.log(t),this.userId=t}getRolesDropdown(){this.usersService.getDropdownField("Roles").subscribe({next:t=>{this.rolesDropdown=t.data,console.log("rolesDropdown =>"),console.log(this.rolesDropdown)},error:t=>{console.log(t)}})}selectMultiItems(t){console.log(t),console.log(this.selectedMulti),this.selectedMulti=t.value}saveRoles(t){console.clear(),console.log(t),console.log(this.selectedMulti);let o=[];this.selectedMulti.forEach(n=>{o.push(n.id)}),console.log(o),this.usersService.assignRoles(t,o).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Role assigned successfully",life:3e3}),this.productDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n),this.productDialog=!1}}),o=[]}editProductLock(t){this.usersService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productLockDialog=!0,this.locked=o.data.isLocked},error:o=>{console.log(o)}}),console.log(t.id)}saveLock(t){this.usersService.updateUserLocked({isLocked:this.locked,userId:t}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"Lock Updated Successfully",life:3e3}),this.productLockDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}submitChangePassForm(t,o){console.log(t),"VALID"==o.status&&this.usersService.changePassword(t,o.value).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Successful",detail:"You Changed Password Successfully",life:3e3}),this.changePassDialog=!1},error:n=>{console.log(n)}})}hideDialogPassword(){this.changePassDialog=!1}hideDialogLock(){this.productLockDialog=!1}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ma),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-users"]],viewQuery:function(o,n){if(1&o&&e.Gf(ga,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:47,vars:64,consts:[["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[3,"formGroup","submit"],[1,"field"],["for","name"],["pInputText","","type","text","formControlName","password",3,"ngModel","placeholder","ngModelChange"],["pInputText","","type","text","formControlName","rePassword",3,"ngModel","placeholder","ngModelChange"],[1,"actions"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"table-data-container"],[1,"roles-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-outlined","p-button-secondary",3,"click"],[1,"lock-container"],[3,"ngModel","disabled","ngModelChange"],["pButton","","pRipple","",1,"p-button-outlined","p-button-secondary","changePassBtn",3,"click"],["placeholder","Select Roles","optionLabel","name","display","chip",1,"multiselect-custom",3,"options","ngModel","ngModelChange","onChange"],["pTemplate","item"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"field","locked-container"],[1,"field","field-locked"],[3,"ngModel","ngModelChange"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,_a,2,4,"ng-template",1),e.qZA(),e.TgZ(3,"p-table",2,3),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(5,ha,8,7,"ng-template",4)(6,fa,36,33,"ng-template",5)(7,Ca,52,42,"ng-template",6),e.qZA(),e.TgZ(8,"p-dialog",7),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(9,"translate"),e.YNc(10,Ta,6,5,"ng-template",8)(11,ba,4,6,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.TgZ(13,"div",11),e._UZ(14,"i",12),e.YNc(15,Aa,5,1,"span",13),e.qZA(),e.YNc(16,ya,2,0,"ng-template",9),e.qZA(),e.TgZ(17,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(18,"div",11),e._UZ(19,"i",12),e.TgZ(20,"span"),e._uU(21,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(22,qa,2,0,"ng-template",9),e.qZA(),e.TgZ(23,"p-dialog",7),e.NdJ("visibleChange",function(a){return n.changePassDialog=a}),e.ALo(24,"translate"),e.TgZ(25,"form",14),e.NdJ("submit",function(){return n.submitChangePassForm(n.userId,n.changePassForm)}),e.TgZ(26,"div",15)(27,"label",16),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(a){return n.newPassword=a}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",15)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"input",18),e.NdJ("ngModelChange",function(a){return n.rePassword=a}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",19)(39,"button",20),e.NdJ("click",function(){return n.hideDialogPassword()}),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"button",21),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"p-dialog",7),e.NdJ("visibleChange",function(a){return n.productLockDialog=a}),e.ALo(44,"translate"),e.YNc(45,wa,6,4,"ng-template",8)(46,Na,4,6,"ng-template",9),e.qZA()),2&o&&(e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(59,_e)),e.Q6J("visible",n.productDialog)("header",e.lcZ(9,41,"User Roles"))("modal",!0),e.xp6(4),e.Akn(e.DdM(60,_e)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(61,_e)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(6),e.Akn(e.DdM(62,_e)),e.Q6J("visible",n.changePassDialog)("header",e.lcZ(24,43,"User Password"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.changePassForm),e.xp6(3),e.Oqu(e.lcZ(29,45,"Password")),e.xp6(2),e.Q6J("ngModel",n.newPassword)("placeholder",e.lcZ(31,47,"Enter New Password")),e.xp6(4),e.Oqu(e.lcZ(35,49,"Confirm Password")),e.xp6(2),e.Q6J("ngModel",n.rePassword)("placeholder",e.lcZ(37,51,"Confirm New Password")),e.xp6(3),e.Q6J("label",e.lcZ(40,53,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(42,55,"Save")),e.xp6(2),e.Akn(e.DdM(63,_e)),e.Q6J("visible",n.productLockDialog)("header",e.lcZ(44,57,"User Lock"))("modal",!0))},dependencies:[Z.l,m.mk,m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,Xe.NU,W.Ql],styles:[".roles-container[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.roles-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;border:1px solid #ecb100;border-radius:8px;-webkit-user-select:none;user-select:none}.p-button[_ngcontent-%COMP%]{gap:0!important}.table-data-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center;justify-content:center}.changePassBtn[_ngcontent-%COMP%]{min-width:max-content}.lock-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px}.locked-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.field-locked[_ngcontent-%COMP%]{margin-bottom:0}.actions[_ngcontent-%COMP%]{display:flex;width:200px;margin-top:2rem;align-items:center}"]})}return l})(),Da=(()=>{class l extends b.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMissionTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getMissionType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}addExternalMissonRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}deleteExternalMissonById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ia=["dt"];function Fa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim())),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Pa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function La(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",54)(1,"h5",55),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",56),e._UZ(5,"i",57),e.TgZ(6,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function Ja(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",59),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",60),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",61),e.qZA(),e.TgZ(7,"th",62),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",63),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,15,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,17,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(16,19,"Date From")),e.xp6(3),e.Oqu(e.lcZ(19,21,"Date To")),e.xp6(3),e.Oqu(e.lcZ(22,23,"Misson Type")),e.xp6(3),e.Oqu(e.lcZ(25,25,"Respone")),e.xp6(3),e.Oqu(e.lcZ(28,27,"Location")),e.xp6(3),e.Oqu(e.lcZ(31,29,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(34,31,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(37,33,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(40,35,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(43,37,"Actions")))}const j=l=>({"null-color":l}),Ua=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function Sa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",64),e.qZA(),e.TgZ(3,"td")(4,"span",65),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",66)(8,"span",65),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",67)(12,"span",65),e._uU(13,"dayCount"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",66)(16,"span",65),e._uU(17,"fromDay"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",66)(21,"span",65),e._uU(22,"toDay"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",68)(26,"span",65),e._uU(27,"missionTypeName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",66)(30,"span"),e._uU(31),e.qZA()(),e.TgZ(32,"td",66)(33,"span",65),e._uU(34,"location"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",66)(37,"span",65),e._uU(38,"creationTime"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",66)(41,"span",65),e._uU(42,"lastModificationTime"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",66)(45,"span",65),e._uU(46,"creatorName"),e.qZA(),e._uU(47),e.qZA(),e.TgZ(48,"td",66)(49,"span",65),e._uU(50,"lastModifierName"),e.qZA(),e._uU(51),e.qZA(),e.TgZ(52,"td")(53,"div",69)(54,"button",70),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,j,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,j,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,j,!t.fromDay)),e.xp6(3),e.hij(" ",e.xi3(19,25,t.fromDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(37,j,!t.toDay)),e.xp6(3),e.hij(" ",e.xi3(24,28,t.toDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,j,!t.missionTypeName)),e.xp6(3),e.hij(" ",t.missionTypeName," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(41,Ua,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,j,!t.location)),e.xp6(3),e.hij(" ",t.location?t.location:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,j,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,j,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,j,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,j,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("disabled",0!==t.requestType)}}function ka(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",30),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",33),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",35),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function Ea(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Oa(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function Qa(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function Ra(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Qe=()=>({width:"450px"}),ja=l=>{const r=l.get("fromDay")?.value,t=l.get("toDay")?.value;return r&&!t||!r&&t?{dateRangeIncomplete:!0}:null};let Ha=(()=>{class l{constructor(t,o,n,i){this.externalMissonService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.cw({EmployeeId:new s.NI(null),MangerId:new s.NI(null),DateFrom:new s.NI(null),DateTo:new s.NI(null),RequestType:new s.NI(null)}),this.addNewForm=new s.cw({employeeId:new s.NI(null,[s.kI.required]),reason:new s.NI(null,[s.kI.required]),fromDay:new s.NI(null,[s.kI.required]),toDay:new s.NI(null,[s.kI.required]),missionType:new s.NI(null,[s.kI.required]),location:new s.NI(null,[s.kI.required])},{validators:ja})}ngOnInit(){this.endPoint="ExternalMissionRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.externalMissonService.setCulture(t),this.externalMissonService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDowns(){this.externalMissonService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.externalMissonService.getMissionTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsMissionTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?this.externalMissonService.deleteExternalMissonById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"External Misson Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,missionType:this.newMissonTypeId?.id??null,fromDay:this.DatePipe.transform(t.get("fromDay")?.value??null,"yyyy-MM-dd"),toDay:this.DatePipe.transform(t.get("toDay")?.value??null,"yyyy-MM-dd")}),"VALID"==t.status&&this.externalMissonService.addExternalMissonRequest(t.value).subscribe({next:o=>{console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"External Mission Added Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]);p.sortType=this.sortOrder,this.externalMissonService.GetPage(c).subscribe({next:_=>{console.log(_),this.allData=_.data,console.log(_.data),this.totalItems=_.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.externalMissonService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(t.value);const p={...Object.fromEntries(Object.entries(o).filter(([F,Y])=>null!==Y)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t);const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]),"VALID"==t.status&&this.externalMissonService.GetPage(c).subscribe({next:F=>{this.allData=F.data,console.log(F.data)},error:F=>{console.log(F)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Da),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-external-misson"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ia,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:109,vars:132,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","RequestType"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"options","ngModel","placeholder","ngModelChange"],["optionLabel","name","formControlName","missionType",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","fromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","toDay",3,"showIcon","iconDisplay","placeholder"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","location",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text","formControlName","reason",3,"ngModel","placeholder","ngModelChange"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"disabled","click"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-calendar",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"p-dropdown",15),e.NdJ("ngModelChange",function(a){return n.selectedManager=a}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"p-dropdown",17),e.NdJ("ngModelChange",function(a){return n.selectedRequstType=a}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,Fa,5,7,"ng-template",23)(47,Pa,2,4,"ng-template",24),e.qZA(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(49,"translate"),e.TgZ(50,"form",26),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(51,"div",19)(52,"label",27),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"p-dropdown",28),e.NdJ("ngModelChange",function(a){return n.newEmplyeeId=a}),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"div",19)(58,"label",27),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"p-dropdown",29),e.NdJ("ngModelChange",function(a){return n.newMissonTypeId=a}),e.ALo(62,"translate"),e.qZA()(),e.TgZ(63,"div",19)(64,"label",30),e._uU(65),e.ALo(66,"translate"),e.qZA(),e._UZ(67,"p-calendar",31),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"div",19)(70,"label",30),e._uU(71),e.ALo(72,"translate"),e.qZA(),e._UZ(73,"p-calendar",32),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"div",19)(76,"label",33),e._uU(77),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"input",34),e.NdJ("ngModelChange",function(a){return n.location=a}),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",19)(82,"label",35),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"textarea",36),e.NdJ("ngModelChange",function(a){return n.reason=a}),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"div",19),e._UZ(88,"button",37),e.ALo(89,"translate"),e.qZA()()(),e.TgZ(90,"p-table",38,39),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(92,La,7,4,"ng-template",40)(93,Ja,44,39,"ng-template",41)(94,Sa,55,55,"ng-template",42),e.qZA(),e.TgZ(95,"p-dialog",43),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(96,ka,30,39,"ng-template",44)(97,Ea,4,6,"ng-template",45),e.qZA(),e.TgZ(98,"p-dialog",46),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.TgZ(99,"div",47),e._UZ(100,"i",48),e.YNc(101,Oa,5,1,"span",49),e.qZA(),e.YNc(102,Qa,2,0,"ng-template",45),e.qZA(),e.TgZ(103,"p-dialog",46),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(104,"div",47),e._UZ(105,"i",48),e.TgZ(106,"span"),e._uU(107,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(108,Ra,2,0,"ng-template",45),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,76,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,78,"Employee")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(13,80,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(17,82,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(19,84,"From")),e.xp6(4),e.hij(" ",e.lcZ(23,86,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(25,88,"To")),e.xp6(4),e.Oqu(e.lcZ(29,90,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(31,92,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(35,94,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(37,96,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(44,98,"Filter")," "),e.xp6(5),e.Akn(e.DdM(128,Qe)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(49,100,"Add New"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(54,102,"Employee Name")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(56,104,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(60,106,"Mission Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsMissionTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(62,108,"Enter Mission Type Here")),e.xp6(4),e.hij("",e.lcZ(66,110,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(68,112,"From")),e.xp6(4),e.hij("",e.lcZ(72,114,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(74,116,"To")),e.xp6(4),e.Oqu(e.lcZ(78,118,"Location")),e.xp6(2),e.Q6J("ngModel",n.location)("placeholder",e.lcZ(80,120,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(84,122,"Reason")),e.xp6(2),e.Q6J("ngModel",n.reason)("placeholder",e.lcZ(86,124,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(89,126,"Insert New"))("disabled",n.addNewForm.invalid),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(129,Qe)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(130,Qe)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(131,Qe)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,z.s,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),Ga=(()=>{class l extends b.P{constructor(t){super(t)}addVacationRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Add`,t)}deleteVacationRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ka=["dt"],Va=["fileUpload"];function Ba(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function Ya(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function za(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",55)(1,"h5",56),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",57),e._UZ(5,"i",58),e.TgZ(6,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function $a(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",60),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",61),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",62),e.qZA(),e.TgZ(7,"th",63),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",64),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,16,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,18,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(16,20,"Date From")),e.xp6(3),e.Oqu(e.lcZ(19,22,"Date To")),e.xp6(3),e.Oqu(e.lcZ(22,24,"Vacation Type")),e.xp6(3),e.Oqu(e.lcZ(25,26,"Respone")),e.xp6(3),e.Oqu(e.lcZ(28,28,"Reason")),e.xp6(3),e.Oqu(e.lcZ(31,30,"File")),e.xp6(3),e.Oqu(e.lcZ(34,32,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(37,34,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(40,36,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(43,38,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(46,40,"Actions")))}function Xa(l,r){if(1&l&&(e.TgZ(0,"a",73),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("href",o.baseUrlFile.concat("/",t.fileUrl),e.LSH),e.xp6(1),e.Oqu(e.lcZ(2,2,"View"))}}const Q=l=>({"null-color":l}),Wa=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function es(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",65),e.qZA(),e.TgZ(3,"td")(4,"span",66),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",67)(8,"span",66),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",68)(12,"span",66),e._uU(13,"dayCount"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",67)(16,"span",66),e._uU(17,"fromDay"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",67)(21,"span",66),e._uU(22,"toDay"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",69)(26,"span",66),e._uU(27,"vacationTypeName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",67)(30,"span"),e._uU(31),e.qZA()(),e.TgZ(32,"td",67)(33,"span",66),e._uU(34,"reason"),e.qZA(),e._uU(35),e.qZA(),e.TgZ(36,"td",67)(37,"span",66),e._uU(38,"fileUrl"),e.qZA(),e.YNc(39,Xa,3,4,"a",70),e.qZA(),e.TgZ(40,"td",67)(41,"span",66),e._uU(42,"creationTime"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",67)(45,"span",66),e._uU(46,"lastModificationTime"),e.qZA(),e._uU(47),e.qZA(),e.TgZ(48,"td",67)(49,"span",66),e._uU(50,"creatorName"),e.qZA(),e._uU(51),e.qZA(),e.TgZ(52,"td",67)(53,"span",66),e._uU(54,"lastModifierName"),e.qZA(),e._uU(55),e.qZA(),e.TgZ(56,"td")(57,"div",71)(58,"button",72),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,Q,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,Q,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount?t.dayCount:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,Q,!t.fromDay)),e.xp6(3),e.hij(" ",e.xi3(19,27,t.fromDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,Q,!t.toDay)),e.xp6(3),e.hij(" ",e.xi3(24,30,t.toDay,"dd/MM/YYYY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(41,Q,!t.vacationTypeName)),e.xp6(3),e.hij(" ",t.vacationTypeName," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(43,Wa,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.Oqu(t.requestTypeValue),e.xp6(1),e.Q6J("ngClass",e.VKq(47,Q,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,Q,!t.fileUrl)),e.xp6(3),e.Q6J("ngIf",t.fileUrl),e.xp6(1),e.Q6J("ngClass",e.VKq(51,Q,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,Q,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,Q,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,Q,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("disabled",0!==t.requestType)}}function ts(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",28),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",20)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",20)(13,"label",30),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",76),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"label",34),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",77),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",20)(25,"label",36),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",78),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function ns(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",80),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function os(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function ls(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function is(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Re=()=>({width:"450px"}),as=l=>{const r=l.get("FromDay")?.value,t=l.get("ToDay")?.value;return r&&!t||!r&&t?{dateRangeIncomplete:!0}:null};let ss=(()=>{class l{constructor(t,o,n,i){this.vacationRequestService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.baseUrlFile=ge.N.mediaUrl,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new s.cw({EmployeeId:new s.NI(null),MangerId:new s.NI(null),DateFrom:new s.NI(null),DateTo:new s.NI(null),VacationTypeId:new s.NI(null),RequestType:new s.NI(null)}),this.addNewForm=new s.cw({EmployeeId:new s.NI(null,[s.kI.required]),FromDay:new s.NI(null,[s.kI.required]),ToDay:new s.NI(null,[s.kI.required]),VacationTypeId:new s.NI(null,[s.kI.required]),Reason:new s.NI(null,[s.kI.required]),File:new s.NI(null)},{validators:as})}ngOnInit(){this.endPoint="VacationRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.vacationRequestService.setCulture(t),this.vacationRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDowns(){this.vacationRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.vacationRequestService.getDropdownField("VacationType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.vacationRequestService.deleteVacationRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Vacation Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({EmployeeId:this.newEmplyeeId?.id??null,VacationTypeId:this.newMissonTypeId?.id??null,File:this.file??null,FromDay:this.DatePipe.transform(t.get("FromDay")?.value??null,"yyyy-MM-dd"),ToDay:this.DatePipe.transform(t.get("ToDay")?.value??null,"yyyy-MM-dd")}),console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);"VALID"==t.status&&this.vacationRequestService.addVacationRequest(o).subscribe({next:n=>{console.log(n.data),n.success&&(this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Vacation Request Sent Successfully",life:3e3}),t.reset(),this.fileUpload.clear(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))},error:n=>{console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]);p.sortType=this.sortOrder,this.vacationRequestService.GetPage(c).subscribe({next:_=>{console.log(_),this.allData=_.data,console.log(_.data),this.totalItems=_.totalItems,this.loading=!1,console.log(this.selectedItems)},error:_=>{console.log(_),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.vacationRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.get("DateFrom")?.value??null,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.get("DateTo")?.value??null,"yyyy-MM-dd")};console.log(o);const p={...Object.fromEntries(Object.entries(o).filter(([F,Y])=>null!==Y)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(p);const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]),"VALID"==t.status&&this.vacationRequestService.GetPage(c).subscribe({next:F=>{this.allData=F.data,console.log(F.data)},error:F=>{console.log(F)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];o&&(this.file=o,this.addNewForm.patchValue({File:o}),this.addNewForm.get("File")?.updateValueAndValidity()),console.log(o)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Ga),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-vacation-request"]],viewQuery:function(o,n){if(1&o&&(e.Gf(Ka,5),e.Gf(Va,5)),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first),e.iGM(i=e.CRH())&&(n.fileUpload=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:114,vars:139,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionValue","id","optionLabel","name","formControlName","EmployeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","RequestType"],["formControlName","VacationTypeId","optionValue","id","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["optionValue","id","formControlName","MangerId","optionLabel","name",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["optionValue","id","formControlName","RequestType","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Add New",1,"p-fluid",3,"visible","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","EmployeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","FromDay",3,"showIcon","iconDisplay","placeholder"],["name","dateTo","inputId","dateTo","formControlName","ToDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","VacationTypeId",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","Reason",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["mode","basic","chooseLabel","Choose","chooseIcon","pi pi-upload","name","demo[]","maxFileSize","1000000","formControlName","File",3,"onSelect"],["fileUpload",""],["pButton","","type","submit",1,"w-25",3,"disabled","label"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],["class","text-white bg-blue-500 border-none","pButton","","pRipple","",3,"href",4,"ngIf"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"disabled","click"],["pButton","","pRipple","",1,"text-white","bg-blue-500","border-none",3,"href"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p-dropdown",11),e.NdJ("ngModelChange",function(a){return n.selectedVacationType=a}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-calendar",15),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"p-dropdown",17),e.NdJ("ngModelChange",function(a){return n.selectedManager=a}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",9)(39,"label",10),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"p-dropdown",18),e.NdJ("ngModelChange",function(a){return n.selectedRequstType=a}),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",19)(45,"div",20)(46,"button",21),e._UZ(47,"i",22),e.TgZ(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA()()()()()()()()()(),e.TgZ(51,"p-toolbar",23),e.YNc(52,Ba,3,3,"ng-template",24)(53,Ya,2,4,"ng-template",25),e.qZA(),e.TgZ(54,"p-dialog",26),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.TgZ(55,"form",27),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(56,"div",20)(57,"label",28),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"p-dropdown",29),e.NdJ("ngModelChange",function(a){return n.newEmplyeeId=a}),e.ALo(61,"translate"),e.qZA()(),e.TgZ(62,"div",20)(63,"label",30),e._uU(64),e.ALo(65,"translate"),e.qZA(),e._UZ(66,"p-calendar",31),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"div",20)(69,"label",30),e._uU(70),e.ALo(71,"translate"),e.qZA(),e._UZ(72,"p-calendar",32),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"div",20)(75,"label",28),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.TgZ(78,"p-dropdown",33),e.NdJ("ngModelChange",function(a){return n.newMissonTypeId=a}),e.ALo(79,"translate"),e.qZA()(),e.TgZ(80,"div",20)(81,"label",34),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"input",35),e.NdJ("ngModelChange",function(a){return n.location=a}),e.ALo(85,"translate"),e.qZA()(),e.TgZ(86,"div",20)(87,"label",36),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.TgZ(90,"p-fileUpload",37,38),e.NdJ("onSelect",function(a){return n.onFileSelect(a)}),e.qZA()(),e.TgZ(92,"div",20),e._UZ(93,"button",39),e.ALo(94,"translate"),e.qZA()()(),e.TgZ(95,"p-table",40,41),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(97,za,8,7,"ng-template",42)(98,$a,47,42,"ng-template",43)(99,es,59,59,"ng-template",44),e.qZA(),e.TgZ(100,"p-dialog",45),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(101,ts,30,39,"ng-template",46)(102,ns,4,6,"ng-template",47),e.qZA(),e.TgZ(103,"p-dialog",48),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.TgZ(104,"div",49),e._UZ(105,"i",50),e.YNc(106,os,5,1,"span",51),e.qZA(),e.YNc(107,ls,2,0,"ng-template",47),e.qZA(),e.TgZ(108,"p-dialog",48),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(109,"div",49),e._UZ(110,"i",50),e.TgZ(111,"span"),e._uU(112,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(113,is,2,0,"ng-template",47),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,83,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,85,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(13,87,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,89,"Vacation Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.selectedVacationType)("placeholder",e.lcZ(19,91,"Enter Vacation Type Here")),e.xp6(4),e.hij(" ",e.lcZ(23,93,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(25,95,"From")),e.xp6(4),e.hij(" ",e.lcZ(29,97,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(31,99,"To")),e.xp6(4),e.Oqu(e.lcZ(35,101,"Manager")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(37,103,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(41,105,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(43,107,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(50,109,"Filter")," "),e.xp6(5),e.Akn(e.DdM(135,Re)),e.Q6J("visible",n.showFormNew)("modal",!0),e.xp6(1),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(59,111,"Employee Name")," "),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(61,113,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(65,115,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(67,117,"From")),e.xp6(4),e.hij("",e.lcZ(71,119,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(73,121,"To")),e.xp6(4),e.hij("",e.lcZ(77,123,"Vacation Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(79,125,"Enter Vacation Type Here")),e.xp6(4),e.Oqu(e.lcZ(83,127,"Reason")),e.xp6(2),e.Q6J("ngModel",n.location)("placeholder",e.lcZ(85,129,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(89,131,"Attach File")),e.xp6(5),e.Q6J("disabled",n.addNewForm.invalid)("label",e.lcZ(94,133,"Insert New")),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(136,Re)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(137,Re)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(138,Re)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,oe.p,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,z.s,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),rs=(()=>{class l extends b.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}addExecuseRequest(t){return this.http.post(`${this.baseurl}/${this.endPoint}/AddRequest`,t)}deleteExecuseRequestById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const cs=["dt"];function ps(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ",t.splitCamelCase(t.endPoint)).trim()))}}function ds(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function us(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"i",53),e.NdJ("click",function(n){const a=e.CHM(t).clickCallBack;return e.KtG(a(n))}),e.qZA()}}function ms(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",54)(1,"h5",55),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",56),e._UZ(5,"i",57),e.TgZ(6,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function gs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",59),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",60),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",61),e.qZA(),e.TgZ(7,"th",62),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",63),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"th"),e._uU(48),e.ALo(49,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,15,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,17,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,19,"Day")),e.xp6(3),e.Oqu(e.lcZ(16,21,"Start Time")),e.xp6(3),e.Oqu(e.lcZ(19,23,"End Time")),e.xp6(3),e.Oqu(e.lcZ(22,25,"Execuse Type")),e.xp6(3),e.Oqu(e.lcZ(25,27,"Count Hours")),e.xp6(3),e.Oqu(e.lcZ(28,29,"Response")),e.xp6(3),e.Oqu(e.lcZ(31,31,"Reason")),e.xp6(3),e.Oqu(e.lcZ(34,33,"Notes")),e.xp6(3),e.Oqu(e.lcZ(37,35,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(40,37,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(43,39,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(46,41,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(49,43,"Actions")))}const S=l=>({"null-color":l}),_s=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function hs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",64),e.qZA(),e.TgZ(3,"td")(4,"span",65),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",66)(8,"span",65),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",67)(12,"span",65),e._uU(13,"dateOfDay"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",66)(16,"span",65),e._uU(17,"startTime"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",66)(20,"span",65),e._uU(21,"endTime"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",66)(24,"span",65),e._uU(25,"excuesTypeName"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",66)(28,"span",65),e._uU(29,"countHours"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",66)(32,"span"),e._uU(33),e.qZA()(),e.TgZ(34,"td",66)(35,"span",65),e._uU(36,"reason"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",66)(39,"span",65),e._uU(40,"notes"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",66)(43,"span",65),e._uU(44,"creationTime"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td",66)(47,"span",65),e._uU(48,"lastModificationTime"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"td",66)(51,"span",65),e._uU(52,"creatorName"),e.qZA(),e._uU(53),e.qZA(),e.TgZ(54,"td",66)(55,"span",65),e._uU(56,"lastModifierName"),e.qZA(),e._uU(57),e.qZA(),e.TgZ(58,"td")(59,"div",68)(60,"button",69),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(29,S,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(31,S,!t.dateOfDay)),e.xp6(3),e.hij(" ",t.dateOfDay?t.dateOfDay:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,S,!t.startTime)),e.xp6(3),e.hij(" ",o.transformTime(t.startTime)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,S,!t.endTime)),e.xp6(3),e.hij(" ",o.transformTime(t.endTime)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,S,!t.excuesTypeName)),e.xp6(3),e.hij(" ",t.excuesTypeName," "),e.xp6(1),e.Q6J("ngClass",e.VKq(39,S,!t.countHours)),e.xp6(3),e.hij(" ",t.countHours," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(41,_s,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.Oqu(t.requestTypeValue),e.xp6(1),e.Q6J("ngClass",e.VKq(45,S,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,S,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,S,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,S,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,S,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,S,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("disabled",0!==t.requestType)}}function fs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",27),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",29),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",29),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",35),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",32),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",74),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,17,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,19,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,21,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,23,"From")),e.xp6(4),e.hij("",e.lcZ(15,25,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,27,"To")),e.xp6(4),e.Oqu(e.lcZ(21,29,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,31,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,33,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,35,"Enter Discription Here"))}}function Zs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Cs(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function xs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product))}),e.qZA()}}function Ts(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const je=()=>({width:"450px"});let bs=(()=>{class l{constructor(t,o,n,i,a){this.execuseRequestService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.translate=a,this.baseUrlFile=ge.N.mediaUrl,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.reason="",this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.selectedVacationType=null,this.filterForm=new s.cw({EmployeeId:new s.NI(null),MangerId:new s.NI(null),DateFrom:new s.NI(null),DateTo:new s.NI(null),RequestType:new s.NI(null)}),this.addNewForm=new s.cw({employeeId:new s.NI(null,[s.kI.required]),dateOfDay:new s.NI(null,[s.kI.required]),excuesTypeId:new s.NI(null,[s.kI.required]),startTime:new s.NI(null,[s.kI.required]),reason:new s.NI(null,[s.kI.required])})}ngOnInit(){this.endPoint="ExcuesRequest",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.execuseRequestService.setCulture(t),this.execuseRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}]}getDropDowns(){this.execuseRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getDropdownField("ExcuesType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}}),this.execuseRequestService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){console.log(t),0===t.requestType?(console.log(t),this.execuseRequestService.deleteExecuseRequestById(t.id).subscribe({next:o=>{this.deleteProductDialog=!1,console.log(o.data),this.messageService.add({severity:"success",summary:"Successful",detail:"Execuse Request Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})):this.messageService.add({severity:"error",summary:"Error",detail:"Cannot delete external mission that is already accepted or rejected",life:3e3})}addNew(t){t.patchValue({employeeId:this.newEmplyeeId?.id??null,excuesTypeId:this.newMissonTypeId?.id??null,dateOfDay:this.DatePipe.transform(t.get("dateOfDay")?.value??null,"yyyy-MM-dd"),startTime:t.get("startTime")?.value.toLocaleTimeString("en-US",{hour12:!1})}),console.log(t),"VALID"==t.status&&this.execuseRequestService.addExecuseRequest(t.value).subscribe({next:o=>{o.success&&(console.log(o.data),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3})),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}}),t.patchValue({startTime:null,reason:null})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]);p.sortType=this.sortOrder,this.execuseRequestService.GetPage(c).subscribe({next:_=>{console.log(_),this.allData=_.data,console.log(_.data),this.totalItems=_.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.execuseRequestService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o={...t.value,DateFrom:this.DatePipe.transform(t.value.DateFrom,"yyyy-MM-dd"),DateTo:this.DatePipe.transform(t.value.DateTo,"yyyy-MM-dd")};console.log(o),console.log(t.value);const p={...Object.fromEntries(Object.entries(o).filter(([F,Y])=>null!==Y)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(p);const c=new FormData;for(const _ in p)p.hasOwnProperty(_)&&c.append(_,p[_]),"VALID"==t.status&&this.execuseRequestService.GetPage(c).subscribe({next:F=>{this.allData=F.data,console.log(F.data)},error:F=>{console.log(F)}})}onFileSelect(t){console.log(t);let o=t.currentFiles[0];this.file=o,console.log(o)}transformTime(t){if(!t)return null;const[o,n,i]=t.split(":"),[a,p]=i.split("."),c=new Date;return c.setHours(+o),c.setMinutes(+n),c.setSeconds(+a),c.setMilliseconds(p?+p.slice(0,3):0),this.DatePipe.transform(c,"h:mm:ss a")}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(rs),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-execuse-request"]],viewQuery:function(o,n){if(1&o&&e.Gf(cs,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:103,vars:129,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"showClear","filter","filterBy","options","ngModel","placeholder","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["inputId","from","formControlName","DateFrom",3,"iconDisplay","showIcon","placeholder"],["htmlFor","to"],["inputId","to","formControlName","DateTo",3,"iconDisplay","showIcon","placeholder"],["htmlFor","Religin"],["formControlName","MangerId","optionValue","id","optionLabel","name",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","RequestType"],["formControlName","RequestType","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],[3,"formGroup","submit"],["htmlFor","name-en"],["optionLabel","name","formControlName","employeeId",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom","formControlName","dateOfDay",3,"showIcon","iconDisplay","placeholder"],["optionLabel","name","formControlName","excuesTypeId",3,"options","ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["inputId","templatedisplay","placeholder","00:00","formControlName","startTime",1,"timeInput",3,"iconDisplay","showIcon","timeOnly"],["pTemplate","inputicon"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text","formControlName","reason",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"pi","pi-clock","pointer-events-none",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"disabled","click"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["name","dateFrom","inputId","dateFrom",3,"showIcon","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","ngModel","placeholder","ngModelChange"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-calendar",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"p-dropdown",15),e.NdJ("ngModelChange",function(a){return n.selectedManager=a}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"p-dropdown",17),e.NdJ("ngModelChange",function(a){return n.selectedRequstType=a}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,ps,3,3,"ng-template",23)(47,ds,2,4,"ng-template",24),e.qZA(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(49,"translate"),e.TgZ(50,"form",26),e.NdJ("submit",function(){return n.addNew(n.addNewForm)}),e.TgZ(51,"div",19)(52,"label",27),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"p-dropdown",28),e.NdJ("ngModelChange",function(a){return n.newEmplyeeId=a}),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"div",19)(58,"label",29),e._uU(59),e.ALo(60,"translate"),e.qZA(),e._UZ(61,"p-calendar",30),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"div",19)(64,"label",27),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"p-dropdown",31),e.NdJ("ngModelChange",function(a){return n.newMissonTypeId=a}),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",19)(70,"label",32),e._uU(71),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"p-calendar",33),e.YNc(74,us,1,0,"ng-template",34),e.qZA()(),e.TgZ(75,"div",19)(76,"label",35),e._uU(77),e.ALo(78,"translate"),e.qZA(),e._UZ(79,"input",36),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"div",19),e._UZ(82,"button",37),e.ALo(83,"translate"),e.qZA()()(),e.TgZ(84,"p-table",38,39),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(86,ms,8,7,"ng-template",40)(87,gs,50,45,"ng-template",41)(88,hs,61,57,"ng-template",42),e.qZA(),e.TgZ(89,"p-dialog",43),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(90,fs,30,37,"ng-template",44)(91,Zs,4,6,"ng-template",45),e.qZA(),e.TgZ(92,"p-dialog",46),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.TgZ(93,"div",47),e._UZ(94,"i",48),e.YNc(95,Cs,5,1,"span",49),e.qZA(),e.YNc(96,xs,2,0,"ng-template",45),e.qZA(),e.TgZ(97,"p-dialog",46),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(98,"div",47),e._UZ(99,"i",48),e.TgZ(100,"span"),e._uU(101,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(102,Ts,2,0,"ng-template",45),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,79,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,81,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.selectedEmployee)("placeholder",e.lcZ(13,83,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(17,85,"From"),""),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(19,87,"From")),e.xp6(4),e.hij(" ",e.lcZ(23,89,"To"),""),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(25,91,"To")),e.xp6(4),e.Oqu(e.lcZ(29,93,"Manager")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsManagers)("ngModel",n.selectedManager)("placeholder",e.lcZ(31,95,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(35,97,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("ngModel",n.selectedRequstType)("placeholder",e.lcZ(37,99,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(44,101,"Filter")," "),e.xp6(5),e.Akn(e.DdM(125,je)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(49,103,"Add New"))("modal",!0),e.xp6(2),e.Q6J("formGroup",n.addNewForm),e.xp6(3),e.hij("",e.lcZ(54,105,"Employee Name")," "),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",n.dropdownItemsEmployees)("ngModel",n.newEmplyeeId)("placeholder",e.lcZ(56,107,"Enter Employee Name Here")),e.xp6(4),e.hij("",e.lcZ(60,109,"Date")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(62,111,"MM/DD/YYYY")),e.xp6(4),e.hij("",e.lcZ(66,113,"Execuse Type")," "),e.xp6(2),e.Q6J("options",n.dropdownItemsVacationTypes)("ngModel",n.newMissonTypeId)("placeholder",e.lcZ(68,115,"Enter Execuse Type Here")),e.xp6(4),e.Oqu(e.lcZ(72,117,"Start Time")),e.xp6(2),e.Q6J("iconDisplay","input")("showIcon",!0)("timeOnly",!0),e.xp6(4),e.Oqu(e.lcZ(78,119,"Reason")),e.xp6(2),e.Q6J("placeholder",e.lcZ(80,121,"Enter Reason Here")),e.xp6(3),e.Q6J("label",e.lcZ(83,123,"Insert New"))("disabled",n.addNewForm.invalid),e.xp6(2),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(126,je)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(127,je)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(128,je)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,z.s,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}"]})}return l})(),ct=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const As=["dt"];function ys(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function qs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function ws(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div")(1,"div",37)(2,"label",38),e._uU(3),e.qZA(),e._UZ(4,"input",39),e.TgZ(5,"button",40),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.removeRequirement(i))}),e.qZA()()()}if(2&l){const t=r.index;e.xp6(1),e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("for","requirement-"+t),e.xp6(1),e.hij("Requirement ",t+1,":"),e.xp6(1),e.Q6J("id","requirement-"+t)}}function Ns(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",20),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.jobForm))}),e.TgZ(1,"div",21)(2,"label",22),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",23),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",21)(8,"label",24),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",25),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",26)(14,"label",27),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-inputSwitch",28),e.qZA(),e.TgZ(18,"div",21)(19,"label",29),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"p-calendar",30),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",31),e.YNc(25,ws,6,4,"div",32),e.qZA(),e.TgZ(26,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addRequirement())}),e.qZA(),e.TgZ(27,"div",21)(28,"label",34),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"textarea",35),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",21),e._UZ(34,"button",36),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.jobForm),e.xp6(3),e.hij("",e.lcZ(4,17,"Name Of Job")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,19,"Enter Name Of Job Here")),e.xp6(4),e.hij("",e.lcZ(10,21,"Job Description")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,23,"Enter Description Here")),e.xp6(4),e.hij("",e.lcZ(16,25,"Status")," "),e.xp6(5),e.Oqu(e.lcZ(21,27,"Date")),e.xp6(2),e.Q6J("showTime",!0)("showSeconds",!0)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(23,29,"MM/DD/YYYY")),e.xp6(3),e.Q6J("ngForOf",t.jobRequirements.controls),e.xp6(4),e.Oqu(e.lcZ(30,31,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,33,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(35,35,"Insert New"))("disabled",t.jobForm.invalid)}}function Ms(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",41)(1,"h5",42),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",43),e._UZ(5,"i",44),e.TgZ(6,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function vs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",46),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",47),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",48),e.qZA(),e.TgZ(7,"th",49),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",50),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,8,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,10,"nameOfJob")," "),e.xp6(4),e.Oqu(e.lcZ(13,12,"Date")),e.xp6(3),e.Oqu(e.lcZ(16,14,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(19,16,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(22,18,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(25,20,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(28,22,"Actions")))}const re=l=>({"null-color":l});function Ds(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr",51),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editJob(i))}),e.TgZ(1,"td")(2,"p-tableCheckbox",52),e.NdJ("click",function(n){return n.stopPropagation()}),e.qZA()(),e.TgZ(3,"td")(4,"span",53),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",54)(8,"span",53),e._uU(9,"nameOfJob"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",54)(12,"span",53),e._uU(13,"date"),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",54)(17,"span",53),e._uU(18,"creationTime"),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA(),e.TgZ(21,"td",54)(22,"span",53),e._uU(23,"lastModificationTime"),e.qZA(),e._uU(24),e.ALo(25,"date"),e.qZA(),e.TgZ(26,"td",54)(27,"span",53),e._uU(28,"creatorName"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",54)(31,"span",53),e._uU(32,"lastModifierName"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"td")(35,"div",55)(36,"button",56),e.NdJ("click",function(n){const a=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.deleteProduct(a,n))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(23,re,!t.nameOfJob)),e.xp6(3),e.hij(" ",t.nameOfJob?t.nameOfJob:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(25,re,!t.date)),e.xp6(3),e.hij(" ",e.xi3(15,14,t.date,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(27,re,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(20,17,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(29,re,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(25,20,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(31,re,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,re,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function Is(l,r){1&l&&(e.TgZ(0,"small",68),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const Fs=l=>({"ng-invalid ng-dirty":l});function Ps(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",21)(1,"label",57),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.nameOfJob=n)}),e.qZA(),e.YNc(5,Is,3,3,"small",59),e.qZA(),e.TgZ(6,"div",21)(7,"label",60),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",61),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.DateEdit=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",21)(13,"label",62),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"textarea",63),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.description=n)}),e.qZA()(),e.TgZ(17,"div",21)(18,"label",64),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"textarea",65),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.requirment=n)}),e.qZA()(),e.TgZ(22,"div",21)(23,"label",66),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"textarea",67),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,16,"Name Of Job")),e.xp6(2),e.Q6J("ngModel",t.product.nameOfJob)("ngClass",e.VKq(28,Fs,t.submitted&&!t.product.nameOfJob)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.nameOfJob),e.xp6(3),e.Oqu(e.lcZ(9,18,"Date")),e.xp6(2),e.Q6J("ngModel",t.DateEdit)("iconDisplay","input")("showIcon",!0)("showSeconds",!0)("placeholder",e.lcZ(11,20,"MM/DD/YYYY")),e.xp6(4),e.Oqu(e.lcZ(15,22,"Description")),e.xp6(2),e.Q6J("ngModel",t.product.description),e.xp6(3),e.Oqu(e.lcZ(20,24,"Requirment")),e.xp6(2),e.Q6J("ngModel",t.product.requirment),e.xp6(3),e.Oqu(e.lcZ(25,26,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)}}function Ls(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Js(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Us(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Ss(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const He=()=>({width:"450px"});let ks=(()=>{class l{constructor(t,o,n,i,a,p,c){this._InternalJobService=t,this.messageService=o,this.DatePipe=n,this.fb=i,this.translate=a,this.datePipe=p,this.router=c,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){this.endPoint="InternalJob",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._InternalJobService.setCulture(t),this._InternalJobService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"nameOfJob",header:"NameOfJob"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.jobForm=this.fb.group({nameOfJob:new s.NI(null,s.kI.required),description:new s.NI(null,s.kI.required),status:new s.NI(!1,s.kI.required),notes:new s.NI(null),date:new s.NI(null,s.kI.required),jobRequirements:this.fb.array([this.createRequirement()])})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._InternalJobService.GetById(t.id).subscribe({next:o=>{this.product={...o.data},this.productDialog=!0,console.log(o.data),this.DateEdit=this.DatePipe.transform(this.product.date,"MM/dd/yyyy"),this.product.date=this.DatePipe.transform(this.product.date,"MM/dd/yyyy")},error:o=>{console.log(o)}})}confirmDelete(t){this._InternalJobService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){t.patchValue({date:this.datePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss"),status:t.get("status").value?1:0}),console.log(t),this._InternalJobService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.nameOfJob=null,this.newNotes=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._InternalJobService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.product.date=this.DatePipe.transform(this.DateEdit,"yyyy-MM-ddTHH:mm:ss"),this._InternalJobService.Edit({id:o.id,nameOfJob:o.nameOfJob,notes:o.notes,description:o.description,requirment:o.requirment,date:o.date}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_${(new Date).getTime()}.csv`,a.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._InternalJobService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="nameOfJob"}createRequirement(){return this.fb.group({requirement:new s.NI(null,[s.kI.required])})}addRequirement(){this.jobForm.get("jobRequirements").push(this.createRequirement())}removeRequirement(t){this.jobForm.get("jobRequirements").removeAt(t)}get jobRequirements(){return this.jobForm.get("jobRequirements")}editJob(t){t.id&&this.router.navigate(["/info/InternalJobs/edit",t.id])}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ct),e.Y36(u.ez),e.Y36(m.uU),e.Y36(s.qu),e.Y36(g.sK),e.Y36(m.uU),e.Y36(D.F0))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-internal-jobs"]],viewQuery:function(o,n){if(1&o&&e.Gf(As,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:29,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[3,"formGroup","submit"],[1,"field"],["htmlFor","nameOfJob"],["pInputText","","id","nameOfJob","formControlName","nameOfJob","type","text",3,"placeholder"],["htmlFor","description"],["pInputText","","id","description","formControlName","description","type","text",3,"placeholder"],[1,"field","field-switch"],["htmlFor","status"],["id","status","formControlName","status"],["htmlFor","newDate"],["formControlName","date","inputId","newDate",3,"showTime","showSeconds","iconDisplay","showIcon","placeholder"],["formArrayName","jobRequirements",1,"requirements-container"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button","p-button-text","p-button-success","w-fit",3,"click"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"label","disabled"],[1,"field",3,"formGroupName"],[3,"for"],["pInputText","","formControlName","requirement","placeholder","Enter Requirement",3,"id"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button","p-button-text","p-button-danger","w-fit",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","nameOfJob"],[1,"tableRow",3,"click"],[3,"value","click"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations","justify-content-center"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","nameOfJob"],["type","text","pInputText","","id","nameOfJob","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","DateEdit"],["inputId","DateEdit",3,"ngModel","iconDisplay","showIcon","showSeconds","placeholder","ngModelChange"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","requirment"],["id","requirment","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,ys,5,7,"ng-template",1)(3,qs,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Ns,36,37,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Ms,8,7,"ng-template",7)(10,vs,29,24,"ng-template",8)(11,Ds,37,35,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(13,Ps,27,30,"ng-template",4)(14,Ls,4,6,"ng-template",11),e.qZA(),e.TgZ(15,"p-dialog",12),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",13),e._UZ(18,"i",14),e.YNc(19,Js,6,4,"span",15),e.qZA(),e.YNc(20,Us,4,6,"ng-template",11),e.qZA(),e.TgZ(21,"p-dialog",12),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",13),e._UZ(24,"i",14),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Ss,4,6,"ng-template",11),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(37,He)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,He)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(39,He)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,31,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,He)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,33,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,35,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,s.x0,s.CE,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,L.f,W.Ql],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.requirements-container[_ngcontent-%COMP%]{max-height:150px;overflow:auto}.requirements-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:8px}.tableRow[_ngcontent-%COMP%]{cursor:pointer}"]})}return l})(),pt=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Es=["dt"];function Os(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.qZA(),e.TgZ(2,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedItems||!t.selectedItems.length)}}function Qs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.qZA()}}function Rs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",51)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"div",22)(4,"label"),e._uU(5," Deduction From Minutes: "),e._UZ(6,"input",52),e.qZA()(),e.TgZ(7,"div",22)(8,"label"),e._uU(9," Deduction To Minutes: "),e._UZ(10,"input",53),e.qZA()(),e.TgZ(11,"div",22)(12,"label"),e._uU(13," Deduction Factor: "),e._UZ(14,"input",54),e.qZA()(),e.TgZ(15,"div",22)(16,"label"),e._uU(17," Deduction Time In Minutes: "),e._UZ(18,"input",55),e.qZA()(),e.TgZ(19,"div",22)(20,"label"),e._uU(21," First Penalty In Days: "),e._UZ(22,"input",56),e.qZA()(),e.TgZ(23,"div",22)(24,"label"),e._uU(25," Second Penalty In Days: "),e._UZ(26,"input",57),e.qZA()(),e.TgZ(27,"div",22)(28,"label"),e._uU(29," Third Penalty In Days: "),e._UZ(30,"input",58),e.qZA()(),e.TgZ(31,"div",22)(32,"label"),e._uU(33," Fourth Penalty In Days: "),e._UZ(34,"input",59),e.qZA()(),e.TgZ(35,"div",22)(36,"label"),e._uU(37," Deduction In Money: "),e._UZ(38,"input",60),e.qZA()(),e.TgZ(39,"div",25),e._UZ(40,"p-checkbox",61),e.TgZ(41,"label",62),e._uU(42," Deduct The Latency"),e.qZA()(),e.TgZ(43,"div",25),e._UZ(44,"p-checkbox",63),e.TgZ(45,"label",64),e._uU(46," Is Deducted From Total Excuses"),e.qZA()(),e.TgZ(47,"div",25),e._UZ(48,"p-checkbox",65),e.TgZ(49,"label",66),e._uU(50," Is Performed Only One Time"),e.qZA()(),e.TgZ(51,"button",67),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.removeLateSetting(i))}),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.hij("Late Settings ",t+1," List :")}}function js(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"h5"),e._uU(2,"Add New"),e.qZA(),e.TgZ(3,"form",21),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.attendanceForm))}),e.TgZ(4,"div",22)(5,"label"),e._uU(6," Name (Arabic): "),e._UZ(7,"input",23),e.qZA()(),e.TgZ(8,"div",22)(9,"label"),e._uU(10," Name (English): "),e._UZ(11,"input",24),e.qZA()(),e.TgZ(12,"div",25),e._UZ(13,"p-checkbox",26),e.TgZ(14,"label",27),e._uU(15," Include Days Off Between Absent Days:"),e.qZA()(),e.TgZ(16,"div",22)(17,"label"),e._uU(18," First Day Penalty Deduction "),e._UZ(19,"input",28),e.qZA()(),e.TgZ(20,"div",22)(21,"label"),e._uU(22," Second Day Penalty Deduction "),e._UZ(23,"input",29),e.qZA()(),e.TgZ(24,"div",22)(25,"label"),e._uU(26," Third Day Penalty Deduction "),e._UZ(27,"input",30),e.qZA()(),e.TgZ(28,"div",22)(29,"label"),e._uU(30," Fourth Day Penalty Deduction "),e._UZ(31,"input",31),e.qZA()(),e.TgZ(32,"div",22)(33,"label"),e._uU(34," Fifth Day Penalty Deduction "),e._UZ(35,"input",32),e.qZA()(),e.TgZ(36,"div",25),e._UZ(37,"p-checkbox",33),e.TgZ(38,"label",34),e._uU(39," Calculate Late Attendance In Time"),e.qZA()(),e.TgZ(40,"div",25),e._UZ(41,"p-checkbox",35),e.TgZ(42,"label",36),e._uU(43," Calculate Late Attendance Per Month"),e.qZA()(),e.TgZ(44,"div",22)(45,"label",37),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"p-dropdown",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedExecuseCalculationType=n)})("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedExecuseCalculationTypeFun(n))}),e.ALo(49,"translate"),e.qZA()(),e.TgZ(50,"div",22)(51,"label"),e._uU(52," Max Monthly Late Minutes "),e._UZ(53,"input",39),e.qZA()(),e.TgZ(54,"div",22)(55,"label"),e._uU(56," Max Execuse Duration In Minutes "),e._UZ(57,"input",40),e.qZA()(),e.TgZ(58,"div",22)(59,"label"),e._uU(60,"Max Number Of Excuses Per Month "),e._UZ(61,"input",41),e.qZA()(),e.TgZ(62,"div",22)(63,"label"),e._uU(64,"First Missing Fingerprint "),e._UZ(65,"input",42),e.qZA()(),e.TgZ(66,"div",22)(67,"label"),e._uU(68,"Second Missing Fingerprint "),e._UZ(69,"input",43),e.qZA()(),e.TgZ(70,"div",22)(71,"label"),e._uU(72,"Third Missing Fingerprint "),e._UZ(73,"input",44),e.qZA()(),e.TgZ(74,"div",22)(75,"label"),e._uU(76,"Fourth Missing Fingerprint "),e._UZ(77,"input",45),e.qZA()(),e.TgZ(78,"div",22)(79,"label"),e._uU(80,"Fifth Missing Fingerprint "),e._UZ(81,"input",46),e.qZA()(),e.TgZ(82,"div",47),e.YNc(83,Rs,52,2,"div",48),e.TgZ(84,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addLateSetting())}),e.qZA()(),e.TgZ(85,"button",50),e._uU(86," Add New "),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.attendanceForm),e.xp6(43),e.Oqu(e.lcZ(47,8,"Select Execuse Calculation Type")),e.xp6(2),e.Q6J("ngModel",t.selectedExecuseCalculationType)("options",t.execuseCalculationTypes)("placeholder",e.lcZ(49,10,"Execuse Calculation Types"))("showClear",!0),e.xp6(35),e.Q6J("ngForOf",t.attendanceForm.get("lateSettingsList").controls),e.xp6(2),e.Q6J("disabled",t.attendanceForm.invalid)}}function Hs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",68)(1,"h5",69),e._uU(2,"Manage Items"),e.qZA(),e.TgZ(3,"span",70),e._UZ(4,"i",71),e.TgZ(5,"input",72),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.nameFilter)}}function Gs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",73),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",74),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4," Id "),e._UZ(5,"p-sortIcon",75),e.qZA(),e.TgZ(6,"th",76),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(7," Name "),e._UZ(8,"p-sortIcon",77),e.qZA(),e.TgZ(9,"th"),e._uU(10,"calculateLateAttendanceInTime"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"calculateLateAttendancePerMonth"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Actions"),e.qZA()()}}function Ks(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr",78),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",79),e.qZA(),e.TgZ(3,"td")(4,"span",80),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",80),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",80),e._uU(13,"calculateLateAttendanceInTime"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",80),e._uU(17,"calculateLateAttendancePerMonth"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"div",81)(21,"button",82),e.NdJ("click",function(n){const a=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.deleteProduct(a,n))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(4),e.hij(" ",t.name,""),e.xp6(4),e.hij(" ",t.calculateLateAttendanceInTime," "),e.xp6(4),e.hij(" ",t.calculateLateAttendancePerMonth," ")}}function Vs(l,r){1&l&&(e.TgZ(0,"small",89),e._uU(1,"Name is required."),e.qZA())}const Bs=l=>({"ng-invalid ng-dirty":l});function Ys(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",83)(1,"label",84),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"input",85),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(4,Vs,2,0,"small",86),e.qZA(),e.TgZ(5,"div",83)(6,"label",87),e._uU(7,"Notes"),e.qZA(),e.TgZ(8,"textarea",88),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(4,Bs,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(4),e.Q6J("ngModel",t.product.notes)}}function zs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA(),e.TgZ(1,"button",91),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.qZA()}}function $s(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Oqu(t.product.name)}}function Xs(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.qZA(),e.TgZ(1,"button",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.qZA()}}function Ws(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",92),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const We=()=>({width:"450px"});let er=(()=>{class l{constructor(t,o,n,i){this.messageService=t,this.attendenceConfigurationService=o,this.fb=n,this.router=i,this.allData=[],this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.valCheck=!1}ngOnInit(){this.endPoint="AttendanceConfiguration",this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"}],q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.attendenceConfigurationService.setCulture(t),this.attendenceConfigurationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.attendanceForm=this.fb.group({includeDaysOffBetweenTwoAbsentDays:[!1,s.kI.required],nameAr:["",s.kI.required],englishName:["",s.kI.required],firstDayPenaltyDeduction:[0,s.kI.required],secondDayPenaltyDeduction:[0,s.kI.required],thirdDayPenaltyDeduction:[0,s.kI.required],fourthDayPenaltyDeduction:[0,s.kI.required],fifthAndAboveDayPenaltyDeduction:[0,s.kI.required],calculateLateAttendanceInTime:[!1,s.kI.required],calculateLateAttendancePerMonth:[!1,s.kI.required],excuseCalculationType:[null,s.kI.required],maxMonthlyLateMinutes:[0,s.kI.required],maxExuseDurationInMinutes:[0,s.kI.required],maxNumberOfExcusesPerMonth:[0,s.kI.required],firstMissingFingerprint:[0,s.kI.required],secondMissingFingerprint:[0,s.kI.required],thirdMissingFingerprint:[0,s.kI.required],fourthMissingFingerprint:[0,s.kI.required],fifthMissingFingerprint:[0,s.kI.required],lateSettingsList:this.fb.array([this.createLateSettingGroup()])}),this.getExecuseCalculationTypesDropdown(),console.log(this.execuseCalculationTypes)}createLateSettingGroup(){return this.fb.group({deductionFromMinutes:[0,s.kI.required],deductionToMinutes:[0,s.kI.required],deductionFactor:[0,s.kI.required],deductedTimeInMinutes:[0,s.kI.required],firstPenaltyInDays:[0,s.kI.required],secondPenaltyInDays:[0,s.kI.required],thirdPenaltyInDays:[0,s.kI.required],fourthPenaltyInDays:[0,s.kI.required],deductTheLatency:[!1,s.kI.required],isDeductedFromTotalExcuses:[!1,s.kI.required],isPerformedOnlyOneTime:[!1,s.kI.required],deductionInMoney:[0,s.kI.required]})}addLateSetting(){this.attendanceForm.get("lateSettingsList").push(this.createLateSettingGroup())}removeLateSetting(t){this.attendanceForm.get("lateSettingsList").removeAt(t)}editProduct(t){this.product={...t},this.router.navigate(["/info/attendenceConfig/edit",t.id]),console.log(t)}confirmDelete(t){this.attendenceConfigurationService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){console.log("Form Data:",t),t.valid&&(t.patchValue({excuseCalculationType:this.selectedExecuseCalculationType?.id}),console.log("Form Data:",t),this.attendenceConfigurationService.Register(t.value).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Successful",detail:"You Added an Item Successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}))}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,i,a="asc"){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.attendenceConfigurationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems),console.log(a)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t,o){this.deleteProductDialog=!0,this.product={...t},o.stopPropagation()}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this.attendenceConfigurationService.Edit({id:o.id,name:o.name,notes:o.notes}).subscribe({next:()=>{this.hideDialog(),this.messageService.add({severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.attendenceConfigurationService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}getExecuseCalculationTypesDropdown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.execuseCalculationTypes=t.data}})}selectedExecuseCalculationTypeFun(t){this.selectedExecuseCalculationType=t.value,this.selectedExecuseCalculationTypeId=t.value.id}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(pt),e.Y36(s.qu),e.Y36(D.F0))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-attendence-configuration"]],viewQuery:function(o,n){if(1&o&&e.Gf(Es,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:24,vars:25,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","card p-fluid",4,"ngIf"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","Add New","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"disabled","click"],["pButton","","pRipple","","label","Export","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"click"],[1,"card","p-fluid"],[3,"formGroup","ngSubmit"],[1,"field","col-12","md:col-4"],["pInputText","","formControlName","nameAr","type","text"],["pInputText","","formControlName","englishName","type","text"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","ny","value","","binary","true"],["for","ny"],["formControlName","firstDayPenaltyDeduction","type","number","pInputText",""],["formControlName","secondDayPenaltyDeduction","type","number","pInputText",""],["formControlName","thirdDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fourthDayPenaltyDeduction","type","number","pInputText",""],["formControlName","fifthAndAboveDayPenaltyDeduction","type","number","pInputText",""],["formControlName","calculateLateAttendanceInTime","inputId","calculateLateAttendanceInTime","value","","binary","true"],["for","calculateLateAttendanceInTime"],["formControlName","calculateLateAttendancePerMonth","inputId","calculateLateAttendancePerMonth","value","","binary","true"],["for","calculateLateAttendancePerMonth"],["htmlFor","Employee"],["optionLabel","name","formControlName","excuseCalculationType",1,"w-fit",3,"ngModel","options","placeholder","showClear","ngModelChange","onChange"],["formControlName","maxMonthlyLateMinutes","type","number","pInputText",""],["formControlName","maxExuseDurationInMinutes","type","number","pInputText",""],["formControlName","maxNumberOfExcusesPerMonth","type","number","pInputText",""],["formControlName","firstMissingFingerprint","type","number","pInputText",""],["formControlName","secondMissingFingerprint","type","number","pInputText",""],["formControlName","thirdMissingFingerprint","type","number","pInputText",""],["formControlName","fourthMissingFingerprint","type","number","pInputText",""],["formControlName","fifthMissingFingerprint","type","number","pInputText",""],["formArrayName","lateSettingsList",1,"lateSettingsLists"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Late Setting",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],["pButton","","pRipple","","type","submit",1,"w-fit",3,"disabled"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["for","isPerformedOnlyOneTime"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[1,"tableRow",3,"click"],[3,"value"],[1,"p-column-title"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Os,3,1,"ng-template",1)(3,Qs,1,0,"ng-template",2),e.qZA(),e.YNc(4,js,87,12,"div",3),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(7,Hs,6,1,"ng-template",6)(8,Gs,15,0,"ng-template",7)(9,Ks,22,5,"ng-template",8),e.qZA(),e.TgZ(10,"p-dialog",9),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(11,Ys,9,6,"ng-template",10)(12,zs,2,0,"ng-template",11),e.qZA(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.TgZ(14,"div",13),e._UZ(15,"i",14),e.YNc(16,$s,5,1,"span",15),e.qZA(),e.YNc(17,Xs,2,0,"ng-template",11),e.qZA(),e.TgZ(18,"p-dialog",12),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(19,"div",13),e._UZ(20,"i",14),e.TgZ(21,"span"),e._uU(22,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(23,Ws,2,0,"ng-template",11),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngIf",n.showFormNew),e.xp6(1),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(22,We)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(23,We)),e.Q6J("visible",n.deleteProductDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(24,We)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.sg,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,s.x0,s.CE,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,$e.XZ],styles:[".btn-add[_ngcontent-%COMP%]{display:flex;margin-top:24px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0!important}.lateSettingsLists[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}.crud-operations[_ngcontent-%COMP%]{justify-content:center}.tableRow[_ngcontent-%COMP%]{cursor:pointer}"]})}return l})();const tr=["manageItems"];function nr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",57)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"div",8)(4,"label"),e._uU(5," Deduction From Minutes: "),e._UZ(6,"input",58),e.qZA()(),e.TgZ(7,"div",8)(8,"label"),e._uU(9," Deduction To Minutes: "),e._UZ(10,"input",59),e.qZA()(),e.TgZ(11,"div",8)(12,"label"),e._uU(13," Deduction Factor: "),e._UZ(14,"input",60),e.qZA()(),e.TgZ(15,"div",8)(16,"label"),e._uU(17," Deduction Time In Minutes: "),e._UZ(18,"input",61),e.qZA()(),e.TgZ(19,"div",8)(20,"label"),e._uU(21," First Penalty In Days: "),e._UZ(22,"input",62),e.qZA()(),e.TgZ(23,"div",8)(24,"label"),e._uU(25," Second Penalty In Days: "),e._UZ(26,"input",63),e.qZA()(),e.TgZ(27,"div",8)(28,"label"),e._uU(29," Third Penalty In Days: "),e._UZ(30,"input",64),e.qZA()(),e.TgZ(31,"div",8)(32,"label"),e._uU(33," Fourth Penalty In Days: "),e._UZ(34,"input",65),e.qZA()(),e.TgZ(35,"div",8)(36,"label"),e._uU(37," Deduction In Money: "),e._UZ(38,"input",66),e.qZA()(),e.TgZ(39,"div",16),e._UZ(40,"p-checkbox",67),e.TgZ(41,"label",68),e._uU(42," Deduct The Latency"),e.qZA()(),e.TgZ(43,"div",16),e._UZ(44,"p-checkbox",69),e.TgZ(45,"label",70),e._uU(46," Is Deducted From Total Excuses"),e.qZA()(),e.TgZ(47,"div",16),e._UZ(48,"p-checkbox",71),e.TgZ(49,"label",18),e._uU(50," Is Performed Only One Time"),e.qZA()(),e.TgZ(51,"button",72),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeLateSetting(i))}),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.hij("Late Settings ",t+1," List :")}}function or(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",73)(1,"p-fileUpload",74),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelect(n))}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("chooseLabel",e.lcZ(2,1,"Choose Image")))}function lr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateImage())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const ir=()=>({width:"450px"});let ar=(()=>{class l{constructor(t,o,n,i,a,p,c,_){this.attendenceConfigurationService=t,this.messageService=o,this.DatePipe=n,this.router=i,this.route=a,this.activatedRoute=p,this.translate=c,this.fb=_,this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.editForm=new s.cw({Id:new s.NI({value:this.currentId,disabled:!0}),calculateLateAttendanceInTime:new s.NI,calculateLateAttendancePerMonth:new s.NI,includeDaysOffBetweenTwoAbsentDays:new s.NI,firstMissingFingerprint:new s.NI,secondMissingFingerprint:new s.NI,thirdMissingFingerprint:new s.NI,fourthMissingFingerprint:new s.NI,fifthMissingFingerprint:new s.NI,firstDayPenaltyDeduction:new s.NI,secondDayPenaltyDeduction:new s.NI,thirdDayPenaltyDeduction:new s.NI,fourthDayPenaltyDeduction:new s.NI,fifthAndAboveDayPenaltyDeduction:new s.NI,maxMissingFingerPrintWithoutDeduction:new s.NI,maxMonthlyLateMinutes:new s.NI,maxNumberOfExcusesPerMonth:new s.NI,maxExuseDurationInMinutes:new s.NI,lateSettingsList:this.fb.array([]),excuseCalculationType:new s.NI,nameAr:new s.NI,englishName:new s.NI}),this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="AttendanceConfiguration",q.O.getMainLangChanges().subscribe(o=>{console.log("Main language changed to:",o),this.translate.use(o),this.attendenceConfigurationService.setCulture(o),this.attendenceConfigurationService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getDropDown(),this.getData().pipe((0,Ie.b)(o=>{this.allData=o.data,this.patchFormValues(this.allData),console.log("Data fetched:",this.allData)}),(0,Fe.U)(o=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.DatePipe.transform(this.allData.birthDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.joininDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.hirDate,"MM/dd/yyyy"),this.DatePipe.transform(this.allData.resignationDate,"MM/dd/yyyy"),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.calculateLateAttendanceInTime=t.calculateLateAttendanceInTime,this.calculateLateAttendancePerMonth=t.calculateLateAttendancePerMonth,this.includeDaysOffBetweenTwoAbsentDays=t.includeDaysOffBetweenTwoAbsentDays,this.firstMissingFingerprint=t.firstMissingFingerprint,this.secondMissingFingerprint=t.secondMissingFingerprint,this.thirdMissingFingerprint=t.thirdMissingFingerprint,this.fourthMissingFingerprint=t.fourthMissingFingerprint,this.fifthMissingFingerprint=t.fifthMissingFingerprint,this.firstDayPenaltyDeduction=t.firstDayPenaltyDeduction,this.secondDayPenaltyDeduction=t.secondDayPenaltyDeduction,this.thirdDayPenaltyDeduction=t.thirdDayPenaltyDeduction,this.fourthDayPenaltyDeduction=t.fourthDayPenaltyDeduction,this.fifthAndAboveDayPenaltyDeduction=t.fifthAndAboveDayPenaltyDeduction,this.maxMissingFingerPrintWithoutDeduction=t.maxMissingFingerPrintWithoutDeduction,this.maxMonthlyLateMinutes=t.maxMonthlyLateMinutes,this.maxNumberOfExcusesPerMonth=t.maxNumberOfExcusesPerMonth,this.maxExuseDurationInMinutes=t.maxExuseDurationInMinutes,this.patchFormData(t.lateSettingsList),this.nameAr=t.nameAr,this.englishName=t.englishName,this.selectedexcuseCalculationType=this.getObject(t.excuseCalculationType,this.dropdownItemsexcuseCalculationType)}submitForm(t){t.patchValue({excuseCalculationType:this.selectedexcuseCalculationType?.id}),this.editForm.get("Id").enable(),console.log(t.value),this.attendenceConfigurationService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Employee Edited Successfully"}),console.log(o),this.editForm.get("Id").disable()}}),console.log(t.value)}onGovernmentChange(t){console.log(t)}getData(){return this.attendenceConfigurationService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get lateSettingsList(){return this.editForm.get("lateSettingsList")}createLateSettingGroup(t){return this.fb.group({id:[t.id],attendanceConfigurationId:[t.attendanceConfigurationId],deductionFromMinutes:[t.deductionFromMinutes,s.kI.required],deductionToMinutes:[t.deductionToMinutes,s.kI.required],deductionFactor:[t.deductionFactor,s.kI.required],firstPenaltyInDays:[t.firstPenaltyInDays,s.kI.required],secondPenaltyInDays:[t.secondPenaltyInDays,s.kI.required],thirdPenaltyInDays:[t.thirdPenaltyInDays,s.kI.required],fourthPenaltyInDays:[t.fourthPenaltyInDays,s.kI.required],deductTheLatency:[t.deductTheLatency],deductedTimeInMinutes:[t.deductedTimeInMinutes,s.kI.required],isDeductedFromTotalExcuses:[t.isDeductedFromTotalExcuses],deductionInMoney:[t.deductionInMoney,s.kI.required],isPerformedOnlyOneTime:[t.isPerformedOnlyOneTime]})}patchFormData(t){this.lateSettingsList.clear(),t.forEach(o=>{this.lateSettingsList.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({deductionFromMinutes:[0,s.kI.required],deductionToMinutes:[0,s.kI.required],deductionFactor:[0,s.kI.required],deductedTimeInMinutes:[0,s.kI.required],firstPenaltyInDays:[0,s.kI.required],secondPenaltyInDays:[0,s.kI.required],thirdPenaltyInDays:[0,s.kI.required],fourthPenaltyInDays:[0,s.kI.required],deductTheLatency:[!1,s.kI.required],isDeductedFromTotalExcuses:[!1,s.kI.required],isPerformedOnlyOneTime:[!1,s.kI.required],deductionInMoney:[0,s.kI.required]})}addLateSetting(){this.editForm.get("lateSettingsList").push(this.createLateSettingGroupAdd())}getDropDown(){this.attendenceConfigurationService.getDropdownEnum("getExcuseCalculationType").subscribe({next:t=>{console.log(t),this.dropdownItemsexcuseCalculationType=t.data}})}removeLateSetting(t){this.editForm.get("lateSettingsList").removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(pt),e.Y36(u.ez),e.Y36(m.uU),e.Y36(D.F0),e.Y36(D.gz),e.Y36(D.gz),e.Y36(g.sK),e.Y36(s.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-attendence-config-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(tr,5),2&o){let i;e.iGM(i=e.CRH())&&(n.manageItems=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:122,vars:89,consts:[["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","Id",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameAr",3,"ngModel","ngModelChange"],["htmlFor","englishName"],["pInputText","","id","englishName","formControlName","englishName",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-3"],["htmlFor","excuseCalculationType"],["formControlName","excuseCalculationType","optionLabel","name",3,"options","ngModel","ngModelChange"],[1,"field","field-checkbox","col-12","md:col-4"],["formControlName","calculateLateAttendanceInTime","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["for","isPerformedOnlyOneTime"],["formControlName","calculateLateAttendancePerMonth","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["formControlName","includeDaysOffBetweenTwoAbsentDays","inputId","isPerformedOnlyOneTime","value","","binary","true",3,"ngModel","ngModelChange"],["htmlFor","firstMissingFingerprint"],["pInputText","","id","firstMissingFingerprint","formControlName","firstMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["pInputText","","id","secondMissingFingerprint","formControlName","secondMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["htmlFor","thirdMissingFingerprint"],["pInputText","","id","thirdMissingFingerprint","formControlName","thirdMissingFingerprint","type","number",3,"ngModel","ngModelChange"],["htmlFor","fourthMissingFingerprint"],["pInputText","","id","fourthMissingFingerprint","formControlName","fourthMissingFingerprint",3,"ngModel","ngModelChange"],["htmlFor","fifthMissingFingerprint"],["pInputText","","id","fifthMissingFingerprint","formControlName","fifthMissingFingerprint",3,"ngModel","ngModelChange"],["htmlFor","firstDayPenaltyDeduction"],["pInputText","","id","firstDayPenaltyDeduction","formControlName","firstDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["pInputText","","id","secondDayPenaltyDeduction","formControlName","secondDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["htmlFor","thirdDayPenaltyDeduction"],["pInputText","","id","thirdDayPenaltyDeduction","formControlName","thirdDayPenaltyDeduction","type","number",3,"ngModel","ngModelChange"],["htmlFor","fourthDayPenaltyDeduction"],["pInputText","","id","fourthDayPenaltyDeduction","formControlName","fourthDayPenaltyDeduction",3,"ngModel","ngModelChange"],["htmlFor","fifthAndAboveDayPenaltyDeduction"],["pInputText","","id","fifthAndAboveDayPenaltyDeduction","formControlName","fifthAndAboveDayPenaltyDeduction",3,"ngModel","ngModelChange"],["htmlFor","maxExuseDurationInMinutes"],["pInputText","","id","maxExuseDurationInMinutes","formControlName","maxExuseDurationInMinutes",3,"ngModel","ngModelChange"],["htmlFor","maxMissingFingerPrintWithoutDeduction"],["pInputText","","id","maxMissingFingerPrintWithoutDeduction","formControlName","maxMissingFingerPrintWithoutDeduction",3,"ngModel","ngModelChange"],["htmlFor","maxMonthlyLateMinutes"],["pInputText","","id","maxMonthlyLateMinutes","formControlName","maxMonthlyLateMinutes",3,"ngModel","ngModelChange"],["htmlFor","maxNumberOfExcusesPerMonth"],["pInputText","","id","maxNumberOfExcusesPerMonth","formControlName","maxNumberOfExcusesPerMonth",3,"ngModel","ngModelChange"],["formArrayName","lateSettingsList",1,"lateSettingsList","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Late Setting",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","deductionFromMinutes","type","number","pInputText",""],["pInputText","","formControlName","deductionToMinutes","type","number"],["pInputText","","formControlName","deductionFactor","type","number"],["pInputText","","formControlName","deductedTimeInMinutes","type","number"],["pInputText","","formControlName","firstPenaltyInDays","type","number"],["pInputText","","formControlName","secondPenaltyInDays","type","number"],["pInputText","","formControlName","thirdPenaltyInDays","type","number"],["pInputText","","formControlName","fourthPenaltyInDays","type","number"],["pInputText","","formControlName","deductionInMoney","type","number"],["formControlName","deductTheLatency","inputId","deductTheLatency","value","","binary","true"],["for","deductTheLatency"],["formControlName","isDeductedFromTotalExcuses","inputId","isDeductedFromTotalExcuses","value","","binary","true"],["for","isDeductedFromTotalExcuses"],["formControlName","isPerformedOnlyOneTime","inputId","isPerformedOnlyOneTime","value","","binary","true"],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-image","name","demo[]","accept","image/*","maxFileSize","1000000",1,"p-button-info","p-button-text",3,"chooseLabel","onSelect"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"form",0),e.NdJ("submit",function(){return n.submitForm(n.editForm)}),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(a){return n.currentId=a}),e.qZA()(),e.TgZ(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(a){return n.nameAr=a}),e.qZA()(),e.TgZ(16,"div",8)(17,"label",11),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(a){return n.englishName=a}),e.qZA()(),e.TgZ(21,"div",13)(22,"label",14),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"p-dropdown",15),e.NdJ("ngModelChange",function(a){return n.selectedexcuseCalculationType=a}),e.qZA()(),e.TgZ(26,"div",16)(27,"p-checkbox",17),e.NdJ("ngModelChange",function(a){return n.calculateLateAttendanceInTime=a}),e.qZA(),e.TgZ(28,"label",18),e._uU(29," Calculate Late Attendance In Time"),e.qZA()(),e.TgZ(30,"div",16)(31,"p-checkbox",19),e.NdJ("ngModelChange",function(a){return n.calculateLateAttendancePerMonth=a}),e.qZA(),e.TgZ(32,"label",18),e._uU(33," Calculate Late Attendance Per Month"),e.qZA()(),e.TgZ(34,"div",16)(35,"p-checkbox",20),e.NdJ("ngModelChange",function(a){return n.includeDaysOffBetweenTwoAbsentDays=a}),e.qZA(),e.TgZ(36,"label",18),e._uU(37," Include Days Off Between Two Absent Days"),e.qZA()(),e.TgZ(38,"div",8)(39,"label",21),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"input",22),e.NdJ("ngModelChange",function(a){return n.firstMissingFingerprint=a}),e.qZA()(),e.TgZ(43,"div",8)(44,"label",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"input",23),e.NdJ("ngModelChange",function(a){return n.secondMissingFingerprint=a}),e.qZA()(),e.TgZ(48,"div",8)(49,"label",24),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"input",25),e.NdJ("ngModelChange",function(a){return n.thirdMissingFingerprint=a}),e.qZA()(),e.TgZ(53,"div",8)(54,"label",26),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"input",27),e.NdJ("ngModelChange",function(a){return n.fourthMissingFingerprint=a}),e.qZA()(),e.TgZ(58,"div",8)(59,"label",28),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"input",29),e.NdJ("ngModelChange",function(a){return n.fifthMissingFingerprint=a}),e.qZA()(),e.TgZ(63,"div",8)(64,"label",30),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"input",31),e.NdJ("ngModelChange",function(a){return n.firstDayPenaltyDeduction=a}),e.qZA()(),e.TgZ(68,"div",8)(69,"label",30),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"input",32),e.NdJ("ngModelChange",function(a){return n.secondDayPenaltyDeduction=a}),e.qZA()(),e.TgZ(73,"div",8)(74,"label",33),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"input",34),e.NdJ("ngModelChange",function(a){return n.thirdDayPenaltyDeduction=a}),e.qZA()(),e.TgZ(78,"div",8)(79,"label",35),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"input",36),e.NdJ("ngModelChange",function(a){return n.fourthDayPenaltyDeduction=a}),e.qZA()(),e.TgZ(83,"div",8)(84,"label",37),e._uU(85),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"input",38),e.NdJ("ngModelChange",function(a){return n.fifthAndAboveDayPenaltyDeduction=a}),e.qZA()(),e.TgZ(88,"div",8)(89,"label",39),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"input",40),e.NdJ("ngModelChange",function(a){return n.maxExuseDurationInMinutes=a}),e.qZA()(),e.TgZ(93,"div",8)(94,"label",41),e._uU(95),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"input",42),e.NdJ("ngModelChange",function(a){return n.maxMissingFingerPrintWithoutDeduction=a}),e.qZA()(),e.TgZ(98,"div",8)(99,"label",43),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"input",44),e.NdJ("ngModelChange",function(a){return n.maxMonthlyLateMinutes=a}),e.qZA()(),e.TgZ(103,"div",8)(104,"label",45),e._uU(105),e.ALo(106,"translate"),e.qZA(),e.TgZ(107,"input",46),e.NdJ("ngModelChange",function(a){return n.maxNumberOfExcusesPerMonth=a}),e.qZA()(),e.TgZ(108,"div",47),e.YNc(109,nr,52,2,"div",48),e.TgZ(110,"button",49),e.NdJ("click",function(){return n.addLateSetting()}),e.qZA()(),e.TgZ(111,"div",50)(112,"div",51)(113,"button",52),e._UZ(114,"i",53),e.TgZ(115,"span"),e._uU(116),e.ALo(117,"translate"),e.qZA()()()()()()()()(),e.TgZ(118,"p-dialog",54),e.NdJ("visibleChange",function(a){return n.uploadImageDialog=a}),e.ALo(119,"translate"),e.YNc(120,or,3,3,"ng-template",55)(121,lr,4,6,"ng-template",56),e.qZA()),2&o&&(e.xp6(1),e.Q6J("formGroup",n.editForm),e.xp6(7),e.Oqu(e.lcZ(9,48,"Id")),e.xp6(2),e.Q6J("ngModel",n.currentId),e.xp6(3),e.Oqu(e.lcZ(14,50,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",n.nameAr),e.xp6(3),e.Oqu(e.lcZ(19,52,"English Name")),e.xp6(2),e.Q6J("ngModel",n.englishName),e.xp6(3),e.Oqu(e.lcZ(24,54,"excuseCalculationType")),e.xp6(2),e.Q6J("options",n.dropdownItemsexcuseCalculationType)("ngModel",n.selectedexcuseCalculationType),e.xp6(2),e.Q6J("ngModel",n.calculateLateAttendanceInTime),e.xp6(4),e.Q6J("ngModel",n.calculateLateAttendancePerMonth),e.xp6(4),e.Q6J("ngModel",n.includeDaysOffBetweenTwoAbsentDays),e.xp6(5),e.Oqu(e.lcZ(41,56,"firstMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.firstMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(46,58,"secondMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.secondMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(51,60,"thirdMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.thirdMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(56,62,"fourthMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.fourthMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(61,64,"fifthMissingFingerprint")),e.xp6(2),e.Q6J("ngModel",n.fifthMissingFingerprint),e.xp6(3),e.Oqu(e.lcZ(66,66,"firstDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.firstDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(71,68,"secondDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.secondDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(76,70,"thirdDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.thirdDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(81,72,"fourthDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.fourthDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(86,74,"fifthAndAboveDayPenaltyDeduction")),e.xp6(2),e.Q6J("ngModel",n.fifthAndAboveDayPenaltyDeduction),e.xp6(3),e.Oqu(e.lcZ(91,76,"maxExuseDurationInMinutes")),e.xp6(2),e.Q6J("ngModel",n.maxExuseDurationInMinutes),e.xp6(3),e.Oqu(e.lcZ(96,78,"maxMissingFingerPrintWithoutDeduction")),e.xp6(2),e.Q6J("ngModel",n.maxMissingFingerPrintWithoutDeduction),e.xp6(3),e.Oqu(e.lcZ(101,80,"maxMonthlyLateMinutes")),e.xp6(2),e.Q6J("ngModel",n.maxMonthlyLateMinutes),e.xp6(3),e.Oqu(e.lcZ(106,82,"maxNumberOfExcusesPerMonth")),e.xp6(2),e.Q6J("ngModel",n.maxNumberOfExcusesPerMonth),e.xp6(2),e.Q6J("ngForOf",n.lateSettingsList.controls),e.xp6(7),e.hij(" ",e.lcZ(117,84,"Save")," "),e.xp6(2),e.Akn(e.DdM(88,ir)),e.Q6J("visible",n.uploadImageDialog)("header",e.lcZ(119,86,"Update Profile Image"))("modal",!0))},dependencies:[Z.l,m.sg,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,g.X$,C.g,u.jx,w.H,oe.p,x.Hq,N.V,T.FN,y.o,I.Lt,$e.XZ],styles:[".lateSettingsList[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-block:24px;background-color:#eee;padding:16px;border-radius:16px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.field-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}"]})}return l})(),sr=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getEmployeeByDepartment(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeesByDepartmentId?DepartmentId=${t}&culture=${this.culture}`)}UpdateEmployeesShift(t){return this.http.get(`${this.baseurl}/Employee/UpdateEmployeesShift`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),rr=(()=>{class l{constructor(t,o){this._SetEmployeeShiftsService=t,this.messageService=o,this.selectedEmployeeIds=[],this.registerForm={}}ngOnInit(){this.endPoint="Employee",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._SetEmployeeShiftsService.setCulture(t),this._SetEmployeeShiftsService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this._SetEmployeeShiftsService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"})}ChangeEmployees(t){console.log(t.id),this._SetEmployeeShiftsService.getEmployeeByDepartment(t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,console.log(o)},error:o=>{console.log(o)}})}onSelectEmployees(t){this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.id)}),console.log(this.selectedEmployeeIds)}onSelectShift(t){console.log(t),this.selectedShiftId=t.value.id,console.log(this.selectedShiftId)}registerSubmit(){this.registerForm={shiftId:this.selectedShiftId,employeeIds:this.selectedEmployeeIds},this._SetEmployeeShiftsService.UpdateEmployeesShift(this.registerForm).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"item inserted successfully",life:3e3})}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(sr),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-set-employee-shifts"]],standalone:!0,features:[e._Bn([u.ez,m.uU,g.sK]),e.jDz],decls:34,vars:26,consts:[[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"field","col-12","md:col-12",3,"ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],[1,"p-fluid","grid"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange","onChange"],["htmlFor","employee"],["optionLabel","name","placeholder","Select Employees",3,"options","ngModel","ngModelChange","onChange"],["htmlFor","shift"],["optionLabel","name",3,"options","placeholder","onChange"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["type","submit","pButton","","value","Save",1,"flex","justify-content-center"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.registerSubmit()}),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p-dropdown",10),e.NdJ("ngModelChange",function(a){return n.selectedDepartment=a})("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"div",8)(18,"label",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p-multiSelect",12),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a})("onChange",function(a){return n.onSelectEmployees(a)}),e.qZA()(),e.TgZ(22,"div",8)(23,"label",13),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"p-dropdown",14),e.NdJ("onChange",function(a){return n.onSelectShift(a)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",15)(29,"div",7)(30,"div",16)(31,"button",17),e._uU(32),e.ALo(33,"translate"),e.qZA()()()()()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,12,"Assign New Shift For Some Employees")),e.xp6(8),e.Oqu(e.lcZ(14,14,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(16,16,"Select Department")),e.xp6(4),e.Oqu(e.lcZ(20,18,"Department Employees")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("ngModel",n.selectedEmployee),e.xp6(3),e.Oqu(e.lcZ(25,20,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("placeholder",e.lcZ(27,22,"Select Shift")),e.xp6(6),e.hij(" ",e.lcZ(33,24,"Save")," "))},dependencies:[Z.l,s._Y,s.JJ,s.JL,s.On,s.F,g.X$,C.g,x.Hq,T.FN,I.Lt,Xe.NU]})}return l})(),cr=(()=>{class l extends b.P{constructor(t){super(t)}getDropDown(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getDropDownManager(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getShiftById(t){return this.http.get(`${this.baseurl}/shift/${t}`)}getPartationByDepartmentId(t){return this.http.get(`${this.baseurl}/Partation/GetByDepartmentId?DepartmentId=${t}`)}GetEmployeeOfMangerDropDown(t){return this.http.get(`${this.baseurl}/Employee/GetEmployeeOfMangerDropDown?MangerId=${t}`)}GetPage(t){return this.http.post(`${this.baseurl}/${this.endPoint}/GetEmployeeFingerprint`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var he=f(3514);const pr=["dt"];function dr(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select a Partition")," ")}}function ur(l,r){if(1&l&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"translate")),2&l){const t=r.$implicit;e.hij(" ",t?e.lcZ(1,1,t.name):e.lcZ(2,3,"Select Employee")," ")}}function mr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",31)(1,"h5",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",33),e._UZ(5,"i",34),e.TgZ(6,"input",35),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function gr(l,r){if(1&l&&(e.TgZ(0,"th",37),e._uU(1),e._UZ(2,"p-treeTableSortIcon",38),e.qZA()),2&l){const t=r.$implicit;e.Q6J("ttSortableColumn",t.field),e.xp6(1),e.hij(" ",t.header," "),e.xp6(1),e.Q6J("field",t.field)}}function _r(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,gr,3,3,"th",36),e.qZA()),2&l){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function hr(l,r){if(1&l&&e._UZ(0,"p-treeTableToggler",42),2&l){const t=e.oxw(2).$implicit;e.Q6J("rowNode",t)}}function fr(l,r){if(1&l&&(e.TgZ(0,"td"),e.YNc(1,hr,1,1,"p-treeTableToggler",41),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&l){const t=r.$implicit,o=r.index,n=e.oxw().rowData;e.xp6(1),e.Q6J("ngIf",0===o),e.xp6(2),e.hij(" ",n[t.field]," ")}}function Zr(l,r){if(1&l&&(e.TgZ(0,"tr",39),e.YNc(1,fr,4,2,"td",40),e.qZA()),2&l){const o=r.columns;e.Q6J("ttRow",r.$implicit),e.xp6(1),e.Q6J("ngForOf",o)}}let Cr=(()=>{class l{constructor(t,o,n){this._AllEmployeeFingerPrintsService=t,this.messageService=o,this.datePipe=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.submitted=!1,this.productDialog=!1,this.sortField="id",this.sortOrder="asc",this.selectedEmployee=null,this.selectedPartition=null,this.selectedEmployeeManager=null,this.selectedDepartment=null,this.selectedShift=null,this.selectedJob=null,this.selectedLocation=null,this.selectedDateFrom=null,this.selectedDateTo=null}ngOnInit(){this.endPoint="FingerPrint",this.isCollapsed=!0,this._AllEmployeeFingerPrintsService.setEndPoint(this.endPoint),this.cols=[{field:"employeeName",header:"Employee Name"},{field:"locationName",header:"Location Names"},{field:"dateAndTime",header:"Date And Times"}],this.getAllDropDowns(),this.loadFilteredData()}getDistinctNumberLocations(t){let o=[];return t.map(i=>o.push(i.locationName)),[...new Set(o)].length}getTreeTable(t){return this.parentData=[],t.forEach(o=>{let n=this.getDistinctNumberLocations(o.timelocation),i={data:{employeeName:o.employeeName,dateAndTime:this.datePipe.transform(o.date,"dd/MM/yyyy"),locationName:`${n} ${n>1?"Locations":"Location"}`},children:[]};o.timelocation.map(a=>{const _=this.datePipe.transform(new Date(`1970-01-01T${a.fingerprintTimes}`),"hh:mm a");i.children.push({data:{employeeName:1,dateAndTime:_,locationName:a.locationName}})}),this.parentData.push(i)}),console.log("parentData"),console.log(this.parentData),this.parentData}getAllDropDowns(){this.getDropDownFieldManager({field:"dropdownItemsEmployeeManager"}),this.getDropDownField({field:"dropdownItemsLocations",enum:"Location"}),this.getDropDownField({field:"dropdownItemsDepartment",enum:"Department"}),this.getDropDownField({field:"dropdownItemsShift",enum:"Shift"}),this.getDropDownField({field:"dropdownItemsJob",enum:"Job"})}getDropDownField(t){this._AllEmployeeFingerPrintsService.getDropDown(t.enum).subscribe({next:o=>{this[t.field]=o.data}})}getDropDownFieldManager(t){this._AllEmployeeFingerPrintsService.getDropDownManager().subscribe({next:o=>{this[t.field]=o.data}})}onFilterClickButton(){this.isCollapsed=!this.isCollapsed}onFilter(){let t,o;console.log(this.isCollapsed),(this.selectedDateFrom||this.selectedDateTo)&&(t=this.datePipe.transform(this.selectedDateFrom,"yyyy-MM-dd"),o=this.datePipe.transform(this.selectedDateTo,"yyyy-MM-dd")),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob,t,o)}onChangeDepartment(){}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}setFieldsNulls(){this.selectedEmployee=null,this.selectedDepartment=null,this.selectedEmployeeManager=null,this.selectedLocation=null,this.selectedShift=null,this.selectedPartition=null,this.selectedJob=null}jsonToFormData(t){const o=new FormData;return Object.keys(t).forEach(n=>{o.append(n,t[n])}),o}loadData(t,o,n,i,a,p,c,_,F,Y,ed,td,nd,od){this.loading=!0,console.log("selected Employee"),console.log(p);let tt={PageNumber:t,PageSize:o,FilterValue:n,FilterType:i,SortType:a,EmployeeId:p?.id,DepartmentId:c?.id,MangerId:_?.id,LocationId:F?.id,ShiftId:Y?.id,PartationId:ed?.id,JobId:td?.id,DateFrom:nd,DateTo:od};tt.SortType=this.sortOrder,console.log("FilteredData From here"),console.log(tt);let ld=this.jsonToFormData(tt);this._AllEmployeeFingerPrintsService.GetPage(ld).subscribe({next:ut=>{this.allData=ut.data,this.getTreeTable(this.allData),this.totalItems=ut.totalItems,this.loading=!1,console.log(this.selectedItems)}})}whenChangeDepartment(){this._AllEmployeeFingerPrintsService.getPartationByDepartmentId(this.selectedDepartment.id).subscribe({next:t=>{this.dropdownItemsPartition=t.data}})}whenChangeManager(){this._AllEmployeeFingerPrintsService.GetEmployeeOfMangerDropDown(this.selectedEmployeeManager.id).subscribe({next:t=>{this.dropdownItemsEmployee=t.data}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder,this.selectedEmployee,this.selectedDepartment,this.selectedEmployeeManager,this.selectedLocation,this.selectedShift,this.selectedPartition,this.selectedJob)}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_`+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}selectSpecEmployee(t){this.selectedEmployee=t.value}selectDateTo(t){console.log(t),this.selectedDateTo=t}selectDateFrom(t){console.log(t),this.selectedDateFrom=t}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(cr),e.Y36(u.ez),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-all-employees-fingerPrints"]],viewQuery:function(o,n){if(1&o&&e.Gf(pr,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},standalone:!0,features:[e._Bn([u.ez,m.uU,me.j]),e.jDz],decls:69,vars:90,consts:[[3,"header","toggleable","collapsed","collapsedChange"],[1,"p-fluid","grid",3,"ngSubmit"],[1,"field","col-4"],["htmlFor","department"],["name","selectedDepartment","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange","onChange"],["htmlFor","partition"],["optionLabel","name","name","selectedPartition",3,"options","ngModel","showClear","ngModelChange"],["pTemplate","selectedItem"],["htmlFor","EmployeeManager"],["name","selectedEmployeeManager","optionLabel","name",3,"ngModel","options","showClear","placeholder","ngModelChange","onChange"],["htmlFor","selectEmployee"],["optionLabel","name","name","selectedEmployee",3,"ngModel","options","showClear","ngModelChange","onChange"],["htmlFor","location"],["name","selectedLocation","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange"],["htmlFor","shift"],["name","selectedShift","optionLabel","name",3,"options","ngModel","placeholder","showClear","ngModelChange"],["htmlFor","job"],["optionLabel","name","name","selectedJob",3,"options","ngModel","placeholder","showClear","ngModelChange"],["for","selectedDateFrom"],["name","selectedDateFrom","inputId","selectedDateFrom",3,"ngModel","iconDisplay","showIcon","placeholder","ngModelChange","onSelect"],["for","selectedDateTo"],["name","selectedDateTo","inputId","selectedDateTo",3,"ngModel","iconDisplay","showIcon","placeholder","ngModelChange","onSelect"],[1,"field","col-12","lg:col-2"],["type","submit","pButton","",1,"ms-5","text-center",3,"click"],[1,"pi","pi-filter"],[1,"px-2"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","showCurrentPageReport","lazy","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Global Search",3,"ngModel","ngModelChange","input"],[3,"ttSortableColumn",4,"ngFor","ngForOf"],[3,"ttSortableColumn"],[3,"field"],[3,"ttRow"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[3,"rowNode"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.NdJ("collapsedChange",function(a){return n.isCollapsed=a}),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return n.onFilter()}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p-dropdown",4),e.NdJ("ngModelChange",function(a){return n.selectedDepartment=a})("onChange",function(){return n.whenChangeDepartment()}),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",2)(11,"label",5),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"p-dropdown",6),e.NdJ("ngModelChange",function(a){return n.selectedPartition=a}),e.YNc(15,dr,3,5,"ng-template",7),e.qZA()(),e.TgZ(16,"div",2)(17,"label",8),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"p-dropdown",9),e.NdJ("ngModelChange",function(a){return n.selectedEmployeeManager=a})("onChange",function(){return n.whenChangeManager()}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",2)(23,"label",10),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"p-dropdown",11),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a})("onChange",function(a){return n.selectSpecEmployee(a)}),e.YNc(27,ur,3,5,"ng-template",7),e.qZA()(),e.TgZ(28,"div",2)(29,"label",12),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"p-dropdown",13),e.NdJ("ngModelChange",function(a){return n.selectedLocation=a}),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",2)(35,"label",14),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p-dropdown",15),e.NdJ("ngModelChange",function(a){return n.selectedShift=a}),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",2)(41,"label",16),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"p-dropdown",17),e.NdJ("ngModelChange",function(a){return n.selectedJob=a}),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",2)(47,"label",18),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"p-calendar",19),e.NdJ("ngModelChange",function(a){return n.selectedDateFrom=a})("onSelect",function(a){return n.selectDateFrom(a)}),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",2)(53,"label",20),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"p-calendar",21),e.NdJ("ngModelChange",function(a){return n.selectedDateTo=a})("onSelect",function(a){return n.selectDateTo(a)}),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",22)(59,"button",23),e.NdJ("click",function(){return n.onFilterClickButton()}),e._UZ(60,"i",24),e.TgZ(61,"span",25),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()(),e.TgZ(64,"p-treeTable",26,27),e.NdJ("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(66,mr,7,4,"ng-template",28)(67,_r,2,1,"ng-template",29)(68,Zr,2,2,"ng-template",30),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,54,"Filter"))("toggleable",!0)("collapsed",n.isCollapsed),e.xp6(5),e.Oqu(e.lcZ(7,56,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(9,58,"Select a Department"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(13,60,"Partition")),e.xp6(2),e.Q6J("options",n.dropdownItemsPartition)("ngModel",n.selectedPartition)("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(19,62,"Employee Managers")),e.xp6(2),e.Q6J("ngModel",n.selectedEmployeeManager)("options",n.dropdownItemsEmployeeManager)("showClear",!0)("placeholder",e.lcZ(21,64,"Select Employee Manager")),e.xp6(4),e.Oqu(e.lcZ(25,66,"Employees")),e.xp6(2),e.Q6J("ngModel",n.selectedEmployee)("options",n.dropdownItemsEmployee)("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(31,68,"Location")),e.xp6(2),e.Q6J("options",n.dropdownItemsLocations)("ngModel",n.selectedLocation)("placeholder",e.lcZ(33,70,"Select a Location"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(37,72,"Shift")),e.xp6(2),e.Q6J("options",n.dropdownItemsShift)("ngModel",n.selectedShift)("placeholder",e.lcZ(39,74,"Select a Shift"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(43,76,"Job")),e.xp6(2),e.Q6J("options",n.dropdownItemsJob)("ngModel",n.selectedJob)("placeholder",e.lcZ(45,78,"Select a Job"))("showClear",!0),e.xp6(4),e.Oqu(e.lcZ(49,80,"Date From")),e.xp6(2),e.Q6J("ngModel",n.selectedDateFrom)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(51,82,"mm/dd/yyyy")),e.xp6(4),e.Oqu(e.lcZ(55,84,"Date To")),e.xp6(2),e.Q6J("ngModel",n.selectedDateTo)("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(57,86,"mm/dd/yyyy")),e.xp6(6),e.hij(" ",e.lcZ(63,88,"Filter Finger Print")," "),e.xp6(2),e.Q6J("value",n.parentData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("showCurrentPageReport",!0)("lazy",!0))},dependencies:[Z.l,m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,g.X$,C.g,u.jx,x.Hq,T.FN,y.o,I.Lt,z.s,he.iw,he.gc,he.OB,he.He,he.V4,L.f]})}return l})(),xr=(()=>{class l extends b.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Tr=["dt"];function br(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!0)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!0)}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,4,"Accept All"))("disabled",t.isDisabled()),e.xp6(2),e.Q6J("label",e.lcZ(4,6,"Reject All"))("disabled",t.isDisabled())}}function Ar(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function yr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAcceptAll())}),e.qZA()}}function qr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmRejectAll())}),e.qZA()}}function wr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",49)(1,"h5",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",51),e._UZ(5,"i",52),e.TgZ(6,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function Nr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",54),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",55),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",56),e.qZA(),e.TgZ(7,"th",57),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",58),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"th"),e._uU(48),e.ALo(49,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,15,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,17,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,19,"Job")),e.xp6(3),e.Oqu(e.lcZ(16,21,"Month")),e.xp6(3),e.Oqu(e.lcZ(19,23,"Year")),e.xp6(3),e.Oqu(e.lcZ(22,25,"Basic Amount")),e.xp6(3),e.Oqu(e.lcZ(25,27,"Actual Amount")),e.xp6(3),e.Oqu(e.lcZ(28,29,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(31,31,"Reason")),e.xp6(3),e.Oqu(e.lcZ(34,33,"Notes")),e.xp6(3),e.Oqu(e.lcZ(37,35,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(40,37,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(43,39,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(46,41,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(49,43,"Actions")))}const k=l=>({"null-color":l}),Mr=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),vr=l=>({cursor:l});function Dr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",59),e.qZA(),e.TgZ(3,"td")(4,"span",60),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",61)(8,"span",60),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",62)(12,"span",60),e._uU(13,"jobName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",61)(16,"span",60),e._uU(17,"month"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",61)(20,"span",60),e._uU(21,"year"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",63)(24,"span",60),e._uU(25,"basicAmount"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",63)(28,"span",60),e._uU(29,"actualAmount"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",61)(32,"span"),e._uU(33),e.qZA()(),e.TgZ(34,"td",61)(35,"span",60),e._uU(36,"reason"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"td",61)(39,"span",60),e._uU(40,"notes"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"td",61)(43,"span",60),e._uU(44,"creationTime"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"td",61)(47,"span",60),e._uU(48,"lastModificationTime"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"td",61)(51,"span",60),e._uU(52,"creatorName"),e.qZA(),e._uU(53),e.qZA(),e.TgZ(54,"td",61)(55,"span",60),e._uU(56,"lastModifierName"),e.qZA(),e._uU(57),e.qZA(),e.TgZ(58,"td")(59,"div",64)(60,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.acceptRequest(i))}),e.qZA(),e.TgZ(61,"button",66),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.rejectRequest(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,k,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,k,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,k,!t.month)),e.xp6(3),e.hij(" ",o.getMonthNameById(t.month)," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,k,!t.year)),e.xp6(3),e.hij(" ",t.year," "),e.xp6(1),e.Q6J("ngClass",e.VKq(40,k,!t.basicAmount)),e.xp6(3),e.hij(" ",t.basicAmount," "),e.xp6(1),e.Q6J("ngClass",e.VKq(42,k,!t.actualAmount)),e.xp6(3),e.hij(" ",t.actualAmount," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(44,Mr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,k,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(50,k,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(52,k,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(54,k,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(56,k,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(58,k,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(60,vr,0!==t.requestType?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.requestType),e.xp6(1),e.Q6J("disabled",0!==t.requestType)}}function Ir(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",67),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",69),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",69),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",72),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",74),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function Fr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Pr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function Lr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function Jr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ce=()=>({width:"450px"});let Ur=(()=>{class l{constructor(t,o,n,i){this.kpiService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.cw({employeeId:new s.NI(null),mangerId:new s.NI(null),year:new s.NI(null),month:new s.NI(null),requestType:new s.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.cw({employeeId:new s.NI(null),reason:new s.NI(null),fromDay:new s.NI(null),toDay:new s.NI(null),missionType:new s.NI(null),location:new s.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="Kpi",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.kpiService.setCulture(t),this.kpiService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}getDropDowns(){this.kpiService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.kpiService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.kpiService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.kpiService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.kpiService.updateRequestType({id:t.id,requestType:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.kpiService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:c,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;console.log(t.value);const p={...Object.fromEntries(Object.entries(t.value).filter(([_,F])=>null!==F)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.kpiService.GetPage(p).subscribe({next:c=>{this.allData=c.data,console.log(c.data)},error:c=>{console.log(c)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let i=t-3;i<=n;i++)this.allYears.push(i)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,1).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems);const t=[];this.selectedItems.forEach(o=>{0==o.requestType&&t.push(o.id)}),t&&this.kpiService.updateRequestTypeRange(t,2).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(xr),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-kpi"]],viewQuery:function(o,n){if(1&o&&e.Gf(Tr,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:98,vars:90,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["filter","true","optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","to"],["inputId","to","optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visible","modal","visibleChange"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-dropdown",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-dropdown",15),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-dropdown",17),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,br,5,8,"ng-template",23)(47,Ar,2,4,"ng-template",24),e.qZA(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.acceptAllDialogue=a}),e.TgZ(49,"div",26),e._UZ(50,"i",27),e.TgZ(51,"span"),e._uU(52,"Are you sure you want to Accept All Requests ?"),e.qZA()(),e.YNc(53,yr,2,0,"ng-template",28),e.qZA(),e.TgZ(54,"p-dialog",29),e.NdJ("visibleChange",function(a){return n.rejectAllDialogue=a}),e.TgZ(55,"div",26),e._UZ(56,"i",27),e.TgZ(57,"span"),e._uU(58,"Are you sure you want to Reject All Requests ?"),e.qZA()(),e.YNc(59,qr,2,0,"ng-template",28),e.qZA(),e.TgZ(60,"p-table",30,31),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(62,wr,7,4,"ng-template",32)(63,Nr,50,45,"ng-template",33)(64,Dr,62,62,"ng-template",34),e.qZA(),e.TgZ(65,"p-dialog",35),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(66,Ir,30,39,"ng-template",36)(67,Fr,4,6,"ng-template",28),e.qZA(),e.TgZ(68,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.acceptRequestDialogue=a}),e.TgZ(69,"div",38)(70,"div",26),e._UZ(71,"i",27),e.TgZ(72,"span"),e._uU(73,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(74,"div",19)(75,"label",39),e._uU(76,"Notes"),e.qZA(),e.TgZ(77,"input",40),e.NdJ("ngModelChange",function(a){return n.notesAccept=a}),e.ALo(78,"translate"),e.qZA()()(),e.YNc(79,Pr,2,0,"ng-template",28),e.qZA(),e.TgZ(80,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.rejectRequestDialogue=a}),e.TgZ(81,"div",38)(82,"div",26),e._UZ(83,"i",27),e.TgZ(84,"span"),e._uU(85,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(86,"div",19)(87,"label",41),e._uU(88,"Notes"),e.qZA(),e.TgZ(89,"input",42),e.NdJ("ngModelChange",function(a){return n.notesReject=a}),e.ALo(90,"translate"),e.qZA()()(),e.YNc(91,Lr,2,0,"ng-template",28),e.qZA(),e.TgZ(92,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(93,"div",26),e._UZ(94,"i",27),e.TgZ(95,"span"),e._uU(96,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(97,Jr,2,0,"ng-template",28),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,56,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,58,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.lcZ(13,60,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(17,62,"Year"),""),e.xp6(2),e.Q6J("placeholder",e.lcZ(19,64,"Enter Year Here")),e.xp6(4),e.hij(" ",e.lcZ(23,66,"Month"),""),e.xp6(2),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(25,68,"Month")),e.xp6(4),e.Oqu(e.lcZ(29,70,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(31,72,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(35,74,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("placeholder",e.lcZ(37,76,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(44,78,"Filter")," "),e.xp6(5),e.Akn(e.DdM(84,ce)),e.Q6J("visible",n.acceptAllDialogue)("modal",!0),e.xp6(6),e.Akn(e.DdM(85,ce)),e.Q6J("visible",n.rejectAllDialogue)("modal",!0),e.xp6(6),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(86,ce)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(87,ce)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(78,80,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(88,ce)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(90,82,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(89,ce)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.PC,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,z.s,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),Sr=(()=>{class l extends b.P{constructor(t){super(t)}getRequestTypeDropdown(){return this.http.get(`${this.baseurl}/Enums/getRequestType/?culture=${this.culture}`)}getMonthDropdown(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestType`,t)}updateRequestTypeRange(t,o){return this.http.post(`${this.baseurl}/${this.endPoint}/UpdateRequestTypeRange?RequestType=${o}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const kr=["dt"];function Er(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!0)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!0)}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,4,"Accept All"))("disabled",t.isDisabled()),e.xp6(2),e.Q6J("label",e.lcZ(4,6,"Reject All"))("disabled",t.isDisabled())}}function Or(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Qr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAcceptAll())}),e.qZA()}}function Rr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectAllDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmRejectAll())}),e.qZA()}}function jr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",49)(1,"h5",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",51),e._UZ(5,"i",52),e.TgZ(6,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)}}function Hr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",54),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",55),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",56),e.qZA(),e.TgZ(7,"th",57),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",58),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,16,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,18,"Job")),e.xp6(3),e.Oqu(e.lcZ(16,20,"Date")),e.xp6(3),e.Oqu(e.lcZ(19,22,"Day Count")),e.xp6(3),e.Oqu(e.lcZ(22,24,"Amount")),e.xp6(3),e.Oqu(e.lcZ(25,26,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(28,28,"Reason")),e.xp6(3),e.Oqu(e.lcZ(31,30,"Notes")),e.xp6(3),e.Oqu(e.lcZ(34,32,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(37,34,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(40,36,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(43,38,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(46,40,"Actions")))}const R=l=>({"null-color":l}),Gr=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),Kr=l=>({cursor:l});function Vr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",59),e.qZA(),e.TgZ(3,"td")(4,"span",60),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",61)(8,"span",60),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",62)(12,"span",60),e._uU(13,"jobName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",61)(16,"span",60),e._uU(17,"date"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",61)(21,"span",60),e._uU(22,"dayCount"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",63)(25,"span",60),e._uU(26,"amount"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"td",61)(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"td",61)(32,"span",60),e._uU(33,"reason"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",61)(36,"span",60),e._uU(37,"notes"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",61)(40,"span",60),e._uU(41,"creationTime"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",61)(44,"span",60),e._uU(45,"lastModificationTime"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"td",61)(48,"span",60),e._uU(49,"creatorName"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"td",61)(52,"span",60),e._uU(53,"lastModifierName"),e.qZA(),e._uU(54),e.qZA(),e.TgZ(55,"td")(56,"div",64)(57,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.acceptRequest(i))}),e.qZA(),e.TgZ(58,"button",66),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.rejectRequest(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",0==t.requestType?t:t.requestType)("disabled",0!==t.requestType),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,R,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(35,R,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(37,R,!t.date)),e.xp6(3),e.hij(" ",e.xi3(19,30,t.date,"MM/dd/yyyy")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(39,R,!t.dayCount)),e.xp6(3),e.hij(" ",t.dayCount," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,R,!t.amount)),e.xp6(3),e.hij(" ",t.amount," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(43,Gr,1==(null==t?null:t.requestType),2==(null==t?null:t.requestType),0==(null==t?null:t.requestType))),e.xp6(2),e.hij(" ",t.requestTypeValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(47,R,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(49,R,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,R,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(53,R,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(55,R,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(57,R,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(59,Kr,0!==t.requestType?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.requestType),e.xp6(1),e.Q6J("disabled",0!==t.requestType)}}function Br(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",19)(1,"label",67),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",19)(7,"label",69),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",19)(13,"label",69),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",19)(19,"label",72),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",19)(25,"label",74),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function Yr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function zr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function $r(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function Xr(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const pe=()=>({width:"450px"});let Wr=(()=>{class l{constructor(t,o,n,i){this.penaltiesAndDeductionService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.ids=[],this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.cw({employeeId:new s.NI(null),mangerId:new s.NI(null),dateFrom:new s.NI,dateTo:new s.NI(null),requestType:new s.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.cw({employeeId:new s.NI(null),reason:new s.NI(null),fromDay:new s.NI(null),toDay:new s.NI(null),missionType:new s.NI(null),location:new s.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="PenaltiesAndDeduction",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.penaltiesAndDeductionService.setCulture(t),this.penaltiesAndDeductionService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :"),this.getDropDowns()}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}getDropDowns(){this.penaltiesAndDeductionService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getMonthDropdown().subscribe({next:t=>{this.allMonths=t.data,this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1)},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.penaltiesAndDeductionService.getRequestTypeDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsRequestTypes=t.data},error:t=>{console.log(t)}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t),this.penaltiesAndDeductionService.updateRequestType({id:t.id,requestType:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.penaltiesAndDeductionService.updateRequestType({id:t.id,requestType:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.penaltiesAndDeductionService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:c,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.penaltiesAndDeductionService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value,n={...t.value,dateFrom:this.DatePipe.transform(t.value.dateFrom,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(t.value.dateTo,"yyyy-MM-dd")};console.log(t.value);const c={...Object.fromEntries(Object.entries(n).filter(([F,Y])=>null!==Y)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.penaltiesAndDeductionService.GetPage(c).subscribe({next:_=>{this.allData=_.data,console.log(_.data)},error:_=>{console.log(_)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let i=t-3;i<=n;i++)this.allYears.push(i)}confirmAcceptAll(){console.log("Accept All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),console.log(this.ids),this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,1).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Accepted Successfully",life:3e3}),this.acceptAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:t=>{console.log(t)}})}confirmRejectAll(){console.log("Reject All"),console.log(this.selectedItems),this.selectedItems.forEach(t=>{0==t.requestType&&this.ids.push(t.id)}),this.penaltiesAndDeductionService.updateRequestTypeRange(this.ids,2).subscribe({next:t=>{console.log(t),this.messageService.add({severity:"success",summary:"Success",detail:"All Requests Rejected Successfully",life:3e3}),this.rejectAllDialogue=!1,this.ids=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:t=>{console.log(t)}})}isDisabled(){return!this.selectedItems?.length||!this.selectedItems?.some(t=>0===t.requestType)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Sr),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-penalties-and-deduction"]],viewQuery:function(o,n){if(1&o&&e.Gf(kr,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:98,vars:93,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","from"],["name","from","inputId","from","formControlName","dateFrom",3,"showIcon","iconDisplay","placeholder"],["htmlFor","to"],["name","to","inputId","to","formControlName","dateTo",3,"showIcon","iconDisplay","placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionValue","id","optionLabel","name",3,"options","placeholder"],["htmlFor","RequestType"],["formControlName","requestType","optionValue","id","optionLabel","name",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["header","Accept All",1,"p-fluid",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Reject All",1,"p-fluid",3,"visible","modal","visibleChange"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-success","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-calendar",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-calendar",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"p-dropdown",15),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-dropdown",17),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,Er,5,8,"ng-template",23)(47,Or,2,4,"ng-template",24),e.qZA(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.acceptAllDialogue=a}),e.TgZ(49,"div",26),e._UZ(50,"i",27),e.TgZ(51,"span"),e._uU(52,"Are you sure you want to Accept All Requests ?"),e.qZA()(),e.YNc(53,Qr,2,0,"ng-template",28),e.qZA(),e.TgZ(54,"p-dialog",29),e.NdJ("visibleChange",function(a){return n.rejectAllDialogue=a}),e.TgZ(55,"div",26),e._UZ(56,"i",27),e.TgZ(57,"span"),e._uU(58,"Are you sure you want to Reject All Requests ?"),e.qZA()(),e.YNc(59,Rr,2,0,"ng-template",28),e.qZA(),e.TgZ(60,"p-table",30,31),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(62,jr,7,4,"ng-template",32)(63,Hr,47,42,"ng-template",33)(64,Vr,59,61,"ng-template",34),e.qZA(),e.TgZ(65,"p-dialog",35),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(66,Br,30,39,"ng-template",36)(67,Yr,4,6,"ng-template",28),e.qZA(),e.TgZ(68,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.acceptRequestDialogue=a}),e.TgZ(69,"div",38)(70,"div",26),e._UZ(71,"i",27),e.TgZ(72,"span"),e._uU(73,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(74,"div",19)(75,"label",39),e._uU(76,"Notes"),e.qZA(),e.TgZ(77,"input",40),e.NdJ("ngModelChange",function(a){return n.notesAccept=a}),e.ALo(78,"translate"),e.qZA()()(),e.YNc(79,zr,2,0,"ng-template",28),e.qZA(),e.TgZ(80,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.rejectRequestDialogue=a}),e.TgZ(81,"div",38)(82,"div",26),e._UZ(83,"i",27),e.TgZ(84,"span"),e._uU(85,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(86,"div",19)(87,"label",41),e._uU(88,"Notes"),e.qZA(),e.TgZ(89,"input",42),e.NdJ("ngModelChange",function(a){return n.notesReject=a}),e.ALo(90,"translate"),e.qZA()()(),e.YNc(91,$r,2,0,"ng-template",28),e.qZA(),e.TgZ(92,"p-dialog",37),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(93,"div",26),e._UZ(94,"i",27),e.TgZ(95,"span"),e._uU(96,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(97,Xr,2,0,"ng-template",28),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,59,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,61,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("placeholder",e.lcZ(13,63,"Enter Employee Name Here")),e.xp6(4),e.hij(" ",e.lcZ(17,65,"From"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(19,67,"From")),e.xp6(4),e.hij(" ",e.lcZ(23,69,"To"),""),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("placeholder",e.lcZ(25,71,"To")),e.xp6(4),e.Oqu(e.lcZ(29,73,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(31,75,"Enter Manager Name Here")),e.xp6(4),e.Oqu(e.lcZ(35,77,"Response Type")),e.xp6(2),e.Q6J("options",n.dropdownItemsRequestTypes)("placeholder",e.lcZ(37,79,"Enter Response Type Here")),e.xp6(7),e.hij(" ",e.lcZ(44,81,"Filter")," "),e.xp6(5),e.Akn(e.DdM(87,pe)),e.Q6J("visible",n.acceptAllDialogue)("modal",!0),e.xp6(6),e.Akn(e.DdM(88,pe)),e.Q6J("visible",n.rejectAllDialogue)("modal",!0),e.xp6(6),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(89,pe)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(90,pe)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(78,83,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(91,pe)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(90,85,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(92,pe)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,m.PC,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt,z.s,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),ec=(()=>{class l extends b.P{constructor(t){super(t)}getMonths(){return this.http.get(`${this.baseurl}/Enums/getMonth/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}getManagerDropdown(){return this.http.get(`${this.baseurl}/Employee/GetMangerDropDown/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const tc=["dt"];function nc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",37)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New Bonus")),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function oc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function lc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",41),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"p-dropdown",43),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",19)(8,"label",44),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",45),e.NdJ("onChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMonth(n))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",46),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",15),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",46),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",47),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19)(26,"label",46),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",48),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",19),e._UZ(32,"button",49),e.ALo(33,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,18,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,20,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,22,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("placeholder",e.lcZ(12,24,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,26,"Year")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,28,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,30,"Value")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,32,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,34,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,36,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(33,38,"Insert New"))}}function ic(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",52),e._UZ(5,"i",53),e.TgZ(6,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function ac(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",55),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",56),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",57),e.qZA(),e.TgZ(7,"th",58),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",59),e.qZA(),e.TgZ(11,"th",60),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,11,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,13,"Name")," "),e.xp6(4),e.hij(" ",e.lcZ(13,15,"Month")," "),e.xp6(3),e.Oqu(e.lcZ(16,17,"Year")),e.xp6(3),e.Oqu(e.lcZ(19,19,"Value")),e.xp6(3),e.Oqu(e.lcZ(22,21,"Notes")),e.xp6(3),e.Oqu(e.lcZ(25,23,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(28,25,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(31,27,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(34,29,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(37,31,"Actions")))}const V=l=>({"null-color":l});function sc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",61),e.qZA(),e.TgZ(3,"td")(4,"span",62),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",63)(8,"span",62),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",63)(12,"span",62),e._uU(13,"monthName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",63)(16,"span",62),e._uU(17,"year"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",63)(20,"span",62),e._uU(21,"Value"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",63)(24,"span",62),e._uU(25,"notes"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"td",63)(28,"span",62),e._uU(29,"creationTime"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",63)(32,"span",62),e._uU(33,"lastModificationTime"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",63)(36,"span",62),e._uU(37,"creatorName"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",63)(40,"span",62),e._uU(41,"lastModifierName"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td")(44,"div",64)(45,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(46,"button",66),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,V,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,V,!t.name)),e.xp6(3),e.hij(" ",t.monthName?t.monthName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,V,!t.hoursNumber)),e.xp6(3),e.hij(" ",t.year?t.year:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,V,!t.value)),e.xp6(3),e.hij(" ",t.value?t.value:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,V,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,V,!t.creationTime)),e.xp6(3),e.hij(" ",t.creationTime?t.creationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,V,!t.lastModificationTime)),e.xp6(3),e.hij(" ",t.lastModificationTime?t.lastModificationTime:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,V,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(36,V,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function rc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",67),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",68),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",69),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",19)(8,"label",70),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",71),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.month=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",19)(14,"label",72),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",73),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.year=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",19)(20,"label",74),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",75),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.value=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",19)(26,"label",76),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",77),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",78)(32,"button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"button",80),e.ALo(35,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,23,"Employee")),e.xp6(2),e.Q6J("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("ngModel",t.product.employeeId)("placeholder",e.lcZ(6,25,"Employee")),e.xp6(4),e.Oqu(e.lcZ(10,27,"Month")),e.xp6(2),e.Q6J("options",t.allMonths)("ngModel",t.product.month)("placeholder",e.lcZ(12,29,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(16,31,"Year")),e.xp6(2),e.Q6J("ngModel",t.product.year)("placeholder",e.lcZ(18,33,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(22,35,"Value")),e.xp6(2),e.Q6J("ngModel",t.product.value)("placeholder",e.lcZ(24,37,"Enter Value Here")),e.xp6(4),e.Oqu(e.lcZ(28,39,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)("placeholder",e.lcZ(30,41,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(33,43,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(35,45,"Save"))}}function cc(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function pc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function dc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",81),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",82),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ge=()=>({width:"450px"});let uc=(()=>{class l{constructor(t,o){this.bonusService=t,this.messageService=o,this.selectedEmployee=null,this.selectedManager=null,this.selectedVacationType=null,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.allMonths=[],this.closed=!1,this.selectedMonth=null,this.selectedDepartment=null,this.selectedYear=null,this.selectedEmployeeEdit=null,this.selectedYearAdd=null,this.filterForm=new s.cw({employeeId:new s.NI(null),mangerId:new s.NI(null),departmentId:new s.NI(null),month:new s.NI(null),year:new s.NI(null)}),this.addNewForm=new s.cw({employeeId:new s.NI(null,[s.kI.required]),month:new s.NI(null,[s.kI.required]),value:new s.NI(null,[s.kI.required,s.kI.min(0)]),year:new s.NI(null,[s.kI.required,s.kI.min(1900),s.kI.max(2199)]),notes:new s.NI(null)}),this.editForm=new s.cw({employeeId:new s.NI(null,[s.kI.required]),month:new s.NI(null,[s.kI.required]),value:new s.NI(null,[s.kI.required,s.kI.min(0)]),year:new s.NI(null,[s.kI.required,s.kI.min(1900),s.kI.max(2199)]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="Bouns",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.bonusService.setCulture(t),this.bonusService.setEndPoint(this.endPoint),this.getDropDowns(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.bonusService.getMonths().subscribe({next:t=>{this.allMonths=t.data,console.log(this.allMonths)}}),this.selectedYear=null}editProduct(t){this.bonusService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.selectedMonthEdit=this.allMonths.find(n=>n.id===o.data.month),this.selectedYearEdit=o.data.year,console.log(this.dropdownItemsEmployees),this.selectedEmployeeEdit=this.getObjectById(o.data.employeeId,this.dropdownItemsEmployees),console.log(this.selectedEmployeeEdit),console.log(this.selectedMonthEdit),this.product={...o.data},this.productDialog=!0}})}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmDelete(t){this.bonusService.deleteById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Item Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}addNew(t){this.bonusService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"inserted successfully",life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.month=null,this.year=null,this.newNotes=null,this.closed=!1}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.bonusService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),console.log(o.value),this.bonusService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder))}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.bonusService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}changeMonth(t){console.log(t),this.selectedMonth=t.value.id,console.log(this.selectedMonth)}changeYear(t){console.log("Selected year:",this.selectedYear)}submitForm(t){console.log(t.value);const a={...Object.fromEntries(Object.entries(t.value).filter(([c,_])=>null!==_)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(a),"VALID"==t.status&&this.bonusService.GetPage(a).subscribe({next:p=>{this.allData=p.data,console.log(p.data)},error:p=>{console.log(p)}})}getDropDowns(){this.bonusService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Department").subscribe({next:t=>{console.log(t.data),this.dropdownItemsDepartments=t.data},error:t=>{console.log(t)}}),this.bonusService.getManagerDropdown().subscribe({next:t=>{console.log(t.data),this.dropdownItemsManagers=t.data},error:t=>{console.log(t)}}),this.bonusService.getDropdownField("Location").subscribe({next:t=>{console.log(t.data),this.dropdownItemsVacationTypes=t.data},error:t=>{console.log(t)}})}getObjectById(t,o){return o.find(n=>n.id===t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ec),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-bonus"]],viewQuery:function(o,n){if(1&o&&e.Gf(tc,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:73,vars:92,consts:[[3,"header","toggleable","collapsed"],["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-4"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","options","filter","filterBy","placeholder"],[1,"field","col-12","md:col-3"],["htmlFor","Department"],["formControlName","departmentId","optionLabel","name","optionValue","id",3,"options","filter","filterBy","placeholder"],["htmlFor","month"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","placeholder"],["htmlFor","yaer"],["pInputText","","formControlName","year","type","number",3,"placeholder"],["htmlFor","Religin"],["formControlName","mangerId","optionLabel","name","optionValue","id",3,"options","placeholder"],[1,"btn-filter-submit-container"],[1,"field"],["pButton","","type","submit"],[1,"pi","pi-filter"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon"," pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],["htmlFor","Employee"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-en"],["optionLabel","name","optionValue","id","formControlName","month",3,"options","placeholder","onChange"],["htmlFor","name-ar"],["pInputText","","formControlName","value","type","number",3,"placeholder"],["pInputText","","formControlName","notes",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","employeeName",3,"click"],["field","employeeName"],[3,"click"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[3,"formGroup","submit"],["for","employee"],["formControlName","employeeId","optionLabel","name","optionValue","id",3,"filter","filterBy","options","ngModel","placeholder","ngModelChange"],["for","name"],["formControlName","month","optionLabel","name","optionValue","id",3,"options","ngModel","placeholder","ngModelChange"],["for","engName"],["pInputText","","formControlName","year","type","number",3,"ngModel","placeholder","ngModelChange"],["for","value"],["pInputText","","formControlName","value",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["pInputText","","formControlName","notes",3,"ngModel","placeholder","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","type","submit","icon","pi pi-check",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-panel",0),e.ALo(2,"translate"),e.TgZ(3,"form",1),e.NdJ("submit",function(){return n.submitForm(n.filterForm)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"p-dropdown",8),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"p-dropdown",11),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"p-dropdown",13),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",9)(27,"label",14),e._uU(28),e.ALo(29,"translate"),e.qZA(),e._UZ(30,"input",15),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",9)(33,"label",16),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"p-dropdown",17),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",18)(39,"div",19)(40,"button",20),e._UZ(41,"i",21),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()()()()()()(),e.TgZ(45,"p-toolbar",22),e.YNc(46,nc,5,7,"ng-template",23)(47,oc,2,4,"ng-template",24),e.qZA(),e.TgZ(48,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(49,"translate"),e.YNc(50,lc,34,40,"ng-template",26),e.qZA(),e.TgZ(51,"p-table",27,28),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(53,ic,8,7,"ng-template",29)(54,ac,38,33,"ng-template",30)(55,sc,47,38,"ng-template",31),e.qZA(),e.TgZ(56,"p-dialog",25),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(57,"translate"),e.YNc(58,rc,36,47,"ng-template",26),e.qZA(),e.TgZ(59,"p-dialog",32),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(60,"translate"),e.TgZ(61,"div",33),e._UZ(62,"i",34),e.YNc(63,cc,6,4,"span",35),e.qZA(),e.YNc(64,pc,4,6,"ng-template",36),e.qZA(),e.TgZ(65,"p-dialog",32),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(66,"translate"),e.TgZ(67,"div",33),e._UZ(68,"i",34),e.TgZ(69,"span"),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.YNc(72,dc,4,6,"ng-template",36),e.qZA()),2&o&&(e.xp6(1),e.Q6J("header",e.lcZ(2,54,"Filter"))("toggleable",!0)("collapsed",!0),e.xp6(2),e.Q6J("formGroup",n.filterForm),e.xp6(7),e.Oqu(e.lcZ(11,56,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("options",n.dropdownItemsEmployees)("filter",!0)("filterBy","name")("placeholder",e.lcZ(13,58,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(17,60,"Department")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartments)("filter",!0)("filterBy","name")("placeholder",e.lcZ(19,62,"Select a Department")),e.xp6(4),e.Oqu(e.lcZ(23,64,"Month")),e.xp6(2),e.Q6J("options",n.allMonths)("placeholder",e.lcZ(25,66,"Select a Month")),e.xp6(4),e.Oqu(e.lcZ(29,68,"Year")),e.xp6(2),e.Q6J("placeholder",e.lcZ(31,70,"Enter Year Here")),e.xp6(4),e.Oqu(e.lcZ(35,72,"Manager")),e.xp6(2),e.Q6J("options",n.dropdownItemsManagers)("placeholder",e.lcZ(37,74,"Enter Manager Name Here")),e.xp6(7),e.hij(" ",e.lcZ(44,76,"Filter")," "),e.xp6(5),e.Akn(e.DdM(88,Ge)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(49,78,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(89,Ge)),e.Q6J("visible",n.productDialog)("header",e.lcZ(57,80,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(90,Ge)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(60,82,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(91,Ge)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(66,84,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(71,86,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.sg,s.u,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,I.Lt,z.s],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})();const mc=["dt"];function gc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function _c(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function hc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNameEn=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",20)(7,"label",23),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNameAr=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",20)(13,"label",25),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"textarea",26),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.newNotes=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",20)(19,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew())}),e.ALo(20,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,10,"Name English")),e.xp6(2),e.Q6J("ngModel",t.newNameEn)("placeholder",e.lcZ(5,12,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(9,14,"Name Arabic")," "),e.xp6(2),e.Q6J("ngModel",t.newNameAr)("placeholder",e.lcZ(11,16,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(15,18,"Notes")),e.xp6(2),e.Q6J("ngModel",t.newNotes)("placeholder",e.lcZ(17,20,"Enter Notes Here")),e.xp6(3),e.Q6J("label",e.lcZ(20,22,"Insert New"))}}function fc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",28)(1,"h5",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",30),e._UZ(5,"i",31),e.TgZ(6,"input",32),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Zc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"p-sortIcon",37),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw(3);return e.KtG(i.sortById(n))}),e.qZA()}if(2&l){const t=e.oxw().$implicit;e.Q6J("field",t.field)}}function Cc(l,r){if(1&l&&(e.TgZ(0,"th",35),e._uU(1),e.ALo(2,"translate"),e.YNc(3,Zc,1,1,"p-sortIcon",36),e.qZA()),2&l){const t=r.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.header)," "),e.xp6(2),e.Q6J("ngIf",t.sortable)}}function xc(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"th",33),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.YNc(3,Cc,4,5,"th",34),e.qZA()),2&l){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.cols)}}const de=l=>({"null-color":l});function Tc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",38),e.qZA(),e.TgZ(3,"td")(4,"span",39),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",40)(8,"span",39),e._uU(9,"name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",40)(12,"span",39),e._uU(13,"notes"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",40)(16,"span",39),e._uU(17,"creationTime"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",40)(21,"span",39),e._uU(22,"lastModificationTime"),e.qZA(),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",40)(26,"span",39),e._uU(27,"creatorName"),e.qZA(),e._uU(28),e.qZA(),e.TgZ(29,"td",40)(30,"span",39),e._uU(31,"lastModifierName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td")(34,"div",41)(35,"button",42),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(36,"button",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(20,de,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(22,de,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,de,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(19,14,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(26,de,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(24,17,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(28,de,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,de,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function bc(l,r){1&l&&(e.TgZ(0,"small",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function Ac(l,r){1&l&&(e.TgZ(0,"small",51),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const dt=l=>({"ng-invalid ng-dirty":l});function yc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"label",44),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(5,bc,3,3,"small",46),e.qZA(),e.TgZ(6,"div",20)(7,"label",47),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(11,Ac,3,3,"small",46),e.qZA(),e.TgZ(12,"div",20)(13,"label",49),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"textarea",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,10,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(16,dt,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(9,12,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(18,dt,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(15,14,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes)}}function qc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function wc(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function Nc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Mc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}const Ke=()=>({width:"450px"});let vc=(()=>{class l{constructor(t,o){this._LockupsService=t,this.messageService=o,this.Service=b.P,this.allData=[],this.page=1,this.itemsPerPage=3,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc"}ngOnInit(){q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this._LockupsService.setCulture(t),this._LockupsService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"id",header:"Id",sortable:!0,type:"number"},{field:"name",header:"Name",sortable:!0,type:"string"},{field:"notes",header:"Notes",sortable:!1,type:"string"},{field:"creationTime",header:"CreationTime",sortable:!1,type:"dateTime"},{field:"lastModificationTime",header:"LastModificationTime",sortable:!1,type:"dateTime"},{field:"creatorName",header:"CreatorName",sortable:!1,type:"string"},{field:"lastModifierName",header:"LastModifierName",sortable:!1,type:"string"}]}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}editProduct(t){console.log(t.id),this._LockupsService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this._LockupsService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(){this._LockupsService.Register({name:this.newNameAr,notes:this.newNotes,engName:this.newNameEn}).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"inserted success",life:3e3}),this.setFieldsNulls(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this._LockupsService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),console.log(o),this._LockupsService.Edit({engName:o.engName,name:o.name,id:o.id,notes:o.notes}).subscribe({next:i=>{this.hideDialog(),this.messageService.add(i.success?{severity:"success",summary:"Successful",detail:"You Edit This Item",life:3e3}:{severity:"warn",summary:"Warning",detail:i.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:i=>{console.log(i)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download=`${this.endPoint}_${(new Date).getTime()}.csv`,a.click()}convertToCSV(t){if(console.log(t),!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this._LockupsService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(b.P),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-table-server-side"]],viewQuery:function(o,n){if(1&o&&e.Gf(mc,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{Service:"Service",endPoint:"endPoint",allData:"allData",page:"page",itemsPerPage:"itemsPerPage",selectedItems:"selectedItems",cols:"cols"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:41,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"field"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["pInputText","","id","name-ar","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","",1,"w-25",3,"label","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field","click",4,"ngIf"],[3,"field","click"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,gc,5,7,"ng-template",1)(3,_c,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,hc,21,24,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,fc,8,7,"ng-template",7)(10,xc,4,1,"ng-template",8)(11,Tc,37,32,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,yc,17,20,"ng-template",4)(15,qc,4,6,"ng-template",10),e.qZA(),e.TgZ(16,"p-dialog",11),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(17,"translate"),e.TgZ(18,"div",12),e._UZ(19,"i",13),e.YNc(20,wc,6,4,"span",14),e.qZA(),e.YNc(21,Nc,4,6,"ng-template",10),e.qZA(),e.TgZ(22,"p-dialog",15),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(23,"div",12),e._UZ(24,"i",13),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Mc,4,6,"ng-template",10),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(37,Ke)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,29,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(38,Ke)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,31,"Item Details"))("modal",!0),e.xp6(4),e.Akn(e.DdM(39,Ke)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(17,33,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(40,Ke)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0),e.xp6(4),e.Oqu(e.lcZ(27,35,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.sg,m.O5,s.Fj,s.JJ,s.Q7,s.On,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g]})}return l})(),Dc=(()=>{class l{constructor(){this.cols=[]}ngOnInit(){this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"Last ModificationTime"},{field:"creatorName",header:"Creator Name"},{field:"lastModifierName",header:"LastModifierName"}]}static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-test"]],standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["endPoint","Department",3,"cols"]],template:function(o,n){1&o&&e._UZ(0,"app-table-server-side",0),2&o&&e.Q6J("cols",n.cols)},dependencies:[vc]})}return l})();const Ic=["manageItems"];function Fc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",30)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"div",8)(4,"label"),e._uU(5," Requirement : "),e._UZ(6,"input",31),e.qZA()(),e.TgZ(7,"button",32),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeLateSetting(i))}),e.qZA()()}if(2&l){const t=r.index;e.Q6J("formGroupName",t),e.xp6(2),e.hij("Requirement ",t+1," :")}}function Pc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",33)(1,"p-fileUpload",34),e.NdJ("onSelect",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelect(n))}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("chooseLabel",e.lcZ(2,1,"Choose Image")))}function Lc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateImage())}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}const Jc=()=>({width:"450px"});let Uc=(()=>{class l{constructor(t,o,n,i,a,p,c,_){this.internalJobService=t,this.messageService=o,this.DatePipe=n,this.router=i,this.route=a,this.activatedRoute=p,this.translate=c,this.fb=_,this.editForm=new s.cw({id:new s.NI({value:this.currentId,disabled:!0}),jobRequirements:this.fb.array([]),status:new s.NI,description:new s.NI(null,[s.kI.required]),nameOfJob:new s.NI(null,[s.kI.required]),date:new s.NI(null,[s.kI.required]),notes:new s.NI(null,[s.kI.required])}),this.allData=[],this.page=1,this.itemsPerPage=4,this.selectedItems=[],this.cols=[],this.loading=!0,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.selectedState=null,this.selectedNationalId=null,this.selectedPartitions=null,this.selectedGender=null,this.selectedMaritalStatus=null,this.selectedQualification=null,this.selectedJob=null,this.selectedReligin=null,this.selectedShift=null,this.selectedBank=null,this.selectedGrade=null,this.selectedjobNature=null,this.selectedRecuritmentSource=null,this.selectedContactType=null,this.selectedIsInsured=null,this.selectedIsManager=null,this.selectedDepartment=null,this.selectedBloodType=null,this.uploadImageDialog=!1,this.uploadedFiles=[],this.selectedexcuseCalculationType=null,this.Actions=[]}ngOnInit(){this.currentId=this.route.snapshot.params.id,this.endPoint="InternalJob",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.translate.use(t),this.internalJobService.setCulture(t),this.internalJobService.setEndPoint(this.endPoint)}),this.cols=[{field:"name",header:"Name"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}],this.getData().pipe((0,Ie.b)(t=>{this.allData=t.data,this.patchFormValues(this.allData),console.log("Data fetched:",this.allData)}),(0,Fe.U)(t=>{this.patchFormValues(this.allData)})).subscribe(()=>{this.patchFormValues(this.allData)}),this.patchFormValues(this.allData),console.log("this.allData"),console.log(this.allData)}getObject(t,o){if(console.log("getObject - dropdown =>",o),o)return o.find(n=>n.id==t)}changeTab(){console.log(this.selectedAction),this.router.navigate([this.selectedAction.action],{relativeTo:this.route})}patchFormValues(t,o){console.log("data => ",t),this.nameOfJob=t.nameOfJob,this.description=t.description,this.notes=t.notes,this.date=this.DatePipe.transform(t.date,"MM/dd/yyyy hh:mm:ss a"),this.status=!!t.status,this.patchFormData(t.jobRequirements),console.log(this.status)}submitForm(t){t.get("id").enable(),t.patchValue({status:t.get("status").value?1:0,date:this.DatePipe.transform(t.get("date").value,"yyyy-MM-ddTHH:mm:ss")}),console.log(t),this.internalJobService.Edit(t.value).subscribe({next:o=>{this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message}),console.log(o),this.editForm.get("id").disable()}})}onGovernmentChange(t){console.log(t)}getData(){return this.internalJobService.GetById(this.currentId)}onSelect(t){console.log(t),this.file=t.currentFiles[0],console.log(this.file)}showUploadImgDialg(){this.uploadImageDialog=!0}hideDialog(){this.uploadImageDialog=!1}get jobRequirements(){return this.editForm.get("jobRequirements")}createLateSettingGroup(t){return this.fb.group({requirement:[t.requirement,s.kI.required]})}patchFormData(t){this.jobRequirements.clear(),t.forEach(o=>{this.jobRequirements.push(this.createLateSettingGroup(o))})}createLateSettingGroupAdd(){return this.fb.group({requirement:[null,s.kI.required]})}addLateSetting(){this.editForm.get("jobRequirements").push(this.createLateSettingGroupAdd())}removeLateSetting(t){this.editForm.get("jobRequirements").removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ct),e.Y36(u.ez),e.Y36(m.uU),e.Y36(D.F0),e.Y36(D.gz),e.Y36(D.gz),e.Y36(g.sK),e.Y36(s.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-internal-jobs-edit"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ic,5),2&o){let i;e.iGM(i=e.CRH())&&(n.manageItems=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([m.uU,u.ez]),e.jDz],decls:53,vars:52,consts:[["method","post",3,"formGroup","submit"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","field-id","col-12","md:col-4"],["htmlFor","id"],["pInputText","","id","id","formControlName","id",3,"ngModel","ngModelChange"],[1,"field","col-12","md:col-4"],["htmlFor","nameAr"],["pInputText","","id","nameAr","formControlName","nameOfJob",3,"ngModel","ngModelChange"],["htmlFor","description"],["pInputText","","id","description","formControlName","description",3,"placeholder","ngModel","ngModelChange"],["htmlFor","notes"],["pInputText","","id","notes","formControlName","notes",3,"placeholder","ngModel","ngModelChange"],["htmlFor","date"],["inputId","date","formControlName","date",3,"showTime","ngModel","showSeconds","hourFormat","iconDisplay","showIcon","placeholder","ngModelChange"],[1,"field","field-switch","col-12","md:col-4"],["htmlFor","status"],["id","status","formControlName","status",3,"ngModel","ngModelChange"],["formArrayName","jobRequirements",1,"jobRequirements","col-12"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","icon","pi pi-plus","label","Add Requirement",1,"p-button-rounded","p-button-text","p-button-success","w-fit","btn-add",3,"click"],[1,"btn-filter-submit-container","col-12"],[1,"field"],["pButton","","type","submit",1,"btn-submit","w-fit",3,"disabled"],[1,"pi","pi-user-edit"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","display"],["pTemplate","footer"],[3,"formGroupName"],["formControlName","requirement","pInputText",""],["pButton","","pRipple","","type","button","icon","pi pi-minus","label","Remove",1,"p-button-rounded","p-button-text","p-button-danger","w-fit",3,"click"],[1,"inline-flex","align-items-center"],["mode","basic","chooseIcon","pi pi-image","name","demo[]","accept","image/*","maxFileSize","1000000",1,"p-button-info","p-button-text",3,"chooseLabel","onSelect"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"form",0),e.NdJ("submit",function(){return n.submitForm(n.editForm)}),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(a){return n.currentId=a}),e.qZA()(),e.TgZ(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(a){return n.nameOfJob=a}),e.qZA()(),e.TgZ(16,"div",8)(17,"label",11),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(a){return n.description=a}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",8)(23,"label",13),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("ngModelChange",function(a){return n.notes=a}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",8)(29,"label",15),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"p-calendar",16),e.NdJ("ngModelChange",function(a){return n.date=a}),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",17)(35,"label",18),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p-inputSwitch",19),e.NdJ("ngModelChange",function(a){return n.status=a}),e.qZA()(),e.TgZ(39,"div",20),e.YNc(40,Fc,8,2,"div",21),e.TgZ(41,"button",22),e.NdJ("click",function(){return n.addLateSetting()}),e.qZA()(),e.TgZ(42,"div",23)(43,"div",24)(44,"button",25),e._UZ(45,"i",26),e.TgZ(46,"span"),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()()()()()(),e.TgZ(49,"p-dialog",27),e.NdJ("visibleChange",function(a){return n.uploadImageDialog=a}),e.ALo(50,"translate"),e.YNc(51,Pc,3,3,"ng-template",28)(52,Lc,4,6,"ng-template",29),e.qZA()),2&o&&(e.xp6(1),e.Q6J("formGroup",n.editForm),e.xp6(7),e.Oqu(e.lcZ(9,29,"Id")),e.xp6(2),e.Q6J("ngModel",n.currentId),e.xp6(3),e.Oqu(e.lcZ(14,31,"Name Of Job")),e.xp6(2),e.Q6J("ngModel",n.nameOfJob),e.xp6(3),e.Oqu(e.lcZ(19,33,"Description")),e.xp6(2),e.Q6J("placeholder",e.lcZ(21,35,"Enter Description Here"))("ngModel",n.description),e.xp6(4),e.Oqu(e.lcZ(25,37,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(27,39,"Enter Notes Here"))("ngModel",n.notes),e.xp6(4),e.Oqu(e.lcZ(31,41,"Date")),e.xp6(2),e.Q6J("showTime",!0)("ngModel",n.date)("showSeconds",!0)("hourFormat","12")("iconDisplay","input")("showIcon",!0)("placeholder",e.lcZ(33,43,"MM/DD/YYYY")),e.xp6(4),e.hij("",e.lcZ(37,45,"Status")," "),e.xp6(2),e.Q6J("ngModel",n.status),e.xp6(2),e.Q6J("ngForOf",n.jobRequirements.controls),e.xp6(4),e.Q6J("disabled",n.editForm.invalid),e.xp6(3),e.hij(" ",e.lcZ(48,47,"Save")," "),e.xp6(2),e.Akn(e.DdM(51,Jc)),e.Q6J("visible",n.uploadImageDialog)("header",e.lcZ(50,49,"Update Profile Image"))("modal",!0))},dependencies:[Z.l,m.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,g.X$,C.g,u.jx,w.H,oe.p,x.Hq,N.V,T.FN,y.o,L.f,W.Ql,L._8,s.UX],styles:[".field-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.field-switch[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:0}.jobRequirements[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#eee;padding:16px;margin-block:24px}"]})}return l})(),Sc=(()=>{class l extends b.P{constructor(t){super(t)}updateHrAccept(t){return this.http.post(`${this.baseurl}/${this.endPoint}/HRAccept`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const kc=["dt"];function Ec(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Oc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",20)(1,"h5",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._UZ(5,"i",23),e.TgZ(6,"input",24),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Qc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",25),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",26),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",27),e.qZA(),e.TgZ(7,"th",28),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",29),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"th"),e._uU(48),e.ALo(49,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,15,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,17,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,19,"Job")),e.xp6(3),e.Oqu(e.lcZ(16,21,"Last Working Date")),e.xp6(3),e.Oqu(e.lcZ(19,23,"Resignation Reason")),e.xp6(3),e.Oqu(e.lcZ(22,25,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(25,27,"Manager Notes")),e.xp6(3),e.Oqu(e.lcZ(28,29,"HR Notes")),e.xp6(3),e.Oqu(e.lcZ(31,31,"Manager Approve")),e.xp6(3),e.Oqu(e.lcZ(34,33,"HR Approve")),e.xp6(3),e.Oqu(e.lcZ(37,35,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(40,37,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(43,39,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(46,41,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(49,43,"HR Accept")))}const E=l=>({"null-color":l}),Rc=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t});function jc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",30),e.qZA(),e.TgZ(3,"td")(4,"span",31),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",32)(8,"span",31),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",33)(12,"span",31),e._uU(13,"jobName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",32)(16,"span",31),e._uU(17,"lastWorkingDate"),e.qZA(),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"td",32)(21,"span",31),e._uU(22,"resignationReason"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"td",32)(25,"span"),e._uU(26),e.qZA()(),e.TgZ(27,"td",34)(28,"span",31),e._uU(29,"managerNotes"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"td",34)(32,"span",31),e._uU(33,"hrNotes"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",34)(36,"span",31),e._uU(37,"isApprovedByManager"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"td",34)(40,"span",31),e._uU(41,"isApprovedByHR"),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"td",32)(44,"span",31),e._uU(45,"creationTime"),e.qZA(),e._uU(46),e.ALo(47,"date"),e.qZA(),e.TgZ(48,"td",32)(49,"span",31),e._uU(50,"lastModificationTime"),e.qZA(),e._uU(51),e.ALo(52,"date"),e.qZA(),e.TgZ(53,"td",32)(54,"span",31),e._uU(55,"creatorName"),e.qZA(),e._uU(56),e.qZA(),e.TgZ(57,"td",32)(58,"span",31),e._uU(59,"lastModifierName"),e.qZA(),e._uU(60),e.qZA(),e.TgZ(61,"td")(62,"div",35)(63,"button",36),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.acceptRequest(i))}),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"button",37),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.rejectRequest(i))}),e.ALo(66,"translate"),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",0==t.status?t:t.status)("disabled",0!==t.status),e.xp6(4),e.hij(" ",t.id?t.id:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(44,E,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(46,E,!t.jobName)),e.xp6(3),e.hij(" ",t.jobName?t.jobName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(48,E,!t.lastWorkingDate)),e.xp6(3),e.hij(" ",e.xi3(19,31,t.lastWorkingDate,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(50,E,!t.resignationReason)),e.xp6(3),e.hij(" ",t.resignationReason," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(52,Rc,2==(null==t?null:t.status),4==(null==t?null:t.status),4!==(null==t?null:t.status)&&2!==(null==t?null:t.status))),e.xp6(2),e.hij(" ",t.statusValue," "),e.xp6(1),e.Q6J("ngClass",e.VKq(56,E,!t.managerNotes)),e.xp6(3),e.hij(" ",t.managerNotes," "),e.xp6(1),e.Q6J("ngClass",e.VKq(58,E,!t.hrNotes)),e.xp6(3),e.hij(" ",t.hrNotes," "),e.xp6(1),e.Q6J("ngClass",e.VKq(60,E,!t.isApprovedByManager)),e.xp6(3),e.hij(" ",t.isApprovedByManager," "),e.xp6(1),e.Q6J("ngClass",e.VKq(62,E,!t.isApprovedByHR)),e.xp6(3),e.hij(" ",t.isApprovedByHR," "),e.xp6(1),e.Q6J("ngClass",e.VKq(64,E,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(47,34,t.creationTime,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(66,E,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(52,37,t.lastModificationTime,"MM/dd/yyyy HH:mm:ss")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(68,E,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(70,E,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(3),e.Q6J("label",e.lcZ(64,40,"Accept")),e.xp6(2),e.Q6J("label",e.lcZ(66,42,"Reject"))}}function Hc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",14)(1,"label",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"input",39),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.courseName=n)}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",14)(7,"label",40),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p-calendar",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateFrom=n)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",14)(13,"label",40),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"p-calendar",42),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.dateTo=n)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",14)(19,"label",43),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.location=n)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",14)(25,"label",45),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"textarea",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.discription=n)}),e.ALo(29,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.hij("",e.lcZ(3,19,"Course Name")," "),e.xp6(2),e.Q6J("ngModel",t.product.courseName)("placeholder",e.lcZ(5,21,"Enter Course Name Here")),e.xp6(4),e.hij("",e.lcZ(9,23,"Date From")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateFrom)("placeholder",e.lcZ(11,25,"From")),e.xp6(4),e.hij("",e.lcZ(15,27,"Date To")," "),e.xp6(2),e.Q6J("showIcon",!0)("iconDisplay","input")("ngModel",t.product.dateTo)("placeholder",e.lcZ(17,29,"To")),e.xp6(4),e.Oqu(e.lcZ(21,31,"Location")),e.xp6(2),e.Q6J("ngModel",t.product.location)("placeholder",e.lcZ(23,33,"Enter Location Here")),e.xp6(4),e.Oqu(e.lcZ(27,35,"Discription")),e.xp6(2),e.Q6J("ngModel",t.product.discription)("placeholder",e.lcZ(29,37,"Enter Discription Here"))}}function Gc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.product))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"Cancel")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Save")))}function Kc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function Vc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}function Bc(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Ve=()=>({width:"450px"});let Yc=(()=>{class l{constructor(t,o,n,i,a){this.resignationService=t,this.messageService=o,this.route=n,this.DatePipe=i,this.translate=a,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.newEmplyeeId=null,this.newMissonTypeId=null,this.location=null,this.hrApproved=!1,this.stockVacation=!1,this.selectedEmployee=null,this.selectedManager=null,this.selectedRequstType=null,this.filterForm=new s.cw({employeeId:new s.NI(null),mangerId:new s.NI(null),dateFrom:new s.NI,dateTo:new s.NI(null),requestType:new s.NI(null)}),this.allMonths=[],this.allYears=[],this.addNewForm=new s.cw({employeeId:new s.NI(null),reason:new s.NI(null),fromDay:new s.NI(null),toDay:new s.NI(null),missionType:new s.NI(null),location:new s.NI(null)}),this.acceptAllDialogue=!1,this.rejectAllDialogue=!1}ngOnInit(){this.endPoint="Resignation",this.route.parent?.paramMap.subscribe(t=>{this.currentId=Number(t.get("id")),console.log("currentId:",this.currentId)}),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationService.setCulture(t),this.resignationService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder),console.log("Dropdowns data :")}),this.cols=[{field:"name",header:"Name"},{field:"numberOfHours",header:"NumberOfHours"},{field:"notes",header:"Notes"},{field:"creationTime",header:"CreationTime"},{field:"lastModificationTime",header:"LastModificationTime"},{field:"creatorName",header:"CreatorName"},{field:"lastModifierName",header:"LastModifierName"}],this.generateYearOptions(),this.selectedMonth=this.getMonthObjById((new Date).getMonth()+1),console.log(this.selectedMonth)}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}startAttendeesTimeClick(t){}endAttendeesTimeClick(t){}confirmAccept(t){console.log(t);let o={id:t.id,isAccepting:!0,notes:this.notesAccept};const n=new FormData;for(const i in o)o.hasOwnProperty(i)&&n.append(i,o[i]);this.resignationService.updateHrAccept(n).subscribe({next:i=>{i.success&&(console.log(i),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:i.message,life:3e3})),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t);let o={id:t.id,isAccepting:!1,notes:this.notesReject};const n=new FormData;for(const i in o)o.hasOwnProperty(i)&&n.append(i,o[i]);this.resignationService.updateHrAccept(n).subscribe({next:i=>{i.success&&(console.log(i),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:i.message,life:3e3})),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newEmplyeeId=null,this.newMissonTypeId=null,this.dateFrom=null,this.dateTo=null,this.location=null,this.reason=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.resignationService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.messageService.add({severity:"error",summary:"Error",detail:c,life:3e3}),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.resignationService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"error",summary:"Failure",detail:o.statusText,life:3e3})}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="employeeName"}convertDate(t,o){return this.DatePipe.transform(t,o)}submitForm(t){const o=t.get("month")?.value;t.patchValue({employeeId:this.selectedEmployee?.id??null,mangerId:this.selectedManager?.id??null,requestType:this.selectedRequstType?.id??null,dateFrom:this.DatePipe.transform(this.filterForm.get("dateFrom").value,"yyyy-MM-dd"),dateTo:this.DatePipe.transform(this.filterForm.get("dateTo").value,"yyyy-MM-dd")}),console.log(t.value);const p={...Object.fromEntries(Object.entries(t.value).filter(([_,F])=>null!==F)),PageNumber:this.page,PageSize:this.itemsPerPage,FilterValue:this.nameFilter,FilterType:this.sortField,SortType:this.sortOrder};console.log(t),"VALID"==t.status&&this.resignationService.GetPage(p).subscribe({next:c=>{this.allData=c.data,console.log(c.data)},error:c=>{console.log(c)}}),t.patchValue({month:o})}getMonthNameById(t){const o=this.allMonths.find(n=>n.id===t);return o?o.name:""}getMonthObjById(t){return this.allMonths.find(n=>n.id===t)}generateYearOptions(){const t=(new Date).getFullYear(),n=t+10;for(let i=t-3;i<=n;i++)this.allYears.push(i)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Sc),e.Y36(u.ez),e.Y36(D.gz),e.Y36(m.uU),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-resignation"]],viewQuery:function(o,n){if(1&o&&e.Gf(kc,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez,m.uU]),e.jDz],decls:41,vars:36,consts:[["styleClass","mb-4"],["pTemplate","right"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","employeeName"],[3,"value","disabled"],[1,"p-column-title"],[3,"ngClass"],[2,"min-width","100px",3,"ngClass"],[2,"min-width","140px",3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-rounded","p-button-outlined","p-button-success",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"label","click"],["htmlFor","name-en"],["pInputText","","id","name-en","type","text","required","","autofocus","",3,"ngModel","placeholder","ngModelChange"],["htmlFor","name-ar"],["name","dateFrom","inputId","dateFrom",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["name","dateTo","inputId","dateTo",3,"showIcon","iconDisplay","ngModel","placeholder","ngModelChange"],["htmlFor","numberOfHours"],["pInputText","","id","location","type","text",3,"ngModel","placeholder","ngModelChange"],["htmlFor","new-notes"],["pInputTextarea","","id","new-notes","type","text",3,"ngModel","placeholder","ngModelChange"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Ec,2,4,"ng-template",1),e.qZA(),e.TgZ(3,"p-table",2,3),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(5,Oc,8,7,"ng-template",4)(6,Qc,50,45,"ng-template",5)(7,jc,67,72,"ng-template",6),e.qZA(),e.TgZ(8,"p-dialog",7),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.YNc(9,Hc,30,39,"ng-template",8)(10,Gc,4,6,"ng-template",9),e.qZA(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.acceptRequestDialogue=a}),e.TgZ(12,"div",11)(13,"div",12),e._UZ(14,"i",13),e.TgZ(15,"span"),e._uU(16,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(17,"div",14)(18,"label",15),e._uU(19,"Notes"),e.qZA(),e.TgZ(20,"input",16),e.NdJ("ngModelChange",function(a){return n.notesAccept=a}),e.ALo(21,"translate"),e.qZA()()(),e.YNc(22,Kc,2,0,"ng-template",9),e.qZA(),e.TgZ(23,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.rejectRequestDialogue=a}),e.TgZ(24,"div",11)(25,"div",12),e._UZ(26,"i",13),e.TgZ(27,"span"),e._uU(28,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(29,"div",14)(30,"label",17),e._uU(31,"Notes"),e.qZA(),e.TgZ(32,"input",18),e.NdJ("ngModelChange",function(a){return n.notesReject=a}),e.ALo(33,"translate"),e.qZA()()(),e.YNc(34,Vc,2,0,"ng-template",9),e.qZA(),e.TgZ(35,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.TgZ(36,"div",12),e._UZ(37,"i",13),e.TgZ(38,"span"),e._uU(39,"Are you sure you want to delete selected products?"),e.qZA()(),e.YNc(40,Bc,2,0,"ng-template",9),e.qZA()),2&o&&(e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(32,Ve)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(33,Ve)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(21,28,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(34,Ve)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(33,30,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(35,Ve)),e.Q6J("visible",n.deleteProductsDialog)("modal",!0))},dependencies:[Z.l,m.mk,s.Fj,s.JJ,s.Q7,s.On,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,L.f],styles:[".btn-filter-submit-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.btn-filter-submit-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),zc=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownField(t,o){return this.http.get(o?`${this.baseurl}/${t}/getDropDown/?CategoryId=${o}&culture=${this.culture}`:`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}registerRange(t){return this.http.post(`${this.baseurl}/AssetCoordinator/RegisterRange?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),$c=(()=>{class l{constructor(t,o,n){this.setAssetCoordinatorService=t,this.messageService=o,this.translate=n,this.selectedEmployeeIds=[]}ngOnInit(){this.endPoint="AssetCoordinator",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.setAssetCoordinatorService.setCulture(t),this.setAssetCoordinatorService.setEndPoint(this.endPoint),this.getALlDropDown()})}getDropDownField(t){this.setAssetCoordinatorService.getDropdownField(t.enum).subscribe({next:o=>{this[t.field]=o.data},error:o=>{console.log(`error in ${t.field}`),console.log(o)}})}getALlDropDown(){this.getDropDownField({field:"dropdownItemsDepartment",enum:"CovenantCategory"})}ChangeEmployees(t){console.log(t.id),this.setAssetCoordinatorService.getDropdownField("AssetCoordinator",t.id).subscribe({next:o=>{this.dropdownItemsEmployee=o.data,this.selectedEmployeeIds=[],this.selectedEmployee=this.dropdownItemsEmployee.filter(n=>!!n.isCoordinator&&(this.selectedEmployeeIds.push(n.employeeId),!0)),console.log(this.selectedEmployee)},error:o=>{console.log(o)}})}onSelectEmployees(t){this.selectedEmployee=t.value,this.selectedEmployeeIds=[],t.value.forEach(o=>{this.selectedEmployeeIds.push(o.employeeId)}),console.log("Selected Employees:",this.selectedEmployeeIds)}registerSubmit(){let t={covenantCategoryId:this.selectedDepartment.id,employeesIds:this.selectedEmployeeIds};console.log(t),this.setAssetCoordinatorService.registerRange(t).subscribe({next:o=>{console.log(o),this.messageService.add({severity:"success",summary:"Success",detail:"Assets Coordinator Assigned successfully",life:3e3})},error:o=>{console.log(o)}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(zc),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-set-asset-coordinator"]],standalone:!0,features:[e._Bn([u.ez,m.uU,g.sK]),e.jDz],decls:30,vars:23,consts:[[1,"grid","justify-content-center"],[1,"col-10"],[1,"card"],[1,"pt-2","pb-5"],[1,"p-fluid","grid"],[1,"field","col-12"],[1,"field","col-12","md:col-6"],["htmlFor","department"],["name","DepartmentId","optionLabel","name",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"field","col-12","md:col-12"],[1,"p-fluid","p-formgrid","grid"],["htmlFor","employee"],["name","selectedEmployees","optionLabel","employeeName",3,"options","ngModel","showToggleAll","placeholder","ngModelChange","onChange"],[1,"field","col-12","md:col-12","py-5"],[1,"col-2"],["pButton","","value","Save",1,"flex","justify-content-center",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",4)(10,"div",6)(11,"label",7),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"p-dropdown",8),e.NdJ("ngModelChange",function(a){return n.selectedDepartment=a})("onChange",function(){return n.ChangeEmployees(n.selectedDepartment)}),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",6)(19,"label",11),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"p-multiSelect",12),e.NdJ("ngModelChange",function(a){return n.selectedEmployee=a})("onChange",function(a){return n.onSelectEmployees(a)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",13)(25,"div",4)(26,"div",14)(27,"button",15),e.NdJ("click",function(){return n.registerSubmit()}),e._uU(28),e.ALo(29,"translate"),e.qZA()()()()()()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,11,"Assign Assets Coordinators")),e.xp6(7),e.Oqu(e.lcZ(13,13,"Assets Category")),e.xp6(2),e.Q6J("options",n.dropdownItemsDepartment)("ngModel",n.selectedDepartment)("placeholder",e.lcZ(15,15,"Select Assets Category")),e.xp6(6),e.Oqu(e.lcZ(21,17,"Assets Coordinators")),e.xp6(2),e.Q6J("options",n.dropdownItemsEmployee)("ngModel",n.selectedEmployee)("showToggleAll",!1)("placeholder",e.lcZ(23,19,"Select Assets Coordinators")),e.xp6(6),e.hij(" ",e.lcZ(29,21,"Save")," "))},dependencies:[Z.l,s.JJ,s.On,g.X$,C.g,x.Hq,T.FN,I.Lt,Xe.NU]})}return l})(),Xc=(()=>{class l extends b.P{constructor(t){super(t)}SendNotificationToAll(t){return this.http.post(`${this.baseurl}/${this.endPoint}/SendNotificationToAll?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Wc=(()=>{class l{constructor(t,o){this.sendToAllNotificationService=t,this.messageService=o,this.sendAllNotificationForm=new s.cw({title:new s.NI(null,[s.kI.required]),body:new s.NI(null,[s.kI.required]),isOpened:new s.NI(!1)})}ngOnInit(){this.endPoint="Notification",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.sendToAllNotificationService.setCulture(t),this.sendToAllNotificationService.setEndPoint(this.endPoint)})}sendAllNotification(t){this.sendToAllNotificationService.SendNotificationToAll(t.value).subscribe({next:o=>{o.success&&(this.messageService.add({severity:"success",summary:"Successful",detail:"Notification sent successfully !",life:3e3}),t.reset())}})}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Xc),e.Y36(u.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-send-notification-to-all"]],inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:23,vars:20,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12"],["htmlFor","name-ar"],["pInputText","","formControlName","title","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","body","id","name-en","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("submit",function(){return n.sendAllNotification(n.sendAllNotificationForm)}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",7),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",5)(15,"label",8),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",9),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"button",10),e.ALo(22,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,8,"Notify All Employees")),e.xp6(2),e.Q6J("formGroup",n.sendAllNotificationForm),e.xp6(3),e.hij("",e.lcZ(11,10,"Title")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(13,12,"Enter Title Here")),e.xp6(4),e.hij("",e.lcZ(17,14,"Body")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(19,16,"Enter Body Here")),e.xp6(3),e.Q6J("disabled",n.sendAllNotificationForm.invalid)("label",e.lcZ(22,18,"Send")))},dependencies:[Z.l,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.X$,C.g,x.Hq,T.FN,y.o]})}return l})(),ep=(()=>{class l extends b.P{constructor(t){super(t)}DeleteSoftById(t){return this.http.delete(`${this.baseurl}/${this.endPoint}/${t}/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const tp=["dt"];function np(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.ALo(4,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,3,"Add New".concat(" ",t.splitCamelCase(t.endPoint)))),e.xp6(2),e.Q6J("label",e.lcZ(4,5,"Delete"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function op(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function lp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",20)(2,"label",21),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",22),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20)(8,"label",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",24),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",20)(14,"label",25),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",26),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",20)(20,"label",27),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",28),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",20)(26,"label",29),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"textarea",30),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",20),e._UZ(32,"button",31),e.ALo(33,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,13,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,15,"Enter Arabic Name Here")),e.xp6(4),e.hij("",e.lcZ(10,17,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,19,"Enter English Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,21,"Employee Percent")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,23,"Enter Employee Percent Here")),e.xp6(4),e.Oqu(e.lcZ(22,25,"Company Percent")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,27,"Enter Company Percent Here")),e.xp6(4),e.Oqu(e.lcZ(28,29,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,31,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(33,33,"Insert New"))}}function ip(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",32)(1,"h5",33),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",34),e._UZ(5,"i",35),e.TgZ(6,"input",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function ap(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",38),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",39),e.qZA(),e.TgZ(7,"th",40),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",41),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,12,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,14,"Employee Percent")),e.xp6(3),e.Oqu(e.lcZ(16,16,"Company Percent")),e.xp6(3),e.Oqu(e.lcZ(19,18,"Notes")),e.xp6(3),e.Oqu(e.lcZ(22,20,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(25,22,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(28,24,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(31,26,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(34,28,"Actions")))}const X=l=>({"null-color":l});function sp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",42),e.qZA(),e.TgZ(3,"td")(4,"span",43),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",44)(8,"span",43),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",44)(12,"span",43),e._uU(13,"employeePercent"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",44)(16,"span",43),e._uU(17,"companyPercent"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",44)(20,"span",43),e._uU(21,"Notes"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",44)(24,"span",43),e._uU(25,"creationTime"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA(),e.TgZ(28,"td",44)(29,"span",43),e._uU(30,"lastModificationTime"),e.qZA(),e._uU(31),e.ALo(32,"date"),e.qZA(),e.TgZ(33,"td",44)(34,"span",43),e._uU(35,"creatorName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td",44)(38,"span",43),e._uU(39,"lastModifierName"),e.qZA(),e._uU(40),e.qZA(),e.TgZ(41,"td")(42,"div",45)(43,"button",46),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(44,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(1),e.Q6J("ngClass",e.VKq(24,X,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,X,!t.employeePercent)),e.xp6(3),e.hij(" ",t.employeePercent?t.employeePercent+"%":""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,X,!t.companyPercent)),e.xp6(3),e.hij(" ",t.companyPercent?t.companyPercent+"%":""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(30,X,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(32,X,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(27,18,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(34,X,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(32,21,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(36,X,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(38,X,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}function rp(l,r){1&l&&(e.TgZ(0,"small",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Arabic Name is required.")))}function cp(l,r){1&l&&(e.TgZ(0,"small",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"English Name is required.")))}const Be=l=>({"ng-invalid ng-dirty":l});function pp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",19),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",20)(2,"label",48),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA(),e.YNc(6,rp,3,3,"small",50),e.qZA(),e.TgZ(7,"div",20)(8,"label",51),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA(),e.YNc(12,cp,3,3,"small",50),e.qZA(),e.TgZ(13,"div",20)(14,"label",53),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",54),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.employeePercent=n)}),e.qZA()(),e.TgZ(18,"div",20)(19,"label",55),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.companyPercent=n)}),e.qZA()(),e.TgZ(23,"div",20)(24,"label",57),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"textarea",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(28,"div",59)(29,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"button",61),e.ALo(32,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,20,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(34,Be,t.submitted&&!t.product.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.name),e.xp6(3),e.Oqu(e.lcZ(10,22,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(36,Be,t.submitted&&!t.product.engName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.product.engName),e.xp6(3),e.Oqu(e.lcZ(16,24,"Employee Percent")),e.xp6(2),e.Q6J("ngModel",t.product.employeePercent)("ngClass",e.VKq(38,Be,t.submitted&&!t.product.employeePercent)),e.xp6(3),e.Oqu(e.lcZ(21,26,"Company Percent")),e.xp6(2),e.Q6J("ngModel",t.product.companyPercent)("ngClass",e.VKq(40,Be,t.submitted&&!t.product.companyPercent)),e.xp6(3),e.Oqu(e.lcZ(26,28,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(30,30,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(32,32,"Save"))}}function dp(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function up(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function mp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const Ye=()=>({width:"450px"}),gp=l=>(l.get("companyPercent")?.value||0)+(l.get("employeePercent")?.value||0)<=100?null:{percentExceed100:!0};let _p=(()=>{class l{constructor(t,o,n){this.insuranceConfigService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({name:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),companyPercent:new s.NI(null,[s.kI.required,s.kI.min(0),s.kI.max(100)]),employeePercent:new s.NI(null,[s.kI.required,s.kI.min(0),s.kI.max(100)]),notes:new s.NI(null)},{validators:gp}),this.editForm=new s.cw({id:new s.NI(null),name:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),companyPercent:new s.NI(null,[s.kI.required,s.kI.min(0),s.kI.max(100)]),employeePercent:new s.NI(null,[s.kI.required,s.kI.min(0),s.kI.max(100)]),notes:new s.NI(null)})}ngOnInit(){this.endPoint="InsuranceConfiguration",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.insuranceConfigService.setCulture(t),this.insuranceConfigService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.insuranceConfigService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.insuranceConfigService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.insuranceConfigService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,o.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.insuranceConfigService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.insuranceConfigService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.insuranceConfigService.DeleteRange(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(ep),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-insurance-config"]],viewQuery:function(o,n){if(1&o&&e.Gf(tp,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger","mx-2","px-5",3,"label","disabled","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-longitude"],["pInputText","","formControlName","employeePercent","id","new-longitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","companyPercent","id","new-latitude","type","number","min","0","max","100",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","employeePercent","type","number","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","longitude"],["formControlName","companyPercent","type","text","pInputText","","id","longitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,np,5,7,"ng-template",1)(3,op,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,lp,34,35,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,ip,8,7,"ng-template",7)(10,ap,35,30,"ng-template",8)(11,sp,45,40,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,pp,33,42,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,dp,6,4,"span",13),e.qZA(),e.YNc(20,up,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,mp,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,Ye)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,Ye)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,Ye)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,Ye)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.qQ,s.Fd,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),hp=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const fp=["dt"];function Zp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",15)(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ","Loan Policy"))))}function Cp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function xp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",19)(2,"label",20),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",21),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",19)(8,"label",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",23),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",19)(14,"label",24),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",25),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",19)(20,"label",26),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",27),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",19),e._UZ(26,"button",28),e.ALo(27,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.hij("",e.lcZ(4,11,"Name Arabic")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(6,13,"Enter English Name Here")),e.xp6(4),e.hij("",e.lcZ(10,15,"Name English")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,17,"Enter Arabic Name Here")),e.xp6(4),e.Oqu(e.lcZ(16,19,"Number Of Months")),e.xp6(2),e.Q6J("placeholder",e.lcZ(18,21,"Enter Number Of Months Here")),e.xp6(4),e.Oqu(e.lcZ(22,23,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,25,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(27,27,"Insert New"))}}function Tp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",29)(1,"h5",30),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",31),e._UZ(5,"i",32),e.TgZ(6,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function bp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",34),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",35),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",36),e.qZA(),e.TgZ(7,"th",37),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",38),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,9,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,11,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,13,"Number Of Months")),e.xp6(3),e.Oqu(e.lcZ(16,15,"Notes")),e.xp6(3),e.Oqu(e.lcZ(19,17,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(22,19,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(25,21,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(28,23,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(31,25,"Actions")))}const ie=l=>({"null-color":l});function Ap(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",39),e.qZA(),e.TgZ(3,"td")(4,"span",40),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",41)(8,"span",40),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",41)(12,"span",40),e._uU(13,"numOFMonths"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",41)(16,"span",40),e._uU(17,"Notes"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",41)(20,"span",40),e._uU(21,"creationTime"),e.qZA(),e._uU(22),e.ALo(23,"date"),e.qZA(),e.TgZ(24,"td",41)(25,"span",40),e._uU(26,"lastModificationTime"),e.qZA(),e._uU(27),e.ALo(28,"date"),e.qZA(),e.TgZ(29,"td",41)(30,"span",40),e._uU(31,"creatorName"),e.qZA(),e._uU(32),e.qZA(),e.TgZ(33,"td",41)(34,"span",40),e._uU(35,"lastModifierName"),e.qZA(),e._uU(36),e.qZA(),e.TgZ(37,"td")(38,"div",42)(39,"button",43),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(40,"button",44),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(1),e.Q6J("ngClass",e.VKq(22,ie,!t.name)),e.xp6(3),e.hij(" ",t.name?t.name:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(24,ie,!t.numOFMonths)),e.xp6(3),e.hij(" ",t.numOFMonths?t.numOFMonths:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(26,ie,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ie,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(23,16,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(30,ie,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(28,19,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(32,ie,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(34,ie,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," ")}}const et=l=>({"ng-invalid ng-dirty":l});function yp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",18),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",19)(2,"label",45),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.name=n)}),e.qZA()(),e.TgZ(6,"div",19)(7,"label",47),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.engName=n)}),e.qZA()(),e.TgZ(11,"div",19)(12,"label",49),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",50),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.numOFMonths=n)}),e.qZA()(),e.TgZ(16,"div",19)(17,"label",51),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"textarea",52),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(21,"div",53)(22,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"button",55),e.ALo(25,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,15,"Arabic Name")),e.xp6(2),e.Q6J("ngModel",t.product.name)("ngClass",e.VKq(27,et,t.submitted&&!t.product.name)),e.xp6(3),e.Oqu(e.lcZ(9,17,"English Name")),e.xp6(2),e.Q6J("ngModel",t.product.engName)("ngClass",e.VKq(29,et,t.submitted&&!t.product.engName)),e.xp6(3),e.Oqu(e.lcZ(14,19,"Number Of Months")),e.xp6(2),e.Q6J("ngModel",t.product.numOFMonths)("ngClass",e.VKq(31,et,t.submitted&&!t.product.numOFMonths)),e.xp6(3),e.Oqu(e.lcZ(19,21,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(23,23,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(25,25,"Save"))}}function qp(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function wp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Np(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}const ze=()=>({width:"450px"});let Mp=(()=>{class l{constructor(t,o,n){this.loanPolicyService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.addNewForm=new s.cw({engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),numOFMonths:new s.NI(null,[s.kI.required,s.kI.min(0)]),notes:new s.NI(null)}),this.editForm=new s.cw({engName:new s.NI(null,[s.kI.required]),name:new s.NI(null,[s.kI.required]),numOFMonths:new s.NI(null,[s.kI.required,s.kI.min(0)]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="RepaymentTerms",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanPolicyService.setCulture(t),this.loanPolicyService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}editProduct(t){console.log(t.id),this.loanPolicyService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanPolicyService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t),this.loanPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),this.showFormNew=!1,this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:o.message,life:3e3}),t.reset(),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{this.showFormNew=!1,console.log(o)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.loanPolicyService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanPolicyService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanPolicyService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(hp),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-policy"]],viewQuery:function(o,n){if(1&o&&e.Gf(fp,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:29,vars:44,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],[1,"field"],["htmlFor","name-ar"],["pInputText","","formControlName","name","id","name-ar","type","text",3,"placeholder"],["htmlFor","name-en"],["pInputText","","formControlName","engName","id","name-en","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","numOFMonths","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],["for","name"],["type","text","formControlName","name","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","engName"],["formControlName","engName","type","text","pInputText","","id","engName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","latitude"],["formControlName","numOFMonths","type","text","pInputText","","id","latitude","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Zp,3,3,"ng-template",1)(3,Cp,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,xp,28,29,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Tp,8,7,"ng-template",7)(10,bp,32,27,"ng-template",8)(11,Ap,41,36,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,yp,26,33,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,qp,6,4,"span",13),e.qZA(),e.YNc(20,wp,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Np,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(40,ze)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,30,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(41,ze)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,32,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(42,ze)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,34,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(43,ze)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,36,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,38,"Are you sure you want to delete selected products?")))},dependencies:[Z.l,m.mk,m.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}"]})}return l})(),vp=(()=>{class l extends b.P{constructor(t){super(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Dp=(()=>{class l{constructor(t,o){this.messageService=t,this.loanSettingsService=o,this.loansConfigForm=new s.cw({name:new s.NI(null,[s.kI.required]),engName:new s.NI(null,[s.kI.required]),loansIsOpened:new s.NI(null,[s.kI.required]),loansPerSalary:new s.NI(null,[s.kI.required]),numOfMonthsOfHiringDate:new s.NI(null,[s.kI.required]),maximumLoanAmount:new s.NI(null,[s.kI.required]),termsAgreement:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null,[s.kI.required])})}ngOnInit(){this.loanSettingsService.setEndPoint("LoansConfiguration"),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanSettingsService.setCulture(t),this.loanSettingsService.setEndPoint("LoansConfiguration"),this.loanSettingsService.GetAll({}).subscribe({next:o=>{let n=o.data[o.data.length-1];console.log(n),n&&this.loansConfigForm.patchValue({name:n.name||null,engName:n.engName||null,loansIsOpened:n.loansIsOpened||null,loansPerSalary:n.loansPerSalary||null,numOfMonthsOfHiringDate:n.numOfMonthsOfHiringDate||null,maximumLoanAmount:n.maximumLoanAmount||null,termsAgreement:n.termsAgreement||null,notes:n.notes||null,id:n.id||null})},error:o=>{console.log(o)}})}),this.loanSettingsService.GetAll({}).subscribe({next:t=>{let o=t.data[t.data.length-1];console.log(o),o&&this.loansConfigForm.patchValue({name:o.name||null,loansIsOpened:o.loansIsOpened||null,loansPerSalary:o.loansPerSalary||null,numOfMonthsOfHiringDate:o.numOfMonthsOfHiringDate||null,maximumLoanAmount:o.maximumLoanAmount||null,termsAgreement:o.termsAgreement||null,notes:o.notes||null,id:o.id||null})},error:t=>{console.log(t)}})}onSubmit(t){console.log(t),this.loanSettingsService.Register(t.value).subscribe({next:o=>{console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:"You Updated Loan Settings Successfully",life:3e3})},error:o=>{console.log(o)}}),console.log(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(vp))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-settings"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:51,vars:42,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","submit"],[1,"field","col-12"],["for","startVacation"],["pInputText","","id","startVacation","name","startVacation","formControlName","name",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","engName",3,"min","max"],["pInputText","","type","number","id","startVacation","name","startVacation","formControlName","loansPerSalary",3,"min","max"],["for","regularVacationNumber"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","numOfMonthsOfHiringDate","mode","decimal",3,"min","max"],["pInputText","","type","number","id","regularVacationNumber","name","regularVacationNumber","formControlName","maximumLoanAmount","mode","decimal",3,"min"],["pInputText","","id","regularVacationNumber","name","regularVacationNumber","formControlName","termsAgreement","mode","decimal",3,"min","max"],["pInputText","","id","startVacation","name","startVacation","formControlName","notes"],[1,"field","col-12","btns"],["formControlName","loansIsOpened"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"label"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("submit",function(){return n.onSubmit(n.loansConfigForm)}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",5)(14,"label",6),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",8),e.qZA(),e.TgZ(18,"div",5)(19,"label",6),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",9),e.qZA(),e.TgZ(23,"div",5)(24,"label",10),e._uU(25),e.ALo(26,"translate"),e.qZA(),e._UZ(27,"input",11),e.qZA(),e.TgZ(28,"div",5)(29,"label",10),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._UZ(32,"input",12),e.qZA(),e.TgZ(33,"div",5)(34,"label",10),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",13),e.qZA(),e.TgZ(38,"div",5)(39,"label",6),e._uU(40),e.ALo(41,"translate"),e.qZA(),e._UZ(42,"input",14),e.qZA(),e.TgZ(43,"div",15)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e._UZ(47,"p-inputSwitch",16),e.qZA(),e.TgZ(48,"div",5),e._UZ(49,"button",17),e.ALo(50,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,22,"Loan Settings")),e.xp6(2),e.Q6J("formGroup",n.loansConfigForm),e.xp6(3),e.Oqu(e.lcZ(11,24,"Name Arabic")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(16,26,"Name English")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(21,28,"Loans Per Salary")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(26,30,"Number of Months of Hiring Date")),e.xp6(2),e.Q6J("min",1)("max",100),e.xp6(3),e.Oqu(e.lcZ(31,32,"Maximum Loan Amount")),e.xp6(2),e.Q6J("min",0),e.xp6(3),e.Oqu(e.lcZ(36,34,"Terms Agreement")),e.xp6(2),e.Q6J("min",0)("max",100),e.xp6(3),e.Oqu(e.lcZ(41,36,"Notes")),e.xp6(5),e.Oqu(e.lcZ(46,38,"Loan Is Opened")),e.xp6(4),e.Q6J("label",e.lcZ(50,40,"Update Setting")))},dependencies:[Z.l,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.Fd,s.sg,s.u,g.X$,C.g,w.H,x.Hq,T.FN,y.o,W.Ql],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}"]})}return l})(),Ip=(()=>{class l extends b.P{constructor(t){super(t)}getDropdownEnum(t){return this.http.get(`${this.baseurl}/Enums/${t}/?culture=${this.culture}`)}getDropdownField(t){return this.http.get(`${this.baseurl}/${t}/getDropDown/?culture=${this.culture}`)}updateRequestType(t){return this.http.post(`${this.baseurl}/${this.endPoint}/Accept/?culture=${this.culture}`,t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Fp=["dt"];function Pp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.toggleNew())}),e.ALo(2,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.Q6J("label",e.lcZ(2,1,"Add New".concat(" ","Loan Request"))))}function Lp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportCSV())}),e.ALo(1,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"Export"))("disabled",!t.selectedItems||!t.selectedItems.length)}}function Jp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addNew(n.addNewForm))}),e.TgZ(1,"div",17)(2,"label",26),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"p-dropdown",27),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",17)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"p-dropdown",28),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",17)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"p-dropdown",29),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",17)(20,"label",30),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"input",31),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",17)(26,"label",32),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",33),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",17)(32,"label",34),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"textarea",35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"div",17),e._UZ(38,"button",36),e.ALo(39,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.addNewForm),e.xp6(3),e.Oqu(e.lcZ(4,27,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,29,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,31,"Loan Type")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.lcZ(12,33,"Enter Loan Type Here")),e.xp6(4),e.Oqu(e.lcZ(16,35,"Loan Policy")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.lcZ(18,37,"Enter Loan Policy Here")),e.xp6(4),e.hij("",e.lcZ(22,39,"Reason")," "),e.xp6(2),e.Q6J("placeholder",e.lcZ(24,41,"Enter Reason Here")),e.xp6(4),e.Oqu(e.lcZ(28,43,"Amount")),e.xp6(2),e.Q6J("placeholder",e.lcZ(30,45,"Enter Amount Here")),e.xp6(4),e.Oqu(e.lcZ(34,47,"Notes")),e.xp6(2),e.Q6J("placeholder",e.lcZ(36,49,"Enter Notes Here")),e.xp6(3),e.Q6J("disabled",t.addNewForm.invalid)("label",e.lcZ(39,51,"Insert New"))}}function Up(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",37)(1,"h5",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",39),e._UZ(5,"i",40),e.TgZ(6,"input",41),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.nameFilter=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.loadFilteredData())}),e.ALo(7,"translate"),e.qZA()()()}if(2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"Manage Items")),e.xp6(4),e.Q6J("ngModel",t.nameFilter)("placeholder",e.lcZ(7,5,"Search..."))}}function Sp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"th",42),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",43),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortById(n))}),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"p-sortIcon",44),e.qZA(),e.TgZ(7,"th",45),e.NdJ("click",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByName(n))}),e._uU(8),e.ALo(9,"translate"),e._UZ(10,"p-sortIcon",46),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA()()}2&l&&(e.xp6(4),e.hij(" ",e.lcZ(5,13,"Id")," "),e.xp6(4),e.hij(" ",e.lcZ(9,15,"Name")," "),e.xp6(4),e.Oqu(e.lcZ(13,17,"Loan Type")),e.xp6(3),e.Oqu(e.lcZ(16,19,"Response Type")),e.xp6(3),e.Oqu(e.lcZ(19,21,"Loan Policy")),e.xp6(3),e.Oqu(e.lcZ(22,23,"Reason")),e.xp6(3),e.Oqu(e.lcZ(25,25,"Notes")),e.xp6(3),e.Oqu(e.lcZ(28,27,"creationTime")),e.xp6(3),e.Oqu(e.lcZ(31,29,"lastModificationTime")),e.xp6(3),e.Oqu(e.lcZ(34,31,"creatorName")),e.xp6(3),e.Oqu(e.lcZ(37,33,"lastModifierName")),e.xp6(3),e.Oqu(e.lcZ(40,35,"Actions")),e.xp6(3),e.Oqu(e.lcZ(43,37,"Accept or Reject")))}const B=l=>({"null-color":l}),kp=(l,r,t)=>({"accepted-request":l,"rejected-request":r,"pending-request":t}),Ep=l=>({cursor:l});function Op(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",47),e.qZA(),e.TgZ(3,"td")(4,"span",48),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",49)(8,"span",48),e._uU(9,"employeeName"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",49)(12,"span",48),e._uU(13,"loanTypeName"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",49)(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"td",49)(19,"span",48),e._uU(20,"repaymentTermName"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"td",49)(23,"span",48),e._uU(24,"reason"),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"td",49)(27,"span",48),e._uU(28,"Notes"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",49)(31,"span",48),e._uU(32,"creationTime"),e.qZA(),e._uU(33),e.ALo(34,"date"),e.qZA(),e.TgZ(35,"td",49)(36,"span",48),e._uU(37,"lastModificationTime"),e.qZA(),e._uU(38),e.ALo(39,"date"),e.qZA(),e.TgZ(40,"td",49)(41,"span",48),e._uU(42,"creatorName"),e.qZA(),e._uU(43),e.qZA(),e.TgZ(44,"td",49)(45,"span",48),e._uU(46,"lastModifierName"),e.qZA(),e._uU(47),e.qZA(),e.TgZ(48,"td")(49,"div",50)(50,"button",51),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editProduct(i))}),e.qZA(),e.TgZ(51,"button",52),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(i))}),e.qZA()()(),e.TgZ(52,"td")(53,"div",53)(54,"button",54),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.acceptRequest(i))}),e.qZA(),e.TgZ(55,"button",55),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.rejectRequest(i))}),e.qZA()()()()}if(2&l){const t=r.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id,""),e.xp6(1),e.Q6J("ngClass",e.VKq(31,B,!t.employeeName)),e.xp6(3),e.hij(" ",t.employeeName?t.employeeName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(33,B,!t.loanTypeName)),e.xp6(3),e.hij(" ",t.loanTypeName?t.loanTypeName:""," "),e.xp6(1),e.Q6J("ngClass",e.kEZ(35,kp,1==(null==t?null:t.status),2==(null==t?null:t.status),0==(null==t?null:t.status))),e.xp6(2),e.Oqu(t.statusValue),e.xp6(1),e.Q6J("ngClass",e.VKq(39,B,!t.repaymentTermName)),e.xp6(3),e.hij(" ",t.repaymentTermName?t.repaymentTermName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(41,B,!t.reason)),e.xp6(3),e.hij(" ",t.reason?t.reason:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(43,B,!t.notes)),e.xp6(3),e.hij(" ",t.notes?t.notes:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(45,B,!t.creationTime)),e.xp6(3),e.hij(" ",e.xi3(34,25,t.lastModificationTime,"dd/MM/YY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(47,B,!t.lastModificationTime)),e.xp6(3),e.hij(" ",e.xi3(39,28,t.lastModificationTime,"dd/MM/YYYY - h:mm a")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(49,B,!t.creatorName)),e.xp6(3),e.hij(" ",t.creatorName?t.creatorName:""," "),e.xp6(1),e.Q6J("ngClass",e.VKq(51,B,!t.lastModifierName)),e.xp6(3),e.hij(" ",t.lastModifierName?t.lastModifierName:""," "),e.xp6(6),e.Q6J("ngStyle",e.VKq(53,Ep,0!==t.status?"not-allowed":"default")),e.xp6(1),e.Q6J("disabled",0!==t.status),e.xp6(1),e.Q6J("disabled",0!==t.status)}}function Qp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"form",25),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveProduct(n.product.id,n.editForm))}),e.TgZ(1,"div",17)(2,"label",26),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p-dropdown",56),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.employeeId=n)}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",17)(8,"label",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p-dropdown",57),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.loanTypeId=n)}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",17)(14,"label",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p-dropdown",58),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.repaymentTermId=n)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",17)(20,"label",32),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",59),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.amount=n)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",17)(26,"label",32),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"input",60),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.reason=n)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",17)(32,"label",61),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"textarea",62),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.product.notes=n)}),e.qZA()(),e.TgZ(36,"div",63)(37,"button",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideDialog())}),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"button",65),e.ALo(40,"translate"),e.qZA()()}if(2&l){const t=e.oxw();e.Q6J("formGroup",t.editForm),e.xp6(3),e.Oqu(e.lcZ(4,33,"Employee")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.employeeId)("filterBy","name")("options",t.dropdownItemsEmployees)("placeholder",e.lcZ(6,35,"Enter Employee Name Here")),e.xp6(4),e.Oqu(e.lcZ(10,37,"Loan Type")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.loanTypeId)("filterBy","name")("options",t.dropdownItemsLoanTypes)("placeholder",e.lcZ(12,39,"Enter Loan Type Here")),e.xp6(4),e.Oqu(e.lcZ(16,41,"Loan Policy")),e.xp6(2),e.Q6J("showClear",!0)("filter",!0)("ngModel",t.product.repaymentTermId)("filterBy","name")("options",t.dropdownItemsRepaymentTerms)("placeholder",e.lcZ(18,43,"Enter Loan Policy Here")),e.xp6(4),e.Oqu(e.lcZ(22,45,"Amount")),e.xp6(2),e.Q6J("ngModel",t.product.amount)("placeholder",e.lcZ(24,47,"Enter Amount Here")),e.xp6(4),e.Oqu(e.lcZ(28,49,"Reason")),e.xp6(2),e.Q6J("ngModel",t.product.reason)("placeholder",e.lcZ(30,51,"Enter Reason Here")),e.xp6(4),e.Oqu(e.lcZ(34,53,"Notes")),e.xp6(2),e.Q6J("ngModel",t.product.notes),e.xp6(2),e.Q6J("label",e.lcZ(38,55,"Cancel")),e.xp6(2),e.Q6J("disabled",t.editForm.invalid)("label",e.lcZ(40,57,"Save"))}}function Rp(l,r){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5,"?"),e.qZA()),2&l){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,2,"Are you sure you want to delete")," "),e.xp6(3),e.Oqu(t.product.name)}}function jp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductDialog=!1)}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDelete(n.product.id))}),e.ALo(3,"translate"),e.qZA()}2&l&&(e.Q6J("label",e.lcZ(1,2,"No")),e.xp6(2),e.Q6J("label",e.lcZ(3,4,"Yes")))}function Hp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteProductsDialog=!1)}),e.qZA(),e.TgZ(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDeleteSelected())}),e.qZA()}}function Gp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.acceptRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmAccept(n.product))}),e.qZA()}}function Kp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.rejectRequestDialogue=!1)}),e.qZA(),e.TgZ(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmReject(n.product))}),e.qZA()}}const ue=()=>({width:"450px"});let Vp=(()=>{class l{constructor(t,o,n){this.loanRequestService=t,this.messageService=o,this.translate=n,this.allData=[],this.page=1,this.itemsPerPage=v.b,this.selectedItems=[],this.cols=[],this.loading=!0,this.nameFilter="",this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.productDialog=!1,this.showFormNew=!1,this.sortField="id",this.sortOrder="asc",this.acceptRequestDialogue=!1,this.rejectRequestDialogue=!1,this.acceptAllDialogue=!1,this.rejectAllDialogue=!1,this.addNewForm=new s.cw({EmployeeId:new s.NI(null,[s.kI.required]),LoanTypeId:new s.NI(null,[s.kI.required]),RepaymentTermId:new s.NI(null,[s.kI.required]),Reason:new s.NI(null,[s.kI.required]),Amount:new s.NI(null,[s.kI.required]),Notes:new s.NI(null)}),this.editForm=new s.cw({employeeId:new s.NI(null,[s.kI.required]),loanTypeId:new s.NI(null,[s.kI.required]),repaymentTermId:new s.NI(null,[s.kI.required]),reason:new s.NI(null,[s.kI.required]),amount:new s.NI(null,[s.kI.required]),notes:new s.NI(null),id:new s.NI(null)})}ngOnInit(){this.endPoint="LoanRequests",q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.loanRequestService.setCulture(t),this.loanRequestService.setEndPoint(this.endPoint),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}),this.getAllDropdowns(),this.cols=[{field:"name",header:"Name"},{field:"latitude",header:"Lotes"},{field:"longitude",header:"Longitude"},{field:"discription",header:"Discription"},{field:"notes",header:"Notes"},{field:"creationTime",header:"creationTime"},{field:"lastModificationTime",header:"lastModificationTime"},{field:"creatorName",header:"creatorName"},{field:"lastModifierName",header:"lastModifierName"}]}getAllDropdowns(){this.loanRequestService.getDropdownEnum("getRequestType").subscribe({next:t=>{console.log(t.data),this.dropdownItemsResponseTypes=t.data,console.log(this.dropdownItemsResponseTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("Employee").subscribe({next:t=>{console.log(t.data),this.dropdownItemsEmployees=t.data,console.log(this.dropdownItemsEmployees)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("LoanTypes").subscribe({next:t=>{console.log(t.data),this.dropdownItemsLoanTypes=t.data,console.log(this.dropdownItemsLoanTypes)},error:t=>{console.log(t)}}),this.loanRequestService.getDropdownField("RepaymentTerms").subscribe({next:t=>{console.log(t.data),this.dropdownItemsRepaymentTerms=t.data,console.log(this.dropdownItemsRepaymentTerms)},error:t=>{console.log(t)}})}editProduct(t){console.log(t.id),this.loanRequestService.GetById(t.id).subscribe({next:o=>{console.log(o.data),this.product={...o.data},this.productDialog=!0},error:o=>{console.log(o)}})}confirmDelete(t){this.loanRequestService.DeleteSoftById(t).subscribe({next:()=>{this.deleteProductDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:o=>{console.log(o)}})}addNew(t){console.log(t);const o=new FormData;for(const n in t.value)t.value.hasOwnProperty(n)&&o.append(n,t.value[n]);this.loanRequestService.Register(o).subscribe({next:n=>{console.log(n),this.showFormNew=!1,n.success&&(this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),t.reset()),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{this.showFormNew=!1,console.log(n)}})}loadFilteredData(){this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}setFieldsNulls(){this.newNameAr=null,this.newNameEn=null,this.newNotes=null,this.newDiscription=null,this.newLatitude=null,this.newLongitude=null}loadData(t,o,n,i,a){this.loading=!0;let p={pageNumber:t,pageSize:o,filterValue:n,filterType:i,sortType:a};p.sortType=this.sortOrder,this.loanRequestService.GetPage(p).subscribe({next:c=>{console.log(c),this.allData=c.data,console.log(c.data),this.totalItems=c.totalItems,this.loading=!1,console.log(this.selectedItems)},error:c=>{console.log(c),this.loading=!1}})}onPageChange(t){let o;console.log(t),this.page=Number(t.first/t.rows)+1,o=1===t.sortOrder?"asc":"dsc",this.sortOrder=o,this.itemsPerPage=t.rows,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}deleteSelectedProducts(){this.deleteProductsDialog=!0}hideDialog(){this.productDialog=!1,this.submitted=!1}deleteProduct(t){this.deleteProductDialog=!0,this.product={...t}}saveProduct(t,o){this.submitted=!0,console.log(t),o.patchValue({id:t}),this.loanRequestService.Edit(o.value).subscribe({next:n=>{this.hideDialog(),n.success&&this.messageService.add({severity:"success",summary:this.translate.instant("Success"),detail:n.message,life:3e3}),this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)},error:n=>{console.log(n)}})}toggleNew(){this.showFormNew=!this.showFormNew}exportCSV(){const n="\ufeff"+this.convertToCSV(this.selectedItems),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(i),a.download="data_export_"+(new Date).getTime()+".csv",a.click()}splitCamelCase(t){return t.replace(/([A-Z])/g," $1").trim().replace(/\s+/g," ").split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}convertToCSV(t){if(!t||!t.length)return"";let n=[];this.cols.forEach(a=>{n.push(a.field)}),console.log(n);const i=t.map(a=>n.map(p=>`"${a[p]}"`).join(","));return i.unshift(n.join(",")),i.join("\r\n")}confirmDeleteSelected(){let t=[];console.log("Selected Items :"),this.selectedItems.forEach(o=>{t.push(o.id)}),this.loanRequestService.DeleteRangeSoft(t).subscribe({next:o=>{this.deleteProductsDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"items deleted successfully",life:3e3}),this.selectedItems=[],this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}})}sortById(t){this.sortField="id","asc"===this.sortOrder?this.sortOrder="dsc":"dsc"===this.sortOrder&&(this.sortOrder="asc")}sortByName(t){this.sortField="name"}acceptRequest(t){this.acceptRequestDialogue=!0,this.product={...t}}rejectRequest(t){this.rejectRequestDialogue=!0,this.product={...t}}confirmAccept(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:1,notes:this.notesAccept}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Accepted Successfully",life:3e3}),this.acceptRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesAccept=""}confirmReject(t){console.log(t),this.loanRequestService.updateRequestType({id:t.id,status:2,notes:this.notesReject}).subscribe({next:n=>{console.log(n),this.messageService.add({severity:"success",summary:"Success",detail:"Request Rejected Successfully",life:3e3}),this.rejectRequestDialogue=!1,this.loadData(this.page,this.itemsPerPage,this.nameFilter,this.sortField,this.sortOrder)}}),this.notesReject=""}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(Ip),e.Y36(u.ez),e.Y36(g.sK))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-loan-request"]],viewQuery:function(o,n){if(1&o&&e.Gf(Fp,5),2&o){let i;e.iGM(i=e.CRH())&&(n.dt=i.first)}},inputs:{endPoint:"endPoint"},standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:53,vars:62,consts:[["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],[1,"p-fluid",3,"visible","header","modal","visibleChange"],["pTemplate","content"],["selectionMode","multiple","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","paginator","rows","columns","totalRecords","selection","showCurrentPageReport","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"visible","header","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"notes-container"],[1,"field"],["for","notesAccept"],["pInputText","","type","text","id","notesAccept",3,"ngModel","placeholder","ngModelChange"],["for","notesReject"],["pInputText","","type","text","id","notesReject",3,"ngModel","placeholder","ngModelChange"],[1,"my-2"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mx-2","px-5",3,"label","click"],["pButton","","pRipple","","icon","pi pi-upload","pTooltip","CSV",1,"p-button-help","mx-2","px-5",3,"label","disabled","click"],["action","",3,"formGroup","submit"],["htmlFor","government"],["optionLabel","name","optionValue","id","formControlName","EmployeeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","LoanTypeId",3,"showClear","filter","filterBy","options","placeholder"],["optionLabel","name","optionValue","id","formControlName","RepaymentTermId",3,"showClear","filter","filterBy","options","placeholder"],["htmlFor","name-ar"],["pInputText","","formControlName","Reason","id","name-ar","type","text",3,"placeholder"],["htmlFor","new-latitude"],["pInputText","","formControlName","Amount","id","new-latitude","type","number",3,"placeholder"],["htmlFor","new-notes"],["pInputTextarea","","formControlName","Notes","id","new-notes","type","text",3,"placeholder"],["pButton","","type","submit",1,"w-25",3,"disabled","label"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","filter-name","type","text",1,"w-full","sm:w-auto",3,"ngModel","placeholder","ngModelChange","input"],[2,"width","3rem"],["pSortableColumn","id",3,"click"],["field","id"],["pSortableColumn","name",3,"click"],["field","name"],[3,"value"],[1,"p-column-title"],[3,"ngClass"],[1,"flex","crud-operations"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-outlined","p-button-danger",3,"click"],[1,"flex","crud-operations",3,"ngStyle"],["pButton","","pRipple","","icon","pi pi-check","label","Accept",1,"p-button-rounded","p-button-outlined","p-button-success",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-rounded","p-button-hover","p-button-outlined","p-button-danger",3,"disabled","click"],["optionLabel","name","optionValue","id","formControlName","employeeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","loanTypeId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["optionLabel","name","optionValue","id","formControlName","repaymentTermId",3,"showClear","filter","ngModel","filterBy","options","placeholder","ngModelChange"],["pInputText","","formControlName","amount","id","new-latitude","type","number",3,"ngModel","placeholder","ngModelChange"],["pInputText","","formControlName","reason","id","new-latitude",3,"ngModel","placeholder","ngModelChange"],["for","notes"],["id","notes","formControlName","notes","pInputTextarea","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"field","btns"],["pButton","","pRipple","","icon","pi pi-times","type","button",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check","type","submit",1,"p-button-text",3,"disabled","label"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"label","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-toolbar",0),e.YNc(2,Pp,3,3,"ng-template",1)(3,Lp,2,4,"ng-template",2),e.qZA(),e.TgZ(4,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.showFormNew=a}),e.ALo(5,"translate"),e.YNc(6,Jp,40,53,"ng-template",4),e.qZA(),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return n.selectedItems=a})("onLazyLoad",function(a){return n.onPageChange(a)}),e.YNc(9,Up,8,7,"ng-template",7)(10,Sp,44,39,"ng-template",8)(11,Op,56,55,"ng-template",9),e.qZA(),e.TgZ(12,"p-dialog",3),e.NdJ("visibleChange",function(a){return n.productDialog=a}),e.ALo(13,"translate"),e.YNc(14,Qp,41,59,"ng-template",4),e.qZA(),e.TgZ(15,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductDialog=a}),e.ALo(16,"translate"),e.TgZ(17,"div",11),e._UZ(18,"i",12),e.YNc(19,Rp,6,4,"span",13),e.qZA(),e.YNc(20,jp,4,6,"ng-template",14),e.qZA(),e.TgZ(21,"p-dialog",10),e.NdJ("visibleChange",function(a){return n.deleteProductsDialog=a}),e.ALo(22,"translate"),e.TgZ(23,"div",11),e._UZ(24,"i",12),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.YNc(28,Hp,2,0,"ng-template",14),e.qZA(),e.TgZ(29,"p-dialog",15),e.NdJ("visibleChange",function(a){return n.acceptRequestDialogue=a}),e.TgZ(30,"div",16)(31,"div",11),e._UZ(32,"i",12),e.TgZ(33,"span"),e._uU(34,"Are you sure you want to Accept ?"),e.qZA()(),e.TgZ(35,"div",17)(36,"label",18),e._uU(37,"Notes"),e.qZA(),e.TgZ(38,"input",19),e.NdJ("ngModelChange",function(a){return n.notesAccept=a}),e.ALo(39,"translate"),e.qZA()()(),e.YNc(40,Gp,2,0,"ng-template",14),e.qZA(),e.TgZ(41,"p-dialog",15),e.NdJ("visibleChange",function(a){return n.rejectRequestDialogue=a}),e.TgZ(42,"div",16)(43,"div",11),e._UZ(44,"i",12),e.TgZ(45,"span"),e._uU(46,"Are you sure you want to Reject ?"),e.qZA()(),e.TgZ(47,"div",17)(48,"label",20),e._uU(49,"Notes"),e.qZA(),e.TgZ(50,"input",21),e.NdJ("ngModelChange",function(a){return n.notesReject=a}),e.ALo(51,"translate"),e.qZA()()(),e.YNc(52,Kp,2,0,"ng-template",14),e.qZA()),2&o&&(e.xp6(4),e.Akn(e.DdM(56,ue)),e.Q6J("visible",n.showFormNew)("header",e.lcZ(5,42,"Add New"))("modal",!0),e.xp6(3),e.Q6J("value",n.allData)("paginator",!0)("rows",n.itemsPerPage)("columns",n.cols)("totalRecords",n.totalItems)("selection",n.selectedItems)("showCurrentPageReport",!0)("lazy",!0),e.xp6(5),e.Akn(e.DdM(57,ue)),e.Q6J("visible",n.productDialog)("header",e.lcZ(13,44,"Item Details"))("modal",!0),e.xp6(3),e.Akn(e.DdM(58,ue)),e.Q6J("visible",n.deleteProductDialog)("header",e.lcZ(16,46,"Confirm Delete"))("modal",!0),e.xp6(4),e.Q6J("ngIf",n.product),e.xp6(2),e.Akn(e.DdM(59,ue)),e.Q6J("visible",n.deleteProductsDialog)("header",e.lcZ(22,48,"Confirm Delete"))("modal",!0),e.xp6(5),e.Oqu(e.lcZ(27,50,"Are you sure you want to delete selected products?")),e.xp6(3),e.Akn(e.DdM(60,ue)),e.Q6J("visible",n.acceptRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesAccept)("placeholder",e.lcZ(39,52,"Enter Notes Here")),e.xp6(3),e.Akn(e.DdM(61,ue)),e.Q6J("visible",n.rejectRequestDialogue)("modal",!0),e.xp6(9),e.Q6J("ngModel",n.notesReject)("placeholder",e.lcZ(51,54,"Enter Notes Here")))},dependencies:[Z.l,m.mk,m.O5,m.PC,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.sg,s.u,m.uU,g.X$,C.g,M.o,d.iA,u.jx,d.lQ,d.fz,d.UA,d.Mo,w.H,x.Hq,N.V,T.FN,y.o,P.g,I.Lt],styles:[".btns[_ngcontent-%COMP%]{display:flex;gap:8px;width:50%}.accepted-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cde8ce;border-radius:8px;display:flex;justify-content:center;align-items:center}.rejected-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#f8d7da;border-radius:8px;display:flex;justify-content:center;align-items:center}.pending-request[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px;background-color:#cce5ff;border-radius:8px;display:flex;justify-content:center;align-items:center}.notes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.notes-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return l})(),Bp=(()=>{class l extends b.P{constructor(t){super(t)}GetAll(){return this.http.get(`${this.baseurl}/${this.endPoint}/GetForDashboard/?culture=${this.culture}`)}static#e=this.\u0275fac=function(o){return new(o||l)(e.LFG(A.eN))};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Yp(l,r){if(1&l){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"input",15),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",14),e._UZ(6,"input",16),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){const i=e.CHM(t).index,a=e.oxw();return e.KtG(a.removeInstruction(i))}),e.qZA()()()()}2&l&&(e.Q6J("formGroupName",r.index),e.xp6(3),e.Q6J("placeholder",e.lcZ(4,3,"Instruction Arabic")),e.xp6(3),e.Q6J("placeholder",e.lcZ(7,5,"Instruction English")))}let zp=(()=>{class l{constructor(t,o,n){this.messageService=t,this.resignationPolicyService=o,this.fb=n,this.resignationSettingForm=new s.cw({noticePeriodInDays:new s.NI(null,[s.kI.required]),resignationInstructions:this.fb.array([])})}ngOnInit(){this.resignationPolicyService.setEndPoint("ResignationSetting"),q.O.getMainLangChanges().subscribe(t=>{console.log("Main language changed to:",t),this.resignationPolicyService.setCulture(t),this.resignationPolicyService.setEndPoint("ResignationSetting"),this.resignationPolicyService.GetAll().subscribe({next:o=>{let n=o.data;if(console.log(n),n){this.resignationSettingForm.patchValue({noticePeriodInDays:n.noticePeriodInDays||null});const i=this.resignationSettingForm.get("resignationInstructions");i.clear(),n.resignationInstructions&&Array.isArray(n.resignationInstructions)&&n.resignationInstructions.forEach(a=>{i.push(new s.cw({instructionArabic:new s.NI(a.instructionArabic||null,[s.kI.required]),instructionEnglish:new s.NI(a.instructionEnglish||null,[s.kI.required])}))})}},error:o=>{console.log(o)}})})}get resignationInstructions(){return this.resignationSettingForm.get("resignationInstructions")}onSubmit(t){console.log(t),this.resignationPolicyService.Register(t.value).subscribe({next:o=>{console.log(o),o.success&&this.messageService.add({severity:"success",summary:"Successful",detail:o.message,life:3e3})},error:o=>{console.log(o)}}),console.log(t.value)}addInstruction(){const t=this.fb.group({instructionArabic:[null,s.kI.required],instructionEnglish:[null,s.kI.required]});this.resignationInstructions.push(t)}removeInstruction(t){this.resignationInstructions.removeAt(t)}static#e=this.\u0275fac=function(o){return new(o||l)(e.Y36(u.ez),e.Y36(Bp),e.Y36(s.qu))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-resignation-policy"]],standalone:!0,features:[e._Bn([u.ez]),e.jDz],decls:25,vars:23,consts:[[1,"grid","justify-content-center"],[1,"col-12","lg:col-6"],[1,"card"],[1,"text-center"],[1,"p-fluid","p-formgrid","grid",3,"formGroup","ngSubmit"],[1,"field","col-12"],["for","noticePeriod"],["pInputText","","id","noticePeriod","name","noticePeriod","type","number","formControlName","noticePeriodInDays",3,"placeholder","min","max"],["formArrayName","resignationInstructions"],[3,"formGroupName",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-plus",1,"p-button-sm","p-button-success","mt-2",3,"label","click"],["pButton","","pRipple","","type","submit",1,"p-button-raised","p-button-info",3,"disabled","label"],[3,"formGroupName"],[1,"p-fluid","grid"],[1,"field","col-5"],["pInputText","","type","text","formControlName","instructionArabic",3,"placeholder"],["pInputText","","type","text","formControlName","instructionEnglish",3,"placeholder"],[1,"field","col-2"],["pButton","","icon","pi pi-times","type","button",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit(n.resignationSettingForm)}),e.TgZ(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",7),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",5)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",8),e.YNc(19,Yp,10,7,"div",9),e.qZA(),e.TgZ(20,"button",10),e.NdJ("click",function(){return n.addInstruction()}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",5),e._UZ(23,"button",11),e.ALo(24,"translate"),e.qZA()()()()()),2&o&&(e.xp6(5),e.Oqu(e.lcZ(6,11,"Resignation Settings")),e.xp6(2),e.Q6J("formGroup",n.resignationSettingForm),e.xp6(3),e.Oqu(e.lcZ(11,13,"Notice Period (Days)")),e.xp6(2),e.Q6J("placeholder",e.lcZ(13,15,"Enter Notice Period in Days"))("min",1)("max",365),e.xp6(4),e.Oqu(e.lcZ(17,17,"Resignation Instructions")),e.xp6(3),e.Q6J("ngForOf",n.resignationInstructions.controls),e.xp6(1),e.Q6J("label",e.lcZ(21,19,"Add Instruction")),e.xp6(3),e.Q6J("disabled",n.resignationSettingForm.invalid)("label",e.lcZ(24,21,"Update Setting")))},dependencies:[Z.l,m.sg,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.Fd,s.sg,s.u,s.x0,s.CE,g.X$,C.g,w.H,x.Hq,T.FN,y.o],styles:[".p-button-icon-only[_ngcontent-%COMP%]:after{display:none}"]})}return l})(),$p=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[D.Bz.forChild([{path:"department",canActivate:[h.p],component:Ot},{path:"bank",canActivate:[h.p],component:Qt},{path:"government",canActivate:[h.p],component:Rt},{path:"grade",canActivate:[h.p],component:yo},{path:"job",canActivate:[h.p],component:qo},{path:"location",canActivate:[h.p],component:an},{path:"partition",canActivate:[h.p],component:Cn},{path:"qualification",canActivate:[h.p],component:xn},{path:"shift",canActivate:[h.p],component:Rn},{path:"publicVacation",canActivate:[h.p],component:so},{path:"shiftVacation",canActivate:[h.p],component:Ao},{path:"relativeRelation",canActivate:[h.p],component:wo},{path:"contractType",canActivate:[h.p],component:No},{path:"jobNature",canActivate:[h.p],component:Mo},{path:"recuritmentSource",canActivate:[h.p],component:vo},{path:"documentRequired",canActivate:[h.p],component:Do},{path:"uniformCodes",canActivate:[h.p],component:Io},{path:"vacationSetting",canActivate:[h.p],component:Lo},{path:"CovenantCategory",canActivate:[h.p],component:Jo},{path:"Covenant",canActivate:[h.p],component:Bo},{path:"companyPolicy",canActivate:[h.p],component:sl},{path:"execuseType",canActivate:[h.p],component:Tl},{path:"closeMonth",canActivate:[h.p],component:wt},{path:"kpi",canActivate:[h.p],component:Ur},{path:"bonus",canActivate:[h.p],component:uc},{path:"PenaltiesAndDeduction",canActivate:[h.p],component:Wr},{path:"vacationType",canActivate:[h.p],component:Ll},{path:"users",canActivate:[h.p],component:va},{path:"externalMisson",canActivate:[h.p],component:Ha},{path:"vacationRequest",canActivate:[h.p],component:ss},{path:"execuseRequest",canActivate:[h.p],component:bs},{path:"InternalJobs",canActivate:[h.p],component:ks},{path:"allEmployeesCovenant",canActivate:[h.p],component:ua},{path:"allEmployeesFile",canActivate:[h.p],component:Wi},{path:"allEmployeesLocation",canActivate:[h.p],component:Ei},{path:"allEmployeesManager",canActivate:[h.p],component:qi},{path:"allEmployeesUniform",canActivate:[h.p],component:ui},{path:"employees",canActivate:[h.p],component:Jl.o},{path:"employees/edit/:id",canActivate:[h.p],pathMatch:"prefix",component:Bl,loadChildren:()=>f.e(7893).then(f.bind(f,7893)).then(t=>t.AllTabsModule)},{path:"InternalJobs/edit/:id",canActivate:[h.p],pathMatch:"prefix",component:Uc},{path:"employee",canActivate:[h.p],component:Wl},{path:"fingerprints",canActivate:[h.p],component:Cr},{path:"resignation",canActivate:[h.p],component:Yc},{path:"attendenceConfig",canActivate:[h.p],component:er},{path:"attendenceConfig/edit/:id",canActivate:[h.p],component:ar},{path:"setEmployeeShifts",canActivate:[h.p],component:rr},{path:"setAssetCoordinator",canActivate:[h.p],component:$c},{path:"SendNotificationToAll",canActivate:[h.p],component:Wc},{path:"loanPolicy",canActivate:[h.p],component:Mp},{path:"loanSettings",canActivate:[h.p],component:Dp},{path:"loanRequest",canActivate:[h.p],component:Vp},{path:"resignationPolicy",canActivate:[h.p],component:zp},{path:"insuranceConfig",canActivate:[h.p],component:_p},{path:"test",canActivate:[h.p],component:Dc},{path:"**",component:jn.l}]),D.Bz]})}return l})();var Xp=f(9937);let Wp=(()=>{class l{static#e=this.\u0275fac=function(o){return new(o||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({providers:[u.ez],imports:[m.ez,$p,Xp.l,g.aw]})}return l})()}}]);